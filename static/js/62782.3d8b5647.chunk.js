"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[62782],{62782:function(e,t,n){n.r(t),n.d(t,{TerrainTileTree3DDebugger:function(){return v}});var r=n(1413),i=n(15671),l=n(43144),a=n(60136),o=n(92572),s=n(27366),u=(n(59486),n(92026)),c=n(94172),h=(n(32718),n(25243),n(63780),n(10064),n(93169),n(69912)),y=n(65156),b=n(87287),p=n(80885),v=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).enablePolygons=!1,r}return(0,l.Z)(n,[{key:"initialize",value:function(){var e=this;(0,c.YP)((function(){return e.enabled}),(function(t){return e.view.basemapTerrain.renderPatchBorders=t}),c.nn)}},{key:"getTiles",value:function(){var e=(0,u.pC)(this.view.basemapTerrain.spatialReference)?this.view.basemapTerrain.spatialReference:null;return this.view.basemapTerrain.test.getRenderedTiles().map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{geometry:p.Z.fromExtent((0,y.HH)(t.extent,e))})}))}}]),n}(b.q);v=(0,s._)([(0,h.j)("esri.views.3d.layers.support.TerrainTileTree3DDebugger")],v)},87287:function(e,t,n){n.d(t,{q:function(){return w}});var r=n(15671),i=n(43144),l=n(60136),a=n(92572),o=n(27366),s=n(51995),u=n(52639),c=n(31319),h=n(16889),y=n(92026),b=n(49861),p=(n(25243),n(63780),n(69912)),v=n(62554),f=n(61459),g=n(58009),d=n(87037),_=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],w=function(e){(0,l.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).updating=!1,i.enablePolygons=!0,i.enableLabels=!0,i._polygons=new Map,i._labels=new Map,i._enabled=!0,i}return(0,i.Z)(n,[{key:"initialize",value:function(){this._symbols=_.map((function(e){return new f.Z({color:[e[0],e[1],e[2],.6],outline:{color:"black",width:1}})})),this.update()}},{key:"destroy",value:function(){this._enabled=!1,this.clear()}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.update())}},{key:"update",value:function(){var e=this;if(this._enabled){var t=this.getTiles(),n=new Array,r=new Set((this._labels.size,this._labels.keys()));t.forEach((function(i,l){var a=i.lij.toString();r.delete(a);var o=i.lij[0],c=i.geometry;if(e.enablePolygons&&!e._polygons.has(a)){var b=new u.Z({geometry:c,symbol:e._symbols[o%e._symbols.length]});e._polygons.set(a,b),n.push(b)}if(e.enableLabels){var p=function(e){if((0,y.pC)(e.label))return e.label;var t=e.lij.toString();return(0,y.pC)(e.loadPriority)&&(t+=" (".concat(e.loadPriority,")")),t}(i),f=l/(t.length-1),_=(0,h.t7)(0,200,f),w=(0,h.t7)(20,6,f)/.75,m=(0,y.pC)(i.loadPriority)&&i.loadPriority>=t.length,Z=new s.Z([_,m?0:_,m?0:_]),T="3d"===e.view.type?function(){return new v.Z({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new d.Z({text:p,halo:{color:"white",size:1/.75},material:{color:Z},size:w})]})}:function(){return new g.Z({text:p,haloColor:"white",haloSize:1/.75,color:Z,size:w})},k=e._labels.get(a);if(k){var C=T();((0,y.Wi)(k.symbol)||JSON.stringify(C)!==JSON.stringify(k.symbol))&&(k.symbol=C)}else{var P=new u.Z({geometry:c.extent.center,symbol:T()});e._labels.set(a,P),n.push(P)}}}));var i=new Array;r.forEach((function(t){var n=e._polygons.get(t);null!=n&&(i.push(n),e._polygons.delete(t));var r=e._labels.get(t);null!=r&&(i.push(r),e._labels.delete(t))})),this.view.graphics.removeMany(i),this.view.graphics.addMany(n)}else this.clear()}},{key:"clear",value:function(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}}]),n}(c.Z);(0,o._)([(0,b.Cb)({constructOnly:!0})],w.prototype,"view",void 0),(0,o._)([(0,b.Cb)({readOnly:!0})],w.prototype,"updating",void 0),(0,o._)([(0,b.Cb)()],w.prototype,"enabled",null),w=(0,o._)([(0,p.j)("esri.views.support.TileTreeDebugger")],w)}}]);
//# sourceMappingURL=62782.3d8b5647.chunk.js.map