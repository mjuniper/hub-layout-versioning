"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[44011],{28278:function(e,t,r){r.d(t,{Es:function(){return b},I_:function(){return v},W7:function(){return g},qM:function(){return m}});var n=r(1413),a=r(37762),o=r(10064),i=r(84652),u=r(32718),c=r(2821),l=r(4760),f=u.Z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(e,t,r){for(var n="",a=0;a<r;){var i=e[t+a];if(i<128)n+=String.fromCharCode(i),a++;else if(i>=192&&i<224){if(a+1>=r)throw new o.Z("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var u=(31&i)<<6|63&e[t+a+1];n+=String.fromCharCode(u),a+=2}else if(i>=224&&i<240){if(a+2>=r)throw new o.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var c=(15&i)<<12|(63&e[t+a+1])<<6|63&e[t+a+2];n+=String.fromCharCode(c),a+=3}else{if(!(i>=240&&i<248))throw new o.Z("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(a+3>=r)throw new o.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var l=(7&i)<<18|(63&e[t+a+1])<<12|(63&e[t+a+2])<<6|63&e[t+a+3];if(l>=65536){var f=55296+(l-65536>>10),s=56320+(1023&l);n+=String.fromCharCode(f,s)}else n+=String.fromCharCode(l);a+=4}}return n}function d(e,t){for(var r={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,a=0;a<t.length;a++){var o=t[a],i=o.valueType||o.type,u=M[i];r.fields[o.property]=u(e,n),n+=S[i].BYTES_PER_ELEMENT}return r.byteCount=n,r}function h(e,t,r){var n,a,i=[],u=0;for(a=0;a<e;a+=1){if((n=t[a])>0){if(i.push(s(r,u,n-1)),0!==r[u+n-1])throw new o.Z("string-array-error","Invalid string array: missing null termination.")}else i.push(null);u+=n}return i}function v(e,t){return new(0,S[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function p(e,t,r){for(var n=null!=t.header?d(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},a={header:n,byteOffset:n.byteCount,byteCount:0,entries:Object.create(null)},u=n.byteCount,c=0;c<t.ordering.length;c++){var l,f,s=t.ordering[c],h=(0,i.d9)(t[s]);if(h.count=null!==(l=n.fields.count)&&void 0!==l?l:0,"String"===h.valueType){if(h.byteOffset=u,h.byteCount=n.fields[s+"ByteCount"],"UTF-8"!==h.encoding)throw new o.Z("unsupported-encoding","Unsupported String encoding.",{encoding:h.encoding});if(h.timeEncoding&&"ECMA_ISO8601"!==h.timeEncoding)throw new o.Z("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:h.timeEncoding})}else{if(!C(h.valueType))throw new o.Z("unsupported-value-type","Unsupported binary valueType",{valueType:h.valueType});var v=Z(h.valueType);u+=u%v!=0?v-u%v:0,h.byteOffset=u,h.byteCount=v*h.valuesPerElement*h.count}u+=null!==(f=h.byteCount)&&void 0!==f?f:0,a.entries[s]=h}return a.byteCount=u-a.byteOffset,a}function y(e,t,r){if(t!==e&&f.error("Invalid ".concat(r," buffer size\n expected: ").concat(e,", actual: ").concat(t,")")),t<e)throw new o.Z("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function g(e,t){var r,o=d(e,t&&t.header),i=o.byteCount,u={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},c=o.fields,l=null!=c.vertexCount?c.vertexCount:c.count,f=(0,a.Z)(t.ordering);try{for(f.s();!(r=f.n()).done;){var s=r.value;if(t.vertexAttributes[s]){var h=(0,n.Z)((0,n.Z)({},t.vertexAttributes[s]),{},{byteOffset:i,count:l}),v=w[s]?w[s]:"_"+s;u.vertexAttributes[v]=h,i+=Z(h.valueType)*h.valuesPerElement*l}}}catch(x){f.e(x)}finally{f.f()}var p=c.faceCount;if(t.faces&&p){u.faces={};var g,b=(0,a.Z)(t.ordering);try{for(b.s();!(g=b.n()).done;){var m=g.value;if(t.faces[m]){var S=(0,n.Z)((0,n.Z)({},t.faces[m]),{},{byteOffset:i,count:p});u.faces[m]=S,i+=Z(S.valueType)*S.valuesPerElement*p}}}catch(x){b.e(x)}finally{b.f()}}var M=c.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&M){u.featureAttributes={};var C,I=(0,a.Z)(t.featureAttributeOrder);try{for(I.s();!(C=I.n()).done;){var T=C.value;if(t.featureAttributes[T]){var U=(0,n.Z)((0,n.Z)({},t.featureAttributes[T]),{},{byteOffset:i,count:M});u.featureAttributes[T]=U,i+=("UInt64"===U.valueType?8:Z(U.valueType))*U.valuesPerElement*M}}}catch(x){I.e(x)}finally{I.f()}}return y(i,e.byteLength,"geometry"),u.byteCount=i-u.byteOffset,u}function b(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?function(e){var t,r={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){switch(t.value){case"position":break;case"normal":r.normal=!0;break;case"uv0":r.uv0=!0;break;case"color":r.color=!0;break;case"uv-region":r.uvRegion=!0;break;case"feature-index":r.featureIndex=!0}}}catch(o){n.e(o)}finally{n.f()}return r}(e.compressedAttributes.attributes):e?function(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}(e):function(e){var t,r={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=(0,a.Z)(e.ordering);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e.vertexAttributes[o])switch(o){case"position":break;case"normal":r.normal=!0;break;case"color":r.color=!0;break;case"uv0":r.uv0=!0;break;case"region":r.uvRegion=!0}}}catch(i){n.e(i)}finally{n.f()}return e.featureAttributes&&e.featureAttributeOrder&&(r.featureIndex=!0),r}(t)}var w={position:l.T.POSITION,normal:l.T.NORMAL,color:l.T.COLOR,uv0:l.T.UV0,region:l.T.UVREGION};function m(e,t,r){if("lepcc-rgb"===e.encoding)return(0,c.IT)(t);if("lepcc-intensity"===e.encoding)return(0,c.ti)(t);if(null!=e.encoding&&""!==e.encoding)throw new o.Z("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(f.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(f.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=p(t,e,r);y(n.byteOffset+n.byteCount,t.byteLength,"attribute");var a=n.entries.attributeValues||n.entries.objectIds;if(a){if("String"===a.valueType){var i=n.entries.attributeByteCounts,u=v(t,i),l=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,a);return a.timeEncoding?function(e,t,r){return h(e,t,r).map((function(e){var t=e?Date.parse(e):null;return t&&!Number.isNaN(t)?t:null}))}(i.count,u,l):h(i.count,u,l)}return v(t,a)}throw new o.Z("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}var S={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},M={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}};function C(e){return S.hasOwnProperty(e)}function Z(e){return C(e)?S[e].BYTES_PER_ELEMENT:0}},47570:function(e,t,r){r.d(t,{c:function(){return u},n:function(){return c}});var n=r(81949),a=r(71353),o=r(83448),i=r(79803);function u(e,t,r,a){var o=c(e,t,r),u=(0,n.c)();return(0,i.Bm)(r,o,u,a),u}function c(e,t,r){var n=(0,a.c)(),i=e[3],u=Math.pow(2,4*Math.ceil(Math.log(i)*Math.LOG2E/4)+1);if(r.isGeographic){var c=u/(0,o.Iu)(r).radius*180/Math.PI,l=Math.round(e[1]/c),f=Math.max(-90,Math.min(90,l*c)),s=c/Math.cos((Math.abs(f)-c/2)/180*Math.PI),d=Math.round(e[0]/s)*s;n[0]=d,n[1]=f}else{var h=Math.round(e[0]/u),v=Math.round(e[1]/u);n[0]=h*u,n[1]=v*u}var p=e[2]+t,y=Math.round(p/u);return n[2]=y*u,n}},44011:function(e,t,r){r.d(t,{Cx:function(){return Ae},HV:function(){return be},Jf:function(){return ie},Jx:function(){return re},OJ:function(){return ce},T2:function(){return ae},VL:function(){return Oe},WD:function(){return Fe},X5:function(){return D},Yb:function(){return q},a7:function(){return ve},bf:function(){return j},c$:function(){return Re},cr:function(){return H},e8:function(){return G},ei:function(){return oe},gn:function(){return fe},hv:function(){return N},ix:function(){return ge},jv:function(){return we},ns:function(){return V},p8:function(){return le},pD:function(){return W},tS:function(){return B},tp:function(){return ne},tq:function(){return ue},uC:function(){return pe},vH:function(){return ke},xe:function(){return ee},yS:function(){return de},zW:function(){return se}});var n=r(74165),a=r(43144),o=r(15671),i=r(15861),u=r(37762),c=r(76200),l=r(63780),f=r(10064),s=r(93169),d=r(92026),h=r(66978),v=r(18722),p=r(22753),y=r(11873),g=r(14226),b=r(81949),w=r(48976),m=r(4582),S=r(11186),M=r(71353),C=r(83448),Z=r(79803),I=r(78952),T=r(29691),U=r(65156),x=r(92975),E=r(21149),A=r(28278),k=r(47570),R=r(97689),O=r(49420),F=r(89414),L=r(91526);function z(e){return e?parseInt(e.substring(e.lastIndexOf("/")+1,e.length),10):void 0}function D(e){if((0,s.Z)("disable-feature:i3s-draco")||!e)return!1;var t,r=(0,u.Z)(e);try{for(r.s();!(t=r.n()).done;){var n,a=t.value,o=(0,u.Z)(a.geometryBuffers);try{for(o.s();!(n=o.n()).done;){var i;if("draco"===(null===(i=n.value.compressedAttributes)||void 0===i?void 0:i.encoding))return!0}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return!1}function B(e,t,r,n){r.traverse(t,(function(t){var r=t.mbs;return(null!=r&&H(e,r))!==W.OUTSIDE&&(n(t),!0)}))}function N(e,t,r){for(var n=0,a=0,o=0;o<t.length&&n<e.length;o++)e[n]===t[o]&&(r(o)&&(e[a]=e[n],a++),n++);e.length=a}function q(e,t,r){for(var n=0,a=0;n<r.length;)(0,l.$A)(e,r[n])>=0===t&&(r[a]=r[n],a++),n++;r.length=a}var W,P,_=(0,U.Ue)();function V(e,t){if(0===t.rotationScale[1]&&0===t.rotationScale[2]&&0===t.rotationScale[3]&&0===t.rotationScale[5]&&0===t.rotationScale[6]&&0===t.rotationScale[7])return _[0]=(e[0]-t.position[0])/t.rotationScale[0],_[1]=(e[1]-t.position[1])/t.rotationScale[4],_[2]=(e[2]-t.position[0])/t.rotationScale[0],_[3]=(e[3]-t.position[1])/t.rotationScale[4],_}function H(e,t){var r=t[0],n=t[1],a=t[3],o=e[0]-r,i=r-e[2],u=e[1]-n,c=n-e[3],l=Math.max(o,i,0),f=Math.max(u,c,0),s=l*l+f*f;return s>a*a?W.OUTSIDE:s>0?W.INTERSECTS_CENTER_OUTSIDE:-Math.max(o,i,u,c)>a?W.INSIDE:W.INTERSECTS_CENTER_INSIDE}function G(e,t,r){var n,a=[],o=r&&r.missingFields,i=r&&r.originalFields,c=(0,u.Z)(e);try{for(c.s();!(n=c.n()).done;){var l,f=n.value,s=f.toLowerCase(),d=!1,h=(0,u.Z)(t);try{for(h.s();!(l=h.n()).done;){var v=l.value;if(s===v.name.toLowerCase()){a.push(v.name),d=!0,i&&i.push(f);break}}}catch(p){h.e(p)}finally{h.f()}!d&&o&&o.push(f)}}catch(p){c.e(p)}finally{c.f()}return a}function j(e,t,r,n,a){return Y.apply(this,arguments)}function Y(){return(Y=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,o,i){var u,c,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return",[]);case 2:if(u=t.attributeStorageInfo,!(0,d.pC)(t.associatedLayer)){e.next=14;break}return e.prev=4,e.next=7,X(t.associatedLayer,r,a,o);case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(4),!t.associatedLayer.loaded){e.next=14;break}throw e.t0;case 14:if(!u){e.next=22;break}if(c=K(r,a,i),!(0,d.Wi)(c)){e.next=18;break}throw new f.Z("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");case 18:return l=t.parsedUrl.path,e.next=21,Promise.all(c.map((function(e){return J(l,u,e.node,e.indices,o).then((function(t){for(var r=0;r<e.graphics.length;r++){var n=e.graphics[r],a=t[r];if(n.attributes)for(var o in n.attributes)o in a||(a[o]=n.attributes[o]);n.attributes=a}return e.graphics}))})));case 21:return e.abrupt("return",e.sent.flat());case 22:throw new f.Z("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available");case 23:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function K(e,t,r){var n,a=new Map,o=[],i=r(),c=(0,u.Z)(e);try{for(c.s();!(n=c.n()).done;)for(var l=n.value,f=l.attributes[t],s=0;s<i.length;s++){var d=i[s],h=d.featureIds.indexOf(f);if(h>=0){var v=a.get(d.node);v||(v={node:d.node,indices:[],graphics:[]},o.push(v),a.set(d.node,v)),v.indices.push(h),v.graphics.push(l);for(var p=s;p>0;p--)i[p]=i[p-1];i[0]=d;break}}}catch(y){c.e(y)}finally{c.f()}return o}function X(e,t,r,n){return $.apply(this,arguments)}function $(){return($=(0,i.Z)((0,n.Z)().mark((function e(t,r,a,o){var i,u,c,l,f,s,d,h,v,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.sort((function(e,t){return e.attributes[a]-t.attributes[a]})),i=r.map((function(e){return e.attributes[a]})),u=[],c=G(o,t.fields,{originalFields:u}),e.next=6,Q(t,i,c);case 6:for(l=e.sent,f=0;f<r.length;f++){if(s=r[f],d=l[f],h={},s.attributes)for(v in s.attributes)h[v]=s.attributes[v];for(p=0;p<u.length;p++)h[u[p]]=d[c[p]];s.attributes=h}return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,r){var n=e.capabilities.query.maxRecordCount;if(null!=n&&t.length>n){var a=(0,l.vr)(t,n);return Promise.all(a.map((function(t){return Q(e,t,r)}))).then((function(e){return e.flat()}))}var o=new E.Z({objectIds:t,outFields:r,orderByFields:[e.objectIdField]});return e.queryFeatures(o).then((function(e){if(e&&e.features&&e.features.length===t.length)return e.features.map((function(e){return e.attributes}));throw new f.Z("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer")}))}function J(e,t,r,n,a){return ee(e,t,r.resources.attributes,n,a)}function ee(e,t,r,n,a){var o,i=[],l=(0,u.Z)(t);try{for(l.s();!(o=l.n()).done;){var f=o.value;if(f&&a.includes(f.name)){var s="".concat(e,"/nodes/").concat(r,"/attributes/").concat(f.key,"/0");i.push({url:s,storageInfo:f})}}}catch(d){l.e(d)}finally{l.f()}return(0,h.as)(i.map((function(e){return(0,c.default)(e.url,{responseType:"array-buffer"}).then((function(t){return(0,A.qM)(e.storageInfo,t.data)}))}))).then((function(e){var t,r=[],a=(0,u.Z)(n);try{for(a.s();!(t=a.n()).done;){for(var o=t.value,c={},l=0;l<e.length;l++){var f=e[l].value;null!=f&&(c[i[l].storageInfo.name]=re(f,o))}r.push(c)}}catch(d){a.e(d)}finally{a.f()}return r}))}(P=W||(W={}))[P.OUTSIDE=0]="OUTSIDE",P[P.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",P[P.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",P[P.INSIDE=3]="INSIDE";var te=-Math.pow(2,31);function re(e,t){if(!e)return null;var r=e[t];return(0,v.z3)(e)?-32768===r?null:r:(0,v.Hx)(e)?r===te?null:r:r!=r?null:r}function ne(e){var t=e.store,r=t.indexCRS||t.geographicCRS,n=void 0===r?t.indexWKT:void 0;if(n){if(!e.spatialReference)throw new f.Z("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indeWKT in the scene layer store but no layer spatial reference",{});if(n!==e.spatialReference.wkt)throw new f.Z("layerview:store-spatial-reference-wkt-index-incompatible","The indeWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var a=r?new I.Z(z(r)):e.spatialReference;return a.equals(e.spatialReference)?e.spatialReference:a}function ae(e){var t=e.store,r=t.vertexCRS||t.projectedCRS,n=void 0===r?t.vertexWKT:void 0;if(n){if(!e.spatialReference)throw new f.Z("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});if(n!==e.spatialReference.wkt)throw new f.Z("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{})}var a=r?new I.Z(z(r)):e.spatialReference;return a.equals(e.spatialReference)?e.spatialReference:a}function oe(e,t){return(0,d.Wi)(t)?"@null":t===(0,T.rS)(t)?"@ECEF":e.equals(t)?"":null!=t.wkid?"@"+t.wkid:null}function ie(e,t,r){if(!(0,Z.Up)(e,t))throw new f.Z("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===r&&!function(e,t){return e.equals(t)||e.isWGS84&&t.isWebMercator||e.isWebMercator&&t.isWGS84}(e,t))throw new f.Z("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{})}function ue(e,t,r){var n,a;if((null===(n=e.serviceUpdateTimeStamp)||void 0===n?void 0:n.lastUpdate)!==(null===(a=t.serviceUpdateTimeStamp)||void 0===a?void 0:a.lastUpdate)||!r.isEmpty||(0,d.yw)(e.associatedLayer,(function(e){return e.url}))!==(0,d.yw)(t.associatedLayer,(function(e){return e.url})))throw new f.Z("layerview:recycle-failed")}function ce(e,t,r){var n=ne(e),a=ae(e);ie(n,t,r),ie(a,t,r)}function le(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return(null==e.geometryType||"triangles"===e.geometryType)&&(null==e.topology||"PerAttributeArray"===e.topology)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new f.Z("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:e.parsedUrl.path})}function fe(e,t){ce(e,t.spatialReference,t.viewingMode)}function se(e){if(null==e.store||null==e.store.defaultGeometrySchema||!function(e){return null!=e.geometryType&&"points"===e.geometryType&&(null==e.topology||"PerAttributeArray"===e.topology)&&(null==e.encoding||""===e.encoding||"lepcc-xyz"===e.encoding)&&null!=e.vertexAttributes&&null!=e.vertexAttributes.position}(e.store.defaultGeometrySchema))throw new f.Z("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{})}function de(e,t){ie(e.spatialReference,t.spatialReference,t.viewingMode)}function he(e){return"mesh-3d"===e.type}function ve(e){if(null==e||!function(e){return"simple"===e.type||"class-breaks"===e.type||"unique-value"===e.type}(e))return!0;if(("unique-value"===e.type||"class-breaks"===e.type)&&null==e.defaultSymbol)return!0;var t=e.getSymbols();if(0===t.length)return!0;var r,n=(0,u.Z)(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(!he(a)||0===a.symbolLayers.length)return!0;var o,i=(0,u.Z)(a.symbolLayers.items);try{for(i.s();!(o=i.n()).done;){var c=o.value;if("fill"!==c.type||(0,d.Wi)(c.material)||(0,d.Wi)(c.material.color)||"replace"!==c.material.colorMixMode)return!0}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}return!1}var pe=(0,R.$s)({color:[0,0,0,0],opacity:0}),ye=(0,a.Z)((function e(){(0,o.Z)(this,e),this.edgeMaterial=null,this.material=null,this.castShadows=!0}));function ge(e){var t,r=new ye,n=!1,a=!1,o=(0,u.Z)(e.symbolLayers.items);try{for(o.s();!(t=o.n()).done;){var i=t.value;if("fill"===i.type&&i.enabled){var c=i.material,l=i.edges;if((0,d.pC)(c)&&!n){var f=c.color,s=(0,O.F5)(c.colorMixMode);(0,d.pC)(f)?r.material={color:[f.r/255,f.g/255,f.b/255],alpha:f.a,colorMixMode:s}:r.material={color:[1,1,1],alpha:1,colorMixMode:O.a9.Multiply},r.castShadows=i.castShadows,n=!0}(0,d.pC)(l)&&!a&&(r.edgeMaterial=(0,R.C8)(l,{}),a=!0)}}}catch(h){o.e(h)}finally{o.f()}return r.material||(r.material={color:[1,1,1],alpha:1,colorMixMode:O.a9.Multiply}),r}function be(e,t){return(0|e)+(0|t)|0}function we(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;n===(0,T.rS)(n)?t.isGeographic?Ee(e,r,t,a):xe(e,r,t,a):t.isWGS84&&(n.isWebMercator||(0,x.QM)(n))?me(t,e,n,r,a):t.isWebMercator&&(0,x.QM)(n)?Te(t,e,n,r,a):e===r?(r.center[2]+=a,(0,Z.CM)(r.center,t,0,r.center,n,0,1)):((0,S.s)(r.center,e.center[0],e.center[1],e.center[2]+a),(0,Z.CM)(r.center,t,0,r.center,n,0,1),(0,w.a)(r.quaternion,e.quaternion),(0,S.c)(r.halfSize,e.halfSize))}function me(e,t,r,n,a){(0,S.c)(Ze,t.center),Ze[2]+=a;var o=(0,T.rS)(r);(0,Z.CM)(Ze,e,0,Ze,o,0,1),Ue(o,t,Ze,r,n)}var Se=new Array(24),Me=new L.a(Se,3,!0),Ce=(0,M.c)(),Ze=(0,M.c)(),Ie=(0,y.c)();function Te(e,t,r,n,a){(0,S.c)(Ze,t.center),Ze[2]+=a,Ue(e,t,Ze,r,n)}function Ue(e,t,r,n,a){for(var o=(0,p.c)(Ie,t.quaternion),i=0;i<8;++i){for(var u=0;u<3;++u)Ce[u]=t.halfSize[u]*(0!=(i&1<<u)?-1:1);for(var c=0;c<3;++c){for(var l=r[c],f=0;f<3;++f)l+=Ce[f]*o[3*f+c];Se[3*i+c]=l}}(0,Z.CM)(Se,e,0,Se,n,0,8),(0,F.Qb)(Me,a)}function xe(e,t,r,n){(0,F.$e)(e,De),(0,S.s)(t.center,e.center[0],e.center[1],e.center[2]+n),(0,Z.Bm)(r,t.center,Le,(0,T.rS)(r)),(0,S.s)(t.center,Le[12],Le[13],Le[14]);var a=2*Math.sqrt(1+Le[0]+Le[5]+Le[10]);ze[0]=(Le[6]-Le[9])/a,ze[1]=(Le[8]-Le[2])/a,ze[2]=(Le[1]-Le[4])/a,ze[3]=.25*a,(0,w.m)(t.quaternion,ze,e.quaternion),(0,w.c)(ze,t.quaternion);var o,i=0,c=0,l=0,f=(0,u.Z)(De);try{for(f.s();!(o=f.n()).done;){var s=o.value;s[2]+=n,(0,Z.CM)(s,r,0,s,(0,T.rS)(r),0,1),(0,S.w)(We,s,t.center),(0,S.q)(We,We,ze),i=Math.max(i,Math.abs(We[0])),c=Math.max(c,Math.abs(We[1])),l=Math.max(l,Math.abs(We[2]))}}catch(d){f.e(d)}finally{f.f()}(0,S.s)(t.halfSize,i,c,l)}function Ee(e,t,r,n){var a=(0,C.Iu)(r),o=1+Math.max(0,n)/(a.radius+e.center[2]);(0,S.s)(t.center,e.center[0],e.center[1],e.center[2]+n),(0,Z.CM)(t.center,r,0,t.center,(0,T.rS)(r),0,1),(0,w.a)(t.quaternion,e.quaternion),(0,w.c)(ze,e.quaternion),(0,S.s)(We,0,0,1),(0,S.q)(We,We,ze),(0,S.s)(We,e.halfSize[0]*Math.abs(We[0]),e.halfSize[1]*Math.abs(We[1]),e.halfSize[2]*Math.abs(We[2])),(0,S.g)(We,We,a.inverseFlattening),(0,S.a)(t.halfSize,e.halfSize,We),(0,S.g)(t.halfSize,t.halfSize,o)}function Ae(e,t,r,n,a,o){if(!o||0===o.length||(0,d.Wi)(t)||!e.mbs)return null;var i=(0,k.c)(e.mbs,a,r,t);(0,g.a)(_e,i);var c=null,l=function(){if(!c)if(c=De,(0,U.cS)(Ne),(0,d.pC)(e.serviceObb)){we(e.serviceObb,r,qe,t,a),(0,F.$e)(qe,c);var n,o=(0,u.Z)(c);try{for(o.s();!(n=o.n()).done;){var i=n.value;(0,S.m)(i,i,_e),(0,U.Ho)(Ne,i)}}catch(g){o.e(g)}finally{o.f()}}else{var l=e.mbs;if(!l)return;var f=l[3];(0,Z.SH)(l,r,We,t),(0,S.m)(We,We,_e),We[2]+=a;for(var s=0;s<8;++s){var h=1&s?f:-f,v=2&s?f:-f,p=4&s?f:-f,y=c[s];(0,S.c)(y,[We[0]+h,We[1]+v,We[2]+p]),(0,U.Ho)(Ne,y)}}},f=1/0,s=-1/0;if(o.forEach((function(e){return function(e){if("replace"===e.type){var r=e.geometry;if(null!==r&&void 0!==r&&r.hasZ){(0,U.cS)(Be);var a=r.spatialReference||n,o=r.rings.reduce((function(e,r){return r.reduce((function(e,r){return(0,Z.SH)(r,a,We,t),(0,S.m)(We,We,_e),(0,U.Ho)(Be,We),Math.min(We[2],e)}),e)}),1/0);l(),(0,U.kK)(Ne,Be)&&(f=Math.min(f,o),s=Math.max(s,o))}}}(e)})),f===1/0)return null;for(var h=function(e,t,r){(0,S.m)(We,r,i),e[t+0]=We[0],e[t+1]=We[1],e[t+2]=We[2],t+=24,r[2]=f,(0,S.m)(We,r,i),e[t+0]=We[0],e[t+1]=We[1],e[t+2]=We[2],t+=24,r[2]=s,(0,S.m)(We,r,i),e[t+0]=We[0],e[t+1]=We[1],e[t+2]=We[2]},v=0;v<8;++v)h(Pe.data,3*v,c[v]);return(0,F.Qb)(Pe)}function ke(e){return(0,d.pC)(e)&&e.halfSize[0]>=0}function Re(e){return e[3]>=0}function Oe(e){(0,d.pC)(e)&&(e.halfSize[0]=-1)}function Fe(e){(0,d.pC)(e)&&(e[3]=-1)}var Le=(0,b.c)(),ze=(0,m.c)(),De=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Be=(0,U.Ue)(),Ne=(0,U.Ue)(),qe=(0,F.Ue)(),We=(0,M.c)(),Pe={data:new Array(72),size:3,exclusive:!0,stride:3},_e=(0,b.c)()},2821:function(e,t,r){r.d(t,{Gi:function(){return T},IT:function(){return D},ti:function(){return G}});var n=r(10064),a=!0,o=0,i=10,u=10,c=12,l=16;function f(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+o,i)),version:t.getUint16(r+u,a),checksum:t.getUint32(r+c,a)}}var s=0,d=4,h=8,v=16,p=24,y=32,g=40,b=48,w=56,m=64,S=72,M=80,C=84,Z=88;function I(e,t){return{sizeLo:e.getUint32(t+s,a),sizeHi:e.getUint32(t+d,a),minX:e.getFloat64(t+h,a),minY:e.getFloat64(t+v,a),minZ:e.getFloat64(t+p,a),maxX:e.getFloat64(t+y,a),maxY:e.getFloat64(t+g,a),maxZ:e.getFloat64(t+b,a),errorX:e.getFloat64(t+w,a),errorY:e.getFloat64(t+m,a),errorZ:e.getFloat64(t+S,a),count:e.getUint32(t+M,a),reserved:e.getUint32(t+C,a)}}function T(e){var t=new DataView(e,0),r=0,a=f(e,t,r),o=a.identifier,i=a.version;if(r+=l,"LEPCC     "!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=I(t,r);if(r+=Z,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");var c=new Float64Array(3*u.count),s=[],d=[],h=[],v=[];if(r=U(e,r,s),r=U(e,r,d),r=U(e,r,h),(r=U(e,r,v))!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad length");for(var p=0,y=0,g=0;g<s.length;g++){y+=s[g];for(var b=0,w=0;w<d[g];w++){b+=h[p];var m=v[p];c[3*p]=Math.min(u.maxX,u.minX+2*u.errorX*b),c[3*p+1]=Math.min(u.maxY,u.minY+2*u.errorY*y),c[3*p+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*m),p++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:c}}function U(e,t,r){var n=[];t=x(e,t,n);for(var a=[],o=0;o<n.length;o++){a.length=0,t=x(e,t,a);for(var i=0;i<a.length;i++)r.push(a[i]+n[o])}return t}function x(e,t,r){var o=new DataView(e,t),i=o.getUint8(0),u=31&i,c=!!(32&i),l=(192&i)>>6,f=0;if(0===l)f=o.getUint32(1,a),t+=5;else if(1===l)f=o.getUint16(1,a),t+=3;else{if(2!==l)throw new n.Z("lepcc-decode-error","Bad count type");f=o.getUint8(1),t+=2}if(c)throw new n.Z("lepcc-decode-error","LUT not implemented");for(var s=Math.ceil(f*u/8),d=new Uint8Array(e,t,s),h=0,v=0,p=0,y=-1>>>32-u,g=0;g<f;g++){for(;v<u;)h|=d[p]<<v,v+=8,p+=1;r[g]=h&y,h>>>=u,(v-=u)+u>32&&(h|=d[p-1]>>8-v)}return t+p}var E=0,A=4,k=8,R=12,O=14,F=15,L=16;function z(e,t){return{sizeLo:e.getUint32(t+E,a),sizeHi:e.getUint32(t+A,a),count:e.getUint32(t+k,a),colorMapCount:e.getUint16(t+R,a),lookupMethod:e.getUint8(t+O),compressionMethod:e.getUint8(t+F)}}function D(e){var t=new DataView(e,0),r=0,a=f(e,t,r),o=a.identifier,i=a.version;if(r+=l,"ClusterRGB"!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=z(t,r);if(r+=L,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+r!==e.byteLength||u.colorMapCount>256)throw new n.Z("lepcc-decode-error","Bad count");for(var c=new Uint8Array(e,r,3*u.colorMapCount),s=new Uint8Array(e,r+3*u.colorMapCount,u.count),d=new Uint8Array(3*u.count),h=0;h<u.count;h++){var v=s[h];d[3*h]=c[3*v],d[3*h+1]=c[3*v+1],d[3*h+2]=c[3*v+2]}return d}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+r!==e.byteLength||0!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");return new Uint8Array(e,r).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(r+3!==e.byteLength||1!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");for(var p=t.getUint8(r),y=t.getUint8(r+1),g=t.getUint8(r+2),b=new Uint8Array(3*u.count),w=0;w<u.count;w++)b[3*w]=p,b[3*w+1]=y,b[3*w+2]=g;return b}throw new n.Z("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)}var B=0,N=4,q=8,W=12,P=14,_=15,V=16;function H(e,t){return{sizeLo:e.getUint32(t+B,a),sizeHi:e.getUint32(t+N,a),count:e.getUint32(t+q,a),scaleFactor:e.getUint16(t+W,a),bitsPerPoint:e.getUint8(t+P),reserved:e.getUint8(t+_)}}function G(e){var t=new DataView(e,0),r=0,a=f(e,t,r),o=a.identifier,i=a.version;if(r+=l,"Intensity "!==o)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=H(t,r);if(r+=V,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");var c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+r!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var s=new Uint8Array(e,r,u.count),d=0;d<u.count;d++)c[d]=s[d]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+r!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var h=new Uint16Array(e,r,u.count),v=0;v<u.count;v++)c[v]=h[v]*u.scaleFactor}else{var p=[];if(x(e,r,p)!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var y=0;y<u.count;y++)c[y]=p[y]*u.scaleFactor}return c}}}]);
//# sourceMappingURL=44011.83fb64f1.chunk.js.map