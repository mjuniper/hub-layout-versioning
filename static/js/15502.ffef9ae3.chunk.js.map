{"version":3,"file":"static/js/15502.ffef9ae3.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointRenderer.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{NUMBER_MAX_FLOAT32 as e}from\"../core/mathUtils.js\";import{m as i,f as o}from\"./mat4.js\";import{c as r}from\"./mat4f64.js\";import{s as t}from\"./vec2.js\";import{a}from\"./vec2f64.js\";import{s}from\"./vec3.js\";import{c as n}from\"./vec3f64.js\";import{create as c,POSITIVE_INFINITY as l}from\"../geometry/support/aaBoundingBox.js\";import{addNearFar as d,addCalculateLinearDepth as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{ShaderOutput as m}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as g,SliceDraw as f}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as u}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as S}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{NoParameters as w,glsl as z}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Matrix4DrawUniform as b}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{Matrix4PassUniform as M}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js\";import{ShaderBuilder as j}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as P}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";class y extends w{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class O extends g{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function _(r){const a=new j,n=r.output===m.Color,c=r.output===m.Depth,l=r.output===m.Highlight,{vertex:g,fragment:w}=a;return a.extensions.add(\"GL_OES_standard_derivatives\"),a.include(f,r),a.attributes.add(P.POSITION,\"vec3\"),a.attributes.add(P.COLOR,\"vec3\"),g.uniforms.add([new b(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new M(\"proj\",((e,i)=>i.camera.projectionMatrix)),new h(\"screenMinMaxSize\",((e,i,o)=>t(L,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,F(e.isLeaf)*i.camera.pixelRatio)))]),g.uniforms.add(r.useFixedSizes?new v(\"pointScale\",((e,i)=>t(L,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new h(\"pointScale\",((e,i,o)=>t(L,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?g.uniforms.add([new x(\"clipMin\",((e,i,o)=>s(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new x(\"clipMax\",((e,i,o)=>s(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))]):(g.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),g.constants.add(\"clipMax\",\"vec3\",[e,e,e])),c?(d(a),p(a),a.varyings.add(\"depth\",\"float\")):r.output!==m.Highlight&&a.varyings.add(\"vColor\",\"vec3\"),g.code.add(z`\n    void main(void) {\n      // Move clipped points outside of clipspace\n      if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n        position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      if (rejectBySlice(position)) {\n        gl_Position = vec4(0.0,0.0,0.0,2.0);\n        gl_PointSize = 0.0;\n        return;\n      }\n\n      // Position in camera space\n      vec4 camera = modelView * vec4(position, 1.0);\n\n      float pointSize = pointScale.x;\n      vec4 position = proj * camera;\n     ${r.drawScreenSize?z`\n      float clampedScreenSize = pointSize;`:z`\n      float pointRadius = 0.5 * pointSize;\n      vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n      vec4 positionOffset = proj * cameraOffset;\n      float radius = abs(positionOffset.y - position.y);\n      float viewHeight = pointScale.y;\n      // screen diameter = (2 * r / w) * (h / 2)\n      float screenPointSize = (radius / position.w) * viewHeight;\n      float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n      // Shift towards camera, to move rendered point out of terrain i.e. to\n      // the camera-facing end of the virtual point when considering it as a\n      // 3D sphere.\n      camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n      position = proj * camera;`}\n\n     gl_PointSize = clampedScreenSize;\n     gl_Position = position;\n\n     ${c?z`depth = calculateLinearDepth(nearFar, camera.z);`:\"\"}\n     ${n?z`vColor = color;`:\"\"}\n    }\n  `),w.include(S,r),l&&a.include(u,r),w.code.add(z`\n    void main(void) {\n      vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n      float r2 = dot(vOffset, vOffset);\n\n      if (r2 > 0.25) {\n        discard;\n      }\n      ${c?z`gl_FragColor = float2rgba(depth);`:\"\"}\n      ${l?z`outputHighlight();`:\"\"}\n      ${n?z`gl_FragColor = vec4(vColor, 1.0);`:\"\"}\n    }\n  `),a}function F(e){return e?256:64}const R=r(),B=n(),L=a(),C=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:O,PointRendererPassParameters:y,build:_,getMaxPointSizeScreenspace:F},Symbol.toStringTag,{value:\"Module\"}));export{y as P,O as a,C as b,_ as c,F as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../core/maybe.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";class e extends r{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>this._getTransferList(t)},t)}_getTransferList(r){const e=[r.geometryBuffer];if(t(r.primaryAttributeData)&&r.primaryAttributeData.buffer&&e.push(r.primaryAttributeData.buffer),t(r.modulationAttributeData)&&r.modulationAttributeData.buffer&&e.push(r.modulationAttributeData.buffer),t(r.filterAttributesData))for(const a of r.filterAttributesData)t(a)&&a.buffer&&e.push(a.buffer);for(const t of r.userAttributesData)t.buffer&&e.push(t.buffer);return e}}export{e as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{e}from\"../../../../chunks/vec3.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderCenter(t.load[0]),h=l.getRenderCenter(r.load[0]);return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderCenter(t.remove[0]),h=l.getRenderCenter(r.remove[0]);return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{create as e,contains as t,intersects as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{transformObb as n}from\"./I3SUtil.js\";import{set as i,toAaBoundingBox as r,intersectPlane as o,ObbArray as p}from\"../../support/orientedBoundingBox.js\";class h{constructor(e,t,s){this._pages=[],this.pageSize=0,this._nodeSR=null,this._renderSR=null,this._nodeSR=e,this._renderSR=t,this.pageSize=s}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);const n=g(t,this._nodeSR,this._renderSR,s);this._pages[e]={nodes:t,renderObbs:n,parents:new Uint32Array(this.pageSize)},u(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[l(e,t)].nodes[c(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[l(e,t)].renderObbs[c(e,t)]}getRenderCenter(e){return this.getRenderObb(e).center}setRenderObb(e,t){const s=this.pageSize;i(t,this._pages[l(e,s)].renderObbs[c(e,s)])}getParentId(e){const t=this.pageSize;return this._pages[l(e,t)].parents[c(e,t)]}hasNodes(e,t){const s=l(e,this.pageSize),n=l(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const t={index:this,queue:[],masks:[],tempAabb:e()};return(e,s)=>a(t,e,s)}}function a(e,n,i){const p=e.index;if(!p.hasNodes(0,1))return;const h=e.queue;h.length=0,h.push(0);const a=e.masks;for(a.length=0,a.push(0);h.length>0;){const g=h.pop();let u=a.pop();const c=p.getNode(g),d=p.getRenderObb(g);let f=!0;if(null!=n.clippingBox){const i=1<<n.frustum.length;if(0==(u&i)){const o=r(d,e.tempAabb);t(n.clippingBox,o)?u|=i:s(n.clippingBox,o)||(f=!1)}}for(let e=0;e<n.frustum.length&&f;e++){const t=1<<e;if(0==(u&t)){const s=o(d,n.frustum[e]);s>0?f=!1:s<0&&(u|=t)}}if(i.predicate(g,c,f)){const e=c.firstChild,t=c.childCount;let s=!1;const n=l(e,p.pageSize),r=l(e+t-1,p.pageSize);for(let o=n;o<=r;o++)if(!p.hasPage(o)){i.pageMiss(g,o),s=!0;break}if(!s)for(let i=0;i<t;i++)h.push(e+i),a.push(u)}}}function g(e,t,s,i){const r=new p(e.length);for(let o=0;o<e.length;o++)n(e[o].obb,t,r.obbs[o],s,i);return r.obbs}function u(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[l(n,t)].nodes[c(n,t)];for(let r=0;r<i.childCount;r++){const o=i.firstChild+r;null!=e[l(o,t)]&&(e[l(o,t)].parents[c(o,t)]=n,s.push(o))}}}function l(e,t){return e/t|0}function c(e,t){return e%t}export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!(!e||!e.type)&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return{name:e,storageInfo:t?null:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{constructor(r){super(r)}};r([s({constructOnly:!0,clonable:\"reference\"})],t.prototype,\"pointCloudMetadata\",void 0),t=r([e(\"esri.views.3d.layers.i3s.PointGraphic\")],t);export{t as PointGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{Object3DState as i}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Object3DStateID as h}from\"../../webgl-engine/lib/Object3DStateID.js\";class s{constructor(e){this._context=e,this._highlights=new Set}get hasHighlights(){return this._highlights.size>0}destroy(){this._highlights=null}add(t){const i=new o(t);return this._highlights.add(i),this._enableSet(i),e((()=>this._removeSet(i)))}_removeSet(e){this._disableSet(e),this._highlights.delete(e)}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._highlights.forEach((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._highlights.forEach((t=>this._disableSetForNode(t,e)))}removeAll(){this._highlights.forEach((e=>this._disableSet(e)))}}class o{constructor(e){this.id=new h(i.Highlight),this.ids=new Map,this.enabled=!1;for(const i of e)t(i)&&this._add(i.nodeId,i.pointId)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{s as PointHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Default3D as i}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as t}from\"../lib/Program.js\";import{stencilWriteMaskOn as o,stencilBaseAllZerosParams as s}from\"../lib/StencilUtils.js\";import{b as n}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l}from\"../../../webgl/enums.js\";import{makePipelineState as c,defaultDepthWriteParams as a,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";class m extends r{constructor(e,r,i){super(e,r,i)}initializeProgram(e){return new t(e.rctx,m.shader.get().build(this.configuration),i)}initializePipeline(){return c({depthTest:{func:l.LESS},depthWrite:a,colorWrite:u,stencilWrite:this.configuration.hasOccludees?o:null,stencilTest:this.configuration.hasOccludees?s:null})}}m.shader=new e(n,(()=>import(\"./PointRenderer.glsl.js\")));export{m as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{parameter as t}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends i{constructor(){super(...arguments),this.output=o.Color,this.hasSlicePlane=!1,this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([t({count:o.COUNT})],r.prototype,\"output\",void 0),e([t()],r.prototype,\"hasSlicePlane\",void 0),e([t()],r.prototype,\"drawScreenSize\",void 0),e([t()],r.prototype,\"useFixedSizes\",void 0),e([t()],r.prototype,\"hasOccludees\",void 0),e([t()],r.prototype,\"clippingEnabled\",void 0),e([t({constValue:!0})],r.prototype,\"hasSliceInVertexProgram\",void 0);export{r as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,unwrap as t,disposeMaybe as s,isSome as i}from\"../../../../core/maybe.js\";import r from\"../../../../core/PooledArray.js\";import{b as n,l as o,g as a,o as h,e as l,p as c}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{s as u}from\"../../../../chunks/vec4.js\";import{create as p,offset as m,contains as g,containsPoint as _,set as f,POSITIVE_INFINITY as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as S}from\"../../../../geometry/support/plane.js\";import{fromPoints as x}from\"../../../../geometry/support/ray.js\";import{PclTarget as z}from\"./Intersector.js\";import{PointHighlights as R}from\"./PointHighlights.js\";import{minimumDistancePlane as q,maximumDistancePlane as w,intersectLine as y,toAaBoundingBox as A}from\"../../support/orientedBoundingBox.js\";import{ShaderOutput as j}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{Default3D as I}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as F}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as v,StoreResults as C}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{VertexArrayObject as E}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as H}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as N,a as O,g as L}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as T}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as B}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as D}from\"../../../webgl/BufferObject.js\";import{DataType as M,PrimitiveType as V,Usage as W}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as U}from\"../../../webgl/VertexElementDescriptor.js\";const k={positions:[new U(H.POSITION,3,M.FLOAT,0,12)],colors:[new U(H.COLOR,3,M.UNSIGNED_BYTE,0,3,!0)]};class G{get needsHighlight(){return this._highlights.hasHighlights}constructor(e){this._params=e,this.type=v.PCL,this.isGround=!1,this._passParameters=new N,this._highlights=new R({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.canRender=!0,this.layerUid=\"\",this._slicePlaneEnabled=!1,this._techniqueConfig=new B,this._nodes=new r}initializeRenderContext(e){this._context=e,this._techniqueRepository=this._context.techniqueRepository,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),R=S(),j=e.camera.perScreenPixelRatio/2,I=e.camera.near;n(f,i,s);const v=1/o(f);a(f,f,v),h(P,f),u(R,f[0],f[1],f[2],-l(f,s));const E=new te,H=new te,N=new Array,O=p(),L=p(this._passParameters.clipBox);m(L,-s[0],-s[1],-s[2],L),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let h=q(o.obb,R),d=w(o.obb,R);h-=Q(a,h+I,this._passParameters,j,o.isLeaf),d-=Q(a,d+I,this._passParameters,j,o.isLeaf);const u=d<0,p=null!=E.dist&&null!=H.dist&&E.dist<h*v&&H.dist>d*v;if(u||p)return;const S=K(a,d+I,this._passParameters,j,o.isLeaf);if(!y(o.obb,s,f,S))return;const x=S*S;A(o.obb,O),m(O,-s[0],-s[1],-s[2],O);const z=!g(L,O);n(b,o.origin,s);const F=o.coordinates.length/3;for(let n=0;n<F;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],z&&!_(L,r))continue;const h=l(r,f),d=c(r)-h*h;if(d>x)continue;let u=h+I;const p=Q(a,u,this._passParameters,j,o.isLeaf);if(h-p<0)continue;u-=p;const m=K(a,u,this._passParameters,j,o.isLeaf);if(d>m*m)continue;const g=(h-p)*v,S=e=>(e.point=X(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==E.dist||g<E.dist)&&(null==t||t(s,i,g))&&S(E),e.options.store!==C.MIN&&(null==H.dist||g>H.dist)&&(null==t||t(s,i,g))&&S(H),e.options.store===C.ALL&&(null==t||t(s,i,g))){const e=new te;N.push(S(e))}}}));const T=e=>{const{layerUid:t,node:s,pointId:i}=e;return new z(e.point,t,i,(()=>this._params.createGraphic(s,i,e.point)))},B=(e,t)=>{const s=T(t);e.set(this.type,s,t.dist,t.normal)};if(se(E)){const t=e.results.min;(null==t.dist||E.dist<t.dist)&&B(t,E)}if(se(H)&&e.options.store!==C.MIN){const t=e.results.max;(null==t.dist||H.dist>t.dist)&&B(t,H)}if(e.options.store===C.ALL){const t=x(s,i);for(const s of N){const i=F(t);B(i,s),e.results.all.push(i)}}}prepareTechnique(e){return 0===this._nodes.length||e.output!==j.Color&&e.output!==j.Depth&&e.output!==j.Highlight?null:(this._nodes.forAll((t=>{null==t.vao&&this._initNode(e,t)})),this._techniqueConfig.drawScreenSize=this._passParameters.drawScreenSpace,this._techniqueConfig.useFixedSizes=this._passParameters.useFixedSizes,this._techniqueConfig.hasSlicePlane=this._slicePlaneEnabled,this._techniqueConfig.hasOccludees=e.bindParameters.hasOccludees,this._techniqueConfig.clippingEnabled=this._clippingEnabled,this._techniqueConfig.output=e.output===j.Depth?j.Depth:e.output===j.Highlight?j.Highlight:j.Color,this._techniqueRepository.releaseAndAcquire(T,this._techniqueConfig,this._technique))}render(e,t){const s=e.rctx,i=s.bindTechnique(t,this._passParameters,e.bindParameters),r=e.output===j.Highlight;this._nodes.forAll((t=>{0===t.coordinates.length||r&&!t.highlights||(i.bindDraw(t,e.bindParameters,this._passParameters),s.bindVAO(t.vao),r?this._renderHighlightFragments(s,t):s.drawArrays(V.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(s,i){const r=i.highlights;if(e(r))return;let n=t(r[0].component),o=n+1;for(let e=1;e<r.length;e++){const i=t(r[e].component);if(i!==o){const e=o-n;e>0&&s.drawArrays(V.POINTS,n,e),n=i}o=i+1}const a=o-n;a>0&&s.drawArrays(V.POINTS,n,a)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let t=null;return this._nodes.filterInPlace((i=>i.id!==e||(t=i,i.vao=s(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),t}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=s(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e){return this._highlights.add(e)}_addHighlight(e,t,s){e.highlights=$(e.highlights,t,s),this._requestRender()}_removeHighlight(e,t){e.highlights=ee(e.highlights,t),this._requestRender()}_initNode(e,t){const s=e.rctx;t.vao=new E(s,I,k,{positions:D.createVertex(s,W.STATIC_DRAW,t.coordinates),colors:D.createVertex(s,W.STATIC_DRAW,t.rgb)})}_requestRender(){this._context&&this._context.requestRender()}}class Y extends O{constructor(e,t,s,i,r,n,o,a,h=null,l=null){super(s,r,t),this.id=e,this.obb=i,this.coordinates=n,this.rgb=o,this.attributes=a,this.pointIdFilterMap=h,this.highlights=l}}function J(e){return e.hasOwnProperty(\"splatSize\")}function K(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=L(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Q(e,t,s,i,r){return s.drawScreenSpace?0:K(e,t,s,i,r)}function X(t,s,i){return e(i)&&(i=d()),i[0]=t.origin[0]+t.coordinates[3*s],i[1]=t.origin[1]+t.coordinates[3*s+1],i[2]=t.origin[2]+t.coordinates[3*s+2],i}function Z(e){return i(e.component)?e.component:-1}function $(t,s,i){e(t)&&(t=[]);const r={component:s,id:i};t.push(r);const n=Z(r);let o=t.length-1;for(;o>0&&n<Z(t[o-1]);)[t[o-1],t[o]]=[t[o],t[o-1]],--o;return t}function ee(t,s){if(e(t))return t;const i=t.filter((e=>e.id!==s));return 0===i.length?null:i}class te{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function se(e){return i(e.dist)&&i(e.point)&&i(e.pointId)&&i(e.node)}export{G as PointRenderer,Y as PointRendererNode,J as isInstanceOfNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{result as t,forEach as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Logger.js\";import{unwrapOr as o,destroyMaybe as n,abortMaybe as a,isSome as d,isNone as l,mapSome as h}from\"../../../core/maybe.js\";import{eachAlways as u,isAbortError as p,eachAlwaysValues as c,throwIfAborted as _}from\"../../../core/promiseUtils.js\";import{initial as m,watch as g,sync as f}from\"../../../core/reactiveUtils.js\";import{pt2px as y}from\"../../../core/screenUtils.js\";import{estimateSize as b,isArrayBuffer as w}from\"../../../core/typedArrayUtil.js\";import{getMetersPerVerticalUnitForSR as N}from\"../../../core/unitUtils.js\";import{property as P}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as x}from\"../../../core/accessorSupport/decorators/subclass.js\";import{e as v,c as C}from\"../../../chunks/vec3.js\";import{b as S}from\"../../../chunks/vec3f32.js\";import{projectBoundingRect as A}from\"../../../geometry/projection.js\";import{create as I}from\"../../../geometry/support/aaBoundingBox.js\";import{containsPoint as k,create as V}from\"../../../geometry/support/aaBoundingRect.js\";import{create as R,fromNormalAndOffset as L}from\"../../../geometry/support/plane.js\";import{makeDehydratedPoint as j}from\"../../../layers/graphics/dehydratedFeatures.js\";import{CodedValue as U}from\"../../../layers/support/CodedValue.js\";import\"../../../core/has.js\";import Q from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as D}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as F}from\"../../../layers/support/PromiseQueue.js\";import{getMetersPerUnit as z}from\"../../../symbols/support/unitConversionUtils.js\";import{LayerView3D as M}from\"./LayerView3D.js\";import{PointCloudWorkerHandle as W}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as E,checkPointCloudLayerCompatibleWithView as O}from\"./i3s/I3SUtil.js\";import{nodeDiff as B,sortFrontToBack as G,splitWorkEntries as H}from\"./i3s/LoDUtil.js\";import q from\"./i3s/PagedNodeIndex.js\";import{getSplatSizeAlgorithm as T,getFixedSizeAlgorithm as $,getRendererInfo as J,getFilterInfo as K,rendererUsesFixedSizes as X,getAttributeInfo as Y}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as Z,readGeometry as ee,elevationFromPositions as te}from\"./i3s/PointCloudWorkerUtil.js\";import{PointGraphic as ie}from\"./i3s/PointGraphic.js\";import{PointRenderer as re,isInstanceOfNode as se,PointRendererNode as oe}from\"./i3s/PointRenderer.js\";import{PopupSceneLayerView as ne}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as ae}from\"../support/extentUtils.js\";import{ClientType as de}from\"../support/index.js\";import{minimumDistancePlane as le}from\"../support/orientedBoundingBox.js\";import{updatingProgress as he}from\"../support/updatingProperties.js\";import{RenderSlot as ue}from\"../webgl-engine/lib/RenderSlot.js\";import pe from\"../../layers/LayerView.js\";import{isScaleRangeActive as ce,extractSafeScaleBounds as _e,scaleBoundsPredicate as me}from\"../../support/layerViewUtils.js\";import{TaskPriority as ge}from\"../../support/Scheduler.js\";const fe=8,ye=R();let be=class extends(ne(M(pe))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._nodeScales=new Map,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new F,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[]}get baseUrl(){return this.layer.parsedUrl.path}get pointScale(){const e=T(this.layer&&this.layer.renderer),t=1;return e&&null!=e.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=$(this.layer&&this.layer.renderer),t=!1;return e&&null!=e.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=$(this.layer&&this.layer.renderer),t=0;return e&&null!=e.size?e.size:t}get inverseDensity(){const e=96;return this.layer&&this.layer.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=J(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=K(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of D(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=I(),t=this.view.renderSpatialReference;return ae(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;if(e&&\"absolute-height\"===e.mode){const t=N(this.layer.spatialReference),i=z(e.unit);return o(e.offset,0)*i/t}return 0}initialize(){const e=this.view.resourceController;this._worker=new W((t=>e.immediate.schedule(t))),this.addResolvingPromise(this._worker.promise),this._tmpPoint=j(0,0,0,this.layer.spatialReference),E(this.layer),O(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(de.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(de.I3S_DATA),this._initRenderer();const t=this._initNodePages(),i=this.view.resourceController.memoryController;this._memCache=i.newCache(this.layer.uid),this.updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),m),this.updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),m),this.updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),m),this.updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),m),this.updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),m),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this.updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.handles.add([this.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),g((()=>i.memoryFactor),(()=>this._setUpdateViewNeeded()),f)]),this.addResolvingPromise(t),this.when((()=>{this.handles.add([e.scheduler.registerTask(ge.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this.updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),m)])}),(()=>{this.updatingHandles.removeAll(),this.handles.removeAll()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=n(this._worker),this._destroyRenderer(),this._memCache=n(this._memCache),this._codedDomainPopulationAbortController=a(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new re({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this.updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),m),this.updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),m),this.updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),m),this._renderer.minSizePx=Math.sqrt(2),this.updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),m),this.updatingHandles.add((()=>this.pointSize),(e=>{const t=y(e);this._renderer.size=e,this._renderer.sizePx=t}),m),this.updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),m),this.updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),m),this.updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),m),this.updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),m)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=d(e.pointIdFilterMap)?e.pointIdFilterMap[t]:t,s=this.view.computeMapPointFromVec3d(i),o=this._createGraphicAttributes(e,r);return new ie({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin([ue.OPAQUE_MATERIAL],this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=X(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_scaleUpdateHandler(e){const t=this.layer.effectiveScaleRange;ce(t.minScale,t.maxScale)?A(e.extent,e.spatialReference,Pe,this.layer.spatialReference)&&(this._nodeScales.forEach(((t,i)=>{if(!this._renderedNodes.has(i))return void this._nodeScales.delete(i);const r=this._index.getNode(i);k(Pe,r.obb.center)&&this._nodeScales.set(i,e.scale)})),this._setUpdateViewNeeded()):this._nodeScales.clear()}_displayNodes(e){this._workQueue=B([...this._renderedNodes],e,this._index),G(this._workQueue,this.view.state.contentCamera.viewForward,this._index),H(this._workQueue,fe,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(l(t))return;this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return d(i)?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,i){const r=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(r);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await t(this.layer.queryCachedStatistics(r,{signal:i}));if(!1===o.ok)return;const n=o.value,a=n&&n.labels&&n.labels.labels;a&&Array.isArray(a)&&(s.domain=new Q({name:\"CLASS_CODE\",codedValues:a.map((e=>new U({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),s=this.layer.attributeStorageInfo,o=t.map((e=>Y(s,e))).filter(d),n=async(e,t)=>{const r=this._index.getNode(t);await i(o,(async t=>{const i=t.useElevation?await this._loadElevationAttributeFromGeometry(r.resourceId):await this._loadAndParseAttribute(r,t);if(i)for(const r of e)if(this._isValidPointGraphic(r)){const e=r.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,i,e,r.attributes)}}))},a=[];return r.forEach(((e,t)=>{a.push(n(e,t))})),await u(a),e}_isValidPointGraphic(e){return e instanceof ie&&e.pointCloudMetadata&&e.pointCloudMetadata.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return d(i)?Z({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=ee(t,await this._loadGeometry(e,null));return te(i,i.length/3)}highlight(e){if(!e)return{remove(){}};const t=r.isCollection(e)?e.toArray():Array.isArray(e)?e:[e];return this._renderer.highlight(t.map((e=>this._graphicToPointDefinition(e))))}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new q(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:t.obb,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;let e=this.inverseDensity/this._lodFactor*this._getLodMemoryFactor();const t=this.maximumPointCount*this._lodFactor*this._getLodMemoryFactor();let i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(r/(.75*t));for(;r>t;)e*=s,i=this._computeNodesForMinimumDensity(e),r=this._computePointCount(i),s=Math.sqrt(2);return this._displayNodes(i),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_getLodMemoryFactor(){return this.view.resourceController.memoryController.memoryFactor}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=v(s,t.eye),n=L(s,-o,ye),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const{minScale:h,maxScale:u}=_e(this.layer),p=0===h&&0===u?e=>l.push(e):e=>{const t=this._getScale(e);me(t,h,u)&&l.push(e)};return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return p(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(p(e),!1)},pageMiss:(e,t)=>{p(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_getScale(e){let t=this._nodeScales.get(e);if(null==t){const i=this._index.getNode(e).obb.center;this._tmpPoint.x=i[0],this._tmpPoint.y=i[1],this._tmpPoint.z=i[2],t=this.view.basemapTerrain.getScale(this._tmpPoint),this._nodeScales.set(e,t)}return t}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,le(e,r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw p(i)||s.getLogger(this.declaredClass).error(i),i}}async _loadAdditionalUserAttributes(e,t,i){const r=this.layer.outFields;if(!r)return[];const s=D(this.layer.fieldsIndex,r),o=new Set(e.map((e=>d(e)?e.name:null))),n=this.layer.attributeStorageInfo,a=[];for(const d of s){if(o.has(d))continue;const e=Y(n,d);e&&a.push(t(e))}const l=await c(a);return _(i),h(l,(e=>e))}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=J(this.layer),s=K(this.layer),o=i.resourceId,n=async e=>{if(l(e))return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return d(i)?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),u=s.map((e=>e.attributeInfo)),p=u.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...u],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(p),c]);_(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obb:this._index.getRenderObb(e),elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(l(t)||!t.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._nodeScales.delete(e),this._memCache.put(t.id.toString(),t,Ne(t))}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),o=this._index.getRenderObb(e);if(se(t))return t.splatSize=r,t.obb=o,C(t.origin,t.obb.center),t;const n=.01*Math.max(o.halfSize[0],o.halfSize[1],o.halfSize[2]);if(t.obb.halfSize[0]>o.halfSize[0]+n||t.obb.halfSize[1]>o.halfSize[1]+n||t.obb.halfSize[2]>o.halfSize[2]+n){if(this._maxLoggedBoxWarnings>0){const i=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;s.getLogger(this.declaredClass).warn(`Node ${e} reported bounding box too small. got ${i(o)} but points cover ${i(t.obb)}`),0==--this._maxLoggedBoxWarnings&&s.getLogger(this.declaredClass).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,t.obb)}return new oe(e,r,S(o.center),o,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}getUsedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=xe,e+=b(t.coordinates);for(const i of t.attributes){const t=i.values;w(t.buffer)&&(e+=b(t))}})),e}getUnloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.getUsedMemory()-e*xe)/t)+i*xe}ignoresMemoryFactor(){return!1}get performanceInfo(){return{nodes:this._renderedNodes.size,displayedNumberOfFeatures:[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),maximumNumberOfFeatures:this.maximumPointCount,totalNumberOfFeatures:-1,core:null,\"Loading Nodes\":this._loadingNodes.size,\"Index Queue\":this._indexQueue.length,\"Work Queue\":this._workQueue.length,\"Idle Queue\":this._idleQueue.length}}get test(){return{index:this._index,visibleNodes:this._renderedNodes}}};e([P()],be.prototype,\"layer\",void 0),e([P()],be.prototype,\"baseUrl\",null),e([P()],be.prototype,\"pointScale\",null),e([P()],be.prototype,\"useRealWorldSymbolSizes\",null),e([P()],be.prototype,\"pointSize\",null),e([P()],be.prototype,\"inverseDensity\",null),e([P()],be.prototype,\"maximumPointCount\",void 0),e([P({readOnly:!0})],be.prototype,\"availableFields\",null),e([P({readOnly:!0})],be.prototype,\"_clippingBox\",null),e([P({readOnly:!0})],be.prototype,\"_elevationOffset\",null),e([P({type:Boolean})],be.prototype,\"slicePlaneEnabled\",void 0),e([P()],be.prototype,\"updating\",void 0),e([P(he)],be.prototype,\"updatingProgress\",void 0),e([P({readOnly:!0})],be.prototype,\"updatingProgressValue\",null),be=e([x(\"esri.views.3d.layers.PointCloudLayerView3D\")],be);const we=be;function Ne(e){return 5*e.coordinates.length+128}const Pe=V(),xe=160;export{we as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import l from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{createGeometryIndexFromSchema as n,createTypedView as s,readBinaryAttribute as i}from\"./I3SBinaryReader.js\";import{decodeXYZ as u}from\"./LEPCC.js\";function f(e,o,n,s){const{rendererJSON:i,isRGBRenderer:u}=e;let f=null,c=null;if(o&&u)f=o;else if(o&&\"pointCloudUniqueValueRenderer\"===i?.type){c=l.fromJSON(i);const e=c.colorUniqueValueInfos;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.includes(l)){f[3*t]=e[o].color.r,f[3*t+1]=e[o].color.g,f[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===i?.type){c=t.fromJSON(i);const e=c.stops;f=new Uint8Array(3*s);const r=b(c.fieldTransformType);for(let t=0;t<s;t++){const l=r?r(o[t]):o[t],n=e.length-1;if(l<e[0].value)f[3*t]=e[0].color.r,f[3*t+1]=e[0].color.g,f[3*t+2]=e[0].color.b;else if(l>=e[n].value)f[3*t]=e[n].color.r,f[3*t+1]=e[n].color.g,f[3*t+2]=e[n].color.b;else for(let o=1;o<e.length;o++)if(l<e[o].value){const r=(l-e[o-1].value)/(e[o].value-e[o-1].value);f[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),f[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),f[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===i?.type){c=r.fromJSON(i);const e=c.colorClassBreakInfos;f=new Uint8Array(3*s);const t=b(c.fieldTransformType);for(let r=0;r<s;r++){const l=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(l>=e[o].minValue&&l<=e[o].maxValue){f[3*r]=e[o].color.r,f[3*r+1]=e[o].color.g,f[3*r+2]=e[o].color.b;break}}}else{f=new Uint8Array(3*s);for(let e=0;e<f.length;e++)f[e]=255}if(n&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<s;t++){const l=n[t],s=l>=o?1:l<=e?r:r+(1-r)*(l-e)/(o-e);f[3*t]=s*f[3*t],f[3*t+1]=s*f[3*t+1],f[3*t+2]=s*f[3*t+2]}}return f}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=n(r,o);if(e(t.vertexAttributes.position))return;const l=s(r,t.vertexAttributes.position),i=t.header.fields,u=[i.offsetX,i.offsetY,i.offsetZ],f=[i.scaleX,i.scaleY,i.scaleZ],c=l.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=l[3*e]*f[0]+u[0],a[3*e+1]=l[3*e+1]*f[1]+u[1],a[3*e+2]=l[3*e+2]*f[2]+u[2];return a}if(\"lepcc-xyz\"===o.encoding)return u(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?r?d(r,t):null:o(e)&&e.attributeInfo.storageInfo?i(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,l){const n=e.length/3;let s=0;for(let i=0;i<n;i++){let n=!0;for(let e=0;e<t.length&&n;e++){const{filterJSON:o}=t[e],r=l[e].values[i];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;o.values.includes(r)===e&&(n=!1);break}case\"pointCloudBitfieldFilter\":{const e=p(o.requiredSetBits),t=p(o.requiredClearBits);(r&e)===e&&0==(r&t)||(n=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,l=t>1,s=1===e,i=e===t;let u=!1;for(const r of o.includedReturns)if(\"last\"===r&&i||\"firstOfMany\"===r&&s&&l||\"lastOfMany\"===r&&i&&l||\"single\"===r&&!l){u=!0;break}u||(n=!1);break}}}n&&(r[s]=i,e[3*s]=e[3*i],e[3*s+1]=e[3*i+1],e[3*s+2]=e[3*i+2],o[3*s]=o[3*i],o[3*s+1]=o[3*i+1],o[3*s+2]=o[3*i+2],s++)}return s}function b(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function p(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,f as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Error.js\";import{isSome as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as o,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as p,getRequiredFields as i}from\"../../../layers/support/popupUtils.js\";const c=c=>{let l=class extends c{_validateFetchPopupFeatures(e){const{layer:s}=this,{popupEnabled:t}=s;if(!t)throw new r(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:s});if(!p(s,e))throw new r(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:s})}async prepareFetchPopupFeatures(e){}async fetchPopupFeatures(e,r){this._validateFetchPopupFeatures(r);const t=s(r)?r.clientGraphics:null;if(!t||0===t.length)return[];const c=\"scene\"===this.layer.type&&s(this.layer.associatedLayer)?this.layer.associatedLayer:this.layer;let l=[];\"fieldsIndex\"in this.layer&&(l=o(this.layer.fieldsIndex,await i(c,p(this.layer,r)))),await this.prepareFetchPopupFeatures(l);const n=new Set,u=[],h=[];for(const s of t)a(l,s,n)?h.push(s):u.push(s);return 0===h.length?u:this.whenGraphicAttributes(h,[...n]).catch((()=>h)).then((e=>u.concat(e)))}};return l=e([t(\"esri.views.3d.layers.support.PopupSceneLayerView\")],l),l};export{c as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex?.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex?.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex?.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n"],"names":["y","arguments","clipBox","c","l","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","get","this","drawScreenSpace","w","O","e","i","o","origin","isLeaf","splatSize","g","_","r","a","j","n","output","m","vertex","fragment","extensions","add","include","f","attributes","P","uniforms","b","R","camera","viewMatrix","M","projectionMatrix","h","t","L","pixelRatio","F","v","fixedSize","fullHeight","clippingEnabled","x","s","B","constants","d","p","varyings","code","z","drawScreenSize","S","u","C","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","slicePlaneEnabled","supportsHeightUnitConversion","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","handles","abort","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","effectiveScaleRange","minScale","maxScale","outsideScaleRange","prototype","transform","_getTransferList","geometryBuffer","primaryAttributeData","buffer","push","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","remove","length","pop","load","_pages","pageSize","_nodeSR","_renderSR","nodes","renderObbs","parents","Uint32Array","getRenderObb","center","index","queue","masks","tempAabb","hasNodes","getNode","clippingBox","frustum","predicate","firstChild","childCount","hasPage","pageMiss","obb","obbs","renderer","type","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","name","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","constructOnly","clonable","_context","_highlights","Set","_enableSet","_removeSet","_disableSet","delete","enabled","forEachNode","_enableSetForNode","ids","id","forEach","addHighlight","_disableSetForNode","removeHighlight","Map","_add","nodeId","pointId","set","rctx","shader","configuration","depthTest","func","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","hasSlicePlane","count","constValue","k","positions","U","H","colors","G","_params","isGround","_passParameters","N","_addHighlight","_removeHighlight","canRender","layerUid","_slicePlaneEnabled","_techniqueConfig","_nodes","hasHighlights","_techniqueRepository","techniqueRepository","requestRender","perScreenPixelRatio","I","near","E","te","Array","forAll","q","Q","dist","K","A","coordinates","point","X","normal","node","options","store","createGraphic","T","se","results","min","max","all","vao","_initNode","bindParameters","_clippingEnabled","releaseAndAcquire","_technique","bindTechnique","highlights","bindDraw","bindVAO","_renderHighlightFragments","drawArrays","V","component","_requestRender","nodeAdded","filterInPlace","nodeRemoved","removeAll","clear","Z","$","filter","ee","D","W","rgb","Y","pointIdFilterMap","Math","screenMinSize","ye","be","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_nodeScales","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","parsedUrl","path","pointsPerInch","J","outFields","fieldsIndex","from","clippingArea","renderSpatialReference","ae","elevationInfo","mode","spatialReference","unit","offset","resourceController","_worker","immediate","schedule","promise","_tmpPoint","_indexRequester","createStreamDataRequester","de","_dataRequester","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","updatingHandles","_clippingBox","_setUpdateViewNeeded","_elevationOffset","_elevationOffsetChanged","_rendererChanged","_reload","state","contentCamera","basemapTerrain","on","_scaleUpdateHandler","memoryFactor","when","scheduler","registerTask","ge","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","_updateLoading","cancelLoading","_destroyRenderer","re","_createGraphic","_setPointsVisible","pointScale","sqrt","pointSize","inverseDensity","qualitySettings","sceneService","pointCloud","lodFactor","computeMapPointFromVec3d","_createGraphicAttributes","ie","pointCloudMetadata","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","ue","removeRenderPlugin","ce","extent","Pe","has","scale","sort","getRenderCenter","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","abortController","cancelAll","_removeFromRenderer","running","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","runTask","shift","_loadNodePage","then","addPage","done","_scheduleWorkEntry","_processWorkEntry","madeProgress","find","Promise","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","catch","domain","includes","queryCachedStatistics","ok","labels","isArray","codedValues","label","_populateClassCodeCodedDomain","_splitGraphicsPerNode","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","_loadAttribute","vertexCount","defaultGeometrySchema","_loadGeometry","toArray","highlight","_graphicToPointDefinition","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","createVisibilityTraverse","baseUrl","_requestNodePage","pointCount","lodThreshold","effectiveArea","_getLodMemoryFactor","_computeNodesForMinimumDensity","_computePointCount","_displayNodes","eye","_e","_getScale","me","_computeAveragePixelArea","getScale","le","_loadNodeAsync","declaredClass","error","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","elevationOffset","inSR","outSR","invoke","_requestData","key","token","apiKey","request","query","removeNode","put","Ne","addNode","hasOwnProperty","halfSize","warn","setRenderObb","oe","points","xe","reduce","getUsedMemory","displayedNumberOfFeatures","maximumNumberOfFeatures","totalNumberOfFeatures","core","visibleNodes","ne","pe","readOnly","Boolean","he","we","colorUniqueValueInfos","Uint8Array","fieldTransformType","color","stops","colorClassBreakInfos","minValue","maxValue","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","Float64Array","result","requiredSetBits","requiredClearBits","includedReturns","abs","popupEnabled","_validateFetchPopupFeatures","clientGraphics","associatedLayer","prepareFetchPopupFeatures","whenGraphicAttributes","concat","parent","title","canResume","getSuspendInfo","legendEnabled","updating","isUpdating","visible","_overrideIfSome","loaded","ready","suspendInfo","viewNotReady","layerNotLoaded","layerInvisible","popupTemplate","getRequiredFields","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}