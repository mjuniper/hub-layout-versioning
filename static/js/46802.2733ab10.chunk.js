"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[46802],{46802:function(e,t,n){n.r(t),n.d(t,{arcgis_hub_license_picker_modal:function(){return h}});var i=n(74165),c=n(15861),r=n(15671),a=n(43144),o=n(5692),s=n(54825),l=n(61691),u=n(13129),C=n(59514),b=(n(7597),"arcgis-hub-license-picker-modal"),m="\n    ".concat(b," {\n      --calcite-font-size--1: 1rem;\n      --calcite-font-size--2: 1rem;\n    }\n\n    ").concat(b,' calcite-modal [slot="content"] {\n      height: 50vh;\n    }\n\n    ').concat(b," calcite-modal calcite-tabs {\n      min-height: 100%\n    }\n\n    ").concat(b," calcite-modal calcite-tab {\n      height: auto;\n    }\n\n    ").concat(b," calcite-modal .action-buttons {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    ").concat(b," calcite-modal .action-buttons > calcite-button {\n      width: 45%;\n    }\n\n    ").concat(b," calcite-modal .custom-editor {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    ").concat(b," calcite-modal arcgis-hub-rich-text {\n      flex-grow: 1;\n    }\n\n    ").concat(b," calcite-modal .ck.ck-editor {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    ").concat(b," calcite-modal .ck.ck-editor__main {\n      flex-grow: 1;\n    }\n\n    ").concat(b," calcite-modal .ck.ck-editor__editable {\n      height: 100%;\n      min-height: 12rem;\n    }\n\n    @media screen and (max-width: 816px) {\n      ").concat(b,' calcite-modal [slot="content"] {\n        height: 100%;\n      }\n    }\n\n    @media screen and (max-width: 480px) {\n      ').concat(b," calcite-modal .action-buttons > calcite-button {\n        width: 50%;\n      }\n    }\n  "),h=function(){function e(t){(0,r.Z)(this,e),(0,o.r)(this,t),this.arcgisHubLicensePickerModalApply=(0,o.c)(this,"arcgisHubLicensePickerModalApply",7),this.arcgisHubLicensePickerModalCancel=(0,o.c)(this,"arcgisHubLicensePickerModalCancel",7),this.modalIsOpen=!1,this.licenseChoiceAbbrs=["CC0","CC BY","CC BY-SA","CC BY-ND","CC BY-NC","CC BY-NC-SA","CC BY-NC-ND","PDDL","ODbL","ODC BY"],(0,s.b)(this,"handleApply","handleCancel","handleLicenseSelection","handleOpenLink","handleTextChange","setRichTextEditor")}return(0,a.Z)(e,[{key:"structuredLicense",get:function(){return(0,C.g)(this.licenseInfo)}},{key:"componentWillLoad",value:function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent,this.licenseChoices=(0,l.c)(this.licenseChoiceAbbrs);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLicenseSelection",value:function(e){var t=e.detail;if(t.size){var n=t.keys().next().value,i=this.licenseChoices.find((function(e){return e.abbr===n}));this.licenseInfo=i.abbr||""}}},{key:"handleTextChange",value:function(e){this.licenseInfo=e.target.value}},{key:"handleApply",value:function(){this.wasCustomLicense&&!(0,l.i)(this.structuredLicense.type)&&!confirm(this.intl.t("overwriteWarning"))||this.arcgisHubLicensePickerModalApply.emit(this.licenseInfo)}},{key:"handleCancel",value:function(){this.arcgisHubLicensePickerModalCancel.emit()}},{key:"handleOpenLink",value:function(e){window.open(e.target.dataset.url)}},{key:"setRichTextEditor",value:function(e){this.richTextEditor=e}},{key:"render",value:function(){var e=this;return(0,o.h)(o.H,{"data-element":"license-picker-modal"},(0,o.h)("style",null,m),(0,o.h)("calcite-modal",{"aria-labelledby":"license-picker-modal",open:this.modalIsOpen},(0,o.h)("h3",{class:"license-picker-modal-title",slot:"header"},this.intl.t("title")),(0,o.h)("div",{slot:"content"},(0,o.h)("calcite-tabs",{layout:"center",scale:"m"},(0,o.h)("calcite-tab-nav",{slot:"tab-nav"},(0,o.h)("calcite-tab-title",{active:!0},this.intl.t("chooseTabTitle")),(0,o.h)("calcite-tab-title",null,this.intl.t("editTabTitle"))),(0,o.h)("calcite-tab",{active:!0},(0,o.h)("calcite-label",{class:"choose-picker-label",for:"license-picker"},this.intl.t("chooseTabPickerLabel")),(0,o.h)("calcite-notice",{active:this.wasCustomLicense,color:"yellow"},(0,o.h)("div",{slot:"title"},this.intl.t("overwriteCustomLicenseTitle")),(0,o.h)("div",{slot:"link"},this.intl.t("overwriteCustomLicenseLinkMessage",{a:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.h)("a",{href:"https://doc.arcgis.com/en/hub/content/add-and-manage-groups.htm#ESRI_SECTION1_879A381A9C8C42D59018947CB2509CB2"},t)}}))),(0,o.h)("calcite-value-list",{class:"license-picker"},this.licenseChoices.map((function(t){return(0,o.h)("calcite-value-list-item",{description:(0,l.g)(e.intl,t.type),key:t.type,label:t.abbr,selected:t.type===e.structuredLicense.type,value:t.abbr},(0,o.h)("calcite-action",{"aria-label":e.intl.t("licenseInfoButtonAriaLabel"),"aria-labelledby":t.abbr,"data-url":t.url,icon:"information",onClick:e.handleOpenLink,slot:"actions-end",text:""}))})))),(0,o.h)("calcite-tab",null,(0,o.h)("div",{class:"custom-editor"},(0,o.h)("calcite-notice",{active:this.wasStructuredLicense,color:"yellow"},(0,o.h)("div",{slot:"title"},this.intl.t("overwriteStructuredLicenseTitle")),(0,o.h)("div",{slot:"message"},this.intl.t("overwriteStructuredLicenseMessage")),(0,o.h)("div",{slot:"link"},this.intl.t("overwriteStructuredLicenseLinkMessage",{a:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.h)("a",{href:"https://doc.arcgis.com/en/hub/content/add-and-manage-groups.htm#ESRI_SECTION1_879A381A9C8C42D59018947CB2509CB2"},t)}}))),(0,o.h)("arcgis-hub-rich-text",{label:this.intl.t("editTabEditorLabel"),name:this.intl.t("editTabEditorLabel"),placeholder:this.intl.t("editTabEditorPlaceholder"),ref:this.setRichTextEditor,toolbar:"heading,|,bold,italic,link,|,undo,redo",value:this.licenseInfo,"wrapper-class":"arcgis-hub-license-editor"}))))),(0,o.h)("div",{class:"action-buttons",slot:"primary"},(0,o.h)("calcite-button",{appearance:"outline",class:"cancel-button",onClick:this.handleCancel},this.intl.t("cancelButton")),(0,o.h)("calcite-button",{appearance:"solid",class:"apply-button",onClick:this.handleApply},this.intl.t("applyButton")))))}},{key:"element",get:function(){return(0,o.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();h.style=""},54825:function(e,t,n){n.d(t,{b:function(){return i}});var i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){if("function"!==typeof e[t])throw new Error("Cannot bind context. ".concat(t," must be a function"));e[t]=e[t].bind(e)}))}},59514:function(e,t,n){n.d(t,{g:function(){return c}});var i=[{type:"CC0-1.0",abbr:"CC0",name:"Public Domain Dedication",url:"https://creativecommons.org/publicdomain/zero/1.0"},{type:"CC-BY-4.0",abbr:"CC BY",name:"Attribution 4.0 International",url:"https://creativecommons.org/licenses/by/4.0"},{type:"CC-BY-3.0",abbr:"CC BY 3.0",name:"Attribution 3.0 Unported",url:"https://creativecommons.org/licenses/by/3.0"},{type:"CC-BY-2.5",abbr:"CC BY 2.5",name:"Attribution 2.5 Generic",url:"https://creativecommons.org/licenses/by/2.5"},{type:"CC-BY-2.0",abbr:"CC BY 2.0",name:"Attribution 2.0 Generic",url:"https://creativecommons.org/licenses/by/2.0"},{type:"CC-BY-1.0",abbr:"CC BY 1.0",name:"Attribution 1.0 Generic",url:"https://creativecommons.org/licenses/by/1.0"},{type:"CC-BY-SA-4.0",abbr:"CC BY-SA",name:"Attribution-ShareAlike 4.0 International",url:"https://creativecommons.org/licenses/by-sa/4.0"},{type:"CC-BY-SA-3.0",abbr:"CC BY-SA 3.0",name:"Attribution-ShareAlike 3.0 Unported",url:"https://creativecommons.org/licenses/by-sa/3.0"},{type:"CC-BY-SA-2.5",abbr:"CC BY-SA 2.5",name:"Attribution-ShareAlike 2.5 Generic",url:"https://creativecommons.org/licenses/by-sa/2.5"},{type:"CC-BY-SA-2.0",abbr:"CC BY-SA 2.0",name:"Attribution-ShareAlike 2.0 Generic",url:"https://creativecommons.org/licenses/by-sa/2.0"},{type:"CC-BY-SA-1.0",abbr:"CC BY-SA 1.0",name:"Attribution-ShareAlike 1.0 Generic",url:"https://creativecommons.org/licenses/by-sa/1.0"},{type:"CC-BY-ND-4.0",abbr:"CC BY-ND",name:"Attribution-NoDerivatives 4.0 International",url:"https://creativecommons.org/licenses/by-nd/4.0"},{type:"CC-BY-ND-3.0",abbr:"CC BY-ND 3.0",name:"Attribution-NoDerivs 3.0 Unported",url:"https://creativecommons.org/licenses/by-nd/3.0"},{type:"CC-BY-ND-2.5",abbr:"CC BY-ND 2.5",name:"Attribution-NoDerivs 2.5 Generic",url:"https://creativecommons.org/licenses/by-nd/2.5"},{type:"CC-BY-ND-2.0",abbr:"CC BY-ND 2.0",name:"Attribution-NoDerivs 2.0 Generic",url:"https://creativecommons.org/licenses/by-nd/2.0"},{type:"CC-BY-ND-1.0",abbr:"CC BY-ND 1.0",name:"Attribution-NoDerivs 1.0 Generic",url:"https://creativecommons.org/licenses/by-nd/1.0"},{type:"CC-BY-NC-4.0",abbr:"CC BY-NC",name:"Attribution-NonCommercial 4.0 International",url:"https://creativecommons.org/licenses/by-nc/4.0"},{type:"CC-BY-NC-3.0",abbr:"CC BY-NC 3.0",name:"Attribution-NonCommercial 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc/3.0"},{type:"CC-BY-NC-2.5",abbr:"CC BY-NC 2.5",name:"Attribution-NonCommercial 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc/2.5"},{type:"CC-BY-NC-2.0",abbr:"CC BY-NC 2.0",name:"Attribution-NonCommercial 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc/2.0"},{type:"CC-BY-NC-1.0",abbr:"CC BY-NC 1.0",name:"Attribution-NonCommercial 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc/1.0"},{type:"CC-BY-NC-SA-4.0",abbr:"CC BY-NC-SA",name:"Attribution-NonCommercial-ShareAlike 4.0 International",url:"https://creativecommons.org/licenses/by-nc-sa/4.0"},{type:"CC-BY-NC-SA-3.0",abbr:"CC BY-NC-SA 3.0",name:"Attribution-NonCommercial-ShareAlike 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc-sa/3.0"},{type:"CC-BY-NC-SA-2.5",abbr:"CC BY-NC-SA 2.5",name:"Attribution-NonCommercial-ShareAlike 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/2.5"},{type:"CC-BY-NC-SA-2.0",abbr:"CC BY-NC-SA 2.0",name:"Attribution-NonCommercial-ShareAlike 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/2.0"},{type:"CC-BY-NC-SA-1.0",abbr:"CC BY-NC-SA 1.0",name:"Attribution-NonCommercial-ShareAlike 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc-sa/1.0"},{type:"CC-BY-NC-ND-4.0",abbr:"CC BY-NC-ND",name:"Attribution-NonCommercial-NoDerivatives 4.0 International",url:"https://creativecommons.org/licenses/by-nc-nd/4.0"},{type:"CC-BY-NC-ND-3.0",abbr:"CC BY-NC-ND 3.0",name:"Attribution-NonCommercial-NoDerivs 3.0 Unported",url:"https://creativecommons.org/licenses/by-nc-nd/3.0"},{type:"CC-BY-NC-ND-2.5",abbr:"CC BY-NC-ND 2.5",name:"Attribution-NonCommercial-NoDerivs 2.5 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/2.5"},{type:"CC-BY-NC-ND-2.0",abbr:"CC BY-NC-ND 2.0",name:"Attribution-NonCommercial-NoDerivs 2.0 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/2.0"},{type:"CC-BY-NC-ND-1.0",abbr:"CC BY-NC-ND 1.0",name:"Attribution-NonCommercial-NoDerivs 1.0 Generic",url:"https://creativecommons.org/licenses/by-nc-nd/1.0"},{type:"PDDL-1.0",abbr:"PDDL",name:"ODC Public Domain Dedication and License",url:"https://opendatacommons.org/licenses/pddl/summary"},{type:"ODbL-1.0",abbr:"ODbL",name:"ODC Open Database License",url:"https://opendatacommons.org/licenses/odbl/summary"},{type:"ODC-BY-1.0",abbr:"ODC BY",name:"ODC Attribution License",url:"https://opendatacommons.org/licenses/by/summary"}];function c(e){var t;t={type:(e=e||"")?"custom":"none",text:e};var n=!1,c=i.filter((function(t){return function(e,t){return e=e.toLowerCase(),e.includes(t.name.toLowerCase())||e.includes(t.url.toLowerCase())||e.includes(t.abbr.toLowerCase())}(e,t)}));if(c.length&&(n=!0,t=c.pop()),!n){var r;if(function(e){try{return!!new URL(e).protocol}catch(t){return!1}}(e))r=e;else if(function(e){return new RegExp(/^<a[\s]+(href\s?=\s?["'].*?["'])+([^>]?)>((?:.(?!\<\/a\>))*.)?<\/a>$|^<a[\s]+(href\s?=\s?["'].*?["'])+([^>]?)\/>/).test(e)}(e)){var a=new RegExp(/href\s?=\s?["'](.*?)["']/);r=e.match(a)[1]}r&&(t.url=r,t.text="")}return t.text||delete t.text,t}},61691:function(e,t,n){n.d(t,{a:function(){return l},c:function(){return a},g:function(){return o},i:function(){return s}});var i,c=n(59514);!function(e){e.Custom="custom",e.None="none"}(i||(i={}));var r={custom:"licenseDescriptionCustom",cc0:"licenseDescriptionCc0","cc-by":"licenseDescriptionCcBy","cc-by-sa":"licenseDescriptionCcBySa","cc-by-nd":"licenseDescriptionCcByNd","cc-by-nc":"licenseDescriptionCcByNc","cc-by-nc-sa":"licenseDescriptionCcByNcSa","cc-by-nc-nd":"licenseDescriptionCcByNcNd",pddl:"licenseDescriptionPddl",odbl:"licenseDescriptionOdbl","odc-by":"licenseDescriptionOdcBy"};function a(e){return e.map((function(e){return(0,c.g)(e)}))}function o(e,t){var n=function(e){var t=e.toString().match(/(?:(?!-\d).)+/),n=t&&t[0].toLowerCase();return r[n]||null}(t);return n&&e.t(n)}function s(e){return e===i.Custom}function l(e){return Object.values(i).includes(e)}}}]);
//# sourceMappingURL=46802.2733ab10.chunk.js.map