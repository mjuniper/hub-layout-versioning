"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[719],{719:function(t,e,n){n.r(e),n.d(e,{arcgis_hub_dataset_field_list:function(){return h}});var i=n(74165),a=n(15861),r=n(29439),l=n(15671),s=n(43144),u=n(72585),o=n(20399),d=n(51274),h=(n(94062),n(21010),n(49799),n(77843),n(34601),n(69207),n(80046),n(9882),n(41817),n(88968),n(73948),n(25831),n(18436),n(79399),n(46825),function(){function t(e){(0,l.Z)(this,t),(0,u.r)(this,e),this.entityId=null,this.entity={},this.sort=null,this.fields=[],this.useLayers=!1}return(0,s.Z)(t,[{key:"componentWillLoad",value:function(){this.entityId&&this.fetchEntity(this.entityId)}},{key:"entityIdUpdated",value:function(t){t&&this.fetchEntity(t)}},{key:"getMetadataAttributes",value:function(t){return(0,o.g)(t,"metadata.metadata.eainfo.detailed.attr",[]).map((function(t){return{label:t.attrdef,name:t.attrlabl,source:t.attrdefs,format:t.attrtype}}))}},{key:"getLayerAttributes",value:function(t){return(0,o.g)(t,"layer.fields",[]).map((function(t){return{label:t.alias,name:t.name,source:"layer",format:t.type}}))}},{key:"getFields",value:function(t){var e;if(this.useLayers||(e=this.getMetadataAttributes(t)),e&&0!==e.length||(e=this.getLayerAttributes(t)),this.sort){var n=this.sort.split(" "),i=(0,r.Z)(n,2),a=i[0],l=i[1];e=e.sort((function(t,e){return console.log("compare: ",[t[a],e[a]]),t[a]<e[a]?-1:1})),console.log("Sort",[a,l,e])}return e}},{key:"fetchEntity",value:function(){var t=(0,a.Z)((0,i.Z)().mark((function t(e){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.f)(e);case 2:this.entity=t.sent,this.fields=this.getFields(this.entity),console.log("ArcGISHubMetadataList: fetchEntity",[this.entity.title,this.entity,null===(n=this.entity.metadata)||void 0===n?void 0:n.metadata.eainfo.detailed.attr]);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return(0,u.h)(u.H,{"data-element":"dataset-field-list"},(0,u.h)("slot",null),(0,u.h)("table",null,(0,u.h)("thead",null,(0,u.h)("td",null,"Field Name"),(0,u.h)("td",null,"Field Label"),(0,u.h)("td",null,"Source"),(0,u.h)("td",null,"Format")),this.fields.map((function(t){return(0,u.h)("tr",{key:t.name},(0,u.h)("td",null,t.name),(0,u.h)("td",null,t.label),(0,u.h)("td",null,t.source),(0,u.h)("td",null,t.format))}))))}}],[{key:"watchers",get:function(){return{entityId:["entityIdUpdated"]}}}]),t}());h.style=":host{display:block;border:thin solid #DDD;margin:0.5rem 0}tr:nth-child(even){background-color:#f3f3f3}th,td{padding:0.8rem 1rem}tbody tr.active-row{font-weight:bold;color:#009879}"}}]);
//# sourceMappingURL=719.c5246bd4.chunk.js.map