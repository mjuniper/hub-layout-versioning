{"version":3,"file":"static/js/69229.297d1377.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new c,{vertex:h,fragment:b}=w;return l(h,f),w.include(a,f),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\"),h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{Attribute as r}from\"../../webgl-engine/lib/Attribute.js\";import{newDoubleArray as i}from\"../../webgl-engine/lib/DoubleArray.js\";import{newFloatArray as o}from\"../../webgl-engine/lib/FloatArray.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as l}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function h(n,r,i){const o=t(n)/e(n),m={width:i,height:i};return o>1.0001?m.height=i/o:o<.9999&&(m.width=i*o),m.width=Math.round(m.width/(t(n)/t(r))),m.height=Math.round(m.height/(e(n)/e(r))),m}function w(t,e){return l(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function a(t,e,l){if(!n(e,l))return w(t,l);const h=[e[1]-l[1],Math.min(e[3],l[3])-Math.max(e[1],l[1]),l[3]-e[3],123456],a=[e[0]-l[0],Math.min(e[2],l[2])-Math.max(e[0],l[0]),l[2]-e[2],123456],u=l[2]-l[0],f=l[3]-l[1],s=a[0]>0&&a[2]>0?3:2,c=h[0]>0&&h[2]>0?3:2,p=(c+1)*(s+1),A=i(3*p),M=o(2*p),d=new Array(6*(c*s-1));let j=0,y=0,O=0,x=0,I=0;for(let n=0;n<4;n++){const t=h[n];if(t<=0)continue;let e=0;for(let r=0;r<4;r++){const t=a[r];t<=0||(A[y++]=l[0]+e,A[y++]=l[1]+j,A[y++]=-1,M[O++]=e/u,M[O++]=j/f,r<3&&n<3&&(1!==r||1!==n)&&(d[I++]=x,d[I++]=x+1,d[I++]=x+s+1,d[I++]=x+1,d[I++]=x+s+2,d[I++]=x+s+1),x++,e+=t)}j+=t}const N=new Array(d.length);return new m(t,[[g.POSITION,new r(A,3,!0)],[g.NORMAL,new r(b,3,!0)],[g.UV0,new r(M,2,!0)]],[[g.POSITION,d],[g.NORMAL,N],[g.UV0,d]])}const b=[0,0,1];export{h as computeImageExportSize,w as createGeometryForExtent,a as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as i}from\"../../../core/asyncUtils.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import a from\"../../../core/Logger.js\";import{isNone as s,abortMaybe as n,isSome as o}from\"../../../core/maybe.js\";import{debounce as l,isAbortError as h,eachAlways as m,onAbort as d,isAborted as c,createAbortError as g,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{whenOnce as p}from\"../../../core/reactiveUtils.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import _ from\"../../../geometry/Extent.js\";import{equals as w,create as x,width as R,height as v,copy as S,intersection as b}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as E}from\"./interfaces.js\";import{LayerView3D as j}from\"./LayerView3D.js\";import{computeImageExportSize as I,createGeometryForExtent as A,createOuterImageGeometry as C}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as D}from\"./support/projectExtentUtils.js\";import L from\"../support/debugFlags.js\";import{OverlayIndex as M}from\"../terrain/interfaces.js\";import{DirtyOperation as T}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as G}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as P}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as O}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as U}from\"../webgl-engine/materials/ImageMaterial.js\";import H from\"../../layers/LayerView.js\";import N from\"../../layers/RefreshableLayerView.js\";import{isScaleRangeActive as V}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as z}from\"../../webgl/enums.js\";let F=class extends(N(j(H))){constructor(){super(...arguments),this.drapeSourceType=E.RasterImage,this.updatePolicy=O.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=l((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{h(e)||a.getLogger(this.declaredClass).error(e)}))}),2e3)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.handles.add(r((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(D(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this.updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler())),this.handles.add(this.view.resourceController.scheduler.registerIdleStateCallbacks((()=>{this._isScaleRangeActive()&&this.notifyChange(\"suspended\")}),(()=>{}))),this._isScaleRangeLayer()&&this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.notifyChange(\"suspended\")))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach((e=>{this._overlays[e.index]=e,this._updateImageExtent(e)}))}_updateImageExtent(e){const t=this._clippedExtent(e.extent,W);if(s(t))return;const i=I(e.extent,t,e.resolution);let r=e.pixelRatio*this.view.state.pixelRatio;const{layer:n}=this;if(\"imageMaxWidth\"in n&&null!=n.imageMaxWidth||\"imageMaxHeight\"in n&&null!=n.imageMaxHeight){const e=n.imageMaxWidth,t=n.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,r*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,r*=e}}const o=this._extents[e.index];o&&w(o.extent,t)&&this._imageSizeEquals(t,o.imageSize,i)||(this._extents[e.index]={extent:x(t),imageSize:i,pixelRatio:r},this.suspended||this._fetch(e.index).catch((e=>{h(e)||a.getLogger(this.declaredClass).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let i=0;i<this._extents.length;i++)this._extents[i]&&t.push(this._fetch(i,e));await m(t)}canResume(){if(!super.canResume())return!1;const e=this.layer;if(this._isScaleRangeActive()){const{minScale:t,maxScale:i}=e.effectiveScaleRange,r=this.view.scale;if(r<i||t>0&&r>t)return!1}return!0}isUpdating(){return this._images.some((e=>!!e.loadingPromise))}async processResult(e,t,i){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const i=t.extent;if(new _(i[0],i[1],i[2],i[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,i){await t(this._images,(async(t,r)=>{t&&(await e(t,i),await this._createStageObjects(r,t.image,i))}))}_imageSizeEquals(e,t,i){if(!this.maximumDataResolution)return!1;const r=R(e)/this.maximumDataResolution.x,a=v(e)/this.maximumDataResolution.y,s=r/t.width,n=a/t.height,o=r/i.width,l=a/i.height,h=Math.abs(s-o),m=Math.abs(n-l),d=L.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const i=this._extents[e],r=i.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:x(r)});const s=this._images[e];s.loadingAbortController=n(s.loadingAbortController);const o=new _(r[0],r[1],r[2],r[3],this._spatialReference);if(0===o.width||0===o.height)return void this._clearImage(e);const l=new AbortController;s.loadingAbortController=l,d(t,(()=>l.abort()));const m=l.signal,u=this._waitFetchReady(m).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:m},{height:r,width:a}=i.imageSize;return this.layer.fetchImage(o,a,r,t)})).then((e=>{if(c(m))throw a.getLogger(this.declaredClass).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),g();return this.processResult(s,e)})).then((()=>{S(s.renderExtent,r)})).finally((()=>{u===s.loadingPromise&&(s.loadingPromise=null,s.loadingAbortController=null)}));s.loadingPromise=u,this.notifyChange(\"updating\"),await u.then((async()=>{if(m.aborted)throw g();await this._createStageObjects(e,s.image,m),this.notifyChange(\"updating\")})).catch((e=>{throw e&&!h(e)&&a.getLogger(this.declaredClass).error(e),this.notifyChange(\"updating\"),e}))}_clearImage(e){const t=this._images[e];if(t){o(t.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],T.UPDATE),t.renderGeometry=null);const e=this.view._stage;e.remove(t.texture),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=n(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,r){const a=this.view._stage,n=this._images[e],l=()=>{a.remove(n.texture),n.texture=null,o(n.renderGeometry)&&(this._drapeSourceRenderer.removeGeometries([n.renderGeometry],T.UPDATE),n.renderGeometry=null)};if(t){const o=new P(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:z.CLAMP_TO_EDGE,t:z.CLAMP_TO_EDGE}});let h;if(await i(this._images[e===M.INNER?M.OUTER:M.INNER].loadingPromise),u(r),l(),a.add(o),await a.loadImmediate(o),n.texture=o,s(n.material)?(n.material=new U({transparent:!0,textureId:o.id}),a.add(n.material)):n.material.setParameters({textureId:o.id}),e===M.INNER)h=A(n.material,n.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void l();h=C(n.material,e,n.renderExtent)}n.renderGeometry=new G(h),n.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([n.renderGeometry],T.UPDATE)}else l(),a.remove(n.material),n.material=null}_isScaleRangeLayer(){return\"effectiveScaleRange\"in this.layer}_isScaleRangeActive(){const e=this.layer;if(!this._isScaleRangeLayer())return!1;const{minScale:t,maxScale:i}=e.effectiveScaleRange;return V(t,i)}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return S(t,e);const i=this.view.basemapTerrain;return i.ready?b(e,i.extent,t):S(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await p((()=>this.view.stationary),e),u(e)}};e([f()],F.prototype,\"layer\",void 0),e([f()],F.prototype,\"suspended\",void 0),e([f({readOnly:!0})],F.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([f()],F.prototype,\"updating\",void 0),F=e([y(\"esri.views.3d.layers.DynamicLayerView3D\")],F);const q=F,W=x();export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as t}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as a,rejectLayerError as l}from\"../../../geometry/support/heightModelInfoUtils.js\";const n=n=>{let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(e){super.postscript(e),a(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const e=new AbortController,o=e.signal;this.handles.add(s((()=>e.abort()))),await r((()=>this.view.defaultsFromMap?.heightModelInfoReady),o),t(o);const i=l(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!e||!e.minScale||!e.maxScale||e.minScale>=e.maxScale)}getSuspendInfo(){const e=super.getSuspendInfo(),s=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return s&&s.minScale&&s.maxScale&&s.minScale<s.maxScale&&(e.outsideScaleRange=!0),e}};return e([o()],c.prototype,\"view\",void 0),e([o()],c.prototype,\"slicePlaneEnabled\",void 0),c=e([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{n as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{project as o}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";function l(l){const s=l.view.spatialReference,i=l.layer.fullExtent,n=e(i)&&i.spatialReference;if(r(i)||!n)return Promise.resolve(null);if(n.equals(s))return Promise.resolve(i.clone());const a=o(i,s);return e(a)?Promise.resolve(a):l.view.state.isLocal?t(i,s,l.layer.portalItem).then((e=>!l.destroyed&&e?e:null)).catch((()=>null)):Promise.resolve(null)}export{l as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as l,oitDepthTest as p,oitDepthWrite as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as P,makePipelineState as j,cullingParams as O,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){return new h(e.rctx,_.shader.get().build(this.configuration),n)}_setPipelineState(e,r){const i=this.configuration,s=e===y.NONE,o=e===y.FrontFace;return j({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:l(e),culling:O(i.cullFace),depthTest:{func:p(e)},depthWrite:s?i.writeDepth?S:null:c(e),colorWrite:v,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:s||o?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const C=P(T.ONE,T.ONE_MINUS_SRC_ALPHA);class w extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=a.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:a.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:y.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as r}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as i}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as n}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as u}from\"./DefaultLayouts.js\";import{TriangleMaterial as o}from\"./TriangleMaterial.js\";import{ImageMaterialTechniqueConfiguration as h,ImageMaterialTechnique as l}from\"../shaders/ImageMaterialTechnique.js\";class c extends o{constructor(e){super(e,new m),this.supportsEdges=!0,this._configuration=new h}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<s,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}requiresSlot(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===i.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===i.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?i.TRANSPARENT_MATERIAL:i.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:i.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new p(e)}createBufferWriter(){return new n(u)}}class p extends r{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(l,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class m extends a{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{c as ImageMaterial,m as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{unwrapOr as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";let d=class extends(s(i(l(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return n(this.get(\"layer.opacity\"),1)*n(this.get(\"parent.fullOpacity\"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([a()],d.prototype,\"fullOpacity\",null),e([a()],d.prototype,\"layer\",void 0),e([a()],d.prototype,\"parent\",void 0),e([a({readOnly:!0})],d.prototype,\"suspended\",null),e([a({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([a({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([a({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([a({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([a()],d.prototype,\"visible\",null),e([a()],d.prototype,\"view\",void 0),d=e([p(\"esri.views.layers.LayerView\")],d);const u=d;export{u as default};\n"],"names":["f","w","c","h","vertex","b","fragment","l","include","a","attributes","add","v","varyings","hasMultipassTerrain","uniforms","n","o","e","texture","descriptor","textureCoordinateScaleFactor","r","code","p","i","t","u","g","opacity","output","s","d","transparencyPassType","m","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","Math","min","max","A","M","Array","j","y","O","x","I","N","length","F","arguments","drapeSourceType","E","updatePolicy","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","destroyed","_doRefresh","catch","declaredClass","error","this","view","basemapTerrain","overlayManager","registerGeometryDrapeSource","handles","unregisterDrapeSource","addResolvingPromise","D","then","_set","updatingHandles","suspended","_suspendedChangeHandler","resourceController","scheduler","registerIdleStateCallbacks","_isScaleRangeActive","notifyChange","_isScaleRangeLayer","layer","effectiveScaleRange","clear","_spatialReference","forEach","index","_updateImageExtent","_clippedExtent","extent","W","width","height","round","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","push","minScale","maxScale","scale","some","loadingPromise","HTMLImageElement","HTMLCanvasElement","image","_","contains","_createStageObjects","R","abs","L","material","renderGeometry","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","requestAsImageElement","getFetchOptions","fetchImage","warnOnce","processResult","S","finally","aborted","removeGeometries","T","_stage","remove","P","preMultiplyAlpha","wrap","z","loadImmediate","U","transparent","textureId","id","setParameters","C","G","localOrigin","renderLocalOrigin","addGeometries","V","viewingMode","ready","stationary","H","prototype","readOnly","q","slicePlaneEnabled","supportsHeightUnitConversion","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","outsideScaleRange","spatialReference","fullExtent","Promise","resolve","equals","clone","isLocal","portalItem","rctx","shader","get","configuration","blending","culling","cullFace","depthTest","func","depthWrite","writeDepth","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","_setPipelineState","hasSlicePlane","cullAboveGround","count","supportsEdges","_configuration","parameters","camera","relativeElevation","multipassTerrain","enabled","updateTexture","_material","textureBindParameters","ensureTechnique","_updateParameters","_output","_updateOccludeeState","initTextureTransparent","parent","when","name","title","canResume","getSuspendInfo","legendEnabled","updating","isUpdating","visible","set","_overrideIfSome","loaded","suspendInfo","viewNotReady","layerNotLoaded","layerInvisible","type","Boolean"],"sourceRoot":""}