"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[1448],{62230:function(e,t,i){i.d(t,{l:function(){return o}});var r=i(10625),s=i(19545),a=(0,r.c)((function(e,t){r.a,function(e){var t={Promise:"undefined"!==typeof window?window.Promise:void 0},i="4.25",r="next";function s(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function a(e){return void 0===e&&(e=i),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=i);var t=a(e),n=s(e);if(n!==r&&3===n.major){var o=n.minor<=10?"js/":"";return"".concat(t).concat(o,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function h(e){return!e||s(e)?n(e):e}function l(e,t){var i=h(e),r=u(i);return r||c(r=o(i),t),r}var d={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function f(e,t,i){var r;i&&(r=v(e,i));var s=function i(){t(e),e.removeEventListener("load",i,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",s,!1)}function v(e,t){var i=function i(r){t(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}function y(e){void 0===e&&(e={}),d=e}function g(){return document.querySelector("script[data-esri-loader]")}function m(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var i={};[d,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}));var r=i.version,s=i.url||a(r);return new t.Promise((function(e,t){var a=g();if(a){var n=a.getAttribute("src");n!==s?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):m()?e(a):f(a,e,t)}else if(m())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=i.css;o&&l(!0===o?r:o,i.insertCssBefore),f(a=p(s),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),t),document.body.appendChild(a)}}))}function b(e){return new t.Promise((function(t,i){var r=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.remove(),t(e)}))}))}function G(e,t){if(void 0===t&&(t={}),m())return b(e);var i=g(),r=i&&i.getAttribute("src");return!t.url&&r&&(t.url=r),w(t).then((function(){return b(e)}))}e.utils=t,e.loadModules=G,e.getScript=g,e.isLoaded=m,e.loadScript=w,e.setDefaultOptions=y,e.loadCss=l,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),n={themeOrUrl:"light"},o=function(){var e=document.querySelector('link[rel="stylesheet"][href*="/esri/themes"]');if(e){new RegExp(s.i8).test(e.href)||console.warn("Your ArcGIS API for JavaScript StyleSheet file should match the current hub-components version: ".concat(s.i8,"."))}else{var t=n.themeOrUrl,i=n.insertBefore,r=["light","dark"].includes(t)?"https://js.arcgis.com/".concat(s.i8,"/esri/themes/").concat(t,"/main.css"):t;a.loadCss(r,i)}}},70361:function(e,t,i){i.r(t),i.d(t,{arcgis_hub_discussions_map_integrator:function(){return E}});var r,s=i(37762),a=i(29439),n=i(15671),o=i(43144),c=i(74165),u=i(15861),h=i(93433),l=i(72585),d=i(32836),p=i(29315),f=i(2170),v=i(98410),y=i(88752),g=i(12868),m=i(85621),w=i(93655),b=i(8537),G=i(81753),k=i(53866),I=i(52639),R=i(66978),x=i(62230);i(9882),i(77843),i(84354),i(80046),i(41817),i(46825),i(51274),i(94062),i(21010),i(49799),i(34601),i(69207),i(88968),i(73948),i(25831),i(18436),i(79399),i(21923),i(84371),i(10625),i(19545);!function(e){e.ACTIVE="active",e.HOVER="hover",e.DEFAULT="default"}(r||(r={}));var D=[115,96,167],C={point:{color:D},polyline:{color:D,width:2},polygon:{color:D,width:2},callout:{backgroundColor:[255,255,255],textColor:[0,0,0],hoverColor:[169,169,169],activeColor:[39,129,153],width:2,isOffset:!1}},F={callout:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.callout,i=arguments.length>2?arguments[2]:void 0,s=t.backgroundColor,a=t.textColor,n=t.hoverColor,o=t.activeColor,c=t.width,u=t.isOffset,l=t.is3D,d=i+1,p=[255,255,255];return e===r.HOVER?p=n:e===r.ACTIVE&&(p=o),{type:"cim",data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,size:30,frame:{xmin:-4,ymin:-4,xmax:4,ymax:4},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:u?4.5:4,y:u?l?9:11:4},symbol:{type:"CIMTextSymbol",fontFamilyName:"Arial",fontStyleName:"Bold",height:3.25,horizontalAlignment:"Center",symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[].concat((0,h.Z)(a),[255])}]},verticalAlignment:"Center"},textString:d>99?"99+":"".concat(d)}],scaleSymbolsProportionally:!0},{type:"CIMVectorMarker",enable:!0,size:30,frame:{xmin:u?-5:-4,ymin:u?l?-9:-11:-4,xmax:u?3:4,ymax:u?l?-1:-3:4},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[0,0],[4,0],[4.35,.02],[4.69,.06],[5.04,.14],[5.37,.24],[5.69,.37],[6,.54],[6.29,.72],[6.57,.94],[6.83,1.17],[7.06,1.43],[7.28,1.71],[7.46,2],[7.63,2.31],[7.76,2.63],[7.86,2.96],[7.94,3.31],[7.98,3.65],[8,4],[7.98,4.35],[7.94,4.69],[7.86,5.04],[7.76,5.37],[7.63,5.69],[7.46,6],[7.28,6.29],[7.06,6.57],[6.83,6.83],[6.57,7.06],[6.29,7.28],[6,7.46],[5.69,7.63],[5.37,7.76],[5.04,7.86],[4.69,7.94],[4.35,7.98],[4,8],[3.65,7.98],[3.31,7.94],[2.96,7.86],[2.63,7.76],[2.31,7.63],[2,7.46],[1.71,7.28],[1.43,7.06],[1.17,6.83],[.94,6.57],[.72,6.29],[.54,6],[.37,5.69],[.24,5.37],[.14,5.04],[.06,4.69],[.02,4.35],[0,4],[0,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Round",joinStyle:"Round",lineStyle3D:"Strip",miterLimit:10,width:c,color:[].concat((0,h.Z)(p),[255])},{type:"CIMSolidFill",enable:!0,color:[].concat((0,h.Z)(s),[255])}]}}]}]}}}},point:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.point,t=e.color;return{type:"text",color:[].concat((0,h.Z)(t),[.9]),text:"\ue61d",font:{size:24,family:"CalciteWebCoreIcons"}}},polyline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.polyline,t=e.color,i=e.width;return{type:"simple-line",color:[].concat((0,h.Z)(t),[1]),width:i,style:"solid"}},polygon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C.polygon,t=e.color,i=e.width;return{type:"simple-fill",color:[].concat((0,h.Z)(t),[.15]),outline:{color:[].concat((0,h.Z)(t),[1]),width:i}}}},L={type:"Polygon",coordinates:[[[180,-90],[180,90],[-180,90],[-180,-90],[180,-90]]]},O=function(e){return new Promise((function(t){return setTimeout(t,e)}))},S=function(e,t,i,r,s){var a=Math.ceil(e/t);return a>r?(console.warn("Discussions requests exceeds desired threshold, throttling to ".concat(s,"ms per batch.")),s):i/a},H=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t,i){var r,s,a,n,o,l,d,f,v=arguments;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:10,s=!(v.length>3&&void 0!==v[3])||v[3],a=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var n,o,u,l,d,f,v,y,g,m,w,b,G;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.discussion,o=void 0===n?null:n,u=t.geometry,l=void 0===u?null:u,d=t.start,f=void 0===d?1:d,v=Object.assign(Object.assign(Object.assign({discussion:o},l&&{geometry:l}),{parents:[],sortBy:p.P.UPDATED_AT,sortOrder:p.S.DESC,start:f,num:r}),i),y=(0,p.b)(v),1!==f){e.next=26;break}return e.next=6,y;case 6:g=e.sent,m=g.total,w=f+r,b=[y],G=s?S(m,r,2500,10,250):0;case 11:if(!(w<=m)){e.next=25;break}return e.next=14,O(G);case 14:return e.t0=b.push,e.t1=b,e.t2=h.Z,e.next=19,a({discussion:o,geometry:l,start:w});case 19:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),w+=r,e.next=11;break;case 25:return e.abrupt("return",b);case 26:return e.abrupt("return",[y]);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=3,e.t0=Promise,e.t1=[],e.t2=h.Z,e.next=9,a({discussion:"".concat(t,"%?id=%")});case 9:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=h.Z,e.next=14,a({discussion:"".concat(t,"%"),geometry:JSON.stringify(L)});case 14:return e.t6=e.sent,e.t7=(0,e.t5)(e.t6),e.t8=e.t1.concat.call(e.t1,e.t4,e.t7),e.next=19,e.t0.all.call(e.t0,e.t8);case 19:return n=e.sent,o=function(e){var t=e.postDetails,i=e.replyDetails,r=e.channelDetails,s=i?i.post:t.post,a=i?t.postId:null,n=r.channelId;return Object.assign(Object.assign({},s),{channelId:n,parentId:a})},l=[],d=n.map((function(e){return e.items.map((function(e){return o(e)}))})).flat().filter((function(e){return!l.includes(e.id)&&(l.push(e.id),!0)})),e.abrupt("return",(0,p.p)(d));case 26:e.prev=26,e.t9=e.catch(3),f=e.t9.message,console.error("Could not fetch on-map discussions:",f);case 30:case"end":return e.stop()}}),e,null,[[3,26]])})));return function(t,i){return e.apply(this,arguments)}}(),Z=function(e,t,i,r){var s,a=arguments.length,n=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(a<3?s(n):a>3?s(t,i,n):s(t,i))||n);return a>3&&n&&Object.defineProperty(t,i,n),n},E=function(){function e(t){(0,n.Z)(this,e),(0,l.r)(this,t),this.arcgisHubMapPopoverOpen=(0,l.c)(this,"arcgisHubMapPopoverOpen",7),this.arcgisHubMapPopoverClear=(0,l.c)(this,"arcgisHubMapPopoverClear",7),this.hubTelemetry=(0,l.c)(this,"hubTelemetry",7),this.initialized=!1,this.cachedFeatures=[],this.unsavedExistingGeometry=[],this.cachedRelatedFeatureGeometry={},this.layerIds=[],this.persistAttribute="__persist__",this.theme={},this.preview=!0,(0,d.b)(this,"makeGraphic","makeCalloutGraphic","getRelatedFeature","setCalloutSymbolOnPointerMove","handleMapClickDiscussions","handleViewSizeChange","handleMapDrawSelect","addRelatedFeature","removeRelatedFeature","renderAddLocation","renderRemoveLocation","calculateOffsets")}return(0,o.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,u.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialize(),e.next=3,g.i.loadIntlForComponent(this.element);case 3:this.intl=e.sent,(0,x.l)();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){this.teardown()}},{key:"eventTargetIsDiscussionsRef",value:function(e){return e.target===this.discussionsRef||e.target===this.onMapDiscussionsRef||e.target===this.onMapDiscussionsPreviewRef}},{key:"emitHubTelemetry",value:function(e){this.hubTelemetry.emit(Object.assign(Object.assign({},e),{postId:this.sketchPostId,channelId:this.currentDiscussionsRef.channelId}))}},{key:"attachView",value:function(e,t){var i=this.initialized;e&&e!==t?(i&&this.teardown(),this.initialize()):!e&&i&&this.teardown()}},{key:"attachdiscussionsRef",value:function(e){var t=this.initialized;e&&!t&&this.initialize()}},{key:"handleDrawRefUpdate",value:function(){this.saveInitialDrawOptions()}},{key:"calculateOffsets",value:function(){var e=this.view,t=this.preview,i=this.graphicGeometry,r=this.isOffset,s=this.previewHeight,a=this.activeMapDiscussion;if(e&&a){var n=e.container.getBoundingClientRect(),o=n.top,c=n.left,u=n.right,h=e.toScreen(i),l=r?h.x+5:h.x,d=r?h.y-34:h.y;this.leftOffset=t?l+c:u,this.topOffset=t?d+o-s:o}}},{key:"handlePreviewDidLoad",value:function(e){var t=e.detail;this.previewHeight=0,this.previewHeight=t}},{key:"handlePreviewExpanded",value:function(){this.preview=!1}},{key:"handleGeometryGoTo",value:function(e){var t=e.detail,i=[].concat((0,h.Z)(this.geometryGraphicsLayer.graphics.toArray()),(0,h.Z)(this.calloutGraphicsLayer.graphics.toArray())),r=[];if(t){var s=t.postDetails.postId,a=t.replyDetails?t.replyDetails.postId:t.postDetails.postId;r=i.filter((function(e){var t=e.attributes,i=t.id,r=t.parentId;return i===a||s&&r===s}))}else{var n=this.activeMapDiscussion.locationId;r=i.filter((function(e){return e.attributes.relatedFeatureId===n}))}r.length&&this.goTo(r)}},{key:"handleGeometryFeature",value:function(e){var t=e.detail,i=t.post,r=t.create;this.unsavedExistingGeometry=[],this.cachedFeatures=this.cachedFeatures.filter((function(e){return e.properties.id!==i.id})),(0,p.d)(i)&&(this.cachedFeatures=[].concat((0,h.Z)(this.cachedFeatures),(0,h.Z)((0,p.d)(i))),r&&this.cachedFeatures.map((function(e){return e.properties.id===i.parentId&&("replyCount"in e.properties||(e.properties.replyCount=0),e.properties.replyCount+=1),e})),this.refreshFeatures(this.cachedFeatures),this.clearHoverActiveGraphics(!0))}},{key:"handleGeometryFeatureDeleted",value:function(e){var t=e.detail,i=t.id,r=t.parentId;this.cachedFeatures=this.cachedFeatures.filter((function(e){return e.properties.id!==i})).map((function(e){return e.properties.id===r&&(e.properties.replyCount-=1),e})),this.refreshFeatures(this.cachedFeatures),this.clearHoverActiveGraphics(!0)}},{key:"handleGeometryFeatureSelect",value:function(e){var t=e.detail.properties,i=t.id,s=t.relatedFeatureId,a=t.index;if(t.unsaved){var n=this.unsavedGeometryGraphicsLayer.graphics.getItemAt(a);s&&(n=this.makeGraphic(e.detail)),this.goTo(n)}else{var o=this.calloutGraphicsLayer.graphics.find((function(e){var t=e.attributes,r=t.relatedFeatureId,n=t.id,o=t.__index__;return s?s==r:n==i&&(null===o||a==o)}));if(o){this.addHighlightGraphic(o,r.ACTIVE,!1);var c=s?this.cachedRelatedFeatureGeometry[s].arcgis:this.getGraphicById(i,a);this.goTo(c)}}}},{key:"handleGeometryFeatureHighlight",value:function(e){var t=e.detail.properties,i=t.id,s=t.relatedFeatureId,a=t.index;if(t.unsaved)this.clearHoverActiveGraphics();else{var n=this.calloutGraphicsLayer.graphics.find((function(e){var t=e.attributes,r=t.relatedFeatureId,n=t.id,o=t.__index__;return s?s==r:n==i&&(null===o||a==o)}));n&&this.addHighlightGraphic(n,r.HOVER,!1)}}},{key:"handleFeatureRemove",value:function(e){var t=e.detail.properties,i=t.id,r=t.relatedFeatureId,s=t.index,a=t.unsaved,n=this.currentDiscussionsRef,o=n.unsavedFeatures,c=n.unsavedRelatedFeatures;if(a)if(r)this.currentDiscussionsRef.unsavedRelatedFeatures=[].concat((0,h.Z)(c.slice(0,s)),(0,h.Z)(c.slice(s+1,c.length)));else{this.currentDiscussionsRef.unsavedFeatures=[].concat((0,h.Z)(o.slice(0,s)),(0,h.Z)(o.slice(s+1,o.length)));var u=this.unsavedGeometryGraphicsLayer.graphics.getItemAt(s);this.unsavedGeometryGraphicsLayer.graphics.remove(u)}else{var l=function(e){var t=e.attributes,a=t.relatedFeatureId,n=t.id,o=t.__index__;return r?r==a:n==i&&(null===o||s==o)},d=this.calloutGraphicsLayer.graphics.find(l);d&&(d.visible=!1);var p=this.geometryGraphicsLayer.graphics.find(l);p&&(p.visible=!1)}this.clearHoverActiveGraphics(!0)}},{key:"handleGeometryDrawCreate",value:function(e){var t=e.detail;this.sketchPostId=t,this.drawRef.buffer=!1,this.drawRef.disablePrimaryOptions=!0,this.drawRef.disableEditOptions=!0}},{key:"handleGeometryDrawTypeSelect",value:function(e){this.drawRef.setActiveTool(e.detail)}},{key:"handleGeometryDrawEdit",value:function(e){var t=this.drawRef,i=e.detail.properties,r=i.id,s=i.index,a=i.unsaved,n=(a?this.unsavedGeometryGraphicsLayer.graphics.getItemAt(s):this.getGraphicById(r,s)).geometry;this.hideLayers(),this.goTo(n),this.sketchPostId=r,this.sketchIndex=s,this.sketchIsUnsaved=a,t.geometry=n,t.disablePrimaryOptions=!0,t.buffer=!1}},{key:"handleGeometryDrawEditCancel",value:function(){this.currentDiscussionsRef.unsavedFeatures=(0,h.Z)(this.currentDiscussionsRef.unsavedFeatures),this.drawRef.forceReset(),this.showLayers()}},{key:"handleDrawGraphicsChange",value:function(e){var t=this,i=e.detail,r=i.graphics,s=i.save,a=i.canceled,n=i.unsaved,o=this.sketchPostId,c=this.sketchIndex,u=this.sketchIsUnsaved,l=r.getItemAt(0);if(l.geometry=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3.5,r=t.resolution;return(0,f.generalize)(e,r*i,!1)}(l.geometry.clone(),this.view),s&&this.drawRef.disablePrimaryOptions){var d=(0,G.Sx)(l.geometry),v=(0,p.g)(d);if(u){var y=this.currentDiscussionsRef.unsavedFeatures.map((function(e,i){return i===t.sketchIndex&&(e.geometry=v),e}));this.currentDiscussionsRef.unsavedFeatures=y,this.unsavedGeometryGraphicsLayer.graphics.getItemAt(this.sketchIndex).geometry=l.geometry}else{var g=this.postToGeoJSON(v,{index:c,id:o});this.currentDiscussionsRef.unsavedExistingFeatures=[].concat((0,h.Z)(this.currentDiscussionsRef.unsavedExistingFeatures.filter((function(e){return e.properties.index!==c}))),[g]);var w=this.getGraphicById(o,c);this.unsavedExistingGeometry.filter((function(e){var t=e.id,i=e.index;return t===o&&i===c})).length||this.unsavedExistingGeometry.push({id:o,index:c,geometry:w.geometry.clone()}),w.geometry=l.geometry}this.drawRef.forceReset(),this.showLayers();var b=(0,p.k)(v);this.emitHubTelemetry(m.d.dictionary.category.content.action.update.label.location.details[b])}else if(a)this.currentDiscussionsRef.unsavedFeatures=(0,h.Z)(this.currentDiscussionsRef.unsavedFeatures),this.drawRef.forceReset(),this.showLayers();else if(n){this.drawRef.forceReset(),l.symbol=F[l.geometry.type](this.themeWithDefaults[l.geometry.type]),this.addGraphicsToGraphicsLayer(this.unsavedGeometryGraphicsLayer,[l]);var k=[];r.forEach((function(e){var i=(0,G.Sx)(e.geometry),r=(0,p.g)(i);k.push({type:"Feature",geometry:r,properties:{id:t.sketchPostId}});var s=(0,p.k)(r);t.emitHubTelemetry(m.d.dictionary.category.content.action.create.label.location.details[s])})),this.currentDiscussionsRef.unsavedFeatures=[].concat((0,h.Z)(this.currentDiscussionsRef.unsavedFeatures),k)}}},{key:"handleGeometryDrawReset",value:function(){this.currentDiscussionsRef.unsavedFeatures=(0,h.Z)(this.currentDiscussionsRef.unsavedFeatures),this.restoreInitialDrawOptions(),this.showLayers()}},{key:"handleGeometryClearAll",value:function(){this.resetStagedFeatures(),this.restoreInitialDrawOptions(),this.showLayers(),this.unsavedGeometryGraphicsLayer.graphics.removeAll();var e=function(e){e.visible=!0};this.geometryGraphicsLayer.graphics.forEach(e),this.calloutGraphicsLayer.graphics.forEach(e)}},{key:"addRelatedFeature",value:function(){var e=this.selectedGraphic.layer.objectIdField,t=this.selectedGraphic.attributes[e];this.selectedGraphic.geometry=(0,G.Sx)(this.selectedGraphic.geometry);var i={postId:this.sketchPostId,objectId:t,feature:(0,p.g)(this.selectedGraphic.toJSON())};this.currentDiscussionsRef.unsavedRelatedFeatures=[].concat((0,h.Z)(this.currentDiscussionsRef.unsavedRelatedFeatures),[i]),this.highlightGraphic(),this.arcgisHubMapPopoverClear.emit(),this.emitHubTelemetry(m.d.dictionary.category.interaction.action.select.label.content)}},{key:"removeRelatedFeature",value:function(){var e=this.currentDiscussionsRef.unsavedRelatedFeatures,t=this.selectedGraphic.layer.objectIdField,i=this.selectedGraphic.attributes[t],r=this.currentDiscussionsRef.unsavedRelatedFeatures.findIndex((function(e){return e.objectId==i}));this.currentDiscussionsRef.unsavedRelatedFeatures=[].concat((0,h.Z)(e.slice(0,r)),(0,h.Z)(e.slice(r+1,e.length))),this.arcgisHubMapPopoverClear.emit(),this.clearHighlights(),this.emitHubTelemetry(m.d.dictionary.category.interaction.action.deselect.label.content)}},{key:"renderAddLocation",value:function(){return(0,l.h)("calcite-action-pad",{"expand-disabled":!0,expanded:!0,layout:"horizontal"},(0,l.h)("calcite-action",{icon:"pin-plus",onClick:this.addRelatedFeature,text:this.intl.t("location.add"),textEnabled:!0}))}},{key:"renderRemoveLocation",value:function(){return(0,l.h)("calcite-action-pad",{"expand-disabled":!0,expanded:!0,layout:"horizontal"},(0,l.h)("calcite-action",{icon:"trash",onClick:this.removeRelatedFeature,text:this.intl.t("location.remove"),textEnabled:!0}))}},{key:"handleMapDrawSelect",value:function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var i,r,s,n,o,u,h,l,d,p,f,v,y;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.detail,r=this.targetLayer,e.next=4,this.view.hitTest(i,{include:r});case 4:if(s=e.sent,n=(0,a.Z)(s.results,1),!(null===(o=n[0])||void 0===o?void 0:o.graphic)||!this.drawRef.disableEditOptions){e.next=26;break}if(u=o.graphic,h=u.layer.objectIdField,l=u.attributes[h],u.attributes.hasOwnProperty(r.displayField)){e.next=18;break}return e.next=14,r.queryFeatures({objectIds:[l],outFields:["*"],returnGeometry:!1});case 14:d=e.sent,p=(0,a.Z)(d.features,1),(f=p[0])&&(u.attributes=f.attributes);case 18:v=this.currentDiscussionsRef.unsavedRelatedFeatures.map((function(e){return e.objectId})),y=this.renderAddLocation,v.includes(l)&&(y=this.renderRemoveLocation),this.selectedGraphic=u,this.arcgisHubMapPopoverOpen.emit({geometry:u.geometry,view:this.view,render:y}),this.highlightGraphic(u),e.next=28;break;case 26:this.selectedGraphic=null,this.highlightGraphic();case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDiscussionsClose",value:function(e){e.target!==this.onMapDiscussionsRef&&e.target!==this.onMapDiscussionsPreviewRef||(this.activeMapDiscussion=void 0,this.clearHoverActiveGraphics(!0))}},{key:"setDiscussionsRefHasMap",value:function(e){this.discussionsRef&&(this.discussionsRef.hasMap=e)}},{key:"initialize",value:function(){var e=(0,u.Z)((0,c.Z)().mark((function e(){var t,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.view,i=this.context,this.saveInitialDrawOptions(),!t||!i){e.next=25;break}return e.next=5,t.when();case 5:if(this.addGeometryGraphicsLayer(),this.addStagedGeometryGraphicsLayer(),this.addCalloutGraphicsLayer(),this.addHighlightGraphicsLayer(),this.fetchSubject(),this.fetchPosts(),this.handleViewSizeChange(),!this.cachedFeatures.length){e.next=21;break}return e.prev=13,e.next=16,this.refreshFeatures(this.cachedFeatures);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),console.warn("Cannot add discussions features to the map",e.t0.message);case 21:this.setDiscussionsRefHasMap(!0),this.mapViewSizeChangeHandler=(0,b.YP)(t,"size",this.handleViewSizeChange),this.mapViewCenterChangeHandler=(0,b.YP)(t,"center",this.calculateOffsets),this.initialized=!0;case 25:case"end":return e.stop()}}),e,this,[[13,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"teardown",value:function(){this.initialized=!1,this.clearHighlights(),this.removeViewHandlers(),this.removeLayers(),this.resetSelect(),this.setDiscussionsRefHasMap(!1)}},{key:"fetchSubject",value:function(){var e=this.discussion,t=this.context;(0,p.h)(Object.assign({discussion:e},t.hubRequestOptions))}},{key:"fetchPosts",value:function(){var e=this;H(this.discussion,this.context.hubRequestOptions).then((function(t){(null===t||void 0===t?void 0:t.features)&&(e.cachedFeatures=t.features,e.initialized&&e.refreshFeatures(t.features))}))}},{key:"addGeometryGraphicsLayer",value:function(){this.geometryGraphicsLayer=new w.Z({graphics:[],elevationInfo:{mode:"on-the-ground"}}),this.view.map.add(this.geometryGraphicsLayer),this.layerIds.push(this.geometryGraphicsLayer.id)}},{key:"addStagedGeometryGraphicsLayer",value:function(){this.unsavedGeometryGraphicsLayer=new w.Z({graphics:[],elevationInfo:{mode:"on-the-ground"}}),this.view.map.add(this.unsavedGeometryGraphicsLayer),this.layerIds.push(this.geometryGraphicsLayer.id)}},{key:"addCalloutGraphicsLayer",value:function(){this.calloutGraphicsLayer=new w.Z({graphics:[],effect:"drop-shadow(0px, 2px, 8px, rgba(0, 0, 0, .20))",elevationInfo:{mode:"relative-to-ground"}}),this.view.map.add(this.calloutGraphicsLayer),this.layerIds.push(this.calloutGraphicsLayer.id),this.mapPointerMoveHandler=this.view.on("pointer-move",this.setCalloutSymbolOnPointerMove),this.mapClickDiscussionsHandler=this.view.on("click",this.handleMapClickDiscussions)}},{key:"addHighlightGraphicsLayer",value:function(){this.highlightGraphicsLayer=new w.Z({graphics:[],elevationInfo:{mode:"relative-to-ground"}}),this.view.map.add(this.highlightGraphicsLayer),this.layerIds.push(this.highlightGraphicsLayer.id)}},{key:"addHighlightGraphic",value:function(e,t,i){var r,s,a=this.themeWithDefaults,n=this.highlightGraphicsLayer,o=this.persistAttribute,c=this.is3D,u=e.clone();u.symbol=F.callout(t,Object.assign(Object.assign({},a.callout),{isOffset:null===(r=null===e||void 0===e?void 0:e.attributes)||void 0===r?void 0:r.isOffset,is3D:c}),null===(s=u.attributes)||void 0===s?void 0:s.totalCount),u.attributes[o]=i,this.clearHoverActiveGraphics(i),n.add(u)}},{key:"setCalloutSymbolOnPointerMove",value:function(e){var t=this;this.view.hitTest(e,{include:this.calloutGraphicsLayer}).then((function(e){if(e.results.length){var i=(0,a.Z)(e.results,1)[0].graphic;t.addHighlightGraphic(i,r.HOVER,!1)}else t.clearHoverActiveGraphics(!1)}))}},{key:"removeLayers",value:function(){var e=this;[this.geometryGraphicsLayer,this.unsavedGeometryGraphicsLayer,this.calloutGraphicsLayer,this.highlightGraphicsLayer].forEach((function(t){return e.removeLayer(t)}))}},{key:"hideLayers",value:function(){[this.geometryGraphicsLayer,this.unsavedGeometryGraphicsLayer,this.calloutGraphicsLayer,this.highlightGraphicsLayer].forEach((function(e){return e.opacity=.1}))}},{key:"showLayers",value:function(){[this.geometryGraphicsLayer,this.unsavedGeometryGraphicsLayer,this.calloutGraphicsLayer,this.highlightGraphicsLayer].forEach((function(e){return e.opacity=1}))}},{key:"removeLayer",value:function(e){e&&e.destroy()}},{key:"emptyFeatures",value:function(){[this.geometryGraphicsLayer,this.unsavedGeometryGraphicsLayer,this.calloutGraphicsLayer].forEach((function(e){return e.removeAll()}))}},{key:"addGraphicsToGraphicsLayer",value:function(e,t){e.addMany(t)}},{key:"refreshFeatures",value:function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var i,r,a,n,o,u,l,d,f,v,y,g,m,w=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.emptyFeatures(),this.resetSelect(),t.forEach((function(e){var t;return e.properties.totalCount=null!==(t=e.properties.replyCount)&&void 0!==t?t:0})),i=function(e){var t=e.geometry;return Boolean(t)},r=t.map(this.makeGraphic).filter(i),a=t.map(this.makeCalloutGraphic).filter(i),n=function(e){var t=e.properties;return Boolean((0,p.i)(t.discussion).features)},o=t.filter(n),u=Array.from(new Set(o.map((function(e){var t=e.properties.discussion;return(0,p.i)(t).features.map((function(e){return e}))})).flat())),e.next=11,this.cacheRelatedFeatureGeometry(u);case 11:l=[],d=[],f=(0,s.Z)(o),e.prev=14,y=function(){var e=v.value;if(d.includes(e.properties.id))return"continue";d.push(e.properties.id);var t=e.properties,i=(0,p.i)(t.discussion).features;t.totalCount=0,i.forEach((function(i){var r,s=l.find((function(e){return e.properties.relatedFeatureId==i}));if(s){var a=s.properties,n=(null!==(r=t.totalCount)&&void 0!==r?r:0)+1;a.totalCount+=n}else try{var o=w.getRelatedFeature(i);o.properties=Object.assign(Object.assign({},e.properties),{relatedFeatureId:i}),l.push(o)}catch(c){console.warn("Failed to access post related feature:",c.message)}}))},f.s();case 17:if((v=f.n()).done){e.next=23;break}if("continue"!==y()){e.next=21;break}return e.abrupt("continue",21);case 21:e.next=17;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),f.e(e.t0);case 28:return e.prev=28,f.f(),e.finish(28);case 31:g=l.map(this.makeCalloutGraphic),m=[].concat((0,h.Z)(a),(0,h.Z)(g)),this.addGraphicsToGraphicsLayer(this.geometryGraphicsLayer,r),this.addGraphicsToGraphicsLayer(this.calloutGraphicsLayer,m);case 35:case"end":return e.stop()}}),e,this,[[14,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pointToExtent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.0025,i=e.x,r=e.y,s=e.spatialReference,a=new k.Z({xmin:i-t,ymin:r-t,xmax:i+t,ymax:r+t,spatialReference:s});return a}},{key:"goTo",value:function(e){if(this.view){var t=e;t.geometry&&"point"===t.geometry.type&&(t=this.pointToExtent(t.geometry)),t.extent&&(t=t.extent.clone().expand(2)),this.view.goTo({target:t},{duration:1e3,easing:"ease"}).catch((function(e){(0,R.D_)(e)||console.error("Failed to zoom map to target feature or extent:",e.message)}))}}},{key:"postToGeoJSON",value:function(e,t){return{type:"Feature",geometry:e,properties:t}}},{key:"makeGraphic",value:function(e){var t,i=(0,p.j)(e),r=I.Z.fromJSON(i);return(null===(t=null===r||void 0===r?void 0:r.geometry)||void 0===t?void 0:t.type)&&(r.symbol=F[r.geometry.type](this.themeWithDefaults[r.geometry.type])),r}},{key:"makeCalloutGraphic",value:function(e){var t,i=this.is3D,s=F.callout,n=e.geometry,o=e.properties,c=n.coordinates.flat(1/0),u=(0,a.Z)(c,2),h=u[0],l=u[1],d=!o.relatedFeatureId&&"Point"===e.geometry.type,f=(0,p.j)({type:"Feature",geometry:{type:"Point",coordinates:[h,l]},properties:Object.assign(Object.assign({},o),{replyCount:o.replyCount||0,isOffset:d})}),v=I.Z.fromJSON(f);return v.symbol=s(r.DEFAULT,Object.assign(Object.assign({},this.themeWithDefaults.callout),{isOffset:d,is3D:i}),null===(t=e.properties)||void 0===t?void 0:t.totalCount),v}},{key:"getRelatedFeature",value:function(e){return{type:"Feature",geometry:this.cachedRelatedFeatureGeometry[e].geojson,properties:{}}}},{key:"cacheRelatedFeatureGeometry",value:function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t){var i,r,s,a,n,o=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.cachedRelatedFeatureGeometry,this.targetLayer){e.next=4;break}return console.warn("Discussions service layer not defined; ingnoring related features"),e.abrupt("return");case 4:if(r=Object.keys(i),!(s=t.filter((function(e){return!r.includes("".concat(e))}))).length){e.next=13;break}return a={where:"1=1",objectIds:s.map((function(e){return+e})),returnGeometry:!0,outSpatialReference:{wkid:4326},outFields:[this.targetLayer.objectIdField,this.targetLayer.displayField]},e.next=10,this.targetLayer.queryFeatures(a);case 10:n=e.sent,n.features.forEach((function(e){var t=e.geometry,i=e.attributes,r=(0,p.g)(t);o.cachedRelatedFeatureGeometry[i[o.targetLayer.objectIdField]]={arcgis:t,geojson:r}}));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGraphicById",value:function(e,t){return this.geometryGraphicsLayer.graphics.find((function(i){var r=i.attributes,s=r.id,a=r.__index__;return s===e&&(null===t||t==a)}))}},{key:"highlightGraphic",value:function(e){var t=this;this.clearHighlights(),e&&(this.clearHighlights(),this.view.whenLayerView(e.layer).then((function(i){t.highlightHandle=i.highlight(e)})))}},{key:"clearHighlights",value:function(){this.highlightHandle&&(this.highlightHandle.remove(),this.highlightHandle=null)}},{key:"clearHoverActiveGraphics",value:function(e){var t=this.persistAttribute,i=this.highlightGraphicsLayer;if(e)i.removeAll();else{var r=i.graphics.filter((function(e){return!e.attributes[t]}));i.removeMany(r.toArray())}}},{key:"removeViewHandlers",value:function(){[this.mapPointerMoveHandler,this.mapClickDiscussionsHandler,this.mapViewSizeChangeHandler,this.mapViewCenterChangeHandler].forEach((function(e){e&&(e.remove(),e=null)}))}},{key:"resetSelect",value:function(){this.clearHighlights()}},{key:"saveInitialDrawOptions",value:function(){var e=this.drawRef,t=e.buffer,i=e.disableEditOptions,r=e.disablePrimaryOptions;this.initialDrawOptions={buffer:t,disableEditOptions:i,disablePrimaryOptions:r}}},{key:"restoreInitialDrawOptions",value:function(){var e=this.initialDrawOptions,t=e.buffer,i=e.disableEditOptions,r=e.disablePrimaryOptions;this.drawRef.buffer=t,this.drawRef.disableEditOptions=i,this.drawRef.disablePrimaryOptions=r,this.drawRef.setActiveTool(void 0),this.drawRef.forceReset()}},{key:"resetStagedFeatures",value:function(){var e=this;this.currentDiscussionsRef.unsavedFeatures=[],this.currentDiscussionsRef.unsavedRelatedFeatures=[],this.currentDiscussionsRef.unsavedExistingFeatures=[],this.unsavedExistingGeometry.forEach((function(t){var i=t.id,r=t.index,s=t.geometry;e.getGraphicById(i,r).geometry=s})),this.unsavedExistingGeometry=[]}},{key:"handleMapClickDiscussions",value:function(e){var t=this;this.view.hitTest(e,{include:[this.calloutGraphicsLayer]}).then((function(e){if(e.results.length){t.preview=!0;var i=(0,a.Z)(e.results,1)[0].graphic;t.graphicGeometry=i.geometry,t.isOffset=i.attributes.isOffset;var s=i.attributes,n=s.parentId,o=s.channelId,c=s.id,u=s.relatedFeatureId;if(u){var h=u;t.activeMapDiscussion={channelId:o,locationId:h}}else{var l=n||c,d=n?c:void 0;t.activeMapDiscussion={channelId:o,postId:l,replyId:d}}t.addHighlightGraphic(i,r.ACTIVE,!0)}}))}},{key:"handleViewSizeChange",value:function(){var e=this.view,t=e.height,i=e.width;this.viewHeight=t,this.viewWidth=i}},{key:"currentDiscussionsRef",get:function(){return this.activeMapDiscussion?this.onMapDiscussionsRef:this.discussionsRef}},{key:"themeWithDefaults",get:function(){var e=this.theme,t={};return["point","polyline","polygon","callout"].forEach((function(i){t[i]=Object.assign(Object.assign({},C[i]),e[i])})),t}},{key:"is3D",get:function(){return this.view.hasOwnProperty("camera")}},{key:"targetLayer",get:function(){var e=this;return this.view.map.allLayers.filter((function(t){return"feature"===t.type&&!e.layerIds.includes(t.id)})).getItemAt(0)}},{key:"styles",get:function(){var e=this.view,t=this.viewWidth,i=this.viewHeight,r=this.leftOffset,s=this.topOffset,a=this.previewHeight,n=this.preview,o={};if(e){var c=e.container.getBoundingClientRect(),u=c.top,h=c.left,l=c.right,d=c.bottom;o={"--left-offset":"".concat(r,"px"),"--top-offset":"".concat(s,"px"),"--panel-left":"".concat(h,"px"),"--panel-height":"".concat(n?i-a:d-u,"px"),"--panel-width":"".concat(l-h,"px"),"--view-width":"".concat(t,"px"),"--view-height":"".concat(i,"px")}}return o}},{key:"render",value:function(){var e=this,t=this.activeMapDiscussion,i=this.styles,r=this.context,s=this.discussion,a=this.isHub,n=this.preview;return t&&(0,l.h)(l.H,{"data-element":"discussions-map-integrator",style:i},n?(0,l.h)("arcgis-hub-discussions-map-preview",{channelId:t.channelId,context:r,discussion:s,locationId:t.locationId,postId:t.postId,ref:function(t){e.onMapDiscussionsPreviewRef=t},replyId:t.replyId}):(0,l.h)("arcgis-hub-discussions",{channelId:t.channelId,context:r,disableNavigation:!t.locationId,discussion:s,dismissible:!0,enableGoTo:!0,hasMap:!0,isHub:a,locationId:t.locationId,postId:t.postId,ref:function(t){e.onMapDiscussionsRef=t},replyId:t.replyId}))}},{key:"element",get:function(){return(0,l.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{view:["attachView"],discussionsRef:["attachdiscussionsRef"],drawRef:["handleDrawRefUpdate"],preview:["calculateOffsets"],previewHeight:["calculateOffsets"],context:["initialize"]}}}]),e}();Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryGoTo",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryFeature",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryFeatureDeleted",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryFeatureSelect",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryFeatureHighlight",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleFeatureRemove",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryDrawCreate",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryDrawTypeSelect",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryDrawEdit",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryDrawEditCancel",null),Z([(0,y.C)({when:function(e){return e.target===this.drawRef}})],E.prototype,"handleDrawGraphicsChange",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryDrawReset",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleGeometryClearAll",null),Z([(0,y.C)({when:function(e){return this.eventTargetIsDiscussionsRef(e)}})],E.prototype,"handleDiscussionsClose",null),Z([(0,y.C)({when:function(e){return e}})],E.prototype,"refreshFeatures",null),Z([(0,y.C)({when:function(){return this.drawRef}})],E.prototype,"saveInitialDrawOptions",null),Z([(0,y.C)({when:function(){return this.drawRef&&this.initialDrawOptions}})],E.prototype,"restoreInitialDrawOptions",null),Z([(0,y.C)({when:function(){return this.currentDiscussionsRef}})],E.prototype,"resetStagedFeatures",null),Z([(0,v.D)({timeout:50})],E.prototype,"handleViewSizeChange",null),E.style=".sc-arcgis-hub-discussions-map-integrator-h{display:block}@media only screen and (min-width: 640px){arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{position:absolute}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{z-index:10}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{width:25rem}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{padding:0px}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{top:calc(var(--top-offset) + 4.5rem);left:calc(var(--left-offset) - 5rem - 25rem);max-height:calc(var(--panel-height) - 6rem)}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{position:absolute}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{z-index:10}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{width:25rem}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{top:calc(var(--top-offset));left:calc(var(--left-offset))}}@media only screen and (max-width: 640px){arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{position:absolute}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{z-index:10}arcgis-hub-discussions.sc-arcgis-hub-discussions-map-integrator{width:calc(var(--panel-width) + 0.05rem);top:calc(var(--top-offset) + var(--panel-height) * .5);max-height:calc(var(--panel-height) * .5);height:calc(var(--panel-height) * .5);left:0.95rem}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{position:absolute}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{z-index:10}arcgis-hub-discussions-map-preview.sc-arcgis-hub-discussions-map-integrator{width:calc(var(--panel-width) - 0.95rem);top:calc(var(--panel-height) + 3.2rem);left:0.5rem}}"},88752:function(e,t,i){function r(e){return function(t,i,r){var s=r.value,a=e.when;return Object.assign(Object.assign({},r),{value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=a.apply(this,t);if(r)return s.apply(this,t)}})}}i.d(t,{C:function(){return r}})},98410:function(e,t,i){i.d(t,{D:function(){return s}});var r=i(89682);function s(e){return function(t,i,s){var a=s.value,n="".concat(i.toString(),"Debounced");return Object.assign(Object.assign({},s),{value:function(){this[n]||Object.defineProperty(this,n,{value:(0,r.d)(a,e.timeout)});for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];this[n].apply(this,[this].concat(i))}})}}},89682:function(e,t,i){function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];clearTimeout(t),t=setTimeout((function(){return e.apply(r,a)}),i)}}i.d(t,{d:function(){return r}})}}]);
//# sourceMappingURL=1448.8158773f.chunk.js.map