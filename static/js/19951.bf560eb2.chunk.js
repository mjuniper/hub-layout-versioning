"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[19951],{71277:function(e,n,t){function r(e){return e=e||globalThis.location.hostname,s.some((function(n){var t;return null!=(null===(t=e)||void 0===t?void 0:t.match(n))}))}function i(e,n){return e&&(n=n||globalThis.location.hostname)?null!=n.match(o)||null!=n.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=n.match(a)||null!=n.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}t.d(n,{XO:function(){return r},pJ:function(){return i}});var o=/^devext.arcgis.com$/,a=/^qaext.arcgis.com$/,l=/^[\w-]*\.mapsdevext.arcgis.com$/,u=/^[\w-]*\.mapsqa.arcgis.com$/,s=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,o,a,/^jsapps.esri.com$/,l,u]},37933:function(e,n,t){t.d(n,{A2:function(){return f},Am:function(){return y},CY:function(){return s},S1:function(){return w},Tv:function(){return m},fb:function(){return c},iC:function(){return u},ln:function(){return S},mt:function(){return b},oP:function(){return g},rQ:function(){return p},sy:function(){return d},y2:function(){return v}});var r=t(74165),i=t(15861),o=t(19545),a=t(76200),l=t(92026);function u(e){var n=null===e||void 0===e?void 0:e.type;return"base-tile"===n||"tile"===n||"elevation"===n||"imagery-tile"===n||"base-elevation"===n||"open-street-map"===n||"wcs"===n||"web-tile"===n||"wmts"===n||"vector-tile"===n}function s(e){return null!=e&&"type"in e&&"group"===e.type}var c={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function f(e){var n=null===e||void 0===e?void 0:e.type;return"building-scene"===n||"integrated-mesh"===n||"point-cloud"===n||"scene"===n}function m(e){return"voxel"===(null===e||void 0===e?void 0:e.type)}function y(e){return"imagery-tile"===(null===e||void 0===e?void 0:e.type)}function d(e){return null!=e&&null!=e.parent&&"declaredClass"in e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)}function p(e){var n;return"feature"===(null===e||void 0===e?void 0:e.type)&&!e.url&&"memory"===(null===(n=e.source)||void 0===n?void 0:n.type)}function v(e){var n;return"feature"===(null===e||void 0===e?void 0:e.type)&&"feature-layer"===(null===(n=e.source)||void 0===n?void 0:n.type)}function b(e){if(e.activeLayer){var n=e.activeLayer.tileMatrixSet;if(n)return n;var t=e.activeLayer.tileMatrixSets;if(t)return t}return null}function g(e,n){return h.apply(this,arguments)}function h(){return h=(0,i.Z)((0,r.Z)().mark((function e(n,t){var i,u,s,c,f,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(null===(i=null===o.id||void 0===o.id?void 0:o.id.findServerInfo(n))||void 0===i?void 0:i.currentVersion)){e.next=3;break}return e.abrupt("return",i.owningSystemUrl||null);case 3:if(-1!==(u=n.toLowerCase().indexOf("/rest/services"))){e.next=6;break}return e.abrupt("return",null);case 6:return s="".concat(n.substring(0,u),"/rest/info"),c=(0,l.pC)(t)?t.signal:null,e.next=10,(0,a.default)(s,{query:{f:"json"},responseType:"json",signal:c});case 10:return f=e.sent,m=f.data,e.abrupt("return",(null===m||void 0===m?void 0:m.owningSystemUrl)||null);case 13:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function w(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function S(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},28554:function(e,n,t){t.d(n,{K3:function(){return i},Rx:function(){return a},hq:function(){return o}});var r=t(93169),i=function(){return!!(0,r.Z)("enable-feature:force-wosr")},o=function(){return!!(0,r.Z)("enable-feature:direct-3d-object-feature-layer-display")},a=function(){return!!(0,r.Z)("enable-feature:SceneLayer-editing")}},192:function(e,n,t){t.d(n,{cW:function(){return c},im:function(){return d},vX:function(){return f}});var r=t(51508),i=t(10064),o=t(92026),a=t(37933),l=t(67140),u=t(23707),s=t(80045);function c(e,n,t,r){var i=y(e,{},{context:r,isLabelSymbol:!1});(0,o.pC)(i)&&(n[t]=i)}function f(e,n,t,r){var i=y(e,{},{context:r,isLabelSymbol:!0});(0,o.pC)(i)&&(n[t]=i)}function m(e){return e instanceof l.Z||e instanceof s.Z}function y(e,n,t){if((0,o.Wi)(e))return null;var r=t.context,l=t.isLabelSymbol,s=null===r||void 0===r?void 0:r.origin,c=null===r||void 0===r?void 0:r.messages;if("web-scene"===s&&!m(e)){var f=(0,u.q)(e,{retainCIM:!0,hasLabelingContext:l});return(0,o.pC)(f.symbol)?f.symbol.write(n,r):(null!==c&&void 0!==c&&c.push(new i.Z("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView"),{symbol:e,context:r,error:f.error})),null)}return("web-map"===s||"portal-item"===s&&!(0,a.A2)(null===r||void 0===r?void 0:r.layer))&&m(e)?(null!==c&&void 0!==c&&c.push(new i.Z("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView"),{symbol:e,context:r})),null):e.write(n,r)}function d(e,n){return(0,r.S9)(e,null,n)}},38048:function(e,n,t){t.d(n,{EJ:function(){return S},KV:function(){return h},n2:function(){return g},v9:function(){return w},wm:function(){return x}});var r=t(74165),i=t(1413),o=t(37762),a=t(15861),l=t(76200),u=t(10064),s=t(92026),c=t(66978),f=t(35995),m=t(70032),y=t(65694),d=t(28554),p={};function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(n,t);case 3:return e.t0=e.sent.data,e.t1=(0,f.Yd)(n),e.t2=n,e.abrupt("return",{data:e.t0,baseUrl:e.t1,styleUrl:e.t2});case 9:return e.prev=9,e.t3=e.catch(0),e.abrupt("return",((0,c.r9)(e.t3),null));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function b(e,n,t){var r,i=(0,s.pC)(n.portal)?n.portal:m.Z.getDefault(),a="".concat(i.url," - ").concat(i.user&&i.user.username," - ").concat(e);return p[a]||(p[a]=function(e,n,t){return n.load(t).then((function(){var r=new y.Z({disableExtraQuery:!0,query:"owner:".concat(Z," AND type:").concat(C,' AND typekeywords:"').concat(e,'"')});return n.queryItems(r,t)})).then((function(n){var r=n.results,i=null,a=e.toLowerCase();if(r&&Array.isArray(r)){var l,s=(0,o.Z)(r);try{for(s.s();!(l=s.n()).done;){var c,f=l.value,m=null===(c=f.typeKeywords)||void 0===c?void 0:c.some((function(e){return e.toLowerCase()===a}));if(m&&f.type===C&&f.owner===Z){i=f;break}}}catch(y){s.e(y)}finally{s.f()}}if(!i)throw new u.Z("symbolstyleutils:style-not-found","The style '".concat(e,"' could not be found"),{styleName:e});return i.load(t)}))}(e,i,t).then((function(e){return r=e,e.fetchData()})).then((function(n){var t;return{data:n,baseUrl:null!==(t=r.itemUrl)&&void 0!==t?t:"",styleName:e}}))),p[a]}function g(e,n,t){return e&&(0,s.pC)(e.styleUrl)?function(e,n){return v.apply(this,arguments)}(e.styleUrl,t):e&&(0,s.pC)(e.styleName)?b(e.styleName,n,t):Promise.reject(new u.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function h(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function w(e,n){if("cimRef"===n)return e.cimRef;if(e.formatInfos&&!(0,d.K3)()){var t,r=(0,o.Z)(e.formatInfos);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("gltf"===i.type)return i.href}}catch(a){r.e(a)}finally{r.f()}}return e.webRef}function S(e,n){var t=(0,i.Z)({responseType:"json",query:{f:"json"}},n);return(0,l.default)((0,f.Fv)(e),t)}var Z="esri_en",C="Style",x="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},23707:function(e,n,t){t.d(n,{K:function(){return v},q:function(){return b}});var r=t(51508),i=t(10064),o=t(80045),a=t(62554),l=t(16851),u=t(31655),s=t(16072),c=t(91946),f=t(61459),m=t(16915),y=t(1030),d=t(58009),p=t(24931),v={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;if(!e)return{symbol:null};var t=n.retainId,b=void 0===t?v.retainId:t,g=n.ignoreDrivers,h=void 0===g?v.ignoreDrivers:g,w=n.hasLabelingContext,S=void 0===w?v.hasLabelingContext:w,Z=n.retainCIM,C=void 0===Z?v.retainCIM:Z,x=null;if((0,r.dU)(e)||e instanceof o.Z)x=e.clone();else if("cim"===e.type){var L,I,D=null===(L=e.data)||void 0===L||null===(I=L.symbol)||void 0===I?void 0:I.type;if("CIMPointSymbol"!==D)return{error:new i.Z("symbol-conversion:unsupported-cim-symbol","CIM symbol of type '".concat(D||"unknown","' is unsupported in 3D"),{symbol:e})};x=C?e.clone():a.Z.fromCIMSymbol(e)}else if(e instanceof l.Z)x=u.Z.fromSimpleLineSymbol(e);else if(e instanceof s.Z)x=a.Z.fromSimpleMarkerSymbol(e);else if(e instanceof c.Z)x=a.Z.fromPictureMarkerSymbol(e);else if(e instanceof f.Z)x=n.geometryType&&"mesh"===n.geometryType?m.Z.fromSimpleFillSymbol(e):y.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof d.Z))return{error:new i.Z("symbol-conversion:unsupported-2d-symbol","2D symbol of type '".concat(e.type||e.declaredClass,"' is unsupported in 3D"),{symbol:e})};x=S?p.Z.fromTextSymbol(e):a.Z.fromTextSymbol(e)}if(b&&x&&"cim"!==x.type&&(x.id=e.id),h&&(0,r.dU)(x))for(var N=0;N<x.symbolLayers.length;++N)x.symbolLayers.getItemAt(N)._ignoreDrivers=!0;return{symbol:x}}},19951:function(e,n,t){t.r(n),t.d(n,{fetchSymbolFromStyle:function(){return p},resolveWebStyleSymbol:function(){return d}});var r=t(51508),i=t(71277),o=t(10064),a=t(92026),l=t(35995),u=t(70032),s=t(53283),c=t(192),f=t(1472),m=t(38048),y=t(81854);function d(e,n,t,r){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,n,t){var r=m.wm.replace(/\{SymbolName\}/gi,e.name),i=(0,a.pC)(n.portal)?n.portal:u.Z.getDefault();return(0,m.EJ)(r,t).then((function(e){var n=(0,m.KV)(e.data);return(0,c.im)(n,{portal:i,url:(0,l.mN)((0,l.Yd)(r)),origin:"portal-item"})}))}(e,n,r):(0,m.n2)(e,n,r).then((function(i){return p((0,a.s3)(i),e.name,n,t,r)})):Promise.reject(new o.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function p(e,n,t,d,p){var v,b,g,h=e.data,w=t&&(0,a.pC)(t.portal)?t.portal:u.Z.getDefault(),S={portal:w,url:(0,l.mN)(e.baseUrl),origin:"portal-item"},Z=h.items.find((function(e){return e.name===n}));if(!Z){var C="The symbol name '".concat(n,"' could not be found");return Promise.reject(new o.Z("symbolstyleutils:symbol-name-not-found",C,{symbolName:n}))}var x=(0,s.f)((0,m.v9)(Z,d),S),L=null!==(v=null===(b=Z.thumbnail)||void 0===b?void 0:b.href)&&void 0!==v?v:null,I=Z.thumbnail&&Z.thumbnail.imageData;(0,i.XO)()&&(x=null!==(g=(0,i.pJ)(x))&&void 0!==g?g:"",L=(0,i.pJ)(L));var D={portal:w,url:(0,l.mN)((0,l.Yd)(x)),origin:"portal-item"};return(0,m.EJ)(x,p).then((function(i){var o="cimRef"===d?(0,m.KV)(i.data):i.data,a=(0,c.im)(o,D);if(a&&(0,r.dU)(a)){if(L){var l=(0,s.f)(L,S);a.thumbnail=new y.p({url:l})}else I&&(a.thumbnail=new y.p({url:"data:image/png;base64,".concat(I)}));e.styleUrl?a.styleOrigin=new f.Z({portal:t.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(a.styleOrigin=new f.Z({portal:t.portal,styleName:e.styleName,name:n}))}return a}))}}}]);
//# sourceMappingURL=19951.bf560eb2.chunk.js.map