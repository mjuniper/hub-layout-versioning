{"version":3,"file":"static/js/39706.0b25624a.chunk.js","mappings":"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","sources":["../node_modules/@esri/hub-components/dist/esm/calcite-color-picker_3.entry.js","../node_modules/@esri/hub-components/dist/esm/debounce-464f07a1.js","../node_modules/@esri/hub-components/dist/esm/interactive-d9ac4e8f.js","../node_modules/@esri/hub-components/dist/esm/key-fda76a48.js","../node_modules/@esri/hub-components/dist/esm/math-4f5f3c5b.js","../node_modules/@esri/hub-components/dist/esm/observers-2b214c17.js","../node_modules/@esri/hub-components/dist/esm/utils-0197e097.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, g as getElement } from './index-0d95d9d4.js';\nimport { c as color } from './index-28327376.js';\nimport { i as isPrimaryPointerButton, a as getElementDir, f as focusElement } from './dom-c989b427.js';\nimport { n as normalizeHex, C as CSSColorMode, p as parseMode, c as colorEqual, i as isValidHex, a as isLonghandHex, r as rgbToHex, h as hexChar } from './utils-0197e097.js';\nimport { c as clamp } from './math-4f5f3c5b.js';\nimport { u as updateHostInteraction } from './interactive-d9ac4e8f.js';\nimport { i as isActivationKey } from './key-fda76a48.js';\nimport { d as debounce, a as isObject } from './debounce-464f07a1.js';\nimport { c as createObserver } from './observers-2b214c17.js';\nimport './_commonjsHelpers-11ca3be1.js';\nimport './resources-919972af.js';\nimport './guid-ddc4f6da.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst CSS$1 = {\n  container: \"container\",\n  controlSection: \"control-section\",\n  hexOptions: \"color-hex-options\",\n  section: \"section\",\n  header: \"header\",\n  control: \"control\",\n  splitSection: \"section--split\",\n  colorModeContainer: \"color-mode-container\",\n  colorMode: \"color-mode\",\n  channels: \"channels\",\n  channel: \"channel\",\n  savedColors: \"saved-colors\",\n  savedColorsSection: \"saved-colors-section\",\n  saveColor: \"save-color\",\n  deleteColor: \"delete-color\",\n  savedColorsButtons: \"saved-colors-buttons\",\n  headerHex: \"header--hex\",\n  colorFieldAndSlider: \"color-field-and-slider\",\n  colorFieldAndSliderInteractive: \"color-field-and-slider--interactive\",\n  colorFieldAndSliderWrap: \"color-field-and-slider-wrap\",\n  scope: \"scope\",\n  hueScope: \"scope--hue\",\n  colorFieldScope: \"scope--color-field\",\n  savedColor: \"saved-color\"\n};\nconst DEFAULT_COLOR$1 = color(\"#007AC2\");\nconst DEFAULT_STORAGE_KEY_PREFIX = \"calcite-color-\";\nconst RGB_LIMITS = {\n  r: 255,\n  g: 255,\n  b: 255\n};\nconst HSV_LIMITS = {\n  h: 360,\n  s: 100,\n  v: 100\n};\nconst TEXT = {\n  b: \"B\",\n  blue: \"Blue\",\n  deleteColor: \"Delete color\",\n  g: \"G\",\n  green: \"Green\",\n  h: \"H\",\n  hsv: \"HSV\",\n  hex: \"Hex\",\n  hue: \"Hue\",\n  noColor: \"No color\",\n  r: \"R\",\n  red: \"Red\",\n  rgb: \"RGB\",\n  s: \"S\",\n  saturation: \"Saturation\",\n  saveColor: \"Save color\",\n  saved: \"Saved\",\n  v: \"V\",\n  value: \"Value\"\n};\nconst DIMENSIONS = {\n  s: {\n    slider: {\n      height: 10,\n      width: 160\n    },\n    colorField: {\n      height: 80,\n      width: 160\n    },\n    thumb: {\n      radius: 8\n    }\n  },\n  m: {\n    slider: {\n      height: 14,\n      width: 272\n    },\n    colorField: {\n      height: 150,\n      width: 272\n    },\n    thumb: {\n      radius: 10\n    }\n  },\n  l: {\n    slider: {\n      height: 16,\n      width: 464\n    },\n    colorField: {\n      height: 200,\n      width: 464\n    },\n    thumb: {\n      radius: 12\n    }\n  }\n};\n\nconst colorPickerCss = \"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(20px, 1fr))}:host([scale=s]) .channels{flex-direction:column}:host([scale=s]) .channel{inline-size:100%;-webkit-margin-after:4px;margin-block-end:4px}:host([scale=s]) .channel:last-child{-webkit-margin-after:0;margin-block-end:0}:host([scale=m]) .container{inline-size:272px}:host([scale=l]) .header{-webkit-padding-after:0px;padding-block-end:0px}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .color-field-and-slider{-webkit-margin-after:-20px;margin-block-end:-20px}:host([scale=l]) .section{padding-block:0 16px;padding-inline:16px}:host([scale=l]) .section:first-of-type{-webkit-padding-before:16px;padding-block-start:16px}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(28px, 1fr));grid-gap:12px;-webkit-padding-before:16px;padding-block-start:16px}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline}:host([scale=l]) .control-section>:nth-child(2){-webkit-margin-start:12px;margin-inline-start:12px}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around;min-block-size:98px;inline-size:160px}:host([scale=l]) .color-mode-container{flex-shrink:3}:host([appearance=minimal]) .container{border:none}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.color-field-and-slider-wrap{position:relative}.scope{pointer-events:none;position:absolute;font-size:var(--calcite-font-size--1);outline-color:transparent;outline-offset:14px}.scope:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:16px}.color-field-and-slider{-webkit-margin-after:-16px;margin-block-end:-16px;touch-action:none}.color-field-and-slider--interactive{cursor:pointer}.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 12px;padding-inline:12px}.section:first-of-type{-webkit-padding-before:12px;padding-block-start:12px}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;-webkit-padding-after:0.25rem;padding-block-end:0.25rem;color:var(--calcite-ui-text-1)}.header--hex,.color-mode-container{-webkit-padding-before:12px;padding-block-start:12px}.channels{display:flex;justify-content:space-between}.channel{inline-size:31%}.saved-colors{-webkit-padding-before:12px;padding-block-start:12px;display:grid;grid-template-columns:repeat(auto-fill, minmax(24px, 1fr));grid-gap:8px;inline-size:100%}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}\";\n\nconst throttleFor60FpsInMs = 16;\nconst defaultValue = normalizeHex(DEFAULT_COLOR$1.hex());\nconst defaultFormat = \"auto\";\nconst ColorPicker = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteColorPickerChange = createEvent(this, \"calciteColorPickerChange\", 6);\n    this.calciteColorPickerInput = createEvent(this, \"calciteColorPickerInput\", 6);\n    //--------------------------------------------------------------------------\n    //\n    //  Public properties\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * When `false`, an empty color (`null`) will be allowed as a `value`. Otherwise, a color value is enforced on the component.\n     *\n     * When `true`, a color value is enforced, and clearing the input or blurring will restore the last valid `value`. When `false`, an empty color (`null`) will be allowed as a `value`.\n     */\n    this.allowEmpty = false;\n    /**\n     * Specifies the appearance style of the component -\n     *\n     * `\"solid\"` (containing border) or `\"minimal\"` (no containing border).\n     */\n    this.appearance = \"solid\";\n    /**\n     * Internal prop for advanced use-cases.\n     *\n     * @internal\n     */\n    this.color = DEFAULT_COLOR$1;\n    /**\n     * When `true`, interaction is prevented and the component is displayed with lower opacity.\n     */\n    this.disabled = false;\n    /**\n     * The format of `value`.\n     *\n     * When `\"auto\"`, the format will be inferred from `value` when set.\n     *\n     * @default \"auto\"\n     */\n    this.format = defaultFormat;\n    /** When `true`, hides the Hex input. */\n    this.hideHex = false;\n    /** When `true`, hides the RGB/HSV channel inputs. */\n    this.hideChannels = false;\n    /** When `true`, hides the saved colors section. */\n    this.hideSaved = false;\n    /**\n     * Accessible name for the RGB section's blue channel.\n     *\n     * @default \"B\"\n     */\n    this.intlB = TEXT.b;\n    /**\n     * Accessible name for the RGB section's blue channel description.\n     *\n     * @default \"Blue\"\n     */\n    this.intlBlue = TEXT.blue;\n    /**\n     * Accessible name for the delete color button.\n     *\n     * @default \"Delete color\"\n     */\n    this.intlDeleteColor = TEXT.deleteColor;\n    /**\n     * Accessible name for the RGB section's green channel.\n     *\n     * @default \"G\"\n     */\n    this.intlG = TEXT.g;\n    /**\n     * Accessible name for the RGB section's green channel description.\n     *\n     * @default \"Green\"\n     */\n    this.intlGreen = TEXT.green;\n    /**\n     * Accessible name for the HSV section's hue channel.\n     *\n     * @default \"H\"\n     */\n    this.intlH = TEXT.h;\n    /**\n     * Accessible name for the HSV mode.\n     *\n     * @default \"HSV\"\n     */\n    this.intlHsv = TEXT.hsv;\n    /**\n     * Accessible name for the Hex input.\n     *\n     * @default \"Hex\"\n     */\n    this.intlHex = TEXT.hex;\n    /**\n     * Accessible name for the HSV section's hue channel description.\n     *\n     * @default \"Hue\"\n     */\n    this.intlHue = TEXT.hue;\n    /**\n     * Accessible name for the Hex input when there is no color selected.\n     *\n     * @default \"No color\"\n     */\n    this.intlNoColor = TEXT.noColor;\n    /**\n     * Accessible name for the RGB section's red channel.\n     *\n     * @default \"R\"\n     */\n    this.intlR = TEXT.r;\n    /**\n     * Accessible name for the RGB section's red channel description.\n     *\n     * @default \"Red\"\n     */\n    this.intlRed = TEXT.red;\n    /**\n     * Accessible name for the RGB mode.\n     *\n     * @default \"RGB\"\n     */\n    this.intlRgb = TEXT.rgb;\n    /**\n     * Accessible name for the HSV section's saturation channel.\n     *\n     * @default \"S\"\n     */\n    this.intlS = TEXT.s;\n    /**\n     * Accessible name for the HSV section's saturation channel description.\n     *\n     * @default \"Saturation\"\n     */\n    this.intlSaturation = TEXT.saturation;\n    /**\n     * Accessible name for the save color button.\n     *\n     * @default \"Save color\"\n     */\n    this.intlSaveColor = TEXT.saveColor;\n    /**\n     * Accessible name for the saved colors section.\n     *\n     * @default \"Saved\"\n     */\n    this.intlSaved = TEXT.saved;\n    /**\n     * Accessible name for the HSV section's value channel.\n     *\n     * @default \"V\"\n     */\n    this.intlV = TEXT.v;\n    /**\n     * Accessible name for the HSV section's value channel description.\n     *\n     * @default \"Value\"\n     */\n    this.intlValue = TEXT.value;\n    /** Specifies the size of the component. */\n    this.scale = \"m\";\n    /**\n     * The component's value, where the value can be a CSS color string, or a RGB, HSL or HSV object.\n     *\n     * The type will be preserved as the color is updated.\n     *\n     * @default \"#007ac2\"\n     * @see [CSS Color](https://developer.mozilla.org/en-US/docs/Web/CSS/color)\n     * @see [ColorValue](https://github.com/Esri/calcite-components/blob/master/src/components/color-picker/interfaces.ts#L10)\n     */\n    this.value = defaultValue;\n    this.colorFieldAndSliderHovered = false;\n    this.hueThumbState = \"idle\";\n    this.internalColorUpdateContext = null;\n    this.mode = CSSColorMode.HEX;\n    this.shiftKeyChannelAdjustment = 0;\n    this.sliderThumbState = \"idle\";\n    this.colorFieldAndSliderInteractive = false;\n    this.channelMode = \"rgb\";\n    this.channels = this.toChannels(DEFAULT_COLOR$1);\n    this.dimensions = DIMENSIONS.m;\n    this.savedColors = [];\n    this.handleTabActivate = (event) => {\n      this.channelMode = event.currentTarget.getAttribute(\"data-color-mode\");\n      this.updateChannelsFromColor(this.color);\n    };\n    this.handleColorFieldScopeKeyDown = (event) => {\n      const { key } = event;\n      const arrowKeyToXYOffset = {\n        ArrowUp: { x: 0, y: -10 },\n        ArrowRight: { x: 10, y: 0 },\n        ArrowDown: { x: 0, y: 10 },\n        ArrowLeft: { x: -10, y: 0 }\n      };\n      if (arrowKeyToXYOffset[key]) {\n        event.preventDefault();\n        this.scopeOrientation = key === \"ArrowDown\" || key === \"ArrowUp\" ? \"vertical\" : \"horizontal\";\n        this.captureColorFieldColor(this.colorFieldScopeLeft + arrowKeyToXYOffset[key].x || 0, this.colorFieldScopeTop + arrowKeyToXYOffset[key].y || 0, false);\n      }\n    };\n    this.handleHueScopeKeyDown = (event) => {\n      const modifier = event.shiftKey ? 10 : 1;\n      const { key } = event;\n      const arrowKeyToXOffset = {\n        ArrowUp: 1,\n        ArrowRight: 1,\n        ArrowDown: -1,\n        ArrowLeft: -1\n      };\n      if (arrowKeyToXOffset[key]) {\n        event.preventDefault();\n        const delta = arrowKeyToXOffset[key] * modifier;\n        const hue = this.baseColorFieldColor.hue();\n        const color = this.baseColorFieldColor.hue(hue + delta);\n        this.internalColorSet(color, false);\n      }\n    };\n    this.handleHexInputChange = (event) => {\n      event.stopPropagation();\n      const { allowEmpty, color: color$1 } = this;\n      const input = event.target;\n      const hex = input.value;\n      if (allowEmpty && !hex) {\n        this.internalColorSet(null);\n        return;\n      }\n      const normalizedHex = color$1 && normalizeHex(color$1.hex());\n      if (hex !== normalizedHex) {\n        this.internalColorSet(color(hex));\n      }\n    };\n    this.handleSavedColorSelect = (event) => {\n      const swatch = event.currentTarget;\n      this.internalColorSet(color(swatch.color));\n    };\n    this.handleChannelInput = (event) => {\n      const input = event.currentTarget;\n      const internalInput = event.detail.nativeEvent.target;\n      const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n      const limit = this.channelMode === \"rgb\"\n        ? RGB_LIMITS[Object.keys(RGB_LIMITS)[channelIndex]]\n        : HSV_LIMITS[Object.keys(HSV_LIMITS)[channelIndex]];\n      let inputValue;\n      if (this.allowEmpty && !input.value) {\n        inputValue = \"\";\n      }\n      else {\n        const value = Number(input.value) + this.shiftKeyChannelAdjustment;\n        const clamped = clamp(value, 0, limit);\n        inputValue = clamped.toString();\n      }\n      input.value = inputValue;\n      internalInput.value = inputValue;\n    };\n    this.handleChannelChange = (event) => {\n      const input = event.currentTarget;\n      const channelIndex = Number(input.getAttribute(\"data-channel-index\"));\n      const channels = [...this.channels];\n      const shouldClearChannels = this.allowEmpty && !input.value;\n      if (shouldClearChannels) {\n        this.channels = [null, null, null];\n        this.internalColorSet(null);\n        return;\n      }\n      channels[channelIndex] = Number(input.value);\n      this.updateColorFromChannels(channels);\n    };\n    this.handleSavedColorKeyDown = (event) => {\n      if (isActivationKey(event.key)) {\n        event.preventDefault();\n        this.handleSavedColorSelect(event);\n      }\n    };\n    this.handleColorFieldAndSliderPointerLeave = () => {\n      this.colorFieldAndSliderInteractive = false;\n      this.colorFieldAndSliderHovered = false;\n      if (this.sliderThumbState !== \"drag\" && this.hueThumbState !== \"drag\") {\n        this.hueThumbState = \"idle\";\n        this.sliderThumbState = \"idle\";\n        this.drawColorFieldAndSlider();\n      }\n    };\n    this.handleColorFieldAndSliderPointerDown = (event) => {\n      var _a, _b;\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      const { offsetX, offsetY } = event;\n      const region = this.getCanvasRegion(offsetY);\n      if (region === \"color-field\") {\n        this.hueThumbState = \"drag\";\n        this.captureColorFieldColor(offsetX, offsetY);\n        (_a = this.colorFieldScopeNode) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n      else if (region === \"slider\") {\n        this.sliderThumbState = \"drag\";\n        this.captureHueSliderColor(offsetX);\n        (_b = this.hueScopeNode) === null || _b === void 0 ? void 0 : _b.focus();\n      }\n      // prevent text selection outside of color field & slider area\n      event.preventDefault();\n      document.addEventListener(\"pointermove\", this.globalPointerMoveHandler);\n      document.addEventListener(\"pointerup\", this.globalPointerUpHandler, { once: true });\n      this.activeColorFieldAndSliderRect =\n        this.fieldAndSliderRenderingContext.canvas.getBoundingClientRect();\n    };\n    this.globalPointerUpHandler = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      const previouslyDragging = this.sliderThumbState === \"drag\" || this.hueThumbState === \"drag\";\n      this.hueThumbState = \"idle\";\n      this.sliderThumbState = \"idle\";\n      this.activeColorFieldAndSliderRect = null;\n      this.drawColorFieldAndSlider();\n      if (previouslyDragging) {\n        this.calciteColorPickerChange.emit();\n      }\n    };\n    this.globalPointerMoveHandler = (event) => {\n      const { el, dimensions } = this;\n      const sliderThumbDragging = this.sliderThumbState === \"drag\";\n      const hueThumbDragging = this.hueThumbState === \"drag\";\n      if (!el.isConnected || (!sliderThumbDragging && !hueThumbDragging)) {\n        return;\n      }\n      let samplingX;\n      let samplingY;\n      const colorFieldAndSliderRect = this.activeColorFieldAndSliderRect;\n      const { clientX, clientY } = event;\n      if (this.colorFieldAndSliderHovered) {\n        samplingX = clientX - colorFieldAndSliderRect.x;\n        samplingY = clientY - colorFieldAndSliderRect.y;\n      }\n      else {\n        const colorFieldWidth = dimensions.colorField.width;\n        const colorFieldHeight = dimensions.colorField.height;\n        const hueSliderHeight = dimensions.slider.height;\n        if (clientX < colorFieldAndSliderRect.x + colorFieldWidth &&\n          clientX > colorFieldAndSliderRect.x) {\n          samplingX = clientX - colorFieldAndSliderRect.x;\n        }\n        else if (clientX < colorFieldAndSliderRect.x) {\n          samplingX = 0;\n        }\n        else {\n          samplingX = colorFieldWidth - 1;\n        }\n        if (clientY < colorFieldAndSliderRect.y + colorFieldHeight + hueSliderHeight &&\n          clientY > colorFieldAndSliderRect.y) {\n          samplingY = clientY - colorFieldAndSliderRect.y;\n        }\n        else if (clientY < colorFieldAndSliderRect.y) {\n          samplingY = 0;\n        }\n        else {\n          samplingY = colorFieldHeight + hueSliderHeight;\n        }\n      }\n      if (hueThumbDragging) {\n        this.captureColorFieldColor(samplingX, samplingY, false);\n      }\n      else {\n        this.captureHueSliderColor(samplingX);\n      }\n    };\n    this.handleColorFieldAndSliderPointerEnterOrMove = ({ offsetX, offsetY }) => {\n      const { dimensions: { colorField, slider, thumb } } = this;\n      this.colorFieldAndSliderInteractive = offsetY <= colorField.height + slider.height;\n      this.colorFieldAndSliderHovered = true;\n      const region = this.getCanvasRegion(offsetY);\n      if (region === \"color-field\") {\n        const prevHueThumbState = this.hueThumbState;\n        const color = this.baseColorFieldColor.hsv();\n        const centerX = Math.round(color.saturationv() / (HSV_LIMITS.s / colorField.width));\n        const centerY = Math.round(colorField.height - color.value() / (HSV_LIMITS.v / colorField.height));\n        const hoveringThumb = this.containsPoint(offsetX, offsetY, centerX, centerY, thumb.radius);\n        let transitionedBetweenHoverAndIdle = false;\n        if (prevHueThumbState === \"idle\" && hoveringThumb) {\n          this.hueThumbState = \"hover\";\n          transitionedBetweenHoverAndIdle = true;\n        }\n        else if (prevHueThumbState === \"hover\" && !hoveringThumb) {\n          this.hueThumbState = \"idle\";\n          transitionedBetweenHoverAndIdle = true;\n        }\n        if (this.hueThumbState !== \"drag\") {\n          if (transitionedBetweenHoverAndIdle) {\n            // refresh since we won't update color and thus no redraw\n            this.drawColorFieldAndSlider();\n          }\n        }\n      }\n      else if (region === \"slider\") {\n        const sliderThumbColor = this.baseColorFieldColor.hsv().saturationv(100).value(100);\n        const prevSliderThumbState = this.sliderThumbState;\n        const sliderThumbCenterX = Math.round(sliderThumbColor.hue() / (360 / slider.width));\n        const sliderThumbCenterY = Math.round((slider.height + this.getSliderCapSpacing()) / 2) + colorField.height;\n        const hoveringSliderThumb = this.containsPoint(offsetX, offsetY, sliderThumbCenterX, sliderThumbCenterY, thumb.radius);\n        let sliderThumbTransitionedBetweenHoverAndIdle = false;\n        if (prevSliderThumbState === \"idle\" && hoveringSliderThumb) {\n          this.sliderThumbState = \"hover\";\n          sliderThumbTransitionedBetweenHoverAndIdle = true;\n        }\n        else if (prevSliderThumbState === \"hover\" && !hoveringSliderThumb) {\n          this.sliderThumbState = \"idle\";\n          sliderThumbTransitionedBetweenHoverAndIdle = true;\n        }\n        if (this.sliderThumbState !== \"drag\") {\n          if (sliderThumbTransitionedBetweenHoverAndIdle) {\n            // refresh since we won't update color and thus no redraw\n            this.drawColorFieldAndSlider();\n          }\n        }\n      }\n    };\n    this.storeColorFieldScope = (node) => {\n      this.colorFieldScopeNode = node;\n    };\n    this.storeHueScope = (node) => {\n      this.hueScopeNode = node;\n    };\n    this.renderChannelsTabTitle = (channelMode) => {\n      const { channelMode: activeChannelMode, intlRgb, intlHsv } = this;\n      const active = channelMode === activeChannelMode;\n      const label = channelMode === \"rgb\" ? intlRgb : intlHsv;\n      return (h(\"calcite-tab-title\", { active: active, class: CSS$1.colorMode, \"data-color-mode\": channelMode, key: channelMode, onCalciteTabsActivate: this.handleTabActivate }, label));\n    };\n    this.renderChannelsTab = (channelMode) => {\n      const { channelMode: activeChannelMode, channels, intlB, intlBlue, intlG, intlGreen, intlH, intlHue, intlR, intlRed, intlS, intlSaturation, intlV, intlValue } = this;\n      const active = channelMode === activeChannelMode;\n      const isRgb = channelMode === \"rgb\";\n      const channelLabels = isRgb ? [intlR, intlG, intlB] : [intlH, intlS, intlV];\n      const channelAriaLabels = isRgb\n        ? [intlRed, intlGreen, intlBlue]\n        : [intlHue, intlSaturation, intlValue];\n      const direction = getElementDir(this.el);\n      return (h(\"calcite-tab\", { active: active, class: CSS$1.control, key: channelMode }, h(\"div\", { class: CSS$1.channels, dir: \"ltr\" }, channels.map((channel, index) => \n      /* the channel container is ltr, so we apply the host's direction */\n      this.renderChannel(channel, index, channelLabels[index], channelAriaLabels[index], direction)))));\n    };\n    this.renderChannel = (value, index, label, ariaLabel, direction) => (h(\"calcite-input\", { class: CSS$1.channel, \"data-channel-index\": index, dir: direction, label: ariaLabel, numberButtonType: \"none\", numberingSystem: this.numberingSystem, onCalciteInputChange: this.handleChannelChange, onCalciteInputInput: this.handleChannelInput, onKeyDown: this.handleKeyDown, prefixText: label, scale: this.scale === \"l\" ? \"m\" : \"s\", type: \"number\", value: value === null || value === void 0 ? void 0 : value.toString() }));\n    this.deleteColor = () => {\n      const colorToDelete = this.color.hex();\n      const inStorage = this.savedColors.indexOf(colorToDelete) > -1;\n      if (!inStorage) {\n        return;\n      }\n      const savedColors = this.savedColors.filter((color) => color !== colorToDelete);\n      this.savedColors = savedColors;\n      const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n      if (this.storageId) {\n        localStorage.setItem(storageKey, JSON.stringify(savedColors));\n      }\n    };\n    this.saveColor = () => {\n      const colorToSave = this.color.hex();\n      const alreadySaved = this.savedColors.indexOf(colorToSave) > -1;\n      if (alreadySaved) {\n        return;\n      }\n      const savedColors = [...this.savedColors, colorToSave];\n      this.savedColors = savedColors;\n      const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n      if (this.storageId) {\n        localStorage.setItem(storageKey, JSON.stringify(savedColors));\n      }\n    };\n    this.drawColorFieldAndSlider = throttle(() => {\n      if (!this.fieldAndSliderRenderingContext) {\n        return;\n      }\n      this.drawColorField();\n      this.drawHueSlider();\n    }, throttleFor60FpsInMs);\n    this.captureColorFieldColor = (x, y, skipEqual = true) => {\n      const { dimensions: { colorField: { height, width } } } = this;\n      const saturation = Math.round((HSV_LIMITS.s / width) * x);\n      const value = Math.round((HSV_LIMITS.v / height) * (height - y));\n      this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(saturation).value(value), skipEqual);\n    };\n    this.initColorFieldAndSlider = (canvas) => {\n      this.fieldAndSliderRenderingContext = canvas.getContext(\"2d\");\n      this.updateCanvasSize(canvas);\n    };\n  }\n  handleColorChange(color, oldColor) {\n    this.drawColorFieldAndSlider();\n    this.updateChannelsFromColor(color);\n    this.previousColor = oldColor;\n  }\n  handleFormatChange(format) {\n    this.setMode(format);\n    this.internalColorSet(this.color, false, \"internal\");\n  }\n  handleScaleChange(scale = \"m\") {\n    var _a;\n    this.updateDimensions(scale);\n    this.updateCanvasSize((_a = this.fieldAndSliderRenderingContext) === null || _a === void 0 ? void 0 : _a.canvas);\n  }\n  handleValueChange(value, oldValue) {\n    const { allowEmpty, format } = this;\n    const checkMode = !allowEmpty || value;\n    let modeChanged = false;\n    if (checkMode) {\n      const nextMode = parseMode(value);\n      if (!nextMode || (format !== \"auto\" && nextMode !== format)) {\n        this.showIncompatibleColorWarning(value, format);\n        this.value = oldValue;\n        return;\n      }\n      modeChanged = this.mode !== nextMode;\n      this.setMode(nextMode);\n    }\n    const dragging = this.sliderThumbState === \"drag\" || this.hueThumbState === \"drag\";\n    if (this.internalColorUpdateContext === \"initial\") {\n      return;\n    }\n    if (this.internalColorUpdateContext === \"user-interaction\") {\n      this.calciteColorPickerInput.emit();\n      if (!dragging) {\n        this.calciteColorPickerChange.emit();\n      }\n      return;\n    }\n    const color$1 = allowEmpty && !value ? null : color(value);\n    const colorChanged = !colorEqual(color$1, this.color);\n    if (modeChanged || colorChanged) {\n      this.internalColorSet(color$1, true, \"internal\");\n    }\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Internal State/Props\n  //\n  //--------------------------------------------------------------------------\n  get baseColorFieldColor() {\n    return this.color || this.previousColor || DEFAULT_COLOR$1;\n  }\n  // using @Listen as a workaround for VDOM listener not firing\n  handleChannelKeyUpOrDown(event) {\n    this.shiftKeyChannelAdjustment = 0;\n    const { key } = event;\n    if ((key !== \"ArrowUp\" && key !== \"ArrowDown\") ||\n      !event.composedPath().some((node) => { var _a; return (_a = node.classList) === null || _a === void 0 ? void 0 : _a.contains(CSS$1.channel); })) {\n      return;\n    }\n    const { shiftKey } = event;\n    event.preventDefault();\n    if (!this.color) {\n      this.internalColorSet(this.previousColor);\n      event.stopPropagation();\n      return;\n    }\n    // this gets applied to the input's up/down arrow increment/decrement\n    const complementaryBump = 9;\n    this.shiftKeyChannelAdjustment =\n      key === \"ArrowUp\" && shiftKey\n        ? complementaryBump\n        : key === \"ArrowDown\" && shiftKey\n          ? -complementaryBump\n          : 0;\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    return focusElement(this.colorFieldScopeNode);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n  componentWillLoad() {\n    const { allowEmpty, color: color$1, format, value } = this;\n    const willSetNoColor = allowEmpty && !value;\n    const parsedMode = parseMode(value);\n    const valueIsCompatible = willSetNoColor || (format === \"auto\" && parsedMode) || format === parsedMode;\n    const initialColor = willSetNoColor ? null : valueIsCompatible ? color(value) : color$1;\n    if (!valueIsCompatible) {\n      this.showIncompatibleColorWarning(value, format);\n    }\n    this.setMode(format);\n    this.internalColorSet(initialColor, false, \"initial\");\n    this.updateDimensions(this.scale);\n    const storageKey = `${DEFAULT_STORAGE_KEY_PREFIX}${this.storageId}`;\n    if (this.storageId && localStorage.getItem(storageKey)) {\n      this.savedColors = JSON.parse(localStorage.getItem(storageKey));\n    }\n  }\n  disconnectedCallback() {\n    document.removeEventListener(\"pointermove\", this.globalPointerMoveHandler);\n    document.removeEventListener(\"pointerup\", this.globalPointerUpHandler);\n  }\n  componentDidRender() {\n    updateHostInteraction(this);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n  render() {\n    const { allowEmpty, color, intlDeleteColor, hideHex, hideChannels, hideSaved, intlHex, intlSaved, intlSaveColor, savedColors, scale } = this;\n    const selectedColorInHex = color ? color.hex() : null;\n    const hexInputScale = scale === \"l\" ? \"m\" : \"s\";\n    const { colorFieldAndSliderInteractive, colorFieldScopeTop, colorFieldScopeLeft, hueScopeLeft, hueScopeTop, scopeOrientation, dimensions: { colorField: { height: colorFieldHeight, width: colorFieldWidth }, slider: { height: sliderHeight } } } = this;\n    const hueTop = hueScopeTop !== null && hueScopeTop !== void 0 ? hueScopeTop : sliderHeight / 2 + colorFieldHeight;\n    const hueLeft = hueScopeLeft !== null && hueScopeLeft !== void 0 ? hueScopeLeft : (colorFieldWidth * DEFAULT_COLOR$1.hue()) / HSV_LIMITS.h;\n    const noColor = color === null;\n    const vertical = scopeOrientation === \"vertical\";\n    return (h(\"div\", { class: CSS$1.container }, h(\"div\", { class: CSS$1.colorFieldAndSliderWrap }, h(\"canvas\", { class: {\n        [CSS$1.colorFieldAndSlider]: true,\n        [CSS$1.colorFieldAndSliderInteractive]: colorFieldAndSliderInteractive\n      }, onPointerDown: this.handleColorFieldAndSliderPointerDown, onPointerEnter: this.handleColorFieldAndSliderPointerEnterOrMove, onPointerLeave: this.handleColorFieldAndSliderPointerLeave, onPointerMove: this.handleColorFieldAndSliderPointerEnterOrMove, ref: this.initColorFieldAndSlider }), h(\"div\", { \"aria-label\": vertical ? this.intlValue : this.intlSaturation, \"aria-valuemax\": vertical ? HSV_LIMITS.v : HSV_LIMITS.s, \"aria-valuemin\": \"0\", \"aria-valuenow\": (vertical ? color === null || color === void 0 ? void 0 : color.saturationv() : color === null || color === void 0 ? void 0 : color.value()) || \"0\", class: { [CSS$1.scope]: true, [CSS$1.colorFieldScope]: true }, onKeyDown: this.handleColorFieldScopeKeyDown, ref: this.storeColorFieldScope, role: \"slider\", style: { top: `${colorFieldScopeTop || 0}px`, left: `${colorFieldScopeLeft || 0}px` }, tabindex: \"0\" }), h(\"div\", { \"aria-label\": this.intlHue, \"aria-valuemax\": HSV_LIMITS.h, \"aria-valuemin\": \"0\", \"aria-valuenow\": (color === null || color === void 0 ? void 0 : color.round().hue()) || DEFAULT_COLOR$1.round().hue(), class: { [CSS$1.scope]: true, [CSS$1.hueScope]: true }, onKeyDown: this.handleHueScopeKeyDown, ref: this.storeHueScope, role: \"slider\", style: { top: `${hueTop}px`, left: `${hueLeft}px` }, tabindex: \"0\" })), hideHex && hideChannels ? null : (h(\"div\", { class: {\n        [CSS$1.controlSection]: true,\n        [CSS$1.section]: true\n      } }, hideHex ? null : (h(\"div\", { class: CSS$1.hexOptions }, h(\"span\", { class: {\n        [CSS$1.header]: true,\n        [CSS$1.headerHex]: true\n      } }, intlHex), h(\"calcite-color-picker-hex-input\", { allowEmpty: allowEmpty, class: CSS$1.control, numberingSystem: this.numberingSystem, onCalciteColorPickerHexInputChange: this.handleHexInputChange, scale: hexInputScale, value: selectedColorInHex }))), hideChannels ? null : (h(\"calcite-tabs\", { class: {\n        [CSS$1.colorModeContainer]: true,\n        [CSS$1.splitSection]: true\n      }, scale: hexInputScale }, h(\"calcite-tab-nav\", { slot: \"tab-nav\" }, this.renderChannelsTabTitle(\"rgb\"), this.renderChannelsTabTitle(\"hsv\")), this.renderChannelsTab(\"rgb\"), this.renderChannelsTab(\"hsv\"))))), hideSaved ? null : (h(\"div\", { class: { [CSS$1.savedColorsSection]: true, [CSS$1.section]: true } }, h(\"div\", { class: CSS$1.header }, h(\"label\", null, intlSaved), h(\"div\", { class: CSS$1.savedColorsButtons }, h(\"calcite-button\", { appearance: \"transparent\", class: CSS$1.deleteColor, color: \"neutral\", disabled: noColor, iconStart: \"minus\", label: intlDeleteColor, onClick: this.deleteColor, scale: hexInputScale, type: \"button\" }), h(\"calcite-button\", { appearance: \"transparent\", class: CSS$1.saveColor, color: \"neutral\", disabled: noColor, iconStart: \"plus\", label: intlSaveColor, onClick: this.saveColor, scale: hexInputScale, type: \"button\" }))), savedColors.length > 0 ? (h(\"div\", { class: CSS$1.savedColors }, [\n      ...savedColors.map((color) => (h(\"calcite-color-picker-swatch\", { active: selectedColorInHex === color, class: CSS$1.savedColor, color: color, key: color, onClick: this.handleSavedColorSelect, onKeyDown: this.handleSavedColorKeyDown, scale: scale, tabIndex: 0 })))\n    ])) : null))));\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n  handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n  showIncompatibleColorWarning(value, format) {\n    console.warn(`ignoring color value (${value}) as it is not compatible with the current format (${format})`);\n  }\n  setMode(format) {\n    this.mode = format === \"auto\" ? this.mode : format;\n  }\n  captureHueSliderColor(x) {\n    const { dimensions: { slider: { width } } } = this;\n    const hue = (360 / width) * x;\n    this.internalColorSet(this.baseColorFieldColor.hue(hue), false);\n  }\n  getCanvasRegion(y) {\n    const { dimensions: { colorField: { height: colorFieldHeight }, slider: { height: sliderHeight } } } = this;\n    if (y <= colorFieldHeight) {\n      return \"color-field\";\n    }\n    if (y <= colorFieldHeight + sliderHeight) {\n      return \"slider\";\n    }\n    return \"none\";\n  }\n  internalColorSet(color, skipEqual = true, context = \"user-interaction\") {\n    if (skipEqual && colorEqual(color, this.color)) {\n      return;\n    }\n    this.internalColorUpdateContext = context;\n    this.color = color;\n    this.value = this.toValue(color);\n    this.internalColorUpdateContext = null;\n  }\n  toValue(color, format = this.mode) {\n    if (!color) {\n      return null;\n    }\n    const hexMode = \"hex\";\n    if (format.includes(hexMode)) {\n      return normalizeHex(color.round()[hexMode]());\n    }\n    if (format.includes(\"-css\")) {\n      return color[format.replace(\"-css\", \"\").replace(\"a\", \"\")]().round().string();\n    }\n    const colorObject = color[format]().round().object();\n    if (format.endsWith(\"a\")) {\n      // normalize alpha prop\n      colorObject.a = colorObject.alpha;\n      delete colorObject.alpha;\n    }\n    return colorObject;\n  }\n  getSliderCapSpacing() {\n    const { dimensions: { slider: { height }, thumb: { radius } } } = this;\n    return radius * 2 - height;\n  }\n  updateDimensions(scale = \"m\") {\n    this.dimensions = DIMENSIONS[scale];\n  }\n  drawColorField() {\n    const context = this.fieldAndSliderRenderingContext;\n    const { dimensions: { colorField: { height, width } } } = this;\n    context.fillStyle = this.baseColorFieldColor.hsv().saturationv(100).value(100).string();\n    context.fillRect(0, 0, width, height);\n    const whiteGradient = context.createLinearGradient(0, 0, width, 0);\n    whiteGradient.addColorStop(0, \"rgba(255,255,255,1)\");\n    whiteGradient.addColorStop(1, \"rgba(255,255,255,0)\");\n    context.fillStyle = whiteGradient;\n    context.fillRect(0, 0, width, height);\n    const blackGradient = context.createLinearGradient(0, 0, 0, height);\n    blackGradient.addColorStop(0, \"rgba(0,0,0,0)\");\n    blackGradient.addColorStop(1, \"rgba(0,0,0,1)\");\n    context.fillStyle = blackGradient;\n    context.fillRect(0, 0, width, height);\n    this.drawActiveColorFieldColor();\n  }\n  setCanvasContextSize(canvas, { height, width }) {\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    canvas.width = width * devicePixelRatio;\n    canvas.height = height * devicePixelRatio;\n    canvas.style.height = `${height}px`;\n    canvas.style.width = `${width}px`;\n    const context = canvas.getContext(\"2d\");\n    context.scale(devicePixelRatio, devicePixelRatio);\n  }\n  updateCanvasSize(canvas) {\n    if (!canvas) {\n      return;\n    }\n    this.setCanvasContextSize(canvas, {\n      width: this.dimensions.colorField.width,\n      height: this.dimensions.colorField.height +\n        this.dimensions.slider.height +\n        this.getSliderCapSpacing() * 2\n    });\n    this.drawColorFieldAndSlider();\n  }\n  containsPoint(testPointX, testPointY, boundsX, boundsY, boundsRadius) {\n    return (Math.pow(testPointX - boundsX, 2) + Math.pow(testPointY - boundsY, 2) <=\n      Math.pow(boundsRadius, 2));\n  }\n  drawActiveColorFieldColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv();\n    const { dimensions: { colorField: { height, width }, thumb: { radius } } } = this;\n    const x = hsvColor.saturationv() / (HSV_LIMITS.s / width);\n    const y = height - hsvColor.value() / (HSV_LIMITS.v / height);\n    requestAnimationFrame(() => {\n      this.colorFieldScopeLeft = x;\n      this.colorFieldScopeTop = y;\n    });\n    this.drawThumb(this.fieldAndSliderRenderingContext, radius, x, y, hsvColor, this.hueThumbState);\n  }\n  drawThumb(context, radius, x, y, color, state) {\n    const startAngle = 0;\n    const endAngle = 2 * Math.PI;\n    context.beginPath();\n    context.arc(x, y, radius, startAngle, endAngle);\n    context.shadowBlur = state === \"hover\" ? 32 : 16;\n    context.shadowColor = `rgba(0, 0, 0, ${state === \"drag\" ? 0.32 : 0.16})`;\n    context.fillStyle = \"#fff\";\n    context.fill();\n    context.beginPath();\n    context.arc(x, y, radius - 3, startAngle, endAngle);\n    context.shadowBlur = 0;\n    context.shadowColor = \"transparent\";\n    context.fillStyle = color.rgb().string();\n    context.fill();\n  }\n  drawActiveHueSliderColor() {\n    const { color } = this;\n    if (!color) {\n      return;\n    }\n    const hsvColor = color.hsv().saturationv(100).value(100);\n    const { dimensions: { colorField: { height: colorFieldHeight }, slider: { height, width }, thumb: { radius } } } = this;\n    const x = hsvColor.hue() / (360 / width);\n    const y = height / 2 + colorFieldHeight;\n    requestAnimationFrame(() => {\n      this.hueScopeLeft = x;\n      this.hueScopeTop = y;\n    });\n    this.drawThumb(this.fieldAndSliderRenderingContext, radius, x, y, hsvColor, this.sliderThumbState);\n  }\n  drawHueSlider() {\n    const context = this.fieldAndSliderRenderingContext;\n    const { dimensions: { colorField: { height: colorFieldHeight }, slider: { height, width } } } = this;\n    const gradient = context.createLinearGradient(0, 0, width, 0);\n    const hueSliderColorStopKeywords = [\"red\", \"yellow\", \"lime\", \"cyan\", \"blue\", \"magenta\", \"red\"];\n    const offset = 1 / (hueSliderColorStopKeywords.length - 1);\n    let currentOffset = 0;\n    hueSliderColorStopKeywords.forEach((keyword) => {\n      gradient.addColorStop(currentOffset, color(keyword).string());\n      currentOffset += offset;\n    });\n    context.fillStyle = gradient;\n    context.clearRect(0, colorFieldHeight, width, height + this.getSliderCapSpacing() * 2);\n    context.fillRect(0, colorFieldHeight, width, height);\n    this.drawActiveHueSliderColor();\n  }\n  updateColorFromChannels(channels) {\n    this.internalColorSet(color(channels, this.channelMode));\n  }\n  updateChannelsFromColor(color) {\n    this.channels = color ? this.toChannels(color) : [null, null, null];\n  }\n  toChannels(color) {\n    const { channelMode } = this;\n    return color[channelMode]()\n      .array()\n      .map((value) => Math.floor(value));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"color\": [\"handleColorChange\"],\n    \"format\": [\"handleFormatChange\"],\n    \"scale\": [\"handleScaleChange\"],\n    \"value\": [\"handleValueChange\"]\n  }; }\n};\nColorPicker.style = colorPickerCss;\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst CSS = {\n  container: \"container\",\n  preview: \"preview\",\n  input: \"input\"\n};\n\nconst colorPickerHexInputCss = \"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.container{display:inline-grid;inline-size:100%;align-items:center;grid-template-columns:1fr auto}.preview{grid-column:2/3;pointer-events:none;margin-block:0px;margin-inline:0.25rem;display:flex;align-items:center}.preview,.input{grid-row:1}.input{grid-column:1/3;inline-size:100%;text-transform:uppercase}\";\n\nconst DEFAULT_COLOR = color();\nconst ColorPickerHexInput = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteColorPickerHexInputChange = createEvent(this, \"calciteColorPickerHexInputChange\", 6);\n    //--------------------------------------------------------------------------\n    //\n    //  Public Properties\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * When `false`, an empty color (`null`) will be allowed as a `value`. Otherwise, a color value is enforced on the component.\n     *\n     * When `true`, a color value is enforced, and clearing the input or blurring will restore the last valid `value`. When `false`, an empty color (`null`) will be allowed as a `value`.\n     */\n    this.allowEmpty = false;\n    /**\n     * Accessible name for the Hex input.\n     *\n     * @default \"Hex\"\n     */\n    this.intlHex = TEXT.hex;\n    /**\n     * Accessible name for the Hex input when there is no color selected.\n     *\n     * @default \"No color\"\n     */\n    this.intlNoColor = TEXT.noColor;\n    /** Specifies the size of the component. */\n    this.scale = \"m\";\n    /**\n     * The Hex value.\n     */\n    this.value = normalizeHex(DEFAULT_COLOR.hex());\n    this.onCalciteInternalInputBlur = () => {\n      const node = this.inputNode;\n      const inputValue = node.value;\n      const hex = `#${inputValue}`;\n      const willClearValue = this.allowEmpty && !inputValue;\n      if (willClearValue || (isValidHex(hex) && isLonghandHex(hex))) {\n        return;\n      }\n      // manipulating DOM directly since rerender doesn't update input value\n      node.value =\n        this.allowEmpty && !this.internalColor\n          ? \"\"\n          : this.formatForInternalInput(rgbToHex(this.internalColor.object()));\n    };\n    this.onInputChange = () => {\n      this.internalSetValue(this.inputNode.value, this.value);\n    };\n    /**\n     * The last valid/selected color. Used as a fallback if an invalid hex code is entered.\n     */\n    this.internalColor = DEFAULT_COLOR;\n    this.previousNonNullValue = this.value;\n    this.storeInputRef = (node) => {\n      this.inputNode = node;\n    };\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n  connectedCallback() {\n    const { allowEmpty, value } = this;\n    if (value) {\n      const normalized = normalizeHex(value);\n      if (isValidHex(normalized)) {\n        this.internalSetValue(normalized, normalized, false);\n      }\n      return;\n    }\n    if (allowEmpty) {\n      this.internalSetValue(null, null, false);\n    }\n  }\n  handleValueChange(value, oldValue) {\n    this.internalSetValue(value, oldValue, false);\n  }\n  // using @Listen as a workaround for VDOM listener not firing\n  onInputKeyDown(event) {\n    const { altKey, ctrlKey, metaKey, shiftKey } = event;\n    const { internalColor, value } = this;\n    const { key } = event;\n    if (key === \"Tab\" || key === \"Enter\") {\n      this.onInputChange();\n      return;\n    }\n    const isNudgeKey = key === \"ArrowDown\" || key === \"ArrowUp\";\n    const oldValue = this.value;\n    if (isNudgeKey) {\n      if (!value) {\n        this.internalSetValue(this.previousNonNullValue, oldValue);\n        event.preventDefault();\n        return;\n      }\n      const direction = key === \"ArrowUp\" ? 1 : -1;\n      const bump = shiftKey ? 10 : 1;\n      this.internalSetValue(normalizeHex(this.nudgeRGBChannels(internalColor, bump * direction).hex()), oldValue);\n      event.preventDefault();\n      return;\n    }\n    const withModifiers = altKey || ctrlKey || metaKey;\n    const singleChar = key.length === 1;\n    const validHexChar = hexChar.test(key);\n    if (singleChar && !withModifiers && !validHexChar) {\n      event.preventDefault();\n    }\n  }\n  onPaste(event) {\n    const hex = event.clipboardData.getData(\"text\");\n    if (isValidHex(hex)) {\n      event.preventDefault();\n      this.inputNode.value = hex.slice(1);\n    }\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n  render() {\n    const { intlHex, value } = this;\n    const hexInputValue = this.formatForInternalInput(value);\n    return (h(\"div\", { class: CSS.container }, h(\"calcite-input\", { class: CSS.input, label: intlHex, maxLength: 6, numberingSystem: this.numberingSystem, onCalciteInputChange: this.onInputChange, onCalciteInternalInputBlur: this.onCalciteInternalInputBlur, onKeyDown: this.handleKeyDown, onPaste: this.onPaste, prefixText: \"#\", ref: this.storeInputRef, scale: this.scale, value: hexInputValue }), hexInputValue ? (h(\"calcite-color-picker-swatch\", { active: true, class: CSS.preview, color: `#${hexInputValue}`, scale: this.scale })) : null));\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    focusElement(this.inputNode);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n  internalSetValue(value, oldValue, emit = true) {\n    if (value) {\n      const normalized = normalizeHex(value);\n      if (isValidHex(normalized)) {\n        const { internalColor } = this;\n        const changed = !internalColor || normalized !== normalizeHex(internalColor.hex());\n        this.internalColor = color(normalized);\n        this.previousNonNullValue = normalized;\n        this.value = normalized;\n        if (changed && emit) {\n          this.calciteColorPickerHexInputChange.emit();\n        }\n        return;\n      }\n    }\n    else if (this.allowEmpty) {\n      this.internalColor = null;\n      this.value = null;\n      if (emit) {\n        this.calciteColorPickerHexInputChange.emit();\n      }\n      return;\n    }\n    this.value = oldValue;\n  }\n  formatForInternalInput(hex) {\n    return hex ? hex.replace(\"#\", \"\") : \"\";\n  }\n  nudgeRGBChannels(color$1, amount) {\n    return color.rgb(color$1.array().map((channel) => channel + amount));\n  }\n  handleKeyDown(event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n    }\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"handleValueChange\"]\n  }; }\n};\nColorPickerHexInput.style = colorPickerHexInputCss;\n\nconst popoverManagerCss = \"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}\";\n\nconst PopoverManager = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.mutationObserver = createObserver(\"mutation\", () => this.setAutoClose());\n    // --------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * CSS Selector to match reference elements for popovers. Reference elements will be identified by this selector in order to open their associated popover.\n     *\n     * @default `[data-calcite-popover-reference]`\n     */\n    this.selector = \"[data-calcite-popover-reference]\";\n    /**\n     * Automatically closes any currently open popovers when clicking outside of a popover.\n     */\n    this.autoClose = false;\n  }\n  autoCloseHandler() {\n    this.setAutoClose();\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    var _a;\n    this.setAutoClose();\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.el, { childList: true, subtree: true });\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n  render() {\n    return h(\"slot\", null);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  // --------------------------------------------------------------------------\n  setAutoClose() {\n    const { autoClose, el } = this;\n    el.querySelectorAll(\"calcite-popover\").forEach((popover) => (popover.autoClose = autoClose));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"autoClose\": [\"autoCloseHandler\"]\n  }; }\n};\nPopoverManager.style = popoverManagerCss;\n\nexport { ColorPicker as calcite_color_picker, ColorPickerHexInput as calcite_color_picker_hex_input, PopoverManager as calcite_popover_manager };\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto$1.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport { Symbol as S, isObject as a, baseGetTag as b, isObjectLike as c, debounce as d, freeGlobal as f, isSymbol as i, root as r };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nfunction noopClick() {\n  /** noop */\n}\n/**\n * This helper updates the host element to prevent keyboard interaction on its subtree and sets the appropriate aria attribute for accessibility.\n *\n * This should be used in the `componentDidRender` lifecycle hook.\n *\n * **Notes**\n *\n * this util is not needed for simple components whose root element or elements are an interactive component (custom element or native control). For those cases, set the `disabled` props on the root components instead.\n * technically, users can override `tabindex` and restore keyboard navigation, but this will be considered user error\n *\n * @param component\n * @param hostIsTabbable\n */\nfunction updateHostInteraction(component, hostIsTabbable = false) {\n  if (component.disabled) {\n    component.el.setAttribute(\"tabindex\", \"-1\");\n    component.el.setAttribute(\"aria-disabled\", \"true\");\n    if (component.el.contains(document.activeElement)) {\n      document.activeElement.blur();\n    }\n    component.el.click = noopClick;\n    return;\n  }\n  component.el.click = HTMLElement.prototype.click;\n  if (typeof hostIsTabbable === \"function\") {\n    component.el.setAttribute(\"tabindex\", hostIsTabbable.call(component) ? \"0\" : \"-1\");\n  }\n  else if (hostIsTabbable === true) {\n    component.el.setAttribute(\"tabindex\", \"0\");\n  }\n  else if (hostIsTabbable === false) {\n    component.el.removeAttribute(\"tabindex\");\n  }\n  else ;\n  component.el.removeAttribute(\"aria-disabled\");\n}\n\nexport { updateHostInteraction as u };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nfunction isActivationKey(key) {\n  return key === \"Enter\" || key === \" \";\n}\nconst numberKeys = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\n\nexport { isActivationKey as i, numberKeys as n };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst clamp = (value, min, max) => Math.max(min, Math.min(value, max));\nconst decimalPlaces = (value) => {\n  const match = (\"\" + value).match(/(?:\\.(\\d+))?(?:[eE]([+-]?\\d+))?$/);\n  if (!match) {\n    return 0;\n  }\n  return Math.max(0, \n  // Number of digits right of decimal point.\n  (match[1] ? match[1].length : 0) -\n    // Adjust for scientific notation.\n    (match[2] ? +match[2] : 0));\n};\n\nexport { clamp as c, decimalPlaces as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\n/**\n * This utility ensures observers are created only for browser contexts.\n *\n * @param type - the type of observer to create\n * @param callback - the observer callback\n * @param options - the observer options\n */\nfunction createObserver(type, callback, options) {\n  const Observer = getObserver(type);\n  return new Observer(callback, options);\n}\nfunction getObserver(type) {\n  // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948\n  class ExtendedMutationObserver extends window.MutationObserver {\n    constructor(callback) {\n      super(callback);\n      this.observedEntry = [];\n      this.callback = callback;\n    }\n    observe(target, options) {\n      this.observedEntry.push({ target, options });\n      return super.observe(target, options);\n    }\n    unobserve(target) {\n      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\n      this.observedEntry = [];\n      this.callback(super.takeRecords(), this);\n      this.disconnect();\n      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\n    }\n  }\n  return (function () {\n    return (type === \"intersection\"\n      ? window.IntersectionObserver\n      : type === \"mutation\"\n        ? ExtendedMutationObserver\n        : window.ResizeObserver);\n  })();\n}\n\nexport { createObserver as c };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nfunction rgbToHex(color) {\n  const { r, g, b } = color;\n  return `#${r.toString(16).padStart(2, \"0\")}${g.toString(16).padStart(2, \"0\")}${b\n    .toString(16)\n    .padStart(2, \"0\")}`.toLowerCase();\n}\nconst hexChar = /^[0-9A-F]$/i;\nconst shortHandHex = /^#[0-9A-F]{3}$/i;\nconst longhandHex = /^#[0-9A-F]{6}$/i;\nfunction isValidHex(hex) {\n  return isShorthandHex(hex) || isLonghandHex(hex);\n}\nfunction isShorthandHex(hex) {\n  return hex && hex.length === 4 && shortHandHex.test(hex);\n}\nfunction isLonghandHex(hex) {\n  return hex && hex.length === 7 && longhandHex.test(hex);\n}\nfunction normalizeHex(hex) {\n  hex = hex.toLowerCase();\n  if (!hex.startsWith(\"#\")) {\n    hex = `#${hex}`;\n  }\n  if (isShorthandHex(hex)) {\n    return rgbToHex(hexToRGB(hex));\n  }\n  return hex;\n}\nfunction hexToRGB(hex) {\n  if (!isValidHex(hex)) {\n    return null;\n  }\n  hex = hex.replace(\"#\", \"\");\n  if (hex.length === 3) {\n    const [first, second, third] = hex.split(\"\");\n    const r = parseInt(`${first}${first}`, 16);\n    const g = parseInt(`${second}${second}`, 16);\n    const b = parseInt(`${third}${third}`, 16);\n    return { r, g, b };\n  }\n  const r = parseInt(hex.slice(0, 2), 16);\n  const g = parseInt(hex.slice(2, 4), 16);\n  const b = parseInt(hex.slice(4, 6), 16);\n  return { r, g, b };\n}\n// these utils allow users to pass enum values as strings without having to access the enum\n// based on the approach suggested by https://github.com/microsoft/TypeScript/issues/17690#issuecomment-321365759,\nconst enumify = (x) => x;\nconst CSSColorMode = enumify({\n  HEX: \"hex\",\n  HEXA: \"hexa\",\n  RGB_CSS: \"rgb-css\",\n  RGBA_CSS: \"rgba-css\",\n  HSL_CSS: \"hsl-css\",\n  HSLA_CSS: \"hsla-css\"\n});\nconst ObjectColorMode = enumify({\n  RGB: \"rgb\",\n  RGBA: \"rgba\",\n  HSL: \"hsl\",\n  HSLA: \"hsla\",\n  HSV: \"hsv\",\n  HSVA: \"hsva\"\n});\nfunction parseMode(colorValue) {\n  if (typeof colorValue === \"string\") {\n    if (colorValue.startsWith(\"#\")) {\n      const { length } = colorValue;\n      if (length === 4 || length === 7) {\n        return CSSColorMode.HEX;\n      }\n      if (length === 5 || length === 9) {\n        return CSSColorMode.HEXA;\n      }\n    }\n    if (colorValue.startsWith(\"rgba(\")) {\n      return CSSColorMode.RGBA_CSS;\n    }\n    if (colorValue.startsWith(\"rgb(\")) {\n      return CSSColorMode.RGB_CSS;\n    }\n    if (colorValue.startsWith(\"hsl(\")) {\n      return CSSColorMode.HSL_CSS;\n    }\n    if (colorValue.startsWith(\"hsla(\")) {\n      return CSSColorMode.HSLA_CSS;\n    }\n  }\n  if (typeof colorValue === \"object\") {\n    if (hasChannels(colorValue, \"r\", \"g\", \"b\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.RGBA : ObjectColorMode.RGB;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"l\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSLA : ObjectColorMode.HSL;\n    }\n    if (hasChannels(colorValue, \"h\", \"s\", \"v\")) {\n      return hasChannels(colorValue, \"a\") ? ObjectColorMode.HSVA : ObjectColorMode.HSV;\n    }\n  }\n  return null;\n}\nfunction hasChannels(colorObject, ...channels) {\n  return channels.every((channel) => channel && colorObject && `${channel}` in colorObject);\n}\nfunction colorEqual(value1, value2) {\n  return (value1 === null || value1 === void 0 ? void 0 : value1.rgbNumber()) === (value2 === null || value2 === void 0 ? void 0 : value2.rgbNumber());\n}\n\nexport { CSSColorMode as C, isLonghandHex as a, hexToRGB as b, colorEqual as c, hexChar as h, isValidHex as i, normalizeHex as n, parseMode as p, rgbToHex as r };\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}"],"names":["CSS$1","DEFAULT_COLOR$1","color","DEFAULT_STORAGE_KEY_PREFIX","RGB_LIMITS","r","g","b","HSV_LIMITS","h","s","v","TEXT","DIMENSIONS","slider","height","width","colorField","thumb","radius","m","l","defaultValue","normalizeHex","hex","ColorPicker","hostRef","registerInstance","this","calciteColorPickerChange","createEvent","calciteColorPickerInput","allowEmpty","appearance","disabled","format","hideHex","hideChannels","hideSaved","intlB","intlBlue","intlDeleteColor","intlG","intlGreen","intlH","intlHsv","intlHex","intlHue","intlNoColor","intlR","intlRed","intlRgb","intlS","intlSaturation","intlSaveColor","intlSaved","intlV","intlValue","scale","value","colorFieldAndSliderHovered","hueThumbState","internalColorUpdateContext","mode","CSSColorMode","shiftKeyChannelAdjustment","sliderThumbState","colorFieldAndSliderInteractive","channelMode","channels","toChannels","dimensions","savedColors","handleTabActivate","event","currentTarget","getAttribute","updateChannelsFromColor","handleColorFieldScopeKeyDown","key","arrowKeyToXYOffset","ArrowUp","x","y","ArrowRight","ArrowDown","ArrowLeft","preventDefault","scopeOrientation","captureColorFieldColor","colorFieldScopeLeft","colorFieldScopeTop","handleHueScopeKeyDown","modifier","shiftKey","arrowKeyToXOffset","delta","hue","baseColorFieldColor","internalColorSet","handleHexInputChange","stopPropagation","color$1","target","handleSavedColorSelect","swatch","handleChannelInput","inputValue","input","internalInput","detail","nativeEvent","channelIndex","Number","limit","Object","keys","clamp","toString","handleChannelChange","updateColorFromChannels","handleSavedColorKeyDown","isActivationKey","handleColorFieldAndSliderPointerLeave","drawColorFieldAndSlider","handleColorFieldAndSliderPointerDown","_a","_b","isPrimaryPointerButton","offsetX","offsetY","region","getCanvasRegion","colorFieldScopeNode","focus","captureHueSliderColor","hueScopeNode","document","addEventListener","globalPointerMoveHandler","globalPointerUpHandler","once","activeColorFieldAndSliderRect","fieldAndSliderRenderingContext","canvas","getBoundingClientRect","previouslyDragging","emit","el","sliderThumbDragging","hueThumbDragging","isConnected","samplingX","samplingY","colorFieldAndSliderRect","clientX","clientY","colorFieldWidth","colorFieldHeight","hueSliderHeight","handleColorFieldAndSliderPointerEnterOrMove","prevHueThumbState","hsv","centerX","Math","round","saturationv","centerY","hoveringThumb","containsPoint","transitionedBetweenHoverAndIdle","sliderThumbColor","prevSliderThumbState","sliderThumbCenterX","sliderThumbCenterY","getSliderCapSpacing","hoveringSliderThumb","sliderThumbTransitionedBetweenHoverAndIdle","storeColorFieldScope","node","storeHueScope","renderChannelsTabTitle","activeChannelMode","active","label","class","onCalciteTabsActivate","renderChannelsTab","isRgb","channelLabels","channelAriaLabels","direction","getElementDir","dir","map","channel","index","renderChannel","ariaLabel","numberButtonType","numberingSystem","onCalciteInputChange","onCalciteInputInput","onKeyDown","handleKeyDown","prefixText","type","deleteColor","colorToDelete","indexOf","filter","storageKey","storageId","localStorage","setItem","JSON","stringify","saveColor","colorToSave","func","wait","options","leading","trailing","TypeError","isObject","debounce","throttle","drawColorField","drawHueSlider","skipEqual","saturation","initColorFieldAndSlider","getContext","updateCanvasSize","oldColor","previousColor","setMode","updateDimensions","oldValue","modeChanged","nextMode","parseMode","showIncompatibleColorWarning","dragging","colorChanged","colorEqual","composedPath","some","classList","contains","focusElement","willSetNoColor","parsedMode","valueIsCompatible","initialColor","getItem","parse","removeEventListener","updateHostInteraction","selectedColorInHex","hexInputScale","hueScopeLeft","hueScopeTop","sliderHeight","hueTop","hueLeft","noColor","vertical","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","ref","role","style","top","left","tabindex","onCalciteColorPickerHexInputChange","slot","iconStart","onClick","length","tabIndex","console","warn","context","toValue","hexMode","includes","replace","string","colorObject","object","endsWith","a","alpha","fillStyle","fillRect","whiteGradient","createLinearGradient","addColorStop","blackGradient","drawActiveColorFieldColor","devicePixelRatio","window","setCanvasContextSize","testPointX","testPointY","boundsX","boundsY","boundsRadius","pow","hsvColor","requestAnimationFrame","drawThumb","state","endAngle","PI","beginPath","arc","shadowBlur","shadowColor","fill","rgb","gradient","hueSliderColorStopKeywords","offset","currentOffset","forEach","keyword","clearRect","drawActiveHueSliderColor","array","floor","getElement","CSS","DEFAULT_COLOR","ColorPickerHexInput","calciteColorPickerHexInputChange","onCalciteInternalInputBlur","inputNode","isValidHex","isLonghandHex","internalColor","formatForInternalInput","rgbToHex","onInputChange","internalSetValue","previousNonNullValue","storeInputRef","normalized","altKey","ctrlKey","metaKey","isNudgeKey","bump","nudgeRGBChannels","withModifiers","singleChar","validHexChar","hexChar","clipboardData","getData","slice","hexInputValue","maxLength","onPaste","changed","amount","PopoverManager","mutationObserver","createObserver","setAutoClose","selector","autoClose","observe","childList","subtree","disconnect","querySelectorAll","popover","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto$1","prototype","hasOwnProperty","nativeObjectToString$1","symToStringTag$1","toStringTag","undefined","nativeObjectToString","symToStringTag","baseGetTag","isOwn","call","tag","unmasked","e","result","getRawTag","objectToString","isObjectLike","isSymbol","reWhitespace","reTrimStart","baseTrim","test","charAt","trimmedEndIndex","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","now","Date","nativeMax","max","nativeMin","min","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","arguments","clearTimeout","cancel","flush","noopClick","component","hostIsTabbable","setAttribute","activeElement","blur","click","HTMLElement","removeAttribute","numberKeys","decimalPlaces","match","callback","Observer","ExtendedMutationObserver","observedEntry","push","newObservedEntries","observed","MutationObserver","IntersectionObserver","ResizeObserver","getObserver","padStart","toLowerCase","shortHandHex","longhandHex","isShorthandHex","startsWith","hexToRGB","split","first","second","third","HEX","HEXA","RGB_CSS","RGBA_CSS","HSL_CSS","HSLA_CSS","ObjectColorMode","RGB","RGBA","HSL","HSLA","HSV","HSVA","colorValue","hasChannels","every","value1","value2","rgbNumber","_superPropBase","property","getPrototypeOf","_get","Reflect","get","bind","receiver","base","desc","getOwnPropertyDescriptor"],"sourceRoot":""}