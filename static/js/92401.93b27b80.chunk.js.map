{"version":3,"file":"static/js/92401.93b27b80.chunk.js","mappings":"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","sources":["../.yalc/@esri/hub-components/dist/esm/arcgis-hub-license-picker-modal.entry.js","../.yalc/@esri/hub-components/dist/esm/context-7d8f7366.js","../.yalc/@esri/hub-components/dist/esm/get-structured-license-d1e63636.js","../.yalc/@esri/hub-components/dist/esm/license-picker-40b67f0f.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host$1, g as getElement } from './index-0d95d9d4.js';\nimport { b as bind } from './context-7d8f7366.js';\nimport { c as composeLicenses, g as getLicenseDescription, i as isCustomLicense } from './license-picker-40b67f0f.js';\nimport { i as intlManager } from './intl-manager-821aea3b.js';\nimport { g as getStructuredLicense } from './get-structured-license-d1e63636.js';\nimport './index-4e91769f.js';\n\n/* NOTE: Define styles here. See note in `arcgis-hub-license-picker-modal.render()` for more info. */\nconst Host = 'arcgis-hub-license-picker-modal';\nconst ScopedStyles = `\n    ${Host} {\n      --calcite-font-size--1: 1rem;\n      --calcite-font-size--2: 1rem;\n    }\n\n    ${Host} calcite-modal [slot=\"content\"] {\n      height: 50vh;\n    }\n\n    ${Host} calcite-modal calcite-tabs {\n      min-height: 100%\n    }\n\n    ${Host} calcite-modal calcite-tab {\n      height: auto;\n    }\n\n    ${Host} calcite-modal .action-buttons {\n      display: flex;\n      justify-content: space-between;\n    }\n\n    ${Host} calcite-modal .action-buttons > calcite-button {\n      width: 45%;\n    }\n\n    ${Host} calcite-modal .custom-editor {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    ${Host} calcite-modal arcgis-hub-rich-text {\n      flex-grow: 1;\n    }\n\n    ${Host} calcite-modal .ck.ck-editor {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    ${Host} calcite-modal .ck.ck-editor__main {\n      flex-grow: 1;\n    }\n\n    ${Host} calcite-modal .ck.ck-editor__editable {\n      height: 100%;\n      min-height: 12rem;\n    }\n\n    @media screen and (max-width: 816px) {\n      ${Host} calcite-modal [slot=\"content\"] {\n        height: 100%;\n      }\n    }\n\n    @media screen and (max-width: 480px) {\n      ${Host} calcite-modal .action-buttons > calcite-button {\n        width: 50%;\n      }\n    }\n  `;\n\nconst arcgisHubLicensePickerModalCss = \"\";\n\nconst ArcgisHubLicensePickerModal = class {\n  /*           *\n   *  Methods  *\n   *           */\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.arcgisHubLicensePickerModalApply = createEvent(this, \"arcgisHubLicensePickerModalApply\", 7);\n    this.arcgisHubLicensePickerModalCancel = createEvent(this, \"arcgisHubLicensePickerModalCancel\", 7);\n    this.modalIsOpen = false;\n    // Must key on 'IStructuredLicense.abbr' for 'getStandardLicense()' to match\n    this.licenseChoiceAbbrs = [\n      'CC0',\n      'CC BY',\n      'CC BY-SA',\n      'CC BY-ND',\n      'CC BY-NC',\n      'CC BY-NC-SA',\n      'CC BY-NC-ND',\n      'PDDL',\n      'ODbL',\n      'ODC BY'\n    ];\n    bind(this, 'handleApply', 'handleCancel', 'handleLicenseSelection', 'handleOpenLink', 'handleTextChange', 'setRichTextEditor');\n  }\n  get structuredLicense() {\n    return getStructuredLicense(this.licenseInfo);\n  }\n  // * * Lifecycle * *\n  async componentWillLoad() {\n    this.intl = await intlManager.loadIntlForComponent(this.element);\n    this.licenseChoices = composeLicenses(this.licenseChoiceAbbrs);\n  }\n  // * * Listeners * *\n  handleLicenseSelection(event) {\n    const selectedItems = event.detail;\n    if (selectedItems.size) {\n      const selectedLicenseAbbr = selectedItems.keys().next().value;\n      const selectedLicense = this.licenseChoices.find(license => license.abbr === selectedLicenseAbbr);\n      this.licenseInfo = selectedLicense.abbr || '';\n    }\n  }\n  // 'arcgis-hub-rich-text' is not part of the shadow DOM; target 'body' instead\n  handleTextChange(event) {\n    this.licenseInfo = event.target.value;\n  }\n  // * * General * *\n  handleApply() {\n    const overwritesCustomLicense = this.wasCustomLicense && !isCustomLicense(this.structuredLicense.type);\n    if (overwritesCustomLicense) {\n      if (!confirm(this.intl.t('overwriteWarning'))) {\n        return;\n      }\n    }\n    this.arcgisHubLicensePickerModalApply.emit(this.licenseInfo);\n  }\n  handleCancel() {\n    this.arcgisHubLicensePickerModalCancel.emit();\n  }\n  handleOpenLink(event) {\n    // Ends up \"hiding\" links from the DOM, mouse hovers, right clicks, etc. May be worth noting\n    window.open(event.target.dataset.url);\n  }\n  setRichTextEditor(el) {\n    this.richTextEditor = el;\n  }\n  // * * Render * *\n  render() {\n    return (h(Host$1, { \"data-element\": \"license-picker-modal\" }, h(\"style\", null, ScopedStyles), h(\"calcite-modal\", { \"aria-labelledby\": \"license-picker-modal\", open: this.modalIsOpen }, h(\"h3\", { class: \"license-picker-modal-title\", slot: \"header\" }, this.intl.t('title')), h(\"div\", { slot: \"content\" }, h(\"calcite-tabs\", { layout: \"center\", scale: \"m\" }, h(\"calcite-tab-nav\", { slot: \"tab-nav\" }, h(\"calcite-tab-title\", null, this.intl.t('chooseTabTitle')), h(\"calcite-tab-title\", null, this.intl.t('editTabTitle'))), h(\"calcite-tab\", null, h(\"calcite-label\", { class: \"choose-picker-label\", for: \"license-picker\" }, this.intl.t('chooseTabPickerLabel')), h(\"calcite-notice\", { color: \"yellow\" }, h(\"div\", { slot: \"title\" }, this.intl.t('overwriteCustomLicenseTitle')), h(\"div\", { slot: \"link\" }, this.intl.t('overwriteCustomLicenseLinkMessage', { a: (...chunks) => h(\"a\", { href: \"https://doc.arcgis.com/en/hub/content/add-and-manage-groups.htm#ESRI_SECTION1_879A381A9C8C42D59018947CB2509CB2\" }, chunks)\n    }))), h(\"calcite-value-list\", { class: \"license-picker\" }, this.licenseChoices.map(choice => h(\"calcite-value-list-item\", { description: getLicenseDescription(this.intl, choice.type), key: choice.type, label: choice.abbr, selected: choice.type === this.structuredLicense.type, value: choice.abbr }, h(\"calcite-action\", { \"aria-label\": this.intl.t('licenseInfoButtonAriaLabel'), \"aria-labelledby\": choice.abbr, \"data-url\": choice.url, icon: \"information\", onClick: this.handleOpenLink, slot: \"actions-end\", text: \"\" }))))), h(\"calcite-tab\", null, h(\"div\", { class: \"custom-editor\" }, h(\"calcite-notice\", { color: \"yellow\" }, h(\"div\", { slot: \"title\" }, this.intl.t('overwriteStructuredLicenseTitle')), h(\"div\", { slot: \"message\" }, this.intl.t('overwriteStructuredLicenseMessage')), h(\"div\", { slot: \"link\" }, this.intl.t('overwriteStructuredLicenseLinkMessage', { a: (...chunks) => h(\"a\", { href: \"https://doc.arcgis.com/en/hub/content/add-and-manage-groups.htm#ESRI_SECTION1_879A381A9C8C42D59018947CB2509CB2\" }, chunks)\n    }))), h(\"arcgis-hub-rich-text\", { label: this.intl.t('editTabEditorLabel'), name: this.intl.t('editTabEditorLabel'), placeholder: this.intl.t('editTabEditorPlaceholder'), ref: this.setRichTextEditor, toolbar: \"heading,|,bold,italic,link,|,undo,redo\", value: this.licenseInfo, \"wrapper-class\": \"arcgis-hub-license-editor\" }))))), h(\"div\", { class: \"action-buttons\", slot: \"primary\" }, h(\"calcite-button\", { appearance: \"outline\", class: \"cancel-button\", onClick: this.handleCancel }, this.intl.t('cancelButton')), h(\"calcite-button\", { appearance: \"solid\", class: \"apply-button\", onClick: this.handleApply }, this.intl.t('applyButton'))))));\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get element() { return getElement(this); }\n};\nArcgisHubLicensePickerModal.style = arcgisHubLicensePickerModalCss;\n\nexport { ArcgisHubLicensePickerModal as arcgis_hub_license_picker_modal };\n","const bind = (context, ...methodNames) => {\n  methodNames.forEach(methodName => {\n    if (typeof context[methodName] !== 'function') {\n      throw new Error(`Cannot bind context. ${methodName} must be a function`);\n    }\n    context[methodName] = context[methodName].bind(context);\n  });\n};\n\nexport { bind as b };\n","const STANDARD_LICENSES = [\n    {\n        type: \"CC0-1.0\",\n        abbr: \"CC0\",\n        name: \"Public Domain Dedication\",\n        url: \"https://creativecommons.org/publicdomain/zero/1.0\",\n    },\n    {\n        type: \"CC-BY-4.0\",\n        abbr: \"CC BY\",\n        name: \"Attribution 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by/4.0\",\n    },\n    {\n        type: \"CC-BY-3.0\",\n        abbr: \"CC BY 3.0\",\n        name: \"Attribution 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by/3.0\",\n    },\n    {\n        type: \"CC-BY-2.5\",\n        abbr: \"CC BY 2.5\",\n        name: \"Attribution 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by/2.5\",\n    },\n    {\n        type: \"CC-BY-2.0\",\n        abbr: \"CC BY 2.0\",\n        name: \"Attribution 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by/2.0\",\n    },\n    {\n        type: \"CC-BY-1.0\",\n        abbr: \"CC BY 1.0\",\n        name: \"Attribution 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by/1.0\",\n    },\n    {\n        type: \"CC-BY-SA-4.0\",\n        abbr: \"CC BY-SA\",\n        name: \"Attribution-ShareAlike 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by-sa/4.0\",\n    },\n    {\n        type: \"CC-BY-SA-3.0\",\n        abbr: \"CC BY-SA 3.0\",\n        name: \"Attribution-ShareAlike 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by-sa/3.0\",\n    },\n    {\n        type: \"CC-BY-SA-2.5\",\n        abbr: \"CC BY-SA 2.5\",\n        name: \"Attribution-ShareAlike 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by-sa/2.5\",\n    },\n    {\n        type: \"CC-BY-SA-2.0\",\n        abbr: \"CC BY-SA 2.0\",\n        name: \"Attribution-ShareAlike 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-sa/2.0\",\n    },\n    {\n        type: \"CC-BY-SA-1.0\",\n        abbr: \"CC BY-SA 1.0\",\n        name: \"Attribution-ShareAlike 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-sa/1.0\",\n    },\n    {\n        type: \"CC-BY-ND-4.0\",\n        abbr: \"CC BY-ND\",\n        name: \"Attribution-NoDerivatives 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by-nd/4.0\",\n    },\n    {\n        type: \"CC-BY-ND-3.0\",\n        abbr: \"CC BY-ND 3.0\",\n        name: \"Attribution-NoDerivs 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by-nd/3.0\",\n    },\n    {\n        type: \"CC-BY-ND-2.5\",\n        abbr: \"CC BY-ND 2.5\",\n        name: \"Attribution-NoDerivs 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nd/2.5\",\n    },\n    {\n        type: \"CC-BY-ND-2.0\",\n        abbr: \"CC BY-ND 2.0\",\n        name: \"Attribution-NoDerivs 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nd/2.0\",\n    },\n    {\n        type: \"CC-BY-ND-1.0\",\n        abbr: \"CC BY-ND 1.0\",\n        name: \"Attribution-NoDerivs 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nd/1.0\",\n    },\n    {\n        type: \"CC-BY-NC-4.0\",\n        abbr: \"CC BY-NC\",\n        name: \"Attribution-NonCommercial 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by-nc/4.0\",\n    },\n    {\n        type: \"CC-BY-NC-3.0\",\n        abbr: \"CC BY-NC 3.0\",\n        name: \"Attribution-NonCommercial 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by-nc/3.0\",\n    },\n    {\n        type: \"CC-BY-NC-2.5\",\n        abbr: \"CC BY-NC 2.5\",\n        name: \"Attribution-NonCommercial 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc/2.5\",\n    },\n    {\n        type: \"CC-BY-NC-2.0\",\n        abbr: \"CC BY-NC 2.0\",\n        name: \"Attribution-NonCommercial 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc/2.0\",\n    },\n    {\n        type: \"CC-BY-NC-1.0\",\n        abbr: \"CC BY-NC 1.0\",\n        name: \"Attribution-NonCommercial 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc/1.0\",\n    },\n    {\n        type: \"CC-BY-NC-SA-4.0\",\n        abbr: \"CC BY-NC-SA\",\n        name: \"Attribution-NonCommercial-ShareAlike 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by-nc-sa/4.0\",\n    },\n    {\n        type: \"CC-BY-NC-SA-3.0\",\n        abbr: \"CC BY-NC-SA 3.0\",\n        name: \"Attribution-NonCommercial-ShareAlike 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by-nc-sa/3.0\",\n    },\n    {\n        type: \"CC-BY-NC-SA-2.5\",\n        abbr: \"CC BY-NC-SA 2.5\",\n        name: \"Attribution-NonCommercial-ShareAlike 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-sa/2.5\",\n    },\n    {\n        type: \"CC-BY-NC-SA-2.0\",\n        abbr: \"CC BY-NC-SA 2.0\",\n        name: \"Attribution-NonCommercial-ShareAlike 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-sa/2.0\",\n    },\n    {\n        type: \"CC-BY-NC-SA-1.0\",\n        abbr: \"CC BY-NC-SA 1.0\",\n        name: \"Attribution-NonCommercial-ShareAlike 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-sa/1.0\",\n    },\n    {\n        type: \"CC-BY-NC-ND-4.0\",\n        abbr: \"CC BY-NC-ND\",\n        name: \"Attribution-NonCommercial-NoDerivatives 4.0 International\",\n        url: \"https://creativecommons.org/licenses/by-nc-nd/4.0\",\n    },\n    {\n        type: \"CC-BY-NC-ND-3.0\",\n        abbr: \"CC BY-NC-ND 3.0\",\n        name: \"Attribution-NonCommercial-NoDerivs 3.0 Unported\",\n        url: \"https://creativecommons.org/licenses/by-nc-nd/3.0\",\n    },\n    {\n        type: \"CC-BY-NC-ND-2.5\",\n        abbr: \"CC BY-NC-ND 2.5\",\n        name: \"Attribution-NonCommercial-NoDerivs 2.5 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-nd/2.5\",\n    },\n    {\n        type: \"CC-BY-NC-ND-2.0\",\n        abbr: \"CC BY-NC-ND 2.0\",\n        name: \"Attribution-NonCommercial-NoDerivs 2.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-nd/2.0\",\n    },\n    {\n        type: \"CC-BY-NC-ND-1.0\",\n        abbr: \"CC BY-NC-ND 1.0\",\n        name: \"Attribution-NonCommercial-NoDerivs 1.0 Generic\",\n        url: \"https://creativecommons.org/licenses/by-nc-nd/1.0\",\n    },\n    {\n        type: \"PDDL-1.0\",\n        abbr: \"PDDL\",\n        name: \"ODC Public Domain Dedication and License\",\n        url: \"https://opendatacommons.org/licenses/pddl/summary\",\n    },\n    {\n        type: \"ODbL-1.0\",\n        abbr: \"ODbL\",\n        name: \"ODC Open Database License\",\n        url: \"https://opendatacommons.org/licenses/odbl/summary\",\n    },\n    {\n        type: \"ODC-BY-1.0\",\n        abbr: \"ODC BY\",\n        name: \"ODC Attribution License\",\n        url: \"https://opendatacommons.org/licenses/by/summary\",\n    },\n];\n/**\n * generates the structured license of an item based on its\n * configured \"licenseInfo\"\n * @param rawLicense an item's raw licenseInfo string\n * @returns {IStructuredLicense}\n */\nfunction getStructuredLicense(rawLicense) {\n    let structuredLicense;\n    rawLicense = rawLicense || \"\";\n    // (1) start by assuming it's either a custom license, or, if there's no\n    // raw license, then there's no license at all\n    structuredLicense = {\n        type: rawLicense ? \"custom\" : \"none\",\n        text: rawLicense,\n    };\n    // (2) Check for standard licenses: If the name, abbr, or url of any standard\n    // license is in the raw license text, we assume that is the license.\n    let hasStandardLicense = false;\n    const matchingStandardLicenses = STANDARD_LICENSES.filter((standardLicense) => {\n        return licenseTextContainsStandardLicenseAttributes(rawLicense, standardLicense);\n    });\n    if (matchingStandardLicenses.length) {\n        hasStandardLicense = true;\n        structuredLicense = matchingStandardLicenses.pop();\n    }\n    // (3) if not a standard license, we check if the raw license is a url or link\n    if (!hasStandardLicense) {\n        let url;\n        // a. check if the the raw license is simply a url\n        if (isParseableAsURL(rawLicense)) {\n            url = rawLicense;\n        }\n        // b. check if the raw license is simply a link (i.e. an anchor tag with an href)\n        else if (isSingleAnchorWithHrefAttribute(rawLicense)) {\n            const hrefRegex = new RegExp(/href\\s?=\\s?[\"'](.*?)[\"']/);\n            const match = rawLicense.match(hrefRegex);\n            const href = match[1];\n            url = href;\n        }\n        if (url) {\n            structuredLicense.url = url;\n            structuredLicense.text = \"\";\n        }\n    }\n    if (!structuredLicense.text)\n        delete structuredLicense.text;\n    return structuredLicense;\n}\n/**\n * helper function to determine if a raw license is one of the standard licenses.\n * We say it is if the raw license includes the name, url or abbreviation of the\n * standard license\n * @param rawLicense an item's raw licenseInfo string\n * @param standardLicense one of the standard licenses\n * @returns {boolean}\n */\nfunction licenseTextContainsStandardLicenseAttributes(rawLicense, standardLicense) {\n    rawLicense = rawLicense.toLowerCase();\n    return (rawLicense.includes(standardLicense.name.toLowerCase()) ||\n        rawLicense.includes(standardLicense.url.toLowerCase()) ||\n        rawLicense.includes(standardLicense.abbr.toLowerCase()));\n}\n/**\n * helper function to determine if an input string can be parsed\n * as a URL with a protocol\n * @param value string to check\n * @returns {boolean}\n */\nfunction isParseableAsURL(value) {\n    try {\n        const url = new URL(value);\n        return !!url.protocol;\n    }\n    catch (err) {\n        // just return fals if the URL couldn't be parsed\n        return false;\n    }\n}\n/**\n * helper function to determine if the raw license is simply a link, i.e. a single\n * anchor tag with an href attribute: <a href=\"https://google.com\">Click</a> or <a href=\"https://google.com\" />\n * @param rawLicense an item's raw licenseInfo string\n * @returns {boolean}\n */\nfunction isSingleAnchorWithHrefAttribute(rawLicense) {\n    const isSingleAnchorTagRegex = new RegExp(/^<a[\\s]+(href\\s?=\\s?[\"'].*?[\"'])+([^>]?)>((?:.(?!\\<\\/a\\>))*.)?<\\/a>$|^<a[\\s]+(href\\s?=\\s?[\"'].*?[\"'])+([^>]?)\\/>/);\n    return isSingleAnchorTagRegex.test(rawLicense);\n}\n\nexport { getStructuredLicense as g };\n","import { g as getStructuredLicense } from './get-structured-license-d1e63636.js';\n\nvar GenericLicenseType;\n(function (GenericLicenseType) {\n  GenericLicenseType[\"Custom\"] = \"custom\";\n  GenericLicenseType[\"None\"] = \"none\";\n})(GenericLicenseType || (GenericLicenseType = {}));\nconst LicenseDescriptionI18nKeys = {\n  'custom': 'licenseDescriptionCustom',\n  'cc0': 'licenseDescriptionCc0',\n  'cc-by': 'licenseDescriptionCcBy',\n  'cc-by-sa': 'licenseDescriptionCcBySa',\n  'cc-by-nd': 'licenseDescriptionCcByNd',\n  'cc-by-nc': 'licenseDescriptionCcByNc',\n  'cc-by-nc-sa': 'licenseDescriptionCcByNcSa',\n  'cc-by-nc-nd': 'licenseDescriptionCcByNcNd',\n  'pddl': 'licenseDescriptionPddl',\n  'odbl': 'licenseDescriptionOdbl',\n  'odc-by': 'licenseDescriptionOdcBy'\n};\nfunction composeLicenses(abbrs) {\n  return abbrs.map(abbr => getStructuredLicense(abbr));\n}\nfunction getLicenseDescriptionI18nKey(structuredLicenseType) {\n  const matchNotVersion = /(?:(?!-\\d).)+/;\n  const licensePrefixMatchs = structuredLicenseType.toString().match(matchNotVersion);\n  const licensePrefix = licensePrefixMatchs && licensePrefixMatchs[0].toLowerCase();\n  return LicenseDescriptionI18nKeys[licensePrefix] || null;\n}\nfunction getLicenseDescription(intl, structuredLicenseType) {\n  const licenseDescriptionI18nKey = getLicenseDescriptionI18nKey(structuredLicenseType);\n  return licenseDescriptionI18nKey && intl.t(licenseDescriptionI18nKey);\n}\nfunction isCustomLicense(type) {\n  return type === GenericLicenseType.Custom;\n}\nfunction isGenericLicense(type) {\n  return Object.values(GenericLicenseType).includes(type);\n}\n\nexport { isGenericLicense as a, composeLicenses as c, getLicenseDescription as g, isCustomLicense as i };\n"],"names":["Host","ScopedStyles","ArcgisHubLicensePickerModal","hostRef","registerInstance","this","arcgisHubLicensePickerModalApply","createEvent","arcgisHubLicensePickerModalCancel","modalIsOpen","licenseChoiceAbbrs","bind","getStructuredLicense","licenseInfo","intlManager","element","intl","licenseChoices","composeLicenses","event","selectedItems","detail","size","selectedLicenseAbbr","keys","next","value","selectedLicense","find","license","abbr","target","wasCustomLicense","isCustomLicense","structuredLicense","type","confirm","t","emit","window","open","dataset","url","el","richTextEditor","h","Host$1","class","slot","layout","scale","for","color","a","chunks","href","map","choice","description","getLicenseDescription","key","label","selected","icon","onClick","handleOpenLink","text","name","placeholder","ref","setRichTextEditor","toolbar","appearance","handleCancel","handleApply","getElement","style","context","methodNames","forEach","methodName","Error","STANDARD_LICENSES","rawLicense","hasStandardLicense","matchingStandardLicenses","filter","standardLicense","toLowerCase","includes","licenseTextContainsStandardLicenseAttributes","length","pop","URL","protocol","err","isParseableAsURL","RegExp","test","isSingleAnchorWithHrefAttribute","hrefRegex","match","GenericLicenseType","LicenseDescriptionI18nKeys","abbrs","structuredLicenseType","licenseDescriptionI18nKey","licensePrefixMatchs","toString","licensePrefix","getLicenseDescriptionI18nKey","Custom","isGenericLicense","Object","values"],"sourceRoot":""}