(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[18841,63058,51130,29302,29899,63050],{63058:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=63058,e.exports=t},62230:function(e,t,i){"use strict";i.d(t,{l:function(){return s}});var n=i(10625),r=i(19545),o=(0,n.c)((function(e,t){n.a,function(e){var t={Promise:"undefined"!==typeof window?window.Promise:void 0},i="4.25",n="next";function r(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=i),"https://js.arcgis.com/".concat(e,"/")}function a(e){void 0===e&&(e=i);var t=o(e),a=r(e);if(a!==n&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function l(e,t){if(t){var i=document.querySelector(t);i.parentNode.insertBefore(e,i)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||r(e)?a(e):e}function h(e,t){var i=d(e),n=c(i);return n||l(n=s(i),t),n}var u={};function g(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function f(e,t,i){var n;i&&(n=v(e,i));var r=function i(){t(e),e.removeEventListener("load",i,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",r,!1)}function v(e,t){var i=function i(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",i,!1)};return e.addEventListener("error",i,!1),i}function p(e){void 0===e&&(e={}),u=e}function m(){return document.querySelector("script[data-esri-loader]")}function w(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var i={};[u,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}));var n=i.version,r=i.url||o(n);return new t.Promise((function(e,t){var o=m();if(o){var a=o.getAttribute("src");a!==r?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):w()?e(o):f(o,e,t)}else if(w())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=i.css;s&&h(!0===s?n:s,i.insertCssBefore),f(o=g(r),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function y(e){return new t.Promise((function(t,i){var n=window.require.on("error",i);window.require(e,(function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n.remove(),t(e)}))}))}function x(e,t){if(void 0===t&&(t={}),w())return y(e);var i=m(),n=i&&i.getAttribute("src");return!t.url&&n&&(t.url=n),b(t).then((function(){return y(e)}))}e.utils=t,e.loadModules=x,e.getScript=m,e.isLoaded=w,e.loadScript=b,e.setDefaultOptions=p,e.loadCss=h,Object.defineProperty(e,"__esModule",{value:!0})}(t)})),a={themeOrUrl:"light"},s=function(){var e=document.querySelector('link[rel="stylesheet"][href*="/esri/themes"]');if(e){new RegExp(r.i8).test(e.href)||console.warn("Your ArcGIS API for JavaScript StyleSheet file should match the current hub-components version: ".concat(r.i8,"."))}else{var t=a.themeOrUrl,i=a.insertBefore,n=["light","dark"].includes(t)?"https://js.arcgis.com/".concat(r.i8,"/esri/themes/").concat(t,"/main.css"):t;o.loadCss(n,i)}}},23789:function(e,t,i){"use strict";i.r(t),i.d(t,{arcgis_hub_map_widget_legend:function(){return v}});var n=i(29439),r=i(74165),o=i(15861),a=i(15671),s=i(43144),l=i(72585),c=i(32836),d=i(12868),h=i(85621),u=i(8537),g=i(28073),f=i(62230),v=(i(84371),i(10625),i(19545),function(){function e(t){(0,a.Z)(this,e),(0,l.r)(this,t),this.arcgisHubWidgetPanelToggled=(0,l.c)(this,"arcgisHubWidgetPanelToggled",7),this.hubTelemetry=(0,l.c)(this,"hubTelemetry",7),this.scale="m",this.bottomOffset=0,this.topOffset=0,this.closed=!0,(0,c.b)(this,"toggleClosed","setPanelHeight","handleSetPanelRef","handleSetWidgetRef")}return(0,s.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.el,i=t&&t.closest("arcgis-hub-map-widget-container"),this.viewPosition=null===i||void 0===i?void 0:i.viewPosition,e.next=5,d.i.loadIntlForComponent(t);case 5:this.intl=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidLoad",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.view&&this.addWidget(),(0,f.l)();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addWidgetToView",value:function(e,t){e&&e!==t&&this.addWidget()}},{key:"updateViewHeightWhenOpen",value:function(){var e=this.closed;this.active=!e,this.active&&this.setPanelHeight()}},{key:"emitEventOnActiveChange",value:function(e){var t=e?h.d.dictionary.category.interaction.action.open.label.panel.details.legend:h.d.dictionary.category.interaction.action.close.label.panel.details.legend;this.hubTelemetry.emit(t)}},{key:"handleCalcitePanelDismissedChange",value:function(e){e.stopPropagation();var t=e.target.closed;this.arcgisHubWidgetPanelToggled.emit(t)}},{key:"handlePanelToggled",value:function(e){var t=e.target,i=e.detail;t===this.el?this.closed=i:i||(this.closed=!0)}},{key:"handleSetPanelRef",value:function(e){e&&(this.panelEl=e)}},{key:"handleSetWidgetRef",value:function(e){e&&(this.legendEl=e)}},{key:"toggleClosed",value:function(){this.closed=!this.closed}},{key:"setPanelHeight",value:function(){var e=this.legendEl,t=this.view,i=t.size,r=t.container,o=(0,n.Z)(i,2),a=o[0],s=o[1];this.viewHeight=s,this.viewWidth=a;var l=r.getBoundingClientRect(),c=l.top,d=l.bottom,h=e.getBoundingClientRect(),u=h.top,g=h.bottom;this.topOffset=u-c,this.viewPosition.includes("top")?this.viewHeightWithOffset=s-this.topOffset:(this.bottomOffset=d-g,this.viewHeightWithOffset=s-this.bottomOffset)}},{key:"addWidget",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t,i,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.legend,i=this.view,n=this.panelEl,!i||!n||t){e.next=6;break}return e.next=4,i.when();case 4:this.legend=new g.Z({view:i,container:n}),(0,u.YP)(i,"size",this.setPanelHeight);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"positionClass",get:function(){var e=this.viewPosition;if(e)return"hub-widget-legend ".concat(e.split("-").join(" "))}},{key:"styles",get:function(){var e=this.viewHeight,t=this.viewWidth,i=this.viewHeightWithOffset,n=this.bottomOffset,r=this.topOffset,o=this.active,a=640;return a>e&&(a=e),{"--panel-height":"".concat(i,"px"),"--panel-height-mobile":"".concat(a,"px"),"--view-width":"".concat(t,"px"),"--bottom-offset":"".concat(n,"px"),"--top-offset":"".concat(r,"px"),"--mobile-display":o?"flex":"none"}}},{key:"render",value:function(){var e=this.styles,t=this.positionClass,i=this.closed,n=this.active,r=this.scale,o=this.intl.t("heading"),a=this.intl.t("textOpen"),s=this.intl.t("textClose");return(0,l.h)(l.H,{"data-element":"map-widget-legend",style:e},(0,l.h)("calcite-panel",{class:t,closable:!0,closed:i,heading:o,ref:this.handleSetPanelRef}),(0,l.h)("arcgis-hub-map-widget-generic",{active:n,icon:"legend",onClick:this.toggleClosed,ref:this.handleSetWidgetRef,scale:r,text:n?s:a}))}},{key:"el",get:function(){return(0,l.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{view:["addWidgetToView"],closed:["updateViewHeightWhenOpen"],active:["emitEventOnActiveChange"]}}}]),e}());v.style=":host{display:block}calcite-panel div{background-color:var(--calcite-ui-foreground-1)}.esri-legend__service,.esri-legend__service>.esri-widget__heading{color:var(--calcite-ui-text-1)}.hub-widget-legend{min-width:none !important;max-width:none !important;padding:0px}@media only screen and (min-width: 640px){.hub-widget-legend.top{position:absolute}.hub-widget-legend.top{width:25rem}.hub-widget-legend.top{padding:0px}.hub-widget-legend.top{max-height:calc(var(--panel-height) - 2rem)}.hub-widget-legend.bottom{position:absolute}.hub-widget-legend.bottom{width:25rem}.hub-widget-legend.bottom{padding:0px}.hub-widget-legend.bottom{bottom:calc(var(--bottom-offset) - 2rem);max-height:calc(var(--panel-height) - 1rem)}.hub-widget-legend.right{right:100%}.hub-widget-legend.right{margin-right:1rem}.hub-widget-legend.left{left:100%}.hub-widget-legend.left{margin-left:1rem}.hub-widget-legend.bottom.left{margin-left:0.5rem}.hub-widget-legend.bottom.right{margin-right:0.5rem}}@media only screen and (max-width: 640px){.hub-widget-legend.top{position:absolute}.hub-widget-legend.top{z-index:50}.hub-widget-legend.top{padding:0px}.hub-widget-legend.top{top:calc(var(--panel-height) - var(--panel-height-mobile) + var(--top-offset) - 1rem);width:calc(var(--view-width) + 1px);display:var(--mobile-display);height:var(--panel-height-mobile)}.hub-widget-legend.bottom{position:absolute}.hub-widget-legend.bottom{z-index:50}.hub-widget-legend.bottom{padding:0px}.hub-widget-legend.bottom{bottom:calc(var(--panel-height-mobile) - var(--panel-height) - var(--bottom-offset) - 1rem);width:calc(var(--view-width) + 1px);display:var(--mobile-display);height:var(--panel-height-mobile)}.hub-widget-legend.right{right:-1rem}.hub-widget-legend.left{left:-1rem}}"}}]);
//# sourceMappingURL=18841.74c57d29.chunk.js.map