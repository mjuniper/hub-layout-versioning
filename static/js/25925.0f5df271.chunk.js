"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[25925],{25925:function(t,e,n){n.r(e),n.d(e,{arcgis_hub_map_popover:function(){return l}});var r=n(15671),o=n(43144),a=n(29439),i=n(5692),s=function(t,e){var n=e.height,r=e.width,o=t.y<n/2?"top":"bottom",a=t.x<r/2?"left":"right";return"".concat(o,"-").concat(a)},c=function(t,e){var n=e.spatialReference,r=1/0,o=0,i=("polygon"===e.type?e.rings.flat(1/0):e.paths.flat(1/0)).reduce((function(t,e,n){var r=Math.floor(n/2);return t[r]||(t[r]=[]),t[r].push(e),t}),[]);i.forEach((function(e,i){var s=(0,a.Z)(e,2),c=function(t,e){var n=t.x,r=t.y,o=e.x-n,a=e.y-r;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}({x:s[0],y:s[1],spatialReference:n},t);c<r&&(r=c,o=i)}));var s=(0,a.Z)(i[o],2);return{x:s[0],y:s[1],spatialReference:n}},l=function(){function t(e){(0,r.Z)(this,t),(0,i.r)(this,e)}return(0,o.Z)(t,[{key:"handlePopoverOpen",value:function(t){t.stopPropagation();var e=t.detail,n=e.view,r=e.geometry,o=n.container.getBoundingClientRect(),a=o.left,i=o.top,l=o.height,p=o.width;if("polygon"===r.type||"polyline"===r.type){var h=r.extent,u=n.toScreen(h.center);if(u.x<0||u.y<0||u.x>p||u.y>l)return void(this.content=null);this.quadrant=s(u,n);var f=function(t,e){var n=t.xmin,r=t.ymin,o=t.xmax,a=t.ymax,i=t.spatialReference,s=e.includes("top")?r:a;return{x:e.includes("left")?o:n,y:s,spatialReference:i}}(h,this.quadrant),d=c(f,r),x=n.toScreen(d);this.x=x.x+a,this.y=x.y+i}else if("point"===r.type){var y=n.toScreen(r);this.quadrant=s(y,n),this.x=y.x+a,this.y=y.y+i}this.content=e.render(r.type)}},{key:"handlePopoverClear",value:function(t){t.stopPropagation(),this.content=null}},{key:"styles",get:function(){var t=this.quadrant,e=this.x,n=this.y,r=(null===t||void 0===t?void 0:t.includes("right"))?"translateX(-110%)":"translateX(10%)",o=(null===t||void 0===t||t.includes("top"),"translateY(-35%)");return{"--top-offset":"".concat(n,"px"),"--left-offset":"".concat(e,"px"),transform:"".concat(r," ").concat(o)}}},{key:"render",value:function(){var t=this.styles,e=this.content;return(0,i.h)(i.H,{style:t},e)}},{key:"el",get:function(){return(0,i.g)(this)}}]),t}();l.style=":host{position:absolute;z-index:1;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);top:var(--top-offset);left:var(--left-offset);transform:var(--transform)}calcite-action{border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}calcite-action:first-of-type{border-width:0px}calcite-action-pad>calcite-action{border-width:0px}"}}]);
//# sourceMappingURL=25925.0f5df271.chunk.js.map