{"version":3,"file":"static/js/63449.afa7c009.chunk.js","mappings":"kcAI+bA,EAAC,0CAAiB,aAAa,MAAuE,OAAvE,gBAAC,gBAAaC,eAAe,EAAE,EAAKC,UAAU,IAAIC,MAAM,EAAKC,SAAS,EAAC,EAA+oB,OAA9oB,yBAAAC,IAAA,WAAc,OAAOC,KAAKJ,UAAUK,MAAM,SAAAC,GAAC,OAAEA,EAAEC,OAAO,GAAE,GAAC,8BAAQD,GAAGF,KAAKI,QAAuE,IAA/D,IAAMC,EAAEL,KAAKJ,UAAUU,EAAE,CAACC,gBAAgB,EAAEC,gBAAgB,GAAWC,EAAE,EAAEA,EAAEJ,EAAEK,SAASR,EAAES,OAAOF,EAAEJ,EAAEI,GAAGG,SAASP,EAAEI,GAAGI,QAAQX,EAAEI,GAAGN,KAAKF,SAASW,CAAC,GAAC,8BAA8C,IAAtC,IAAMP,EAAEF,KAAKJ,UAAcS,EAAEH,EAAEQ,OAAeJ,EAAEN,KAAKF,SAASQ,EAAE,EAAEA,IAAI,CAAwB,IAAvB,IAAMG,EAAEP,EAAEI,EAAE,GAAOQ,EAAER,EAAOQ,EAAEZ,EAAEQ,QAAQD,EAAEG,UAAUV,EAAEY,GAAGF,WAAWE,IAAIT,GAAGI,EAAEG,SAASV,EAAEY,GAAGF,WAAWV,EAAEY,EAAE,GAAGZ,EAAEY,GAAGA,IAAIZ,EAAEY,EAAE,GAAGL,EAAEJ,EAAES,EAAE,CAAC,CAACd,KAAKF,SAAS,CAAC,GAAC,0BAAII,GAAGF,KAAKI,QAAQF,EAAEU,SAAS,IAAIZ,KAAKJ,UAAUmB,QAAQb,GAAGF,KAAKgB,aAAa,UAAU,GAAC,6BAAOd,IAAGI,EAAAA,EAAAA,IAAEN,KAAKJ,UAAUM,GAAGF,KAAKF,SAASE,KAAKJ,UAAUc,OAAOV,KAAKI,QAAQJ,KAAKgB,aAAa,UAAU,KAAC,EAApvB,CAAeX,EAAAA,IAAuuBH,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,IAAE,CAACQ,UAAS,KAAMvB,EAAEwB,UAAU,UAAU,MAAMxB,GAAEQ,EAAAA,EAAAA,GAAE,EAACY,EAAAA,EAAAA,GAAE,0CAA0CpB,GAAG,IAAMyB,GAAC,QAAC,WAAYjB,EAAEG,IAAE,eAACL,KAAKoB,KAAKlB,EAAEF,KAAKqB,OAAOhB,CAAC,IAAQiB,EAAE,IAAIC,IAAI,SAASC,EAAEtB,EAAEG,GAAG,IAAIC,EAAEgB,EAAEvB,IAAIG,GAAG,GAAG,MAAMI,EAAE,CAAC,IAAMD,EAAE,IAAIX,EAAEe,EAAEP,EAAEuB,aAAaC,EAAAA,GAAAA,eAAiBrB,GAAGC,EAAE,IAAIa,EAAEd,EAAEI,GAAGa,EAAEK,IAAIzB,EAAEI,EAAE,CAAC,OAAOA,EAAEc,KAAKQ,IAAIvB,GAAG,CAACwB,OAAO,WAAQ,MAAMvB,IAASA,EAAEc,KAAKS,OAAOxB,GAAGC,EAAEc,KAAKxB,UAAUc,OAAO,IAAIY,EAAEQ,OAAO5B,GAAGI,EAAEe,OAAOQ,SAASvB,EAAEc,KAAKW,WAAWzB,EAAE,KAAI,EAAE,C,sECA5hC0B,GAAC,QAAC,WAAYvB,EAAEH,EAAEZ,EAAEW,EAAES,IAAE,eAACd,KAAKiC,YAAYxB,EAAET,KAAKkC,WAAW5B,EAAEN,KAAKmC,gBAAgBzC,EAAEM,KAAKoC,IAAI/B,EAAEL,KAAKqC,KAAKvB,EAAEd,KAAKsC,UAAU,EAAEtC,KAAKuC,aAAaC,EAAAA,GAAAA,UAAY,IAAQC,EAAC,WAAC,WAAYhC,EAAEH,EAAEZ,EAAEoB,EAAEZ,EAAEwB,EAAEgB,EAAElB,EAAEmB,EAAEH,EAAElB,EAAEsB,EAAEC,EAAEC,IAAE,eAAC9C,KAAK+C,sBAAsBrD,EAAEM,KAAKgD,iBAAiBlC,EAAEd,KAAKiD,QAAQ/C,EAAEF,KAAKkD,YAAYxB,EAAE1B,KAAKmD,UAAUT,EAAE1C,KAAKoD,aAAa5B,EAAExB,KAAKqD,YAAYV,EAAE3C,KAAKsD,QAAQd,EAAExC,KAAKuD,aAAajC,EAAEtB,KAAKwD,YAAYZ,EAAE5C,KAAKyD,sBAAsBZ,EAAE7C,KAAK0D,sBAAsBZ,EAAE9C,KAAK2D,QAAO,EAAG3D,KAAK4D,WAAW,GAAG5D,KAAK6D,WAAW,EAAE7D,KAAK8D,cAAc,EAAE9D,KAAK+D,WAAW,EAAE/D,KAAKgE,WAAW7C,EAAAA,GAAAA,KAAOnB,KAAKiE,eAAe,SAAAxD,GAAC,OAAEA,CAAC,EAACT,KAAKkE,WAAW,GAAGlE,KAAKmE,SAAS,IAAIC,IAAIpE,KAAKqE,aAAa,IAAID,IAAIpE,KAAKsE,aAAa,IAAIF,IAAIpE,KAAKuE,cAAc,EAAEvE,KAAKwE,iBAAiBC,OAAOC,kBAAkB1E,KAAK2E,mBAAmBF,OAAOG,kBAAkB5E,KAAK6E,oBAAoB,IAAItD,IAAIvB,KAAK8E,SAASC,EAAE,GAAG/E,KAAKgF,wBAAwBD,EAAE,GAAG/E,KAAKiF,UAAU,EAAEjF,KAAKkF,iBAAiB,CAACC,SAAS,EAAEC,eAAc,GAAIpF,KAAKqF,wBAAwB,EAAErF,KAAKsF,SAAS,IAAIjF,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAKwF,UAAU,IAAInF,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAKyF,SAAS,IAAIC,EAAE1F,KAAKsF,UAAUtF,KAAK2F,6BAA6B,IAAItF,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAK4F,kBAAiB,EAAG5F,KAAK6F,uBAAuB,EAAE7F,KAAK8F,WAAW,GAAG9F,KAAK+F,wBAAuB,EAAG/F,KAAKgG,uBAAsB,EAAGhG,KAAKiG,iBAAgB,EAAGjG,KAAKkG,UAAUzF,EAAEA,EAAE0F,wBAAwB1F,EAAE0F,uBAAuBC,aAAapG,KAAKqG,YAAW,UAAI5F,EAAE0F,uBAAuBC,aAAcpG,KAAKsG,aAAatG,KAAKgD,iBAAiBhD,KAAKgD,iBAAiBuD,YAAY,EAAEvG,KAAKwG,MAAMlG,EAAE,CAAm7nB,OAAl7nB,sCAAMG,GAAG,GAAG,SAASA,EAAEgG,KAAK,CAAC,OAAOzG,KAAKkE,WAAWzD,EAAEiG,UAAU1G,KAAK8D,cAAcrD,EAAEkG,SAAS3G,KAAK+D,WAAWtD,EAAEmG,UAAUnG,EAAEoG,WAAW,IAAI,qBAAqB7G,KAAKgE,WAAW7C,EAAAA,GAAAA,mBAAqB,MAAM,IAAI,uBAAuBnB,KAAKgE,WAAW7C,EAAAA,GAAAA,mBAAqBnB,KAAKiE,eAAe6C,EAAE9G,KAAK+G,SAASC,EAAEhH,KAAK+D,WAAW/D,KAAK8D,eAAerD,EAAEwG,UAAUjH,KAAKkH,wBAAwB,MAAM,GAAG,SAASzG,EAAEgG,KAAK,CAACzG,KAAKkE,WAAWzD,EAAEiG,UAAU1G,KAAK4D,WAAWuD,KAAK,CAACC,MAAM,GAAGC,SAAS,GAAGC,QAAQ,KAAKtH,KAAKuH,aAAa,IAAI7E,EAAAA,GAAEjC,EAAE+G,SAASC,GAAG,OAAO,GAAG,IAAMnH,EAAEN,KAAK0H,cAAcjH,EAAE+G,SAASC,GAAGhH,EAAE+G,UAAUlH,GAAGN,KAAK2H,SAASrH,EAAE,EAAE,CAAC,GAAC,gCAAUG,GAAE,WAACT,KAAKmE,SAASvC,IAAInB,GAAG,IAAMH,EAAEN,KAAKkE,WAAWzD,EAAET,KAAK+C,sBAAsB6E,QAAQtH,EAAE,QAAQuH,MAAM,SAAAvH,GAAI,EAAKwF,WAAWqB,KAAK,CAACW,UAAUrH,EAAEsH,KAAKzH,GAAG,IAAI0H,OAAO,SAAA1H,GAAI,EAAK6D,SAASrC,OAAOrB,IAAGK,EAAAA,EAAAA,IAAER,KAAK,EAAKgE,aAAa1C,IAAInB,GAAG,EAAKwC,QAAQgF,MAAM,cAAc,EAAK/B,UAAS,kCAA4BzF,GAAIH,GAAG,GAAG,GAAC,sCAAgBG,GAAG,KAAKT,KAAK8F,WAAWpF,OAAO,IAAID,EAAEE,MAAM,CAAC,MAA0BX,KAAK8F,WAAWoC,QAA1B5H,EAAC,EAAXwH,UAAiBpI,EAAC,EAANqI,KAAgC/H,KAAK+G,SAASzG,EAAEZ,GAAGM,KAAKmE,SAASrC,OAAOxB,GAAGG,EAAE0H,cAAc,CAACnI,KAAKkH,wBAAwB,GAAC,+BAASzG,EAAEH,GAAG,IAAD,WAASJ,EAAEF,KAAK4D,WAAWlD,OAAOR,EAAEO,EAAEP,IAAIF,KAAK4D,WAAW1D,GAAG,KAAK,IAAMR,EAAE,GAAGW,EAAE,GAAGS,EAAER,EAAE8G,MAAMgB,KAAK,SAAC9H,EAAEQ,GAAK,IAAMK,EAAEzB,EAAEgB,OAAOgC,EAAEpC,EAAE+G,SAAS/G,EAAE+G,SAAS3G,OAAO,EAAEL,EAAE8G,MAAM,GAAG,IAAI,IAAI1G,EAAE,EAAEA,EAAEiC,EAAEjC,IAAIf,EAAEyH,KAAK7G,EAAE+G,SAAS5G,IAAI,IAAMkC,EAAC,UAAIrC,EAAE+H,OAAQ7F,GAAE8F,EAAAA,EAAAA,IAAEhI,EAAEiI,KAAKjH,GAAEI,EAAAA,EAAAA,GAAE,CAACc,EAAEgG,OAAO,GAAGhG,EAAEgG,OAAO,GAAGhG,EAAEgG,OAAO,IAAGtI,EAAAA,EAAAA,GAAEsC,EAAEiG,YAAY7F,EAAEtC,EAAEoI,MAAMpI,EAAEoI,KAAKC,UAAU9F,EAAEvC,EAAEoI,MAAMpI,EAAEoI,KAAKE,SAAS9F,EAAExC,EAAEoI,MAAMpI,EAAEoI,KAAKG,SAASC,EAAE,CAACC,mBAAkB,EAAGC,iBAAiBnG,EAAEoG,WAAWrG,GAAG,MAAMA,EAAEsG,SAAQ,UAAItG,EAAEsG,eAAW,EAAON,SAAS/F,GAAG,MAAMA,EAAEqG,SAAQ,UAAIrG,EAAEqG,eAAW,EAAOC,QAAQrG,GAAG,MAAMA,EAAEoG,SAAQ,UAAIpG,EAAEoG,eAAW,EAAOE,mBAAmBvG,EAAEA,EAAEwG,YAAY,EAAEC,mBAAmBxG,EAAEA,EAAEuG,YAAY,GAAG5G,EAAE,IAAIjB,EAAAA,GAAEmB,EAAElC,EAAE,EAAKqD,cAAchD,EAAEQ,EAAEoB,EAAE,EAAEoG,EAAE,EAAKzC,YAAY,EAAKrC,WAAW,EAAKC,eAAe3D,EAAEiJ,cAAc1G,EAAEA,EAAE2G,aAAa,MAAM,OAAO/G,EAAEgH,WAAWjH,EAAEC,EAAEiH,cAAc,EAAKjG,sBAAsBhB,GAAGA,EAAEkH,YAAY9G,EAAEA,EAAE8G,YAAY,EAAE,IAAI3H,EAAEb,EAAEuB,EAAEkH,EAAE,EAAK5E,yBAAyB,KAAKvC,EAAE,IAAIzC,KAAK4D,WAAWnD,GAAG,CAAC2G,MAAMtG,EAAEuG,SAAS3H,EAAE4H,QAAQjH,GAAGL,KAAK6D,YAAY/C,EAAEJ,MAAM,GAAC,+CAAwB,WAAOJ,EAAE,IAAIT,MAAMH,EAAE,SAACA,EAAEW,EAAES,GAAK,IAAMZ,EAAE,EAAK2J,SAASnK,GAAG,IAAGe,EAAAA,EAAAA,IAAEP,GAAG,CAAC,IAAMwB,EAAEoI,EAAEpK,EAAE,EAAKoE,eAAe5D,EAAEoH,QAAQ5F,GAAGrB,EAAE,IAAMc,EAAEjB,EAAEkH,MAAM1F,GAAGW,MAAK5B,EAAAA,EAAAA,IAAEU,KAAKA,EAAE4I,MAAMjJ,EAAER,EAAE6G,KAAKzH,GAAG,CAAC,EAAE,IAAIA,EAAEM,KAAK+D,YAAY,EAAE,GAAGzD,EAAEI,QAAQ,CAAC,IAAML,EAAEC,EAAE0J,MAAMlJ,EAAEd,KAAKiK,QAAQ5J,GAAG,IAAGI,EAAAA,EAAAA,IAAEK,GAAG,IAAI,IAAIL,EAAE,EAAEA,EAAEK,EAAEoB,WAAWzB,IAAKf,EAAEM,KAAKkK,cAAcpJ,EAAEuH,MAAM5H,GAAGJ,EAAES,EAAEiJ,MAAM,GAAG/J,KAAKiF,UAAUkF,KAAKC,IAAIpK,KAAKiF,UAAUnE,EAAEiJ,MAAM,EAAG,CAAC,GAAC,+BAAStJ,GAAG,OAAOT,KAAK4D,WAAWoD,EAAEvG,EAAET,KAAK8D,eAAe,GAAC,uCAAiBrD,GAAG,IAAMf,EAAEM,KAAK6J,SAASpJ,GAAG,OAAOH,EAAAA,EAAAA,IAAEZ,GAAG,KAAKA,EAAE0H,MAAM0C,EAAErJ,EAAET,KAAK8D,eAAe,GAAC,+BAASxD,EAAED,GAAG,MAAMC,EAAE+G,UAAUrH,KAAKqK,iBAAiBhK,EAAEC,EAAE+G,UAAU,IAAMvG,EAAEd,KAAKsK,UAAUjK,GAAGH,GAAEO,EAAAA,EAAAA,IAAEK,GAAGA,EAAEiJ,MAAM,EAAE,EAAE/J,KAAKiF,UAAUkF,KAAKC,IAAIpK,KAAKiF,UAAU3E,EAAE+G,SAASnH,EAAE,EAAEA,GAAG,MAA26jB,SAAWO,GAAG,GAAGA,EAAE,IAAI,IAAIH,EAAE,EAAEA,EAAEG,EAAEC,OAAOJ,IAAG,KAAiB,EAAjB,UAAgBiK,GAAC,IAAhB,2BAAiB,KAAP7K,EAAC,QAAM,GAAGA,EAAE,KAAKe,EAAEH,GAAGkK,WAAW,MAAM,CAAC3D,UAAUnH,EAAE,GAAG+K,SAAShK,EAAEH,GAAGmK,SAAS,CAAC,sCAAM,CAAC5D,UAAU1F,EAAAA,GAAAA,KAAOsJ,SAAS,EAAE,CAAvjkBC,CAAEpK,EAAEqK,cAAlBxJ,EAAC,EAAX0F,UAAqBnE,EAAC,EAAV+H,SAA8B9H,GAAEjD,EAAAA,EAAAA,IAAEM,KAAK4K,iBAAiBvK,IAAI,OAAOsC,EAAEN,KAAK,IAAIb,EAAAA,GAAElB,EAAEmH,GAAGpH,GAAEqB,EAAAA,EAAAA,GAAEpB,EAAEuK,KAAKlI,EAAET,WAAWhC,EAAEI,EAAEwK,UAAUxK,EAAEyK,QAAQ5J,EAAEuB,EAAEpC,EAAE0K,aAAa1K,EAAEiI,MAAM5F,EAAEN,KAAKoH,YAAWnB,EAAAA,EAAAA,IAAEhI,EAAEiI,MAAM5F,EAAEN,KAAKqH,cAAc1J,KAAKyD,sBAAsBd,EAAEN,OAAM5B,EAAAA,EAAAA,IAAEkC,EAAEP,OAAO,MAAMO,EAAEP,IAAIyI,MAAMlI,EAAEP,IAAIyI,IAAIvK,EAAEuK,KAAKlI,EAAEN,KAAK4I,UAAUtI,EAAEP,IAAI6I,UAAUtI,EAAEN,KAAK6I,qBAAqBvI,EAAEP,IAAI8I,qBAAqBvI,EAAEP,IAAIsH,cAAc/G,EAAEN,KAAKqH,eAAe/G,EAAEN,IAAI,GAAC,mCAAa5B,EAAEH,GAAG,IAAMZ,EAAEM,KAAK4D,WAAW,GAAG,GAAG,MAAMlE,EAAE,OAAO,EAAE,IAAMW,EAAEX,EAAE0H,MAAM1G,OAAO,OAAOhB,EAAE0H,MAAMD,KAAK,IAAInF,EAAE,EAAE,EAAE4H,EAAE5J,KAAKgF,yBAAyBvE,EAAE,OAAOT,KAAK6D,aAAanE,EAAE4H,QAAQH,KAAK7G,IAAGuC,EAAAA,EAAAA,IAAEpC,EAAEwK,YAAWnI,EAAAA,EAAAA,IAAErC,EAAEyK,sBAAsB7K,CAAC,GAAC,uCAAiBI,EAAEH,GAAG,IAAMD,GAAEX,EAAAA,EAAAA,IAAEM,KAAK4K,iBAAiBnK,IAAIK,GAAEpB,EAAAA,EAAAA,IAAEM,KAAK6J,SAASpJ,IAAIJ,EAAE4B,YAAYnB,EAAEuG,SAAS3G,OAAOL,EAAE6B,WAAW5B,EAAEI,OAAO,IAAI,IAAIhB,EAAE,EAAEA,EAAEY,EAAEI,OAAOhB,IAAI,CAAC,IAAMW,EAAEL,KAAKuH,aAAajH,EAAEZ,GAAGe,GAAGK,EAAEuG,SAASF,KAAK9G,EAAE,CAAC,GAAC,8BAAQC,GAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,GAAG,OAAOG,EAAAA,EAAAA,IAAEf,GAAGA,EAAE2C,KAAK,IAAI,GAAC,mCAAa/B,GAAG,IAAIZ,EAAE,OAAOM,KAAKmL,cAAc,SAAC9K,EAAES,KAAML,EAAAA,EAAAA,IAAEJ,EAAEgC,OAAOhC,EAAEgC,KAAKoF,KAAKnH,IAAGG,EAAAA,EAAAA,IAAEJ,EAAE+B,MAAM/B,EAAE+B,IAAIqF,KAAKnH,KAAKZ,EAAEoB,EAAE,IAAIpB,CAAC,GAAC,kCAAYe,GAAG,IAAMH,EAAEN,KAAKoL,aAAa3K,GAAG,OAAO,MAAMH,GAAGA,GAAG,EAAEN,KAAKiK,QAAQ3J,GAAG,IAAI,GAAC,oCAAcG,EAAEf,GAAG,IAAMW,EAAEL,KAAK6J,SAASpJ,GAAG,IAAGH,EAAAA,EAAAA,IAAED,GAAG,OAAO,EAAE,IAAMS,EAAET,EAAE+G,MAAM0C,EAAErJ,EAAET,KAAK8D,gBAAgB,OAAOzD,EAAEgH,SAASvG,EAAEmB,YAAYvC,EAAE,GAAC,qCAAeY,GAAG,IAAMZ,EAAEM,KAAK6J,SAASvJ,GAAG,OAAOG,EAAAA,EAAAA,IAAEf,GAAGA,EAAE4H,QAAQwC,EAAExJ,EAAEN,KAAK8D,iBAAiB,CAAC,GAAC,gCAAUrD,GAAG,OAAOA,EAAET,KAAKqL,eAAe5K,KAAK,EAAET,KAAKiK,QAAQxJ,GAAG,IAAI,GAAC,6BAAOH,GAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,GAAG,OAAOG,EAAAA,EAAAA,IAAEf,IAAI,IAAIA,EAAEwC,UAAU,GAAC,gBAAAnC,IAAA,WAAe,OAAOC,KAAKiK,QAAQjK,KAAK+D,WAAW,GAAC,YAAAhE,IAAA,WAAW,OAAOC,KAAK6D,UAAU,GAAC,8CAAwB7D,KAAKmL,cAAc,SAAA7K,IAAIG,EAAAA,EAAAA,IAAEH,EAAE+B,QAAQ/B,EAAE+B,KAAKiJ,YAAY,KAAK,GAAG,GAAC,kDAA4BtL,KAAKgF,wBAAwBD,EAAE/E,KAAKgF,wBAAwB,GAAC,oDAA8B1E,GAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,IAAGG,EAAAA,EAAAA,IAAEf,IAAIM,KAAKuL,sCAAsC7L,EAAE,GAAC,4DAAsCe,GAAGA,EAAE0B,gBAAgByH,EAAE5J,KAAKgF,wBAAwB,GAAC,oDAA8B1E,GAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,IAAGG,EAAAA,EAAAA,IAAEf,KAAK8L,EAAE9L,GAAGM,KAAKuL,sCAAsC7L,GAAG,GAAC,6CAAuBA,GAAG,IAAMW,EAAEL,KAAK4K,iBAAiBlL,GAAG,KAAGY,EAAAA,EAAAA,IAAED,GAAU,GAAIL,KAAK+F,uBAAT,CAAkF,IAAMjF,GAAEL,EAAAA,EAAAA,IAAEJ,EAAEgC,MAAMhC,EAAEgC,KAAKhC,EAAE+B,IAAI,KAAG9B,EAAAA,EAAAA,IAAEQ,GAAL,CAAe,IAAMZ,EAAEY,EAAE2K,gBAAenL,EAAAA,EAAAA,IAAEJ,KAAKA,EAAEwL,OAAM,EAAzC,CAA9C,MAArC1L,KAAK2L,8BAA8BjM,EAA4F,GAAC,mDAA6BY,GAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,IAAGG,EAAAA,EAAAA,IAAEf,KAAIe,EAAAA,EAAAA,IAAEf,EAAE2C,QAAQ3C,EAAE2C,KAAKiJ,YAAY,MAAKzI,EAAAA,EAAAA,IAAEnD,EAAE2C,KAAK4I,YAAWnI,EAAAA,EAAAA,IAAEpD,EAAE2C,KAAK6I,sBAAsB,GAAC,iDAA0B,YAAC5K,EAAAA,EAAAA,IAAEN,KAAKwH,WAAWxH,KAAK4L,SAAS5L,KAAKwH,UAAU,SAAA/G,GAAC,OAAGA,EAAEiJ,cAAc,EAAKjG,sBAAsBhD,GAAGA,EAAE6K,YAAY,MAAK,CAAE,GAAG,GAAC,4CAAsB5L,GAAG,IAAMW,EAAEL,KAAK4K,iBAAiBlL,GAAG,IAAGY,EAAAA,EAAAA,IAAED,GAAG,OAAO,KAAK,IAAMS,GAAEL,EAAAA,EAAAA,IAAEJ,EAAEgC,MAAMhC,EAAEgC,KAAKhC,EAAE+B,IAAI,IAAG9B,EAAAA,EAAAA,IAAEQ,GAAG,OAAO,KAAK,IAAMZ,EAAEY,EAAE2K,eAAe,IAAGhL,EAAAA,EAAAA,IAAEP,IAAIA,EAAEwL,MAAM,OAAOxL,EAAyB,IAAvB,IAAMwB,EAAE,IAAIiB,EAAAA,GAAMxB,GAAE,EAAWV,EAAE,EAAEA,EAAEJ,EAAE6B,WAAWzB,IAAI,CAAC,IAAMJ,EAAEL,KAAK6L,sBAAsB7L,KAAKkK,cAAcxK,EAAEe,KAAIH,EAAAA,EAAAA,IAAED,GAAGc,GAAE,GAAIO,EAAEoK,IAAI3B,KAAK2B,IAAIpK,EAAEoK,IAAIzL,EAAEyL,KAAKpK,EAAE0I,IAAID,KAAKC,IAAI1I,EAAE0I,IAAI/J,EAAE+J,KAAK,CAAC,GAAG,IAAI/J,EAAE6B,YAAYf,IAAGV,EAAAA,EAAAA,IAAEJ,EAAEgC,OAAOhC,EAAEgC,KAAKyI,UAAUlC,SAAS,CAAC,IAAMtI,EAAEN,KAAKgD,iBAAiB+I,kBAAkBjL,IAAGL,EAAAA,EAAAA,IAAEH,KAAKoB,EAAEoK,IAAI3B,KAAK2B,IAAIpK,EAAEoK,IAAIxL,EAAEwL,KAAKpK,EAAE0I,IAAID,KAAKC,IAAI1I,EAAE0I,IAAI9J,EAAE8J,KAAK,CAAC,OAAO3J,EAAAA,EAAAA,IAAEP,IAAIA,EAAE4L,MAAMpK,EAAEoK,KAAK5L,EAAEkK,MAAM1I,EAAE0I,KAAKlK,EAAEwL,OAAM,EAAGxL,IAAIwB,EAAEgK,OAAM,EAAG5K,EAAE2K,eAAe/J,EAAE1B,KAAK2L,8BAA8BjM,GAAGgC,EAAE,GAAC,oCAAchC,GAAG,IAAMW,EAAEL,KAAK4K,iBAAiBlL,GAAG,IAAGY,EAAAA,EAAAA,IAAED,KAAII,EAAAA,EAAAA,IAAEJ,EAAE+B,OAAO/B,EAAE+B,IAAIyI,IAAI,OAAM,EAAG,GAAG7K,KAAK+F,wBAAwB/F,KAAK6L,sBAAsBnM,IAAIsM,EAAE3L,EAAE8B,gBAAgBnC,KAAKgF,yBAAyB,CAAC,IAAMtF,EAAEW,EAAEgC,KAAKvB,GAAEL,EAAAA,EAAAA,IAAEf,MAAKY,EAAAA,EAAAA,IAAED,EAAE+B,OAAM3B,EAAAA,EAAAA,IAAEf,EAAEgK,gBAAgBhK,GAAEe,EAAAA,EAAAA,IAAEJ,EAAE+B,KAAK/B,EAAE+B,IAAI,KAAK,GAAGpC,KAAKiG,iBAAiBjG,KAAK0D,yBAAwBjD,EAAAA,EAAAA,IAAEf,KAAIe,EAAAA,EAAAA,IAAEJ,EAAE+B,OAAO/B,EAAEkC,eAAeC,EAAAA,GAAAA,WAAa,CAAC,IAAMlC,GAAEG,EAAAA,EAAAA,IAAEf,GAAGA,EAAEmL,KAAIpK,EAAAA,EAAAA,IAAEJ,EAAE+B,KAAK/B,EAAE+B,IAAIyI,IAAI,KAAKxK,EAAEkC,aAAa,MAAMjC,EAAEN,KAAK0D,sBAAsBpD,GAAGkC,EAAAA,GAAAA,UAAY,CAAC,IAAMtC,GAAEO,EAAAA,EAAAA,IAAEf,IAAIW,EAAEkC,eAAeC,EAAAA,GAAAA,OAASd,KAAIjB,EAAAA,EAAAA,IAAEf,IAAIA,EAAEuM,uBAAuB3K,EAAAA,GAAAA,WAAaR,GAAGd,KAAKgD,iBAAiBkJ,cAAcpL,MAAMZ,EAAE,OAAOG,EAAE8B,gBAAgBgK,EAAEzK,EAAE1B,KAAKgF,yBAAyBtD,CAAC,CAAC,OAAO0K,EAAE/L,EAAE8B,gBAAgB,GAAC,wCAAkB7B,GAAG,IAAIN,KAAKkM,cAAc5L,GAAG,OAAM,EAAG,IAAMZ,EAAEM,KAAK4K,iBAAiBtK,GAAG,SAAQG,EAAAA,EAAAA,IAAEf,KAAIe,EAAAA,EAAAA,IAAEf,EAAE2C,QAAO5B,EAAAA,EAAAA,IAAEf,EAAE2C,KAAKiJ,gBAAgBtL,KAAKgG,uBAAuBtG,EAAE2C,KAAK4J,uBAAuB3K,EAAAA,GAAAA,cAAgBtB,KAAKgD,iBAAiBqJ,kBAAkB3M,EAAE2C,KAAK,GAAC,wCAAkBhC,EAAES,EAAEZ,EAAEwB,EAAEP,GAAG,IAAMuB,EAAE1C,KAAK6J,SAASxJ,GAAG,KAAGC,EAAAA,EAAAA,IAAEoC,IAAI,IAAI5B,EAAEoB,WAAf,CAAgF,IAA/C,IAAMV,EAAEV,EAAEmB,YAAYnB,EAAEoB,WAAWS,EAAE,IAAI9C,MAAcS,EAAEQ,EAAEmB,YAAY3B,EAAEkB,IAAIlB,EAAE,CAAC,IAAMZ,EAAEgD,EAAE2E,SAAS/G,GAAGD,EAAEL,KAAK4K,iBAAiBlL,IAAGe,EAAAA,EAAAA,IAAEJ,KAAII,EAAAA,EAAAA,IAAEJ,EAAEgC,OAAOrC,KAAKqM,kBAAkB3M,IAAIiD,EAAEwE,KAAK9G,EAAE,CAACqB,GAAGiB,EAAEjC,OAAO,cAAeiC,EAAC,eAAC,CAAb,IAAMlC,EAAC,KAAaH,GAAEZ,EAAAA,EAAAA,IAAEe,EAAE4B,MAAMgG,MAAMrI,KAAKmD,UAAU7C,IAAIN,KAAKoD,aAAa9C,IAAIa,EAAEmL,MAAMnC,KAAKC,IAAIjJ,EAAEmL,MAAMpM,GAAGiB,EAAEoL,UAAU7K,GAAG1B,KAAKwM,kBAAkBlM,EAAEG,EAAEP,EAAE,EAAEwB,EAAEP,EAAE,CAArW,CAAsW,GAAC,oCAAcV,GAAG,GAAG,QAAQT,KAAKkD,YAAY,OAAM,EAAG,IAAMxD,EAAEM,KAAK4K,iBAAiBnK,GAAG,IAAGH,EAAAA,EAAAA,IAAEZ,GAAG,OAAM,EAAG,GAAG,WAAWM,KAAKkD,YAAY,OAAM,EAAG,GAAG8I,EAAEtM,EAAE4C,UAAUtC,KAAK8E,UAAU,OAAOsH,EAAE1M,EAAE4C,WAAW,IAAMjC,EAAE,CAACiM,MAAM,EAAEC,SAAS,GAAGvM,KAAKwM,kBAAkB/L,EAAEf,EAAE,EAAE,EAAEW,GAAG,IAAMS,EAAET,EAAEiM,MAAMjM,EAAEkM,UAAU,GAAG,OAAO7M,EAAE4C,UAAU6J,EAAErL,EAAEd,KAAK8E,UAAUhE,CAAC,GAAC,gBAAAf,IAAA,WAAe,OAAOC,KAAKiF,SAAS,GAAC,aAAAlF,IAAA,WAAY,OAAOC,KAAK2D,MAAM,GAAC,gCAAU3D,KAAKyF,SAAS7D,IAAI6K,QAAQzM,KAAKyF,SAASiH,OAAOD,OAAO,GAAC,sCAAgBzM,KAAK2D,QAAO,EAAG3D,KAAKuE,cAAc,EAAEvE,KAAK8E,SAASC,EAAE/E,KAAK8E,SAAS,GAAC,6CAAuBxE,GAAE,WAACN,KAAKgG,sBAAsB1F,EAAEN,KAAKmL,cAAc,YAAY,IAAL7K,EAAC,EAAN+B,MAAW5B,EAAAA,EAAAA,IAAEH,KAAKA,EAAE2L,qBAAqB3K,EAAAA,GAAAA,WAAahB,EAAEoJ,cAAc,EAAKjG,sBAAsBnD,GAAGA,EAAEqM,kBAAkB,EAAKC,6BAA6BtM,EAAE+H,OAAO,IAAIrI,KAAK6M,2BAA2B,GAAC,yCAAmBvM,GAAE,WAACN,KAAKiG,gBAAgB3F,EAAEN,KAAKmL,cAAc,SAAA7K,GAAI,IAAGG,EAAAA,EAAAA,IAAEH,GAAG,CAACA,EAAEiC,aAAaC,EAAAA,GAAAA,WAAa,IAAM9C,EAAEY,EAAE+B,MAAK5B,EAAAA,EAAAA,IAAEf,IAAI,EAAKoN,8BAA8BpN,EAAE2I,MAAM,CAAC,IAAIrI,KAAK6M,2BAA2B,GAAC,6BAAOxM,EAAES,EAAEZ,GAAE,WAAC,GAAIF,KAAK2D,OAAT,CAAuB3D,KAAK8F,WAAWpF,OAAO,GAAGV,KAAK+M,gBAAgBjM,GAAGd,KAAKwE,iBAAiBC,OAAOC,kBAAkB1E,KAAK2E,mBAAmBF,OAAOC,kBAAkB1E,KAAKsF,SAAS0H,QAAQhN,KAAKwF,UAAUwH,QAAQhN,KAAKyF,SAASwH,MAAM5M,GAAG6M,EAAEF,QAAQ,IAAItL,GAAE,EAASP,EAAE,IAAIgM,EAAEzK,EAAE,IAAIyK,EAAE3L,EAAExB,KAAK2F,6BAA6BnE,EAAEwL,QAAQ,IAAMrK,EAAE,IAAIyB,IAAi5DpE,KAAKoN,iBAAh5D,SAAC5K,EAAEI,EAAEC,GAAK,IAAGvC,EAAAA,EAAAA,IAAEsC,GAAG,CAAC,IAAInC,EAAE,EAAK4M,eAAe7K,GAAG/B,IAAI,MAAMA,EAAE,EAAK4M,eAAexK,IAAI,IAAMvC,EAAE0G,EAAExE,EAAE,EAAKsB,eAAe,OAAOoJ,EAAEvL,IAAIrB,EAAE6J,KAAKC,IAAI3J,EAAEyM,EAAEnN,IAAIO,IAAI,IAAI,EAAK6D,SAASmJ,IAAIhN,IAAI,EAAKgE,aAAagJ,IAAIhN,IAAI,EAAKgF,SAAS6B,KAAK7G,QAAQ,EAAKqE,mBAAmBwF,KAAKC,IAAI,EAAKzF,mBAAmBlE,GAAG,CAAC,IAAMqC,EAAEF,EAAEP,KAAK,GAAG,EAAKkL,2BAA2BzK,EAAEJ,IAAGpC,EAAAA,EAAAA,IAAEwC,GAAG,CAAC,IAAMrC,EAAE,EAAK4M,eAAe7K,GAAG,OAAO,EAAK2B,SAASmJ,IAAI9K,IAAI,EAAK6B,aAAaiJ,IAAI9K,KAAK,EAAK8C,SAAS6B,KAAK3E,GAAG0K,EAAEvL,IAAIa,EAAE/B,SAAS,EAAKkE,mBAAmBwF,KAAKC,IAAI,EAAKzF,mBAAmBlE,GAAG,CAAC,IAAMqI,GAAEpJ,EAAAA,EAAAA,IAAE,EAAKmK,SAASrH,IAAI,GAAG,IAAI,EAAK8C,SAAS5E,QAAQ,IAAI,EAAKoD,cAAc,IAAI,IAAIxD,EAAE,EAAEA,EAAEsC,EAAEV,WAAW5B,IAAI,CAAC,IAAMZ,EAAEoJ,EAAEzB,SAASzE,EAAEX,YAAY3B,GAAGD,EAAE,EAAKuK,iBAAiBlL,KAAIe,EAAAA,EAAAA,IAAEJ,IAAIA,EAAEgC,MAAM,EAAK8B,SAASmJ,IAAI5N,IAAI,EAAK2E,aAAaiJ,IAAI5N,KAAKwN,EAAEvL,IAAIjC,EAAE,EAAK2N,eAAe3N,IAAI,EAAK8F,UAAU2B,KAAKzH,GAAG,CAAC,IAAGoD,EAAE0K,QAAS1K,EAAEgI,UAAU9B,eAA2E,GAAGrG,EAAEf,IAAIkB,EAAE2E,IAAI,EAAKtE,UAAUX,IAAI,GAAGrB,EAAEsM,OAAO3K,EAAE4K,SAASvM,EAAEwM,WAAW,EAAKtK,YAAYP,GAAGF,EAAEV,WAAW,IAAIR,GAAE,IAAKP,EAAEyM,WAAW9K,EAAE4K,OAAOhM,GAAE,GAAI,EAAK6B,aAAaT,GAAG,CAAC,IAAMrC,EAAE,EAAK4M,eAAe7K,GAAG0K,EAAEvL,IAAIa,EAAE/B,GAAG,EAAKkE,mBAAmBwF,KAAKC,IAAI,EAAKzF,mBAAmBlE,GAAG,EAAKgF,SAASiH,OAAOvF,KAAK3E,EAAE,OAAQ,GAAGM,EAAE4K,SAASvM,EAAEsM,OAAO3K,EAAE4K,SAASvM,EAAEwM,YAAa,EAAKtK,YAAYP,GAAlE,CAAqI,GAAGF,EAAEV,WAAW,IAAIR,GAAE,GAAIoB,EAAE4K,QAAQvM,EAAE0M,SAAS/K,EAAE4K,OAAOvM,EAAEsM,OAAO3K,EAAE4K,SAASvM,EAAEwM,cAAcxM,EAAE2M,aAAazN,EAAE0N,SAASjL,EAAEuF,OAAO,OAAO,EAAK1D,mBAAmBwF,KAAKC,IAAI,EAAKzF,mBAAmB,EAAK0I,eAAe7K,SAAS,EAAKiD,SAASuI,OAAO,EAAKvI,SAASuI,OAAOC,QAAQ,SAAAxN,GAAC,OAAEA,IAAIqC,EAAEuF,KAAK,KAAI,GAAIvH,EAAEH,OAAM,EAAK2C,QAAQR,GAAzB,CAAyD,IAAMwF,EAAE,EAAK+E,eAAe7K,GAAG0K,EAAEvL,IAAIa,EAAE8F,GAAG,EAAK3D,mBAAmBwF,KAAKC,IAAI,EAAKzF,mBAAmB2D,GAAG,EAAK7C,SAAS7D,IAAIuF,KAAK3E,GAAG,EAAKwD,uBAAuB9F,IAAGO,EAAAA,EAAAA,IAAEqC,IAAIA,EAAEmJ,uBAAuB3K,EAAAA,GAAAA,YAAcE,EAAE2F,KAAK3E,EAApN,MAAhB1B,EAAEqH,cAA3U,MAAnD,EAAK/E,aAAaZ,IAAI,EAAKiD,SAAS5D,OAAOsF,KAAK3E,QAA/dd,GAAGkB,EAAEV,WAAW,GAAG,EAAKmB,YAAYP,KAAKpB,GAAE,EAAs+B,IAA0B,IAAMkB,EAAE5C,KAAKyF,SAAS7D,IAAIgB,EAAElC,OAAO,GAAGV,KAAKgG,wBAAwBxE,EAAEd,OAAO,GAAI,OAADR,QAAC,IAADA,GAAAA,EAAIsB,GAAGoB,EAAEsL,eAAe,SAAAzN,GAAI,IAAMf,EAAE,EAAKkL,iBAAiBnK,GAAGJ,GAAEC,EAAAA,EAAAA,IAAEZ,KAAIY,EAAAA,EAAAA,IAAEZ,EAAE2C,OAAO3C,EAAE2C,KAAK4J,uBAAuB3K,EAAAA,GAAAA,OAAS,OAAOjB,GAAG,EAAKyM,8BAA8BrM,GAAGJ,CAAC,KAAKL,KAAKqF,wBAAwBlE,EAAE0M,QAAQ1M,EAAEyM,UAAUzM,EAAEwM,WAAW,GAAGxM,EAAE2M,aAAa,IAAI9N,KAAKqF,yBAAyBlE,EAAEsM,MAAMtM,EAAEwM,WAAWxM,EAAE2M,cAAc9N,KAAKqF,wBAAwB,GAAG8E,KAAKC,IAAI,EAAEpK,KAAKqF,yBAAyBrF,KAAKkF,iBAAiBC,SAASnF,KAAKmO,wBAAwBzL,GAAG1C,KAAKkF,iBAAiBE,cAAc1D,EAAE1B,KAAKsF,SAAS8I,MAAM,SAAC3N,EAAEH,GAAC,OAAGG,EAAEH,CAAC,IAAGN,KAAKsF,SAAS4I,eAAe,SAACzN,EAAEH,GAAC,OAAGA,EAAE,GAAG,EAAKgF,SAAS+I,KAAK/N,EAAE,KAAKG,CAAC,IAAGT,KAAKsF,SAAS8I,MAAM,SAAC3N,EAAEH,GAAC,OAAG4M,EAAEnN,IAAIU,GAAGyM,EAAEnN,IAAIO,EAAE,IAAGN,KAAKsF,SAAS5E,OAAO,IAAIV,KAAKwE,iBAAiB0I,EAAEnN,IAAIC,KAAKsF,SAASgJ,QAAQtO,KAAKwF,UAAUwH,SAAShN,KAAKyF,SAAS7D,IAAIsM,eAAe,SAAAzN,GAAC,OAAEyM,EAAEnN,IAAIU,IAAI,EAAK+D,gBAAgB,IAAG4J,MAAM,SAAC3N,EAAEH,GAAC,OAAG4M,EAAEnN,IAAIU,GAAGyM,EAAEnN,IAAIO,EAAE,IAAGN,KAAKyF,SAASiH,OAAO0B,MAAM,SAAC3N,EAAEH,GAAC,OAAG4M,EAAEnN,IAAIU,GAAGyM,EAAEnN,IAAIO,EAAE,IAAGN,KAAKuE,cAAcvE,KAAKmE,SAASoK,KAAKvO,KAAKsF,SAAS5E,OAAOV,KAAK2D,OAAO3D,KAAKuE,cAAc,EAAE2I,EAAEF,OAA3xG,CAAkyG,GAAC,yCAAmBvM,EAAEH,GAAoF,IAAjF,IAAMZ,EAAEM,KAAKgD,iBAAiBwL,2BAA2BlO,GAAOD,EAAEC,EAAEQ,EAAER,EAAEJ,EAAER,EAAEgC,EAAE,GAAQA,KAAK,CAAC,IAAMhC,EAAE,IAAIyN,EAAmC,GAAjCnN,KAAKyO,uBAAuBpO,EAAEX,GAAMM,KAAKmO,wBAAwBzO,IAAIe,EAAE,CAAC,GAAGJ,GAAGC,GAAGZ,EAAEoO,aAAa,GAAG,IAAIpM,EAAE,MAAMxB,EAAEG,EAAEA,EAAE,IAAIA,EAAES,EAAE,MAAMA,EAAET,EAAEA,EAAE,IAAIA,EAAEH,EAAE,CAAC,OAAOF,KAAK8E,SAASC,EAAE/E,KAAK8E,UAAU9E,KAAKgD,iBAAiBwL,2BAA2B9O,GAAGyK,KAAK2B,IAAIxL,EAAED,EAAE,GAAC,6CAAuBC,EAAEZ,GAAE,WAACM,KAAK8E,SAASC,EAAE/E,KAAK8E,UAAU9E,KAAKgD,iBAAiBwL,2BAA2BlO,GAAGN,KAAKoN,iBAAiB,SAAC9M,EAAED,GAAC,OAAG,EAAKkN,4BAA2B9M,EAAAA,EAAAA,IAAEJ,GAAGA,EAAEgC,UAAK,EAAO3C,EAAE,GAAE,GAAC,iDAA2BA,EAAEW,GAAG,MAAKC,EAAAA,EAAAA,IAAEZ,IAAIA,EAAE8N,SAAQlN,EAAAA,EAAAA,IAAEZ,EAAEsL,cAAc,OAAOhL,KAAKmD,UAAUzD,EAAE2I,QAAQhI,EAAEoN,OAAO/N,EAAEsL,cAAc3K,EAAEsN,gBAAgB3N,KAAKqD,YAAY3D,KAAKW,EAAEuN,WAAWlO,EAAEsL,oBAAoBhL,KAAKqD,YAAY3D,MAAKe,EAAAA,EAAAA,IAAEf,EAAEsL,cAAc3K,EAAEwN,SAASnO,EAAEsL,YAAY3K,EAAEoN,OAAO/N,EAAEsL,cAAc3K,EAAEsN,cAActN,EAAEyN,cAAc,GAAC,8CAAwBrN,GAAG,IAAIH,EAAEG,EAAEgN,MAAMhN,EAAEmN,UAAU,OAAOnN,EAAEkN,WAAW,GAAGlN,EAAEqN,aAAa,IAAIxN,GAAGG,EAAEgN,MAAMhN,EAAEkN,WAAWlN,EAAEqN,cAAc3D,KAAKC,IAAI,EAAE9J,EAAE,GAAC,6BAAO,OAAON,KAAK0O,MAAM1O,KAAKsF,SAAS,GAAC,iCAAW,OAAOtF,KAAKwF,UAAU4I,MAAM,SAAC3N,EAAEH,GAAC,OAAG4M,EAAEnN,IAAIU,GAAGyM,EAAEnN,IAAIO,EAAE,IAAGN,KAAK0O,MAAM1O,KAAKwF,UAAU,GAAC,4BAAM/E,GAAG,GAAG,IAAIA,EAAEC,SAASV,KAAKwD,cAAc,OAAM,EAAG,KAAK/C,EAAEC,OAAO,GAAGV,KAAKwD,eAAe,IAAIxD,KAAK8D,cAAc9D,KAAK2O,UAAUlO,EAAEuJ,OAAOhK,KAAK4O,UAAUnO,EAAEuJ,OAAO,OAAM,CAAE,GAAC,iBAAAjK,IAAA,WAAgB,OAAOC,KAAKuE,cAAc,CAAC,GAAC,qBAAAxE,IAAA,WAAoB,OAAOC,KAAKwF,UAAU9E,OAAO,CAAC,GAAC,oBAAAX,IAAA,WAAmB,OAAOC,KAAKmE,SAASoK,IAAI,GAAC,oBAAAxO,IAAA,WAAmB,OAAOC,KAAKuE,aAAa,GAAC,8BAAAxE,IAAA,WAA6B,OAAOC,KAAKqF,uBAAuB,GAAC,eAAAtF,IAAA,WAAc,OAAOC,KAAKyF,QAAQ,GAAC,uBAAA1F,IAAA,WAAsB,OAAOC,KAAKkF,gBAAgB,GAAC,mBAAAnF,IAAA,WAAkB,OAAOoK,KAAKC,IAAIpK,KAAK2E,mBAAmB3E,KAAKwE,iBAAiB,GAAC,yCAAmB/D,GAAG,IAAGH,EAAAA,EAAAA,IAAEG,GAAG,OAAO,KAAK,IAAIf,EAAEM,KAAK6E,oBAAoB9E,IAAIU,EAAE4H,OAAO,GAAG3I,GAAGsM,EAAEtM,EAAEqL,QAAQ/K,KAAK8E,UAAU,OAAOpF,EAAE,IAAMW,EAAEL,KAAKgD,iBAAiB6L,YAAYpO,GAAGK,EAAEd,KAAKgD,iBAAiB8L,OAAOrO,GAAOP,GAAE,EAAG,GAAGY,EAAE,CAAC,IAAMR,EAAEN,KAAKqL,eAAe5K,EAAE4H,OAAO,GAAG/H,GAAG,EAAE,CAAC,IAAMG,EAAET,KAAK6E,oBAAoB9E,IAAIO,GAAGJ,IAAIO,GAAGJ,EAAEI,EAAEsO,QAAQ,MAAM7O,EAAEG,EAAE,CAAC,MAAMH,EAAE,IAAIO,EAAEyB,WAAW,OAAOxC,GAAGA,EAAEqP,SAAS1O,EAAEX,EAAEsP,SAAS9O,EAAER,EAAEqL,QAAQoB,GAAE,EAAGnM,KAAK8E,UAAUpF,IAAIA,EAAE,IAAIkD,EAAAA,GAAE9B,EAAEZ,EAAEG,EAAE8L,GAAE,EAAGnM,KAAK8E,WAAW9E,KAAK6E,oBAAoBlD,IAAIlB,EAAE4H,MAAM3I,GAAGA,EAAE,GAAC,gCAAUe,GAAE,WAACT,KAAKmE,SAASvC,IAAInB,GAAG,IAAMJ,GAAEX,EAAAA,EAAAA,IAAEM,KAAK4K,iBAAiBnK,IAAI2B,IAAI,IAAG9B,EAAAA,EAAAA,IAAED,GAAeL,KAAKqE,aAAazC,IAAInB,OAA1C,CAA6C,IAAMP,EAAEG,EAAEoH,GAAG/F,EAAE1B,KAAKkE,WAAWhE,EAAEiB,EAAE,WAAK,EAAKgD,SAASrC,OAAOrB,GAAG,IAAI,EAAK6E,SAAS5E,QAAQ,IAAI,EAAKyD,SAASoK,MAAM,EAAKU,eAAe,EAAEjP,KAAK+C,sBAAsB6E,QAAQlG,EAAE,QAAQmG,MAAM,SAAAvH,GAAIa,IAAI,IAAMzB,EAAE,EAAKgI,cAAcxH,EAAEI,GAAG,GAAG,MAAMZ,EAAT,CAAkBA,EAAE6I,KAAK,EAAKuE,8BAA8BrM,GAAG,IAAMJ,EAAE,EAAKsH,SAASjI,EAAEe,GAAG,EAAKyO,mBAAmB7O,EAAjG,CAAmG,IAAI,SAAAC,GAAIa,KAAIL,EAAAA,EAAAA,IAAER,KAAK,EAAK2C,QAAQgF,MAAM,cAAc,EAAK/B,UAAU,uBAAuBxE,GAAG,EAAK2C,aAAazC,IAAInB,GAAG,GAA9c,CAAid,GAAC,oCAAcA,EAAEH,GAAE,WAAC,GAAG,MAAMA,GAAG,iBAAiBA,GAAGA,EAAEmH,KAAKhH,EAAE,OAAOT,KAAKiD,QAAQgF,MAAM,kBAAkBjI,KAAKkG,UAAS,gDAA0CzF,EAAC,MAAK,KAAK,IAAIZ,MAAMsP,QAAQ7O,EAAEuK,KAAK,OAAO7K,KAAKiD,QAAQgF,MAAM,kBAAkBjI,KAAKkG,UAAS,0CAAoCzF,EAAC,MAAK,KAAKH,EAAE8O,gBAAgB,aAAa9O,EAAE8O,eAAeC,MAAM,cAAc/O,EAAE8O,eAAeC,MAAMrP,KAAKiD,QAAQqM,KAAK,kBAAkBtP,KAAKkG,UAAS,gDAA0CzF,EAAC,MAAK,MAAMH,EAAEiP,cAAc1P,MAAMsP,QAAQ7O,EAAEiP,eAAe,IAAIjP,EAAEiP,aAAa7O,QAAQ,mBAAmBJ,EAAEiP,aAAa,GAAGF,MAAMrP,KAAKiD,QAAQqM,KAAK,kBAAkBtP,KAAKkG,UAAS,yCAAmCzF,EAAC,MAAK,MAAMH,EAAEkP,eAAe3P,MAAMsP,QAAQ7O,EAAEkP,iBAAiBlP,EAAEkP,cAAcvP,MAAM,SAACQ,EAAEH,GAAC,OAAGG,EAAE4O,OAAI,yBAAqB/O,EAAC,KAAI,KAAIN,KAAKiD,QAAQqM,KAAK,kBAAkBtP,KAAKkG,UAAS,0CAAoCzF,EAAC,MAAKH,EAAEmP,aAAanP,EAAEmP,YAAY/O,OAAO,GAAGV,KAAKiD,QAAQqM,KAAK,kBAAkBtP,KAAKkG,UAAS,eAASzF,EAAC,gBAAQH,EAAEmP,YAAY/O,OAAM,oDAAmD,IAAMhB,EAAEY,EAAEoP,eAAe,SAAS1P,KAAK4F,iBAAiBtF,EAAEiI,IAAI,KAAKlI,EAAEC,EAAEmP,aAAa,IAAInP,EAAEmP,YAAY/O,QAAQJ,EAAEmP,YAAY,GAAGE,aAAarP,EAAEmP,YAAY,GAAGE,aAAa,GAAGrP,EAAEmP,YAAY,GAAGE,aAAa,GAAG,OAAE,EAAuqBzP,EAAEL,MAAMsP,QAAQ7O,EAAE+G,UAAU/G,EAAE+G,SAASe,KAArsB,SAAA9H,GAAI,GAAG,MAAMA,EAAE,OAAO,KAAK,IAAMZ,EAAE,SAAAY,GAAC,OAAE,EAAK2C,QAAQgF,MAAM,kBAAkB,EAAK/B,UAAS,yCAAmCzF,EAAC,aAAKH,GAAI,EAAC,GAAG,iBAAiBA,EAAEmH,GAAG/H,EAAE,MAAD,OAAOY,EAAEmH,GAAE,2CAA0C,GAAG,iBAAiBnH,EAAEmH,KAAK5H,MAAMsP,QAAQ7O,EAAEuK,KAAK,OAAOnL,EAAE,0BAA0B,KAAK,IAAIG,MAAMsP,QAAQ7O,EAAEuK,KAAK,OAAOnL,EAAE,wCAAD,OAAyCY,EAAEmH,GAAE,MAAK,KAAKnH,EAAE+O,MAAM/O,EAAE+O,OAAO,MAAM/O,EAAEmH,IAAI,EAAKxE,QAAQgF,MAAM,kBAAkB,EAAK/B,UAAS,qCAA+BzF,EAAC,MAAK,IAAMJ,EAAEC,EAAEoP,eAAe,SAAS,EAAK9J,iBAAiBtF,EAAEiI,IAAI,KAAKzH,EAAE,IAAI4B,EAAAA,GAAE,GAAD,OAAIpC,EAAEmH,IAAKnH,EAAEuK,KAAK,OAAO/J,EAAE2I,WAAWpJ,EAAES,EAAE4I,cAAc,EAAKjG,sBAAsB3C,GAAGA,CAAC,IAAgDmN,QAAQ,SAAAxN,GAAC,OAAE,MAAMA,CAAC,IAAG,KAAK,MAAM,CAACgH,GAAGhH,EAAEoK,IAAIvK,EAAEuK,IAAItC,IAAI7I,EAAE2H,SAASnH,EAAE4K,UAAU,CAAC9B,eAAe1I,EAAEmP,aAAanP,EAAEmP,YAAY/O,OAAO,EAAEqI,kBAAkB,MAAMzI,EAAE8O,eAAenG,WAAW3I,EAAEkP,cAAc/O,OAAE,EAAO0I,QAAQ7I,EAAEsP,aAAatP,EAAEsP,YAAYlP,OAAO,EAAED,OAAE,EAAOmI,SAAS,MAAMtI,EAAEiP,aAAa9O,OAAE,GAAQsK,QAAQ,iBAAiBzK,EAAEyK,QAAQzK,EAAEyK,QAAQ,KAAKJ,aAAa9K,MAAMsP,QAAQ7O,EAAEqK,cAAcrK,EAAEqK,aAAa,KAAKK,YAAY3K,EAAE,GAAC,yCAAmBL,KAAKqE,aAAa2I,QAAQhN,KAAKsE,aAAa0I,QAAQhN,KAAKmL,cAAc,SAAA7K,IAAIG,EAAAA,EAAAA,IAAEH,EAAE+B,QAAQ/B,EAAE+B,KAAKmL,QAAO,EAAG,GAAG,GAAC,qCAAe9N,GAAG,IAAMW,EAAEL,KAAK4K,iBAAiBlL,GAAGoB,EAAEd,KAAKqL,eAAe3L,GAAG,IAAGY,EAAAA,EAAAA,IAAED,IAAIS,EAAE,GAAG,MAAMT,EAAEgC,KAAK,OAAOvB,EAAE,EAAE,IAAId,KAAKqN,eAAevM,GAAG,IAAIZ,EAAE,EAAE,GAAGG,EAAEgC,MAAMvB,GAAG,EAAE,CAAC,IAAML,EAAET,KAAK6E,oBAAoB9E,IAAIe,GAAG,MAAML,IAAIP,EAAEO,EAAEsO,SAAS,CAAmC,IAAlC,IAAIrN,EAAE1B,KAAK6F,uBAA+BpF,EAAEf,EAAEe,GAAG,EAAEA,EAAET,KAAKqL,eAAe5K,GAAG,GAAGT,KAAKmD,UAAU1C,GAAG,CAACiB,EAAE,EAAE,KAAK,CAAC,IAAMP,GAAEV,EAAAA,EAAAA,IAAEJ,EAAE+B,KAAKpC,KAAKgD,iBAAiB6M,UAAUxP,EAAE+B,MAAK3B,EAAAA,EAAAA,IAAEJ,EAAEgC,MAAMrC,KAAKgD,iBAAiB6M,UAAUxP,EAAEgC,MAAM,EAAE,OAAOlB,EAAEjB,GAAGiB,EAAEnB,KAAK6F,wBAAwBnE,CAAC,GAAC,sCAAgBjB,GAAG,IAAMf,EAAEM,KAAK4K,iBAAiB5K,KAAK+D,aAAYzD,EAAAA,EAAAA,IAAEZ,GAAGe,EAAET,KAAK+D,WAAW,KAAK,MAAM/D,KAAK8P,iBAAiB9P,KAAK+D,YAAY,EAAErE,EAAEe,EAAE,GAAC,uCAAiBH,EAAED,EAAES,EAAEZ,GAAG,GAAGY,EAAEuB,MAAM,IAAIvB,EAAEoB,WAAuBlC,KAAKqM,kBAAkB/L,IAAIJ,EAAEI,EAAEQ,EAAET,QAAI,GAAIL,KAAKkM,cAAc5L,KAAaJ,EAAEI,EAAEQ,EAAET,GAAG,MAAMS,EAAEuB,MAApB,CAAgC,IAAMX,EAAE1B,KAAKkP,mBAAmBpO,EAAEuB,MAAM,GAAI,OAADX,QAAC,IAADA,IAAAA,EAAGqO,YAAYrO,EAAEqN,WAAW/O,KAAKsG,aAAgD,IAA5B,IAAMnF,GAAEzB,EAAAA,EAAAA,IAAEM,KAAK6J,SAASvJ,IAAYZ,EAAE,EAAEA,EAAEoB,EAAEoB,WAAWxC,IAAI,CAAC,IAAMW,EAAEc,EAAEkG,SAASvG,EAAEmB,YAAYvC,GAAGgC,EAAE1B,KAAK4K,iBAAiBvK,IAAGI,EAAAA,EAAAA,IAAEiB,GAAG1B,KAAK8P,iBAAiBzP,EAAEC,EAAEoB,EAAExB,GAAGA,EAAEG,EAAE,KAAKC,EAAE,CAA3Q,CAA4Q,GAAC,+BAASG,EAAEH,GAAGA,EAAEG,IAAIT,KAAKgQ,iBAAiBvP,EAAEH,EAAE,GAAC,uCAAiBA,EAAEZ,GAAG,IAAMW,EAAEC,EAAE+H,MAAMvH,EAAEd,KAAK4K,iBAAiBvK,IAAGI,EAAAA,EAAAA,IAAEK,IAAId,KAAKiQ,kBAAkB5P,EAAES,EAAEpB,EAAE,GAAC,wCAAkBA,EAAEW,EAAES,GAAG,IAAMZ,EAAEF,KAAK6J,SAASnK,GAAG,KAAGY,EAAAA,EAAAA,IAAEJ,GAA6C,IAAnC,IAAMwB,EAAErB,EAAE4B,YAAY5B,EAAE6B,WAAmB5B,EAAED,EAAE4B,YAAY3B,EAAEoB,IAAIpB,EAAE,CAAC,IAAMZ,EAAEQ,EAAEmH,SAAS/G,GAAGD,EAAEL,KAAK4K,iBAAiBlL,IAAGe,EAAAA,EAAAA,IAAEJ,KAAII,EAAAA,EAAAA,IAAEJ,EAAEgC,OAAOvB,EAAET,EAAEgC,OAAOrC,KAAKiQ,kBAAkBvQ,EAAEW,EAAES,EAAE,CAAC,GAAC,2CAAqBR,EAAEZ,GAAyB,IAAtB,IAAIW,EAAEL,KAAKiK,QAAQ3J,IAAQG,EAAAA,EAAAA,IAAEJ,IAAIA,EAAE6P,gBAAgBxQ,EAAEW,EAAEL,KAAKsK,UAAUjK,EAAEgI,MAAM,GAAC,qDAA8B,WAAC,IAAG/H,EAAAA,EAAAA,IAAEN,KAAKwH,UAAU,OAAM,EAAG,IAAM/G,EAAE,GAAkK,OAA7J,SAAFf,EAAEY,GAAI,IAAID,EAAE,EAAK8C,UAAU7C,EAAE+H,QAAQ,EAAKjF,aAAa9C,EAAE+H,OAAO,EAAE,EAAE,OAAO,EAAK2H,iBAAiB1P,GAAG,SAAAG,GAAC,OAAGJ,GAAGX,EAAEe,IAAG,CAAE,IAAIH,EAAE4P,iBAAiB7P,GAAGI,EAAE0G,KAAK7G,EAAE+H,OAAOhI,CAAC,CAASX,CAAEM,KAAKwH,UAAU/G,EAAEC,QAAQV,KAAKiD,QAAQgF,MAAM,uDAAuDxH,EAAE0P,KAAK,MAAM1P,EAAEC,OAAO,CAAC,GAAC,kCAAYD,GAAG,GAAGT,KAAKyF,SAAS7D,IAAIlB,OAAO,IAAID,EAAE2G,OAAO,MAAMpH,KAAKyF,SAAS7D,IAAIlB,SAASV,KAAKuE,eAAevE,KAAKwF,UAAU9E,OAAO,KAAKD,EAAE4H,OAAO,MAAMrI,KAAKuE,eAAe,GAAuB9D,EAAE2P,KAAKpQ,KAAK2E,mBAAmB3E,KAAKkF,iBAAiBC,SAAS,CAAC,IAAM7E,EAAEN,KAAKkF,iBAAiBC,SAAS1E,EAAE4P,SAAS/P,EAAE,EAAEG,EAAE4P,UAAU,MAAM/P,EAAEA,EAAE,IAAIG,EAAE4P,UAAU,OAAO/P,EAAE,CAAC,GAAC,0CAAoBG,EAAEH,GAAGN,KAAK+F,uBAAuBzF,KAAKG,IAAI,uBAAuBA,EAAE6P,MAAM,kBAAkB7P,EAAE6P,MAAMtQ,KAAKgD,iBAAiBuN,oBAAoB9P,GAAGT,KAAKwQ,8BAA8B,GAAC,qDAA+BxQ,KAAKmL,cAAc,SAAA7K,GAAIkL,EAAElL,IAAGG,EAAAA,EAAAA,IAAEH,EAAE+B,QAAQ/B,EAAE+B,KAAKoJ,eAAe,OAAMhL,EAAAA,EAAAA,IAAEH,EAAE8B,OAAO9B,EAAE8B,IAAIqJ,eAAe,KAAK,GAAG,GAAC,mCAAahL,GAAG,IAAI,IAAIH,EAAE,EAAEA,EAAEN,KAAK4D,WAAWlD,OAAOJ,IAAI,CAAC,IAAMZ,EAAEM,KAAK4D,WAAWtD,GAAG,GAAGZ,EAAgC,IAA7B,IAAMW,EAAEC,EAAEN,KAAK8D,cAAsBxD,EAAE,EAAEA,EAAEZ,EAAE0H,MAAM1G,OAAOJ,IAAIG,EAAEf,EAAE0H,MAAM9G,GAAGD,EAAEC,EAAG,CAAC,GAAC,YAAAP,IAAA,WAAU,WAAC,MAAM,CAAC0Q,QAAQ,SAAChQ,EAAEH,GAAC,OAAG,EAAKqH,SAASlH,EAAEH,EAAE,EAAC,KAAC,EAAvyqB,GAA8yqB4M,EAAE,IAAI3L,IAAUmE,EAAC,WAAC,WAAYjF,IAAE,eAACT,KAAK6N,QAAQpN,EAAET,KAAK0M,OAAO,IAAIrM,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAK4B,IAAI,IAAIvB,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAK6B,OAAO,IAAIxB,EAAAA,EAAE,CAACkF,YAAY,OAAOvF,KAAKgO,OAAO,EAAE,CAA6D,OAA5D,sCAAMvN,GAAGT,KAAK4B,IAAIoL,QAAQhN,KAAK0M,OAAOM,QAAQhN,KAAKgO,OAAOvN,CAAC,KAAC,EAAzN,GAA0N,SAAS+K,EAAElL,IAAGG,EAAAA,EAAAA,IAAEH,EAAE+B,SAAQQ,EAAAA,EAAAA,IAAEvC,EAAE+B,KAAK4I,YAAWnI,EAAAA,EAAAA,IAAExC,EAAE+B,KAAK6I,wBAAuBzK,EAAAA,EAAAA,IAAEH,EAAE8B,QAAOS,EAAAA,EAAAA,IAAEvC,EAAE8B,IAAI6I,YAAWnI,EAAAA,EAAAA,IAAExC,EAAE8B,IAAI8I,sBAAsB,CAAC,SAAStB,EAAEnJ,GAAG,OAAOqI,EAAAA,EAAAA,IAAErI,GAAG,EAAE,CAAC,SAASsE,EAAEtE,GAAG,OAAOqI,EAAAA,EAAAA,IAAErI,EAAE,EAAE,CAAC,SAAS0L,EAAE1L,EAAEH,GAAG,OAAOA,GAAGG,EAAE,EAAE,EAAE,CAAC,SAASuL,EAAEvL,EAAEH,GAAG,QAAQ,EAAEG,KAAKH,CAAC,CAAC,SAAS8L,EAAE3L,GAAG,OAAO,IAAI,EAAEA,EAAE,CAAC,SAASuG,EAAEvG,EAAEH,GAAG,OAAO,IAAIA,EAAE,EAAEG,EAAEH,EAAE,CAAC,CAAC,SAASwJ,EAAErJ,EAAEH,GAAG,OAAO,IAAIA,EAAEG,EAAEA,EAAEH,CAAC,CAAC,IAAMiK,EAAE,CAAC,CAAC,qBAAqBpJ,EAAAA,GAAAA,oBAAsB,CAAC,sBAAsBA,EAAAA,GAAAA,qBAAuB,CAAC,yBAAyBA,EAAAA,GAAAA,wBAA0B,CAAC,iCAAiCA,EAAAA,GAAAA,iCAA8M,IAAMgM,GAAC,QAAC,cAAa,eAACnN,KAAKyN,MAAM,EAAEzN,KAAK2N,WAAW,EAAE3N,KAAK6N,QAAQ,EAAE7N,KAAK8N,aAAa,EAAE9N,KAAK4N,UAAU,CAAC,IAAE,SAAS9G,EAAErG,GAAG,OAAO0J,KAAKuG,KAAKjQ,GAAG,EAAE0J,KAAKwG,IAAI,C,eCAj8tBrQ,EAAC,WAAC,WAAYG,IAAE,eAACT,KAAK4Q,WAAWnQ,EAAET,KAAK6Q,iBAAgB,CAAE,CAAw9E,OAAv9E,iDAAiBpQ,EAAEf,EAAEgC,EAAErB,GAAGL,KAAKsG,aAAajG,EAAEkG,YAAYvG,KAAK8Q,OAAOpP,EAAE1B,KAAK+Q,qBAAqBtQ,EAAET,KAAKgR,aAAatR,CAAC,GAAC,qCAAeA,GAAG,IAAGe,EAAAA,EAAAA,IAAEf,GAAG,OAAM,EAAG,IAAMgC,EAAE1B,KAAK8Q,OAAO5B,mBAAmBxP,GAAG,QAAQM,KAAKiR,gBAAgBvP,MAAMA,EAAEsN,UAAUhP,KAAKkR,wBAAwBxR,EAAE,GAAC,0CAAoBM,KAAK6Q,iBAAgB,CAAE,GAAC,iCAAA9Q,IAAA,WAAgC,OAAO,MAAMC,KAAK8Q,SAAQ,IAAK9Q,KAAK6Q,eAAe,GAAC,wCAAkBpQ,GAAG,IAAIT,KAAKmR,0BAA0B,OAAM,EAAGnR,KAAK6Q,iBAAgB,EAAG,IAAMnR,EAAEM,KAAK4Q,WAAWQ,KAAKC,mBAAmBC,iBAAiBC,WAAW7P,EAAEyI,KAAKC,IAAI,EAAED,KAAKqH,MAAM,IAAI9R,EAAE,KAAKQ,GAAE8M,QAAQhN,KAAKyR,mBAAmBzR,KAAK8Q,OAAOtJ,SAAS9F,GAAE,IAAK1B,KAAK4Q,WAAWc,wBAAwB,IAAMrR,EAAEH,GAAEQ,OAAOV,KAAKgR,aAAa9Q,GAAEO,GAAG,IAAMiC,EAAExC,GAAEQ,OAAOL,EAAE,OAAO,IAAIH,GAAEQ,SAASV,KAAK6Q,iBAAgB,GAAI3Q,GAAE8M,QAAQtK,CAAC,GAAC,yCAAmBhB,EAAEpB,EAAEkB,EAAEV,GAAG,IAAGL,EAAAA,EAAAA,IAAEiB,GAAG,OAAM,EAAG,IAAMP,EAAEO,EAAE2G,MAAM1F,EAAE3C,KAAK8Q,OAAOlO,EAAE5C,KAAK4Q,WAAWpO,EAAEG,EAAEuM,mBAAmBxN,GAAGJ,EAAEtB,KAAKiR,gBAAgBzO,GAAGoH,GAAGlI,EAAEoJ,UAAU9B,eAAe,GAAG1H,GAAGsI,EAAE,OAAOlI,EAAEwO,eAAe,GAAGlQ,KAAK2R,yBAAyBjQ,IAAG,EAAG,IAAM6I,EAAE3H,EAAEgP,aAAazQ,GAAG,GAAGL,GAAGyJ,GAAGjJ,EAAE,CAAC,IAAMb,GAAGe,GAAGxB,KAAK6R,qBAAqBnQ,GAAGkB,EAAEkP,SAAS3Q,EAAEuB,EAAAA,EAAAA,QAAUjC,EAAE,CAAC,IAAMiF,EAAE6E,KAAK3H,EAAEmP,oBAAoBnP,EAAEmP,mBAAmB5Q,IAAI,GAAGoJ,IAAI3H,EAAEoP,gBAAgB7Q,EAAEG,EAAEjB,EAAAA,GAAAA,KAAOA,EAAAA,GAAAA,MAAQiB,GAAG,OAAOoE,GAAG1F,KAAK2R,yBAAyBjQ,GAAGgE,EAAE,IAAM5C,EAAEpB,EAAEQ,WAAW,EAAMgL,EAAEpK,EAAE,GAAGA,EAAE,IAAI,IAAIrC,EAAE,EAAEA,EAAEiB,EAAEQ,WAAWzB,IAAI,CAAC,IAAMiB,EAAEiB,EAAEuH,cAAc/I,EAAEV,GAAGJ,EAAEsC,EAAEsH,QAAQvI,IAAMhC,EAAAA,EAAAA,IAAEW,GAAOsC,EAAE0J,kBAAkB3K,KAAI1B,KAAKyR,mBAAmBpR,EAAEC,EAAEkB,GAAGkE,EAAE5E,IAAKd,KAAK+Q,qBAAqB1Q,KAAK6M,GAAE,GAASvK,EAAEuJ,cAAcxK,KAAKwL,GAAE,EAAG,CAAC,IAAMlL,EAAEuI,IAAIjJ,IAAI4L,GAAGhN,GAAEQ,OAAOJ,GAAG0B,GAAG9B,GAAEiH,KAAKhG,IAAIL,GAAGkB,IAAIuI,GAAG/I,GAAG0L,GAAGtK,EAAEkP,SAAS3Q,EAAEuB,EAAAA,EAAAA,QAAS,GAAI,IAAMoG,GAAGpH,EAAEoJ,UAAU9B,eAAe,OAAOkE,GAAGxH,IAAI1D,GAAG8G,CAAC,GAAC,+CAAyBrI,GAAE,WAACT,KAAK8Q,OAAOd,iBAAiBvP,GAAG,SAAAA,GAAC,OAAI,EAAKmQ,WAAWgB,aAAanR,EAAE4H,QAAQ,EAAKuI,WAAWqB,gBAAgBxR,EAAE4H,SAASnI,GAAEiH,KAAK1G,EAAE4H,OAAO5H,EAAEyP,eAAe,CAAC,GAAG,GAAC,2CAAqBzP,GAAE,WAAKf,GAAE,EAAG,OAAOM,KAAK8Q,OAAOd,iBAAiBvP,GAAG,SAAAA,GAAC,SAAKf,IAAI,EAAKoR,OAAO5E,cAAczL,EAAE4H,UAAU,EAAKuI,WAAWgB,aAAanR,EAAE4H,QAAQ3I,GAAE,GAAG,GAAIe,EAAEyP,eAAe,EAAE,IAAGxQ,CAAC,GAAC,8CAAwBe,GAAE,WAAKf,GAAE,EAAGgC,GAAE,EAAG,OAAO1B,KAAK8Q,OAAOd,iBAAiBvP,GAAG,SAAAA,GAAI,IAAIiB,IAAI,EAAKoP,OAAO5E,cAAczL,EAAE4H,OAAO,OAAM,EAAG,IAAMhI,EAAE,EAAKyQ,OAAO5B,mBAAmBzO,GAAG,OAAO,EAAKwQ,gBAAgB5Q,IAAI,EAAKyQ,OAAOzE,kBAAkB5L,EAAE4H,SAAS3I,GAAE,GAAI,EAAKkR,WAAWgB,aAAanR,EAAE4H,QAAQ3G,GAAE,GAAG,GAAIjB,EAAEyP,eAAe,CAAC,IAAIxO,GAAGhC,CAAC,GAAC,sCAAgBe,GAAG,OAAOA,EAAEuO,YAAYvO,EAAEsP,YAAYtP,EAAEsO,WAAW/O,KAAKsG,aAAa,KAAC,EAAjhF,GAAwhFpG,GAAE,IAAIwB,EAAAA,EAAE,CAAC6D,YAAY,O,+FCAnpEzC,GAAC,WAAC,WAAYrC,EAAEH,EAAEJ,EAAER,EAAEgC,EAAEZ,GAAG,IAAD,eAAId,KAAK+C,sBAAsBzC,EAAEN,KAAKiD,QAAQ/C,EAAEF,KAAKkS,uBAAuBxS,EAAEM,KAAKmS,oBAAoBzQ,EAAE1B,KAAKoS,SAAStR,EAAEd,KAAKkG,UAAUzF,EAAET,KAAKqS,UAAU5R,EAAE6R,UAAUC,KAAKvS,KAAKwS,qBAAqB/R,EAAEgS,oBAAoBhS,EAAEiS,oBAAoB,CAAC,IAAMpS,EAAEG,EAAEkS,sBAAsB3S,KAAK4S,qBAAqBnS,EAAEiS,oBAAoBtK,KAAK,SAAA3H,GAAC,OAAEiC,EAAAA,GAAAA,IAAEpC,EAAEG,EAAE,GAAE,CAAC,CAA0tE,OAAztE,sCAAMA,EAAEH,EAAEJ,GAAG,OAAOF,KAAK+C,sBAAsB6E,QAAQnH,EAAEH,EAAEJ,EAAE,GAAC,qCAAeO,EAAEH,EAAEJ,GAAG,IAAMR,EAAC,UAAIM,KAAKqS,UAAS,kBAAU5R,EAAEqK,UAAU7B,WAAU,uBAAe3I,EAAEuS,IAAG,MAAK,OAAO7S,KAAK0O,MAAMhP,EAAE,SAASQ,GAAG2H,MAAM,SAAApH,GAAC,OAAEe,EAAAA,GAAAA,IAAElB,EAAEG,EAAE,GAAE,GAAC,qCAAeA,EAAEH,EAAEJ,GAAE,WAAC,OAAOY,EAAAA,EAAAA,IAAER,EAAE8H,KAAK,SAAA9H,GAAC,OAAE,EAAKwS,eAAerS,EAAEH,EAAEyS,qBAAqB7S,EAAE,KAAI2H,MAAM,SAAA3H,GAAe,IAAX,IAAMR,EAAE,CAAC,EAAUgC,EAAE,EAAEA,EAAEpB,EAAEI,SAASgB,EAAE,CAAC,IAAMZ,EAAEZ,EAAEwB,GAAGsR,MAAM,GAAGlS,EAAEpB,EAAEY,EAAEoB,GAAGuR,MAAMnS,MAAM,CAAC,IAAGT,EAAAA,EAAAA,IAAEH,EAAEwB,GAAGuG,OAAO,MAAM/H,EAAEwB,GAAGuG,MAAM,EAAKhF,QAAQgF,MAAM,kBAAkB,EAAK/B,UAAS,4CAAsC5F,EAAEoB,GAAGuR,KAAI,sBAAcxS,EAAEgH,GAAE,KAAIvH,EAAEwB,GAAGuG,MAAM,CAAC,CAAC,OAAOvI,CAAC,GAAG,GAAC,gFAAmBQ,EAAEY,GAAC,2HAA8Q,GAAtQT,EAAE,MAAML,KAAKmS,qBAAqBjS,EAAE4K,UAAU7B,YAAWxI,EAAAA,GAAAA,IAAET,KAAKkT,eAAehT,EAAEF,KAAKmS,oBAAoBrR,IAAI,KAAI,EAAoCqS,GAAEnT,KAAKwS,qBAAqBtS,GAA7CiB,EAAC,EAAlBiS,iBAA+B5Q,EAAC,EAAb6Q,YAA8C7R,IAAItB,EAAE4K,UAAUlC,SAASlG,EAAElB,GAAEf,EAAAA,GAAAA,IAAET,KAAKsT,cAAcpT,EAAE4K,UAAUlC,SAASpG,EAAE1B,IAAI,MAAOZ,EAAE4K,UAAU/B,kBAAiB,iCAAO/I,KAAKuT,YAAYrT,EAAEY,GAAE,gDAAC,KAAI,QAA2M,GAA3Q6B,EAAC,KAAgEG,EAAE5C,EAAE4K,UAAUxB,mBAAmB7G,EAAEzC,KAAK4S,sBAAsB,MAAM9P,GAAGA,GAAG,EAAE9C,KAAK4S,qBAAqB9P,GAAG,MAAMH,GAAErB,EAAAA,GAAAA,IAAEqB,GAAG,KAAKiH,EAAG,OAADnH,QAAC,IAADA,OAAC,EAADA,EAAGoG,SAAS2K,EAAa,QAAZ,EAAE,OAAD/Q,QAAC,IAADA,OAAC,EAADA,EAAGgR,gBAAQ,QAAE,GAAGzH,EAAC,UAAI9L,EAAEuH,MAAKiM,GAAGlS,GAAGxB,KAAKoS,SAASuB,iBAAmB,kCAAO3T,KAAK4T,iBAAiB5H,EAAElL,GAAE,iDAAC,KAAI,QAA+F,GAAxI+S,EAAC,KAAyCC,EAAEJ,EAAE9Q,GAAEiR,GAA06E,CAACE,WAAW,GAAGC,WAAW,CAAC,CAACvN,KAAK,kBAAkBwN,OAAO,CAACpL,SAAh+Ee,KAA8+EsK,oBAAoB,CAAC,EAAE,EAAE,IAApgFnP,GAAErF,EAAAA,EAAAA,IAAEoU,GAAG9R,GAAE6R,GAAG,KAAKM,EAAEX,EAAE9S,OAAO,GAAED,EAAAA,GAAAA,IAAET,KAAKoU,aAAalU,EAAEsT,EAAE1S,IAAI,KAASkG,EAAE,KAAKqN,EAAE,MAAQ3R,EAAC,iBAAK,OAAL,KAAIpC,GAAAA,GAAC,UAAOoC,EAAC,oBAAXsE,GAAC,cAAkBvG,EAAEyM,GAAElN,KAAKkS,uBAAuBvP,GAAG0R,GAAEvL,EAAAA,GAAAA,IAAE3H,EAAEV,GAAE,YAAS0T,EAAC,iBAAE,OAAF,KAAC7T,GAAAA,GAAC,UAAO6T,EAAC,qEAAE,KAAI,QAAlB,GAADG,EAAC,MAAqBjU,EAAC,iBAAE,OAAF,KAACC,GAAAA,GAAC,UAAOD,EAAC,qEAAE,CAAC,EAAC,QAAqE,GAAtF8L,EAAC,KAAiBzB,EAAEyB,EAAE,CAACqD,cAAcrD,EAAEoI,iBAAiBvU,KAAKmS,qBAAqB,OAAQzQ,EAAAA,EAAAA,IAAEoS,GAAE,0CAAO,CAACvE,aAAauE,EAAEU,kBAAkB9J,EAAE+J,eAAezN,EAAE0N,mBAAmBL,EAAEM,iBAAiBnB,EAAE5D,YAAY0E,IAAE,aAAI5S,EAAAA,EAAAA,IAAEqD,GAAE,0CAAO,CAAC6P,UAAU7P,EAAEyP,kBAAkB9J,EAAE+J,eAAezN,EAAE0N,mBAAmBL,EAAEM,iBAAiBnB,EAAE5D,YAAY0E,IAAE,cAAO,IAAIO,MAAK,iDAAC,qDAAjnC,IAAinC,yBAAoiB,SAAYpU,EAAEH,GAAG,IAAMJ,EAAC,UAAIF,KAAKqS,UAAS,kBAAU5R,EAAEqK,UAAUlC,SAAQ,WAAU,OAAO5I,KAAK0O,MAAMxO,EAAE,OAAOI,GAAGuH,MAAM,SAAApH,GAAC,OAAGqC,EAAEgS,qBAAqBrU,GAAGqC,EAAEiS,wBAAwBtU,EAAEP,GAAGO,CAAC,GAAG,GAAC,mCAAaA,EAAEH,EAAEJ,EAAER,EAAEgC,EAAEZ,GAAG,IAAIT,GAAE,EAAG,OAAOqB,IAAIc,GAAAA,EAAAA,UAAYd,IAAIc,GAAAA,EAAAA,MAAQd,IAAIc,GAAAA,EAAAA,MAAQxC,KAAK0O,MAAMjO,EAAE,SAASK,GAAG+G,MAAM,SAAApH,GAAC,MAAG,CAACgH,GAAGnH,EAAE0U,MAAM9U,EAAEmO,KAAK5N,EAAEwU,SAASvT,EAAEwT,YAAY7U,EAAE,IAAIL,KAAK0O,MAAMjO,EAAE,QAAQK,GAAG+G,MAAM,SAAApH,GAAI,IAAIK,EAAEL,EAAmB,GAAGf,GAAGe,EAAE0U,MAAM1U,EAAE2U,QAAzB,KAAmC,CAAC,IAAM9U,EAAE6J,KAAKkL,KAAK5U,EAAE0U,MAAjD,GAA0DjV,EAAEiK,KAAKkL,KAAK5U,EAAE2U,OAAxE,GAAkF1V,EAAE4V,SAASC,cAAc,UAAU7V,EAAEyV,MAAM7U,EAAEZ,EAAE0V,OAAOlV,EAAER,EAAE8V,WAAW,MAAMC,UAAUhV,EAAE,EAAE,EAAEH,EAAEJ,GAAGY,EAAEpB,EAAEW,GAAE,CAAE,CAAC,MAAM,CAACoH,GAAGnH,EAAE0U,MAAM9U,EAAEmO,KAAKvN,EAAEmU,SAASvT,EAAEwT,YAAY7U,EAAE,GAAG,GAAC,mCAAaI,EAAEH,EAAEJ,GAAE,WAAOR,IAAIM,KAAKoS,SAASsD,uCAAuChU,EAAE1B,KAAKoS,SAASuD,iBAAiB,OAAOC,QAAQC,IAAIvV,EAAE8H,KAAK,SAAA9H,GAAI,GAAG,IAAIA,EAAE0U,MAAMtT,GAAG,OAAO,KAAK,IAAMZ,GAAE6B,EAAAA,GAAAA,IAAErC,EAAEwV,UAAU,EAAK1D,SAAS2D,kBAAkB,GAAG,MAAMjV,EAAE,OAAO,EAAKmC,QAAQgF,MAAM,gBAAgB,EAAK/B,UAAS,sDAAgDzF,EAAEgH,KAAMmO,QAAQI,SAAS,IAAM3V,EAAEI,EAAEqK,UAAU3B,SAAS1I,EAAEgH,GAAGtG,EAAC,UAAI,EAAKkR,UAAS,kBAAUhS,EAAC,qBAAaS,EAAEmS,MAAO,OAAO,EAAKgD,aAAa9U,EAAEb,EAAEmH,GAAGnH,EAAE0U,MAAMtV,EAAEoB,EAAEmU,SAAS/U,EAAE,IAAI,GAAC,uCAAiBO,EAAEH,GAAG,IAAMJ,EAAC,UAAIF,KAAKqS,UAAS,kBAAU5R,EAAC,eAAc,OAAOT,KAAK0O,MAAMxO,EAAE,OAAOI,EAAE,GAAC,oCAAcG,EAAEH,EAAEJ,GAAG,IAAMR,EAAC,UAAIM,KAAKqS,UAAS,kBAAU5R,EAAC,uBAAeH,GAAI,OAAON,KAAK0O,MAAMhP,EAAE,SAASQ,EAAE,IAAC,sCAAr4D,SAA+BO,EAAEH,GAAG,IAAMJ,EAAEO,EAAEyV,mBAAmB,GAAG,MAAMhW,EAAE,cAAeiW,OAAOC,KAAKlW,GAAE,gBAAzB,IAAoD,EAA9CR,EAAC,eAAkCQ,EAAER,GAAG2W,QAAM,IAA1B,2BAA2B,KAAjB5V,EAAC,QAAgBZ,MAAMsP,QAAQ1O,EAAE4O,MAAM5O,EAAE6V,WAAW7V,EAAE4O,KAAKjH,KAAK,SAAA3H,GAAC,OAAEU,EAAAA,GAAAA,IAAEV,EAAEH,EAAE,IAAGG,EAAE6V,YAAWnV,EAAAA,GAAAA,IAAEV,EAAE4O,KAAK/O,EAAC,CAAC,mCAAC,2CAA4BG,GAAG,IAAMH,EAAEG,EAAEyV,mBAAmB,GAAG,MAAM5V,EAAE,IAAI,IAAMJ,KAAKI,EAAE,CAAC,IAAMG,EAAEH,EAAEJ,GAAG,GAAGL,MAAMsP,QAAQ1O,EAAEwU,UAAU,IAAI,IAAI3U,EAAE,EAAEA,EAAEG,EAAEwU,SAASvU,OAAOJ,IAAI,CAAC,IAAMJ,EAAEO,EAAEwU,SAAS3U,GAAG,UAAUJ,EAAEqW,UAAU,EAAE,KAAK9V,EAAEwU,SAAS3U,GAAGJ,EAAEqW,UAAU,GAAG,KAAK,CAAC,IAAMjW,EAAEG,EAAEwU,SAAS,UAAU3U,EAAEiW,UAAU,EAAE,KAAK9V,EAAEwU,SAAS3U,EAAEiW,UAAU,GAAG,CAAC,CAAC,KAAC,EAArkF,GAAiiI,SAAS3T,GAAEnC,GAAG,IAAIA,EAAE,OAAO,KAAK,IAA4B,EAA5B,UAAeA,EAAEgP,aAAW,IAA5B,2BAA6B,KAAnBnP,EAAC,QAAyBG,EAAEH,EAAE0T,WAAW,GAAG,MAAMvT,EAAC,KAAiB,EAAjB,UAAgBA,GAAC,IAAhB,2BAAiB,KAAPP,EAAC,QAAM,MAAM,CAAC6T,WAAW,CAACzT,EAAEmH,IAAIyM,oBAAoB5T,EAAEkW,SAASxC,WAAW,CAAC9T,GAAE,CAAC,iCAAC,sCAAO,IAAI,CAAC,SAAS8B,GAAEvB,GAAG,IAAIA,EAAE,OAAO,KAAK,IAA8C,EAAxCH,EAAE,IAAIT,MAAM,UAAeY,EAAEgP,aAAW,IAA5B,2BAA6B,KAAnBvP,EAAC,QAAkB,MAAMA,EAAEsW,UAAUlW,EAAE6G,KAAK,CAAC4M,WAAW,CAAC7T,EAAEuH,IAAIyM,oBAAoBhU,EAAEsW,SAASxC,WAAW,IAAI,CAAC,sCAAO1T,CAAC,CAAC,SAAS4M,GAAEzM,EAAEH,GAAG,IAAIG,IAAIH,IAAIA,EAAEoS,oBAAoB,OAAOjS,EAAE,IAAMf,EAAEyW,OAAOC,KAAK9V,EAAEoS,qBAAqB,GAAG,OAAOpS,EAAEoS,oBAAoBhT,GAAGuU,OAAOwC,eAAehW,EAAEiW,iBAAiBC,eAAelW,GAAEP,EAAAA,GAAAA,IAAEO,IAAIiW,iBAAiBC,OAAOlW,CAAC,CAAC,SAAS0S,GAAE1S,EAAEH,GAAG,IAAMJ,EAAE,CAACkT,iBAAiB,KAAKC,YAAY,GAAG3T,EAAEY,EAAEwK,UAAU1B,mBAAmB,GAAG,MAAM3I,GAAG,MAAMf,GAAGA,EAAE,EAAE,OAAOQ,EAAE,IAAMwB,EAAEhC,GAAG,EAAEe,EAAEf,GAAGkX,gBAAgB,KAAK,GAAG,MAAMlV,EAAE,OAAOxB,EAAE,IAAI,IAAIY,EAAE,EAAEA,EAAEY,EAAEhB,OAAOI,IAAI,CAAC,IAAML,EAAEiB,EAAEZ,GAAG,GAAG,MAAML,EAAEoW,qBAAqB3W,EAAEmT,YAAYvS,EAAEZ,EAAEkT,iBAAiB1R,EAAEZ,QAAQ,GAAG,UAAUL,EAAEoW,qBAAqB5B,YAAW3H,EAAAA,EAAAA,GAAI,6BAA6B,OAAOpN,EAAEmT,YAAYvS,EAAEZ,EAAEkT,iBAAiB3S,EAAEP,CAAC,CAAC,OAAOA,CAAC,CCAxlL,IAAMA,GAAC,WAAC,WAAYO,EAAEH,IAAE,eAACN,KAAK8W,WAAWrW,EAAET,KAAK+W,QAAQzW,EAAEN,KAAKgX,gBAAgB,IAAI5S,GAAG,CAAohB,OAAnhB,sBAAArE,IAAA,WAAW,OAAOC,KAAK8W,WAAWG,IAAI,GAAC,8BAAQ/W,EAAEG,EAAEqB,GAAE,WAAOF,EAAE,IAAI0V,gBAAgB/V,GAAEV,EAAAA,EAAAA,IAAEiB,GAAG,kBAAIF,EAAE2V,OAAO,IAAGrW,EAAE,CAACsW,OAAO5V,EAAE4V,OAAOC,MAAM,CAACC,MAAMtX,KAAK+W,UAAUrX,EAAEM,KAAK8W,WAAWlP,QAAQ1H,EAAEG,EAAES,GAAG0B,EAAE,CAAC+U,SAAS7X,EAAE8X,gBAAgBhW,EAAEiW,YAAYtW,GAAG,OAAOnB,KAAKgX,gBAAgBpV,IAAIY,IAAGlC,EAAAA,EAAAA,IAAEZ,GAAG,WAAI,MAAC8C,EAAEgV,gBAAgB,KAAkB,QAAd,EAAChV,EAAEiV,mBAAW,OAAb,EAAe5V,SAASW,EAAEiV,YAAY,KAAK,EAAKT,gBAAgBlV,OAAOU,EAAE,IAAI9C,CAAC,GAAC,kCAAYM,KAAKgX,gBAAgBU,SAAS,SAAAjX,GAAG,QAAkB,QAAjB,EAAAA,EAAE+W,uBAAe,OAAjB,EAAmBL,QAAQ1W,EAAE+W,gBAAgB,KAAkB,QAAd,EAAC/W,EAAEgX,mBAAW,OAAb,EAAe5V,QAAQ,IAAI7B,KAAKgX,gBAAgBhK,OAAO,KAAC,EAAnmB,G,uHCAwxCjI,GAAE,IAAUyO,GAAC,WAAC,WAAY/S,EAAEH,EAAEZ,EAAEW,EAAEH,EAAEY,EAAEY,EAAEP,GAAO,IAALwB,EAAC,uDAAC,CAAC,GAAC,eAAE3C,KAAK2X,SAASlX,EAAET,KAAK4X,oBAAoBtX,EAAEN,KAAK6X,cAAc3X,EAAEF,KAAK8X,mBAAmBhX,EAAEd,KAAK+X,aAAarW,EAAE1B,KAAKoS,SAASzP,EAAE3C,KAAKgY,UAAStV,EAAAA,GAAAA,MAAI1C,KAAKiY,oBAAmB,EAAGjY,KAAKkY,MAAKpV,EAAAA,GAAAA,KAAI9C,KAAKmY,kBAAkB,KAAKnY,KAAKoY,YAAY,IAAIpY,KAAKqY,YAAY,EAAErY,KAAKuG,YAAY,EAAEvG,KAAKsY,SAAQC,EAAAA,EAAAA,MAAIvY,KAAKwY,OAAM1V,EAAAA,GAAAA,KAAI9C,KAAKyY,OAAM3V,EAAAA,GAAAA,KAAI9C,KAAK0Y,OAAM5V,EAAAA,GAAAA,KAAI9C,KAAK2Y,OAAM7V,EAAAA,GAAAA,KAAI9C,KAAK4Y,sBAAsBjW,EAAEkW,sBAAsB,EAAE7Y,KAAK8Y,uBAAuBnW,EAAEoW,uBAAuB,EAAE/Y,KAAKgZ,aAAatZ,EAAEW,GAAGL,KAAKiZ,SAASjZ,KAAK4X,oBAAoBsB,iBAAiBlZ,KAAKuQ,oBAAoBpP,GAAGnB,KAAKmZ,WAAUrQ,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAErI,GAAGT,KAAKoZ,sBAAsBpZ,KAAK2X,SAAS0B,UAAUrZ,KAAKiZ,SAASK,gBAAehR,EAAAA,GAAAA,IAAEtI,KAAKiZ,WAAWjZ,KAAKuZ,yBAAwB9W,EAAAA,GAAAA,IAAEzC,KAAK2X,UAAU6B,MAAM,CAAoxK,OAAnxK,oDAAoB/Y,GAAG,MAAMA,GAAGT,KAAKmY,kBAAkBrO,GAAAA,EAAAA,kBAAoBrJ,GAAGT,KAAKmY,kBAAkBsB,oCAAmCtG,EAAAA,GAAAA,KAAEnM,EAAAA,GAAAA,IAAEvG,GAAE,MAAOT,KAAKmY,kBAAkB,IAAI,GAAC,mCAAa1X,EAAEH,GAAGN,KAAKiY,mBAAmB3X,EAAEA,IAAGuC,EAAAA,GAAAA,IAAEpC,EAAEiZ,WAAWjZ,EAAEkZ,iBAAiB3Z,KAAKgY,UAAUhY,KAAK4Z,kBAAkB,GAAGnZ,EAAEoZ,oBAAoB,GAAG7Z,KAAK8Z,QAAQrZ,EAAEsZ,IAAI/Z,KAAKoY,YAAY,IAAIpY,KAAKqY,YAAY,CAAC,GAAC,yCAAmB5X,GAAGT,KAAKkY,KAAKzX,CAAC,GAAC,iDAA2BA,GAAG,IAAMH,EAAEN,KAAK4Y,sBAAsB,OAAO5Y,KAAK4Y,sBAAsBnY,EAAEH,CAAC,GAAC,yCAAmBG,GAAGT,KAAK6X,cAAcpX,CAAC,GAAC,wCAAkBf,GAAG,IAAGe,EAAAA,EAAAA,IAAET,KAAKmY,mBAAmB,OAAO,KAAK,IAAM9X,EAAEX,EAAEmL,IAAI,IAAIxK,EAAE,OAAO,KAAK,IAAMH,EAAEG,EAAE,GAAGS,EAAET,EAAE,GAAGqB,EAAErB,EAAE,GAAGc,EAAEd,EAAE,GAAGsC,EAAE,sBAAsB3C,KAAKmY,kBAAkB7H,KAAK,QAAQ,SAAS,GAAGtQ,KAAK8X,mBAAmBkC,yBAAyB,OAAOha,KAAK8X,mBAAmBkC,yBAAyB9Z,EAAEY,EAAEY,EAAEP,EAAEnB,KAAK2X,SAAShV,GAAG,IAAMrB,EAAEtB,KAAK8X,mBAAmBmC,aAAa/Z,EAAEY,EAAEY,EAAE1B,KAAK2X,SAAShV,GAAG,OAAOrC,EAAAA,EAAAA,IAAEgB,GAAG,CAACwK,IAAIxK,EAAE8I,IAAI9I,GAAG,IAAI,GAAC,mCAAab,GAAG,IAAMH,EAAEG,EAAEwK,UAAU,OAAOP,EAAAA,EAAAA,IAAEpK,KAAKG,EAAEoK,MAAKrJ,EAAAA,GAAAA,GAAElB,EAAEG,EAAEoK,KAAK7K,KAAKmY,mBAAmB7X,EAAE,GAAGyE,KAAI/E,KAAKmZ,UAAUvP,EAAEtJ,EAAE,GAAGN,KAAKmZ,UAAUjM,EAAE5M,EAAE,GAAGN,KAAKmZ,UAAUe,EAAE5Z,EAAE,GAAGA,EAAE,IAAG8L,EAAAA,GAAAA,IAAEpM,KAAKmZ,UAAUnZ,KAAK8X,mBAAmB9X,KAAKmY,kBAAkBnY,KAAK4X,uBAAsBhV,EAAAA,EAAAA,IAAEtC,EAAEN,KAAK2X,SAASrX,EAAEN,KAAKiZ,WAAW3Y,CAAC,GAAC,uCAAiBZ,GAAG,IAAGY,EAAAA,EAAAA,IAAEZ,EAAEgK,eAAe,OAAOhK,EAAEgK,cAAc,IAAMrJ,EAAEX,EAAE+J,WAAWvJ,EAAE,IAAIF,KAAKuZ,wBAAwB,OAAO9Y,EAAAA,EAAAA,IAAEJ,KAAKX,EAAEmL,OAAMW,EAAAA,EAAAA,IAAEnL,IAAIL,KAAKoZ,uBAAuB/Y,EAAEoI,SAASxI,MAAM,SAAAQ,GAAC,OAAEA,EAAEP,CAAC,IAAG,MAAMR,EAAEwL,qBAAqBlL,KAAKma,kBAAkB9Z,EAAEX,EAAEwL,qBAAqBxL,EAAEmL,IAAI,GAAGnL,EAAE+L,gBAAgB/L,EAAEwL,qBAAqB,GAAC,wCAAkBxL,EAAEW,EAAEH,EAAEY,GAAG,IAAGL,EAAAA,EAAAA,IAAEJ,GAAGA,GAAEkY,EAAAA,EAAAA,WAAS,IAAG/M,EAAAA,EAAAA,IAAEnL,GAAG,OAAOA,EAAE,IAAIqB,EAAE,EAAEP,EAAE,EAAE,GAAGnB,KAAKmY,oBAAmB7X,EAAAA,EAAAA,IAAEQ,IAAI2D,OAAO2V,SAAStZ,EAAEgL,KAAK,OAAO9L,KAAKmY,kBAAkB7H,MAAM,IAAI,qBAAqB5O,EAAE1B,KAAKmY,kBAAkBkC,oBAAoB3a,EAAE8I,OAAO,GAAGxI,KAAK4X,qBAAqB9W,EAAEgL,IAAIpM,EAAE8I,OAAO,GAAGrH,EAAEL,EAAEsJ,IAAItJ,EAAEgL,IAAI,MAAM,IAAI,gBAAgBpK,EAAEZ,EAAEgL,IAAIpM,EAAE8I,OAAO,GAAGrH,EAAEL,EAAEsJ,IAAItJ,EAAEgL,SAAS9L,KAAKmY,mBAAmBjY,EAAE6E,KAAI/E,KAAKmZ,UAAUvP,EAAElK,EAAE8I,OAAO,GAAGxI,KAAKmZ,UAAUjM,EAAExN,EAAE8I,OAAO,GAAGxI,KAAKmZ,UAAUe,EAAExa,EAAE8I,OAAO,GAAG9G,GAAE0K,EAAAA,GAAAA,IAAEpM,KAAKmZ,UAAUnZ,KAAK8X,mBAAmB9X,KAAKmY,kBAAkBnY,KAAK4X,qBAAqBlY,EAAE8I,OAAO,IAAI,OAAOrH,EAAE,IAAGgM,EAAAA,EAAAA,IAAEzN,EAAEM,KAAK2X,SAAS3X,KAAKsY,QAAQtY,KAAKiZ,SAASvX,IAAGwL,EAAAA,EAAAA,IAAElN,KAAKsY,QAAQ,EAAEnX,EAAEnB,KAAK+X,aAAa1X,KAAI8M,EAAAA,EAAAA,IAAEzN,EAAEM,KAAK2X,SAAStX,EAAEL,KAAKiZ,SAASvX,GAAGrB,CAAC,GAAC,oCAAcI,GAAG,IAAMf,EAAEM,KAAKsa,aAAa7Z,GAAG,IAAIT,KAAKua,qBAAqB7a,GAAG,OAAM,EAAG,IAAIM,KAAKiY,mBAAmB,OAAM,EAAG,IAAM5X,EAAEL,KAAKwa,iBAAiB/Z,GAAG,OAAOH,EAAAA,EAAAA,IAAED,IAAGiU,EAAAA,EAAAA,IAAEjU,EAAEL,KAAKgY,WAAUhW,EAAAA,GAAAA,IAAEhC,KAAKgY,UAASpO,EAAAA,GAAAA,GAAElK,GAAG,GAAC,wCAAkBe,GAAG,IAAIT,KAAKiY,mBAAmB,OAAM,EAAG,IAAMvY,EAAEe,EAAE6K,YAAY,OAAOhL,EAAAA,EAAAA,IAAEZ,IAAG4U,EAAAA,EAAAA,IAAE5U,EAAEM,KAAKgY,UAAUhY,KAAKkM,cAAczL,EAAE,GAAC,2CAAqBH,GAAG,SAAQG,EAAAA,EAAAA,IAAET,KAAK6X,iBAAgBtN,EAAAA,EAAAA,IAAEvK,KAAK6X,cAAcvX,KAAKwT,EAAAA,GAAAA,OAAS,GAAC,8CAAwBrT,EAAEH,GAAG,IAAMD,EAAEL,KAAKsa,aAAa7Z,GAAGP,EAAEiK,KAAKuG,MAAKhR,EAAAA,EAAAA,GAAEW,EAAEL,KAAK8Z,UAAUhZ,EAAEZ,EAAEG,EAAE,GAAG,OAAOL,KAAKya,sBAAsBva,GAAGY,EAAE,EAAE,GAAG2D,OAAOiW,UAAUpa,EAAEQ,EAAEd,KAAK4Z,iBAAiB,GAAC,yCAAmBnZ,GAAG,OAAOT,KAAK2a,2BAA2Bla,GAAGT,KAAKsa,aAAa7Z,GAAG,EAAE,GAAC,iDAA2BA,GAAG,IAAMH,EAAEN,KAAKsa,aAAa7Z,GAAGf,GAAEW,EAAAA,EAAAA,GAAEC,EAAEN,KAAK8Z,SAAS,OAAO9Z,KAAKya,sBAAsB/a,GAAGA,CAAC,GAAC,4CAAsBe,GAAG,IAAMH,EAAEN,KAAKsa,aAAa7Z,GAAGf,EAAEY,EAAE,GAAGQ,GAAGqJ,KAAKyQ,IAAIta,EAAE,IAAIA,EAAE,GAAGN,KAAK8Z,QAAQ,IAAIxZ,EAAE,IAAIA,EAAE,GAAGN,KAAK8Z,QAAQ,IAAIxZ,EAAE,IAAIA,EAAE,GAAGN,KAAK8Z,QAAQ,MAAK5Z,EAAAA,EAAAA,GAAEI,GAAGZ,IAAGW,EAAAA,EAAAA,GAAEC,EAAEN,KAAK8Z,SAAS,OAAO3P,KAAK2B,IAAI,EAAEhL,EAAE,GAAC,6BAAOL,GAAG,OAAOA,EAAEoG,YAAYsF,EAAAA,GAAAA,IAAM,GAAC,6CAAuB1L,EAAEH,GAAG,IAAMZ,EAAEe,EAAE,GAAGH,EAAE,GAAGD,EAAEI,EAAE,GAAGH,EAAE,GAAGJ,EAAEO,EAAE,GAAGH,EAAE,GAAGQ,EAAEpB,EAAEA,EAAEW,EAAEA,EAAEqB,EAAEpB,EAAE,GAAG,GAAGQ,GAAGY,EAAEA,EAAE,OAAOyI,KAAKyQ,IAAI1a,GAAG,IAAMiB,EAAEgJ,KAAKuG,KAAK5P,GAAGY,EAAE,OAAOyI,KAAKuG,KAAKxQ,EAAEA,EAAEiB,EAAEA,EAAE,GAAC,4CAAsBV,EAAEH,GAAG,IAAMwC,GAAE5C,EAAAA,EAAAA,GAAEI,GAAGkB,GAAEtB,EAAAA,EAAAA,GAAEO,GAAGqC,GAAEhC,EAAAA,EAAAA,GAAEd,KAAK2Y,MAAMlY,GAAEiB,EAAAA,EAAAA,GAAEjB,EAAEH,IAAGa,EAAAA,EAAAA,GAAEV,IAAI,IAAMgC,GAAE/C,EAAAA,EAAAA,GAAEY,EAAEN,KAAK2Y,OAAO/V,EAAEtC,EAAE,GAAG,GAAGmC,GAAGG,EAAEA,EAAE,OAAOuH,KAAKyQ,IAAIpZ,GAAI,IAAM9B,GAAEoB,EAAAA,EAAAA,GAAEd,KAAK2Y,MAAMrY,EAAE,EAAEwC,GAAG3B,EAAE2B,EAAEL,EAAEG,EAAEA,EAAE,EAAEzB,EAAEqB,GAAE1B,EAAAA,EAAAA,GAAEd,KAAKwY,MAAM9Y,EAAEyB,EAAEsB,GAAGC,EAAEjC,EAAEoC,GAAEF,EAAAA,EAAAA,GAAE3C,KAAKyY,MAAM/V,EAAEF,GAAGR,GAAEW,EAAAA,EAAAA,GAAE3C,KAAKyY,MAAM5V,GAAE/B,EAAAA,EAAAA,GAAEd,KAAK0Y,MAAMhZ,GAAEgC,EAAAA,EAAAA,GAAEhC,EAAEmD,KAAKyF,GAAEhH,EAAAA,EAAAA,GAAEtB,KAAKyY,MAAMjW,GAAE1B,EAAAA,EAAAA,GAAEd,KAAKyY,MAAMzW,EAAEY,GAAE1C,EAAAA,EAAAA,GAAE8B,KAAS4H,GAAEvJ,EAAAA,EAAAA,GAAEqC,EAAE4F,GAAG,GAAG9G,GAAG,IAAI,CAAC,IAAMf,GAAEkC,EAAAA,EAAAA,GAAE3C,KAAKwY,MAAM9V,EAAE4F,GAAOhI,GAAEoB,EAAAA,EAAAA,GAAEjB,EAAEf,IAAGQ,EAAAA,EAAAA,GAAEO,GAAGH,EAAE,MAAMA,EAAE,MAAMsJ,GAAGtJ,CAAC,CAAC,OAAOsJ,CAAE,GAAC,mCAAanJ,EAAEH,GAAG,OAAON,KAAKiZ,YAAWzW,EAAAA,GAAAA,IAAExC,KAAKiZ,UAAUjZ,KAAK6a,sBAAsBpa,EAAEH,GAAGN,KAAK8a,uBAAuBra,EAAEH,EAAE,GAAC,4CAAsBG,GAAGA,EAAE,GAAGT,KAAKoY,YAAYjO,KAAK2B,IAAI9L,KAAKoY,YAAY3X,GAAGT,KAAKqY,YAAYlO,KAAKC,IAAIpK,KAAKqY,YAAY5X,KAAKT,KAAKoY,YAAY,EAAEpY,KAAKqY,YAAYlO,KAAKC,IAAIpK,KAAKqY,aAAa5X,GAAG,GAAC,kCAAYA,GAAG,GAAGA,EAAEoG,YAAYsF,EAAAA,GAAAA,KAAO,OAAO,EAAE,GAAG,IAAI1L,EAAEyB,WAAW,OAAOlC,KAAKuG,YAAY,GAAGvG,KAAKiY,oBAAoBjY,KAAK8Y,uBAAuB,EAAE,CAAC,IAAMxY,EAAEN,KAAK8Y,uBAAuB9Y,KAAK4Y,sBAAsBlZ,EAAEM,KAAK4Y,sBAAsB,OAAO5Y,KAAK+a,kBAAkBta,EAAEH,GAAGN,KAAK+a,kBAAkBta,EAAEf,GAAG,EAAE,EAAE,CAAC,CAAC,OAAOM,KAAK+a,kBAAkBta,EAAET,KAAK4Y,uBAAuB5Y,KAAKuG,YAAY,CAAC,GAAC,wCAAkB9F,EAAEH,GAAG,OAAOG,EAAEoG,WAAW,KAAKsF,EAAAA,GAAAA,oBAAuB,IAAMzM,EAAEM,KAAKsa,aAAa7Z,GAAGJ,EAAEL,KAAKgb,aAAahb,KAAK8Z,QAAQpa,GAAGQ,EAAE,EAAEG,EAAEL,KAAK4Z,kBAAkB9Y,EAAET,EAAEX,EAAE,GAAG,OAAOM,KAAKya,sBAAsB3Z,GAAGL,EAAEgK,SAASnK,GAAGJ,EAAE,KAAKiM,EAAAA,GAAAA,mBAAsB,IAAIzM,EAAEM,KAAKib,wBAAwBxa,EAAEA,EAAEoK,IAAI,GAAGvK,GAAG,OAAON,KAAKoS,SAAS8I,oBAAoBxb,GAAGM,KAAKmb,sBAAsB1a,IAAIf,EAAEe,EAAEgK,SAAS,KAAK0B,EAAAA,GAAAA,uBAAyB,OAAOnM,KAAKib,wBAAwBxa,EAAEA,EAAEgK,UAAUnK,EAAE,GAAG,KAAK6L,EAAAA,GAAAA,+BAAiC,OAAOnM,KAAKob,mBAAmB3a,GAAGA,EAAEgK,SAASnK,EAAE,OAAM,CAAE,GAAC,gCAAUG,GAAG,IAAMH,EAAEN,KAAKsa,aAAa7Z,GAAG,OAAOJ,EAAAA,EAAAA,GAAEC,EAAEN,KAAKkY,MAAM5X,EAAE,EAAE,GAAC,wCAAkB,OAAOD,EAAAA,EAAAA,GAAEL,KAAK8Z,QAAQ9Z,KAAKkY,KAAK,KAAC,EAA3hM,G,oCCAsvBpE,GAAE,yDAAyDuH,GAAEhb,EAAAA,EAAAA,UAAYyT,IAAmBhK,GAAE,KAA2BwR,GAAC,0CAA65B,WAAY7a,GAAE,MAA82B,OAA92B,gBAAC,cAAMA,IAAQ8a,iBAAiB,EAAE,EAAKC,cAAc,IAAI,EAAKC,oBAAmB,EAAG,EAAKC,UAAS,EAAG,EAAKC,iBAAiB,EAAE,EAAKvW,eAAc,EAAG,EAAKwW,wBAAuB,EAAG,EAAKC,YAAY,EAAE,EAAKC,mBAAkB,EAAG,EAAKC,SAAQ,EAAG,EAAKC,cAAa,EAAG,EAAKC,iBAAgB,EAAG,EAAKC,oBAAoB,KAAK,EAAKC,iBAAiB,IAAIzZ,EAAAA,EAAE,CAAC6C,YAAY,OAAO,EAAK6W,kBAAkB,IAAI7a,IAAI,EAAK8a,iCAAiC,IAAI3Z,EAAAA,EAAE,EAAK4Z,kBAAkB,EAAE,EAAKC,cAAc,IAAIhb,IAAI,EAAKib,eAAe,IAAIjb,IAAI,EAAKkb,qBAAqB,EAAE,EAAKtK,oBAAoB,IAAItS,MAAM,EAAK6c,0BAAyB,EAAG,EAAKC,kBAAiB,EAAG,EAAKC,iBAAgB,EAAG,EAAKC,kBAAiB,EAAG,EAAKC,qBAAoB,EAAG,EAAKC,QAAQ,KAAK,EAAKC,sBAAsB,KAAK,EAAKC,SAAS,IAAIvd,EAAAA,EAAE,EAAKwd,WAAW,IAAItT,EAAAA,EAAE,EAAKuT,sBAAsB,IAAIza,EAAAA,EAAE,CAAC6C,YAAY,OAAO,EAAK6X,YAAY,EAAC,EAA+5nB,OAA95nB,mCAArwD,WAAmB,MAAC,MAAM,kBAAkBpd,KAAKqd,MAAMC,SAAS,iBAAgC,QAAnB,EAAGtd,KAAKqd,MAAME,aAAK,aAAhB,EAAkBC,QAAO,GAAC,oBAAAzd,IAAA,WAAmB,MAAM,WAAWC,KAAKqd,MAAMC,OAAO,GAAC,kCAAAvd,IAAA,WAAiC,OAAOC,KAAKyd,iBAAgBvd,EAAAA,EAAAA,IAAEF,KAAKqd,MAAMzc,WAAW,SAASZ,KAAKqd,MAAMzc,SAAS,GAAC,6BAAAb,IAAA,WAA4B,IAAMU,EAAET,KAAK0d,UAAUtM,KAAKC,mBAAmBsM,0BAA0BnS,GAAAA,GAAAA,WAAa,OAAO,IAAIjB,GAAE9J,EAAET,KAAKqd,MAAMO,OAAO,GAAC,4BAAA7d,IAAA,WAA2B,IAAMU,EAAET,KAAK0d,UAAUtM,KAAKC,mBAAmBsM,0BAA0BnS,GAAAA,GAAAA,UAAY,OAAO,IAAIjB,GAAE9J,EAAET,KAAKqd,MAAMO,OAAO,GAAC,iBAAA7d,IAAA,WAAgB,OAAOiH,EAAAA,EAAAA,IAAEhH,KAAKqd,MAAM,GAAC,gBAAAtd,IAAA,WAAe,OAAOgF,EAAAA,EAAAA,IAAE/E,KAAKqd,MAAM,GAAC,aAAAtd,IAAA,WAAY,OAAOC,KAAK0d,UAAUG,QAAQ,GAAC,eAAA9d,IAAA,WAAc,OAAOC,KAAK0b,QAAQ,GAAC,uBAAA3b,IAAA,WAAsB,IAAGoB,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ,CAAC,IAAMrQ,EAAET,KAAK8Q,OAAOtJ,SAAS,IAAGrG,EAAAA,EAAAA,IAAEV,GAAG,OAAOT,KAAK8d,kBAAkB9d,KAAK8Q,OAAO5E,cAAczL,EAAE4H,MAAM,CAAC,OAAM,CAAE,GAAC,aAAAtI,IAAA,WAAY,OAAOC,KAAK8Q,MAAM,GAAC,wBAA63B,WAAY,WAAiBrQ,EAAWT,KAArB0d,UAAkBpd,EAAGN,KAATqd,MAAcrd,KAAK6c,kBAAkBpc,EAAEsd,oBAAoBtd,EAAEud,iBAAiBhe,KAAKie,aAAa,IAAI3V,EAAE7H,GAAGT,KAAKkS,uBAAuB5R,EAAEid,MAAMW,sBAAsBle,KAAK4c,iBAAgBtP,EAAAA,EAAAA,GAAI,6BAA6B,WAAWhN,IAAIN,KAAK+c,QAAQzc,EAAE6d,OAAOne,KAAKgd,sBAAsB1c,EAAEyS,sBAAsB/S,KAAKoe,oBAAoBxI,QAAQC,IAAI,CAACvV,EAAE+d,UAAU/d,EAAEge,OAAO7d,EAAE6d,SAASzW,MAAM,YAAO,IAALnI,GAAK,YAAJ,GAAK,IAAG,EAAK6e,WAAY9d,IAAGA,EAAE8d,WAAY7e,EAArC,CAAmD,IAAMW,EAAGI,EAAR2Q,KAA8BlR,EAAGG,EAAtBgR,mBAAwB,EAAKmN,iBAAiBne,EAAEoe,cAAc,EAAKC,WAAW,EAAC/b,EAAAA,EAAAA,KAAG,0BAAK,OAADtC,QAAC,IAADA,GAAmB,QAAlB,EAADA,EAAGse,wBAAgB,OAAO,QAAP,EAAnB,EAAqBC,aAAK,WAAzB,EAAD,EAA4BC,cAAc,IAAG,SAAApe,GAAC,OAAE,EAAKqe,wBAAwBre,EAAE,GAAEe,EAAAA,KAAGmB,EAAAA,EAAAA,KAAG,kBAAIzC,EAAEoR,iBAAiByN,YAAY,IAAG,kBAAI,EAAKC,iBAAiB,GAAExc,EAAAA,KAAGG,EAAAA,EAAAA,KAAG,kBAAIlC,EAAEwe,SAAS,IAAG,SAAAxe,GAAI,IAAMH,EAAEG,EAAE,kBAAI,EAAKqd,iBAAiB,EAAC,kBAAI,EAAKoB,kBAAiB,EAAG,EAACxf,EAAEe,EAAE,WAAK,EAAE,kBAAI,EAAKye,kBAAiB,EAAG,GAAEze,IAAGU,EAAAA,EAAAA,IAAE,EAAK2P,SAAS,EAAKA,OAAON,+BAA+B,EAAK0L,qBAAqBzb,GAAG,EAAK0e,oBAAoB,EAAKC,qBAAqB,EAAKlD,oBAAoBmD,UAAU/e,EAAE,EAAK4b,oBAAoBoD,QAAQ5f,GAAG,EAAKwc,oBAAoBhc,EAAEqf,UAAUC,2BAA2Blf,EAAEZ,EAAE,GAAG8B,EAAAA,IAAGQ,EAAEvB,EAAE2Q,KAAKC,mBAAmBkO,UAAU,IAAM5c,EAAAA,EAAAA,KAAG,kBAAIlC,EAAEiV,sCAAsC,IAAG,kBAAI,EAAK0J,oBAAoB,KAAGzc,EAAAA,EAAAA,KAAG,iBAAI,CAAC,EAAK6Y,cAAc,EAAKC,mBAAmB,IAAG,WAAK,EAAKuD,kBAAkB,EAAKlD,mBAAkB,CAAE,KAAInZ,EAAAA,EAAAA,KAAG,wBAAW,QAAX,EAAItC,EAAEof,aAAK,aAAP,EAASC,aAAa,IAAG,kBAAI,EAAKV,iBAAiB,KAAGrc,EAAAA,EAAAA,KAAG,kBAAIrC,EAAEqf,aAAa,IAAG,SAAAlf,GAAC,OAAE,EAAKmf,sBAAsBnf,EAAE,KAAGkC,EAAAA,EAAAA,KAAG,kBAAIrC,EAAEuf,mBAAmB,IAAG,kBAAI,EAAKC,qBAAqB,KAAGnd,EAAAA,EAAAA,KAAG,kBAAIlC,EAAEsf,SAAS,IAAG,kBAAI,EAAKf,iBAAiB,KAAGrc,EAAAA,EAAAA,KAAG,kBAAIlC,EAAEuf,eAAe,IAAG,kBAAI,EAAKC,uBAAuB,KAAGtd,EAAAA,EAAAA,KAAG,kBAAIlC,EAAEyC,WAAW,IAAG,SAAAzC,GAAC,OAAEU,EAAAA,EAAAA,IAAE,EAAK2P,UAAU,EAAKA,OAAO5N,YAAYzC,EAAE,MAAK,EAAKyf,sBAAsB,EAAKld,iBAAiB,IAAIwQ,GAAE,EAAK2M,SAAS9f,EAAE+f,mBAAmB/f,EAAEof,MAAMC,eAAerf,EAAEof,MAAMY,oBAAoB,EAAKC,aAAa,EAAKzI,cAAc,EAAK4F,cAAcpd,EAAEkgB,eAAelgB,EAAEmgB,mBAAkB1X,EAAAA,EAAAA,IAAEzI,EAAEogB,aAAa,EAAKpD,MAAMsC,cAAc,CAAC5G,sBAAsB,EAAK2H,4BAA4B7H,qBAAqB,EAAK8H,KAAKzF,kBAAkB,EAAKyF,KAAK,KAAK,EAAK7P,OAAO,IAAIpL,EAAEpF,EAAEZ,EAAE,EAAKkhB,sBAAsB,EAAK5d,iBAAiBqY,GAAE5a,EAAEyC,aAAa,SAAA5C,GAAC,OAAEG,EAAEmR,aAAatR,EAAE,IAAG,SAAAA,GAAC,OAAEG,EAAEwR,gBAAgB3R,EAAE,IAAG,SAAAG,GAAC,OAAE,EAAKogB,gBAAgBpgB,EAAE,IAAG,SAAAA,GAAC,OAAE,EAAKqgB,oBAAoBrgB,EAAEuL,EAAAA,GAAAA,KAAO,IAAG,SAAAvL,GAAC,OAAE,EAAK8C,aAAa9C,EAAE,IAAG,kBAAK,EAAKmgB,sBAAsB3J,IAAI,IAAG,SAAA3W,GAAC,OAAEG,EAAEsgB,qBAAqBtgB,EAAEsgB,qBAAqBzgB,GAAG,IAAI,GAAG,OAADG,QAAC,IAADA,GAAAA,EAAGugB,qBAAqB,SAAA1gB,GAAC,OAAEG,EAAEugB,qBAAqB1gB,EAAE,OAAC,GAAQ,EAAKwQ,OAAOP,oBAAoB,EAAK8M,MAAMsC,cAAc,EAAKlC,eAAe,EAAK3M,OAAOmQ,yBAAyBxgB,EAAEkM,kBAAkB,EAAKuU,mBAAxqE,CAA2rE,KAAKlhB,KAAKmZ,WAAUjM,EAAAA,EAAAA,IAAE,EAAE,EAAE,EAAElN,KAAKmgB,SAAS,GAAC,mDAA6B1f,GAAE,WAAOH,EAAEN,KAAK8Q,OAAOpR,EAAEM,KAAK0d,WAAUvc,EAAAA,EAAAA,IAAEb,KAAK,OAADZ,QAAC,IAADA,OAAC,EAADA,EAAGyhB,gCAA+BnhB,KAAKqc,iCAAiCrP,QAAQvM,EAAE2gB,QAAQ,SAAA3gB,GAAI,IAAMf,EAAEY,EAAE2J,QAAQxJ,IAAGU,EAAAA,EAAAA,IAAEzB,IAAI,EAAK2c,iCAAiClV,KAAKzH,EAAE,IAAIA,EAAEyhB,6BAA6BnhB,KAAKqc,kCAAkCrc,KAAKic,iBAAgB,EAAG,GAAC,gCAAUjc,KAAKmf,oBAAoBnf,KAAKkc,sBAAsBlc,KAAK+b,SAAQ,EAAG/b,KAAKkc,oBAAoBra,SAAS7B,KAAKkc,oBAAoB,MAAMlc,KAAKid,SAASlb,UAAU/B,KAAKqhB,YAAY,KAAKC,GAAE7U,SAAQtL,EAAAA,EAAAA,IAAEogB,MAAKA,GAAEC,OAAOD,GAAE,KAAK,GAAC,+CAAyB,GAAG,MAAMvhB,KAAKgd,wBAAwBhd,KAAK+c,UAAU/c,KAAK0d,UAAUsC,gBAAgB,MAAM,GAAG,IAAMvf,EAAET,KAAKgd,sBAAsB1c,EAAEN,KAAK+c,QAAQrd,EAAEM,KAAKqd,MAAMoE,cAAc,OAAOzhB,KAAK0d,UAAUsC,gBAAgB5X,KAAK,SAAA1I,GAAI,IAAMW,EAAEqhB,GAAEjhB,EAAEf,GAAGQ,EAAEwhB,GAAEphB,EAAEZ,GAAG,OAAOW,GAAG,GAAGH,GAAG,EAAE,CAACmI,MAAMhI,EAAE4S,KAAK3S,EAAEJ,GAAG+S,KAAK0O,MAAMrhB,EAAEJ,GAAG6S,qBAAqBtS,EAAEJ,IAAI,IAAI,IAAI4N,QAAQ,SAAAxN,GAAC,OAAE,MAAMA,GAAGA,EAAEwS,OAAOvT,CAAC,GAAE,GAAC,8CAAwB,IAAMe,EAAET,KAAK4hB,yBAAyB/N,GAAE7T,KAAKmS,oBAAoB1R,KAAKT,KAAKmS,oBAAoB1R,EAAET,KAAK0c,0BAAyB,EAAG1c,KAAKof,qBAAqB,GAAC,sCAAgBpf,KAAK0c,0BAAyB,EAAG1c,KAAKof,oBAAoB,GAAC,uCAAiB3e,GAAG,IAAMH,GAAEuC,EAAAA,EAAAA,OAAIsK,EAAAA,GAAAA,GAAE1M,EAAEH,EAAEN,KAAK0d,UAAUtM,KAAKyQ,wBAAwB7hB,KAAK6X,cAAcvX,EAAEN,KAAK6X,cAAc,IAAI,GAAC,8CAAwBpX,IAAGU,EAAAA,EAAAA,IAAEnB,KAAKgD,oBAAoBhD,KAAKgD,iBAAiB8e,mBAAmBrhB,IAAGU,EAAAA,EAAAA,IAAEnB,KAAK8Q,UAAU9Q,KAAK8Q,OAAOjL,uBAAuBkc,GAAEC,gBAAgBhiB,KAAKgD,iBAAiBif,kBAAkBjiB,KAAK8Q,OAAO7B,iBAAiB,GAAC,yCAAmBxO,GAAGT,KAAKwe,iBAAiB/d,IAAGU,EAAAA,EAAAA,IAAEnB,KAAKgD,oBAAmB7B,EAAAA,EAAAA,IAAEnB,KAAK8Q,UAAU9Q,KAAKgD,iBAAiBkf,mBAAmBliB,KAAK6X,eAAe7X,KAAK8Q,OAAOjE,6BAA6B7M,KAAKgf,iBAAiB,GAAC,wCAAkBhf,KAAKgc,cAAa,EAAGhc,KAAKie,aAAakE,oBAAoBniB,KAAKoiB,mBAAmB,GAAC,6CAAuB3hB,EAAEH,GAAG,IAAMZ,EAAEM,KAAK8Q,OAAO,IAAG5Q,EAAAA,EAAAA,IAAER,KAAIQ,EAAAA,EAAAA,IAAER,EAAE8H,YAAWtH,EAAAA,EAAAA,IAAEI,GAAG,OAAO,KAAKN,KAAKmgB,SAASkC,OAAO/hB,MAAKmC,EAAAA,EAAAA,IAAEhC,EAAEH,EAAEgiB,GAAEtiB,KAAKmgB,UAAU1f,EAAE6hB,IAAG,IAAMjiB,EAAEL,KAAKmd,sBAAsB,OAAO9c,EAAE2M,SAAQlG,EAAAA,EAAAA,IAAErG,EAAEf,EAAE8H,SAAS9H,GAAG,SAAAe,GAAC,OAAEJ,EAAE8G,KAAK1G,EAAE4H,MAAM,IAAGhI,EAAEK,SAASL,EAAE+gB,QAAQ,SAAA3gB,GAAC,OAAEf,EAAE6iB,uBAAuB9hB,EAAE,IAAGT,KAAKgf,mBAAmB3e,CAAC,GAAC,qCAAeI,GAAG,OAAOU,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ9Q,KAAK8Q,OAAOzF,eAAe5K,IAAI,CAAC,GAAC,+CAAwBU,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO0R,uBAAuB,GAAC,mCAAa/hB,GAAG,OAAOU,EAAAA,EAAAA,IAAEnB,KAAKgD,kBAAkBhD,KAAKgD,iBAAiBsX,aAAa7Z,GAAG,IAAI,GAAC,4CAAsBA,IAAGP,EAAAA,EAAAA,IAAEF,KAAK8Q,UAAU9Q,KAAK8Q,OAAOP,oBAAoB9P,EAAET,KAAKyd,eAAezd,KAAKgf,kBAAkB,GAAC,4CAAqB,WAAOve,EAAE,eAAeT,KAAKid,SAASpb,OAAOpB,GAAGT,KAAKyiB,uBAAuBziB,KAAKid,SAASrb,IAAI5B,KAAK0d,UAAUtM,KAAKmP,eAAemC,GAAG,gBAAgB,SAAAjiB,GAAC,OAAE,EAAKkiB,oBAAoBliB,EAAE,IAAGA,EAAE,GAAC,4CAAsBT,KAAKyiB,uBAAuBziB,KAAKoc,kBAAkBpP,QAAQhN,KAAKkgB,sBAAsBlgB,KAAKgf,iBAAiB,GAAC,0CAAoBve,GAAGT,KAAK4iB,2BAA2BniB,EAAEoiB,OAAOpiB,EAAEyY,kBAAkBlZ,KAAKgf,iBAAiB,GAAC,iDAA2Bve,EAAEH,GAAE,WAAOZ,EAAEM,KAAK8Q,OAAO,KAAG5Q,EAAAA,EAAAA,IAAER,GAAL,CAAe,IAAMW,EAAEX,EAAE8H,WAAUtH,EAAAA,EAAAA,IAAEG,KAAIoC,EAAAA,EAAAA,IAAEhC,EAAEH,EAAEgiB,GAAEtiB,KAAKmgB,WAAWngB,KAAKoc,kBAAkB1E,SAAS,SAACjX,EAAEH,GAAK,IAAMD,EAAEX,EAAEuK,QAAQ3J,IAAGa,EAAAA,EAAAA,IAAEd,KAAIyC,EAAAA,EAAAA,IAAEwf,GAAEjiB,EAAEwK,MAAM,EAAKuR,kBAAkBza,IAAIrB,EAAE,EAAKwiB,cAAcziB,GAAG,GAArL,CAAwL,GAAC,2CAAqBL,KAAK8c,qBAAoB,EAAG9c,KAAKmf,oBAAoBnf,KAAKoiB,mBAAmB,GAAC,+BAAS3hB,EAAEH,GAAG,OAAON,KAAKkd,WAAW/V,KAAK1G,EAAEH,EAAE,GAAC,iCAAWG,EAAEH,GAAG,OAAON,KAAKkd,WAAWnc,QAAQN,EAAEH,EAAE,GAAC,yBAAAP,IAAA,WAAwB,MAAM,oBAAoBC,KAAKqd,MAAM5W,IAAI,GAAC,6BAAA1G,IAAA,WAA4B,OAA6BqM,EAAAA,GAAAA,IAAEpM,KAAKqd,OAArB5c,EAAC,EAAVsiB,SAAoBziB,EAAC,EAAV0iB,SAA0B,OAAOhjB,KAAK4b,yBAAyBnb,EAAE,GAAGH,EAAE,EAAE,GAAC,8BAAAP,IAAA,WAA6B,OAAOG,EAAAA,EAAAA,IAAEF,KAAK8Q,SAAS9Q,KAAK0d,UAAUuB,UAAU,EAAEjf,KAAK8Q,OAAOmS,uBAAuBjjB,KAAKkjB,cAAc,GAAC,kBAAAnjB,IAAA,WAAiB,OAAOoB,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ9Q,KAAK8Q,OAAOqS,SAAS,CAAC,GAAC,uBAAAxhB,IAAA,SAAoBlB,GAAGT,KAAK0d,UAAUK,mBAAmB/d,KAAK0d,UAAUM,mBAAmBhe,KAAK6c,kBAAiB,GAAI7c,KAAK6c,iBAAiBpc,CAAC,GAAC,8BAAQA,EAAEH,GAAG,OAAON,KAAK0d,UAAUuB,WAAWjf,KAAK8d,kBAAkB9d,KAAKoiB,qBAAoB,MAAOpiB,KAAK0d,UAAU0F,UAASljB,EAAAA,EAAAA,IAAEF,KAAK8Q,SAAQ,KAAM9Q,KAAKqjB,yBAAyB5iB,EAAEH,GAAGN,KAAK8Q,OAAOwS,YAAY,GAAC,+CAAyB7iB,EAAEH,GAAG,IAAIN,KAAKujB,SAAS9iB,EAAEH,EAAiM,CAA9L,MAAMZ,GAAGM,KAAKod,YAAY,GAAG/B,GAAEpT,MAAM,4BAA4BvI,GAAG,KAAKM,KAAKod,aAAa/B,GAAEpT,MAAM,yEAAyEjI,KAAKod,aAAa,CAAC,GAAC,+BAAS3c,EAAEH,GAAE,WAACN,KAAK8c,qBAAqB9c,KAAKkhB,oBAAoB,MAAMlhB,KAAKqhB,cAAanhB,EAAAA,EAAAA,IAAEF,KAAK8Q,UAAU9Q,KAAK8d,kBAAkB9d,KAAKic,iBAAiBjc,KAAKwjB,sBAAsB/iB,KAAKT,KAAKic,iBAAgB,GAAIjc,KAAKyjB,oBAAoBhjB,EAAEijB,SAAQ,GAAIjjB,EAAEkjB,KAAK,kBAAI,EAAKC,cAAcnjB,EAAE,IAAGT,KAAK6jB,oBAAoBpjB,EAAEkjB,KAAK,kBAAI,EAAKG,cAAcrjB,EAAE,IAAGT,KAAKyjB,oBAAoBhjB,EAAEijB,SAAQ,GAAIjjB,EAAEkjB,KAAK,kBAAI,EAAKI,cAActjB,EAAEH,EAAE,IAAGN,KAAKkd,WAAWrc,QAAQJ,GAAGA,EAAEkjB,KAAK,kBAAI,EAAKK,gBAAgB,IAAG1jB,EAAEC,iBAAiBP,KAAK8Q,OAAOmT,aAAa3jB,EAAEE,iBAAiBR,KAAKsc,kBAAkB7b,EAAEkjB,KAAK,kBAAI,EAAK1F,aAAaiG,kBAAkBzjB,EAAE,IAAGT,KAAKoiB,oBAAoB,GAAC,oCAAc3hB,GAAE,WAAC,IAAGP,EAAAA,EAAAA,IAAEF,KAAK8Q,QAAQ,OAAM,EAAG,GAAG9Q,KAAK8Q,OAAOqT,MAAM,CAACnkB,KAAKmc,iBAAiBnP,QAAQhN,KAAK8Q,OAAOpE,OAAO7M,MAAMukB,KAAKpkB,KAAKuc,cAAcnG,QAAQ3V,GAAG,SAAAA,GAAC,OAAE,EAAK0gB,6BAA6B1gB,EAAE,IAAGT,KAAK6c,mBAAmB7c,KAAKmc,iBAAiBkI,UAAUrkB,KAAK8Q,OAAOwT,QAAQ1iB,IAAIyM,KAAKrO,KAAK8Q,OAAOwT,QAAQ1iB,IAAIlB,QAAQV,KAAKmc,iBAAiBkI,UAAUrkB,KAAK8Q,OAAOwT,QAAQzW,QAAQQ,KAAKrO,KAAK8Q,OAAOwT,QAAQzW,QAAQnN,SAAS,IAAMJ,EAAEN,KAAK8Q,OAAOyT,gBAAgBnf,cAAcpF,KAAK8Q,OAAO0T,WAAWlkB,IAAIN,KAAKykB,KAAK,kBAAkBzkB,KAAK0kB,KAAK,gBAAgBpkB,EAAE,CAAC,OAAON,KAAK8Q,OAAO6T,MAAM,GAAC,uCAAiB,SAAQzkB,EAAAA,EAAAA,IAAEF,KAAK8Q,SAAS9Q,KAAKuc,cAAchO,KAAK,GAAGvO,KAAK8Q,OAAOwT,QAAQ1iB,IAAIlB,OAAO,IAAIV,KAAK8Q,OAAO8T,UAAU,GAAC,0CAAoB,GAAI5kB,KAAK6kB,8BAA4B3kB,EAAAA,EAAAA,IAAEF,KAAK8Q,WAAS5Q,EAAAA,EAAAA,IAAEF,KAAKgD,kBAA5D,CAAqF,IAAMvC,GAAGT,KAAK8Q,OAAO0T,UAAUlkB,EAAEN,KAAKwb,cAAcxb,KAAK8kB,SAASplB,EAAEM,KAAK8Q,OAAOyT,gBAAgB,GAAG7kB,EAAEyF,SAASzF,EAAEyF,UAAU7E,EAAE,EAAEN,KAAK8Q,OAAOiU,aAAh2U,IAA+2U,CAAC,GAAG/kB,KAAK6b,aAAa/R,GAAE,OAAO9J,KAAK6b,aAA74U,IAA45U7b,KAAK8b,mBAAkB,CAAE,MAAM,GAAGrb,GAAGf,EAAEyF,SAAS7E,EAAE,CAAC,GAAGZ,EAAE0F,eAAepF,KAAK6b,aAAjgV,KAAihV7b,KAAK8b,kBAAkB,OAAO,IAAMrb,EAAE0J,KAAK2B,IAAI,GAAG3B,KAAKC,IAAI9J,EAAEZ,EAAEyF,SAAS,QAAQnF,KAAK6b,aAAapb,EAAE,IAAMJ,EAAEL,KAAK2gB,KAAKzgB,EAAEF,KAAK8Q,OAAOkU,mBAAmB1kB,EAAED,GAAGH,IAAIG,IAAIL,KAAK6b,YAAY3b,EAAEF,KAAK8kB,SAAS9kB,KAAK8b,mBAAkB,EAAG,KAAK,CAAC,KAAKpc,EAAEyF,SAAhvV,IAAyvV7E,GAAKG,GAAGf,EAAEyF,SAAS7E,GAAG,OAAO,GAAGN,KAAK6b,aAAa/R,GAAE,OAAO9J,KAAK6b,aAAa,EAAE,KAAKnc,EAAEyF,SAAS7E,EAAE,GAAGN,KAAK8b,mBAAkB,CAAE,CAAC9b,KAAK6b,YAAY1R,KAAK2B,IAA15V,IAAg6V3B,KAAKC,IAAIN,GAAE9J,KAAK6b,cAAc7b,KAAKgD,iBAAiBwL,2BAA2BxO,KAAK2gB,MAAM3gB,KAAK8Q,OAAO7B,eAA9xB,CAA6yB,GAAC,oCAAcxO,GAAG,IAAMH,EAAEN,KAAK8Q,OAAO,IAAG5Q,EAAAA,EAAAA,IAAEI,GAAG,OAAM,EAAG,KAAKN,KAAKmc,iBAAiBzb,OAAO,IAAID,EAAEE,MAA2C,IAApC,IAAMjB,EAAEM,KAAKmc,iBAAiBnS,MAAc3J,EAAEC,EAAEgK,UAAU5K,IAAGyB,EAAAA,EAAAA,IAAEd,KAAML,KAAK0d,UAAU9L,aAAavR,EAAEgI,QAAQrI,KAAK+Q,qBAAqB1Q,GAAIA,EAAEC,EAAEgK,UAAUjK,EAAEgI,OAAO,GAAGrI,KAAK8gB,oBAAoBzgB,EAAE2L,EAAAA,GAAAA,MAAQ,CAACvL,EAAE0H,eAAe,KAAK,CAAE,OAAO1H,EAAEwkB,aAAa,GAAC,oCAAcxkB,EAAEH,GAAG,IAAGJ,EAAAA,EAAAA,IAAEF,KAAK8Q,QAAQ,OAAM,EAAG,IAAIpR,GAAGM,KAAK+b,QAAr7W,IAAM,GAA47W/b,KAAKuc,cAAchO,KAAWlO,EAAEL,KAAK8Q,OAAOwT,QAAQ,IAAIjkB,EAAE2N,OAAO0J,QAAQ1X,KAAKklB,YAAYllB,MAAMK,EAAE2N,OAAO,GAAG3N,EAAEwB,OAAOnB,OAAO,IAAID,EAAEE,MAAMX,KAAK0d,UAAUyH,WAAW9kB,EAAEwB,OAAOmI,OAAOvJ,EAAE0H,eAAe,KAAK9H,EAAEqM,OAAOhM,OAAO,IAAID,EAAEE,MAAM,CAAC,IAAML,EAAEN,KAAK8Q,OAAO7G,QAAQ5J,EAAEqM,OAAO1C,QAAO7I,EAAAA,EAAAA,IAAEb,KAAKN,KAAKolB,kBAAkB9kB,GAAGG,EAAE0H,eAAe,CAAC,KAAK9H,EAAEuB,IAAIlB,OAAO,IAAID,EAAEE,MAAMjB,EAAE,GAAG,GAAGA,EAAE,IAAMyB,EAAEnB,KAAK8Q,OAAO7G,QAAQ5J,EAAEuB,IAAI0M,QAAQ,IAAGpO,EAAAA,EAAAA,IAAEiB,IAAIA,EAAEkkB,aAAalZ,EAAAA,GAAAA,SAAWnM,KAAKslB,kBAAkBhlB,GAAG,MAAMD,EAAEuB,IAAIoI,MAAMhK,KAAK2O,UAAUxN,GAAGV,EAAE0H,cAAc,CAAC,OAAO1H,EAAEwkB,aAAa,GAAC,wCAAkBjlB,KAAKuc,cAAc7E,SAAS,SAAAjX,GAAC,OAAEA,EAAE0W,OAAO,IAAGnX,KAAKuc,cAAcvP,QAAQhN,KAAKwc,eAAe9E,SAAS,SAAAjX,GAAC,OAAEA,EAAE0W,OAAO,IAAGnX,KAAKwc,eAAexP,OAAO,GAAC,kCAAYvM,GAAG,IAAMH,EAAEN,KAAKuc,cAAcxc,IAAIU,GAAGH,IAAIA,EAAE6W,QAAQnX,KAAKuc,cAAcza,OAAOrB,GAAG,GAAC,wCAAkBA,GAAG,SAAST,KAAK+b,SAAStb,EAAED,gBAAgBR,KAAKuc,cAAchO,MAAzyY,IAAozYvO,KAAKsc,kBAAkBnI,GAAAA,KAAInU,KAAKulB,qBAAqBtO,IAAK,GAAC,0CAAoB,IAAIxW,GAAE,EAAGH,EAAE,EAAE,GAAGN,KAAK0d,UAAUuB,UAA8B3e,GAApBG,EAAET,KAAKgc,cAAiB,EAAE,MAAM,CAAC,IAAMtc,IAAGyB,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ9Q,KAAK8Q,OAAOiU,aAAa,GAAG,IAAG5jB,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ9Q,KAAK8Q,OAAOwT,QAAQ1iB,IAAIlB,OAAO,GAAG,EAAEV,KAAKuc,cAAchO,KAAK9N,KAAKf,EAAE,GAAGM,KAAKwc,eAAejO,KAAK,GAAGvO,KAAK8c,qBAAqB9c,KAAKgc,cAAchc,KAAKkd,WAAW/c,SAASH,KAAKie,cAAcje,KAAKie,aAAa9M,4BAA2BhQ,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO0U,eAAe,IAAI9lB,IAAIM,KAAKyc,qBAAqB,GAAGzc,KAAKyc,qBAAqBtS,KAAKC,IAAI1K,EAAEM,KAAKyc,sBAAsBnc,EAAE,EAAEZ,EAAEM,KAAKyc,oBAAoB,CAACzc,KAAK0b,SAASjb,EAAET,KAAK2b,iBAAiBrb,CAAC,GAAC,wCAAkB,GAAIN,KAAKgc,gBAAc9b,EAAAA,EAAAA,IAAEF,KAAK8Q,WAAS5Q,EAAAA,EAAAA,IAAEF,KAAKgD,kBAA9C,CAA6E,IAAAvC,EAAET,KAAK0d,UAAUtM,KAAI,EAAwC3Q,EAAEgf,MAA1Bnf,EAAC,EAAfof,cAAmChgB,EAAC,EAApB2gB,mBAA8BrgB,KAAKub,iBAAiB,GAAGjb,EAAEuZ,oBAAoB,GAAG7Z,KAAKgD,iBAAiBgW,aAAa1Y,GAAGZ,GAAGM,KAAKsgB,cAActgB,KAAKgD,iBAAiB8e,mBAAmBrhB,EAAEke,iBAAiBC,MAAMC,gBAAgB7e,KAAKgD,iBAAiBwL,2BAA2BxO,KAAK2gB,MAAM3gB,KAAK8Q,OAAOjE,4BAA4B7M,KAAK8Q,OAAOjL,uBAAuBkc,GAAEC,gBAAgBhiB,KAAKgD,iBAAiBif,kBAAkBjiB,KAAK8Q,OAAO7B,gBAAgBjP,KAAK8b,mBAAkB,EAAG9b,KAAKic,iBAAgB,EAAGjc,KAAKgc,cAAa,EAAGhc,KAAKgB,aAAa,kBAAlkB,CAAolB,GAAC,kDAA4B,OAAOhB,KAAK0d,UAAUtM,KAAKC,mBAAmBC,iBAAiByN,aAAa,EAAE,EAAE/e,KAAK0d,UAAU3E,qBAAqB,GAAC,YAAAhZ,IAAA,WAAW,OAAOC,KAAK6b,YAAY7b,KAAK8kB,QAAQ,GAAC,gBAAA/kB,IAAA,WAAe,IAAMU,EAAET,KAAK0d,UAAUqC,UAAUzf,EAAEN,KAAK0d,UAAUtM,KAAKC,mBAAmBC,iBAAiByN,aAAa,OAAO/e,KAAKyb,mBAAmB,GAAGhb,EAAE,EAAEA,EAAE,GAAGH,CAAC,GAAC,sBAAAP,IAAA,WAAqB,GAAGC,KAAKyb,mBAAmB,OAAO,EAAE,IAAMhb,EAAET,KAAK0d,UAAUtM,KAAKC,mBAAmBC,iBAAiB,OAAOnH,KAAK2B,IAAIrL,EAAEse,aAAa,IAAIte,EAAEglB,aAAa,GAAGhlB,EAAEglB,WAAW,GAAC,wCAAkBhlB,GAAG,OAAOU,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAOzE,kBAAkB5L,EAAE4H,MAAM,GAAC,uCAAiB5H,IAAGU,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAOhE,8BAA8BrM,EAAE,GAAC,mDAA6BA,IAAGU,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAOlE,6BAA6BnM,EAAE,GAAC,kDAA2BU,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO4U,0BAA0B,GAAC,8CAAuBvkB,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAOmQ,yBAAyBjhB,KAAK0d,UAAU/Q,kBAAkB3M,KAAKic,iBAAgB,CAAE,GAAC,sCAAgBxb,GAAG,SAAST,KAAKie,aAAa0H,eAAellB,IAAIT,KAAK4lB,gBAAgBnlB,QAAQP,EAAAA,EAAAA,IAAEF,KAAK8Q,UAAU9Q,KAAK8Q,OAAOzE,kBAAkB5L,EAAE4H,SAASrI,KAAK+Q,qBAAqBtQ,EAAG,GAAC,sCAAgBA,GAAG,IAAGP,EAAAA,EAAAA,IAAEF,KAAKgD,kBAAkB,OAAM,EAAG,IAAM1C,EAAEN,KAAKkjB,eAAe,QAAG5iB,GAAG,IAAIN,KAAKie,aAAapM,qBAAqBpR,KAAmB0J,KAAKyQ,IAAI5a,KAAKgD,iBAAiB2X,2BAA2Bla,IAAIT,KAAKgD,iBAAiBoV,aAAapY,KAAKgD,iBAAiBqV,YAAYrY,KAAKgD,iBAAiBoV,aAAa9X,CAAC,GAAC,0CAAmB,WAACN,KAAK8c,qBAAoB,EAAG,IAAMrc,EAAET,KAAK8Q,OAAO,KAAG9Q,KAAK2c,mBAAkBzc,EAAAA,EAAAA,IAAEO,KAAIP,EAAAA,EAAAA,IAAEF,KAAKgD,mBAAvC,CAAgEhD,KAAK8d,kBAAkB9d,KAAK0c,2BAA2B1c,KAAKmS,oBAAoBnS,KAAK4hB,yBAAyB5hB,KAAK0c,0BAAyB,GAAI,IAAMpc,EAAE,CAACyV,iBAAiB/V,KAAK0d,UAAUmI,0BAA0BnQ,uCAAuC1V,KAAK0d,UAAUhI,uCAAuCC,iBAAiB3V,KAAK0d,UAAUoI,qBAAqBnS,gBAAgB3T,KAAK6kB,4BAA4B7kB,KAAKqhB,YAAY,IAAIlO,GAAEnT,KAAKqd,MAAMrd,KAAKulB,qBAAqBlK,GAAErb,KAAKkS,uBAAuBlS,KAAKmS,oBAAoB7R,GAAGG,EAAEwO,gBAAgBjP,KAAKie,aAAa8H,kBAAkB,SAAAtlB,GAAC,OAAE,EAAKsQ,qBAAqBtQ,EAAE,IAAG,SAACA,EAAEH,GAAC,OAAG,EAAK0Q,aAAavQ,EAAEH,EAAE0lB,GAAGC,QAAQ,GAAExlB,EAAE,CAAC8F,YAAYvG,KAAKgD,iBAAiBuD,cAAcvG,KAAKoiB,mBAAvsB,CAA0tB,GAAC,sCAAgB,OAAO,MAAMpiB,KAAKqhB,aAAa,MAAMrhB,KAAK8Q,MAAM,GAAC,0CAAoB9Q,KAAKkmB,kBAAkBlmB,KAAK4gB,sBAAsBuF,YAAYnmB,KAAKulB,qBAAqBY,YAAYnmB,KAAKkd,WAAWiJ,YAAYnmB,KAAKomB,kBAAkBpmB,KAAKqhB,YAAY,KAAKrhB,KAAKoiB,oBAAoB,GAAC,4CAAsB3hB,GAAE,WAAOH,EAAEN,KAAK8Q,OAAO,IAAG5Q,EAAAA,EAAAA,IAAEI,KAAIJ,EAAAA,EAAAA,IAAEF,KAAKgD,kBAAkB,OAAM,EAAGse,GAAEtU,QAAQhN,KAAK0d,UAAU2I,qBAAqB/E,IAAG,IAAM5hB,EAAE,IAAIM,KAAKgD,iBAAiBqV,YAAYhY,EAAEX,EAAE,kBAAI,CAAE,EAAC,SAAAe,GAAC,OAAE,EAAKmlB,gBAAgBnlB,EAAE,EAAC,OAAO6gB,GAAEpT,eAAe,SAAAzN,GAAI,IAAMf,EAAEY,EAAE2J,QAAQxJ,GAAG,OAAOP,EAAAA,EAAAA,IAAER,KAAKY,EAAE+L,kBAAkB5L,IAAIJ,EAAEX,KAAK,EAAKqR,qBAAqBrR,EAAE,IAAI4hB,GAAE5gB,OAAO,GAAGV,KAAKie,aAAakE,oBAAoBniB,KAAKgR,aAAasQ,GAAE7gB,EAAEulB,GAAGhc,OAAOtK,GAAGM,KAAKkjB,eAAe,KAAK,IAAI5B,GAAE5gB,SAAS4gB,GAAEtU,SAAQ,GAAI,GAAC,uCAAiBvM,GAAG6gB,GAAEna,KAAK1G,EAAE,GAAC,0CAAoBT,KAAKgR,aAAasQ,GAAEgF,EAAAA,GAAEN,GAAGhc,IAAI,GAAC,mCAAavJ,EAAEH,EAAEZ,GAAG,IAAMW,EAAEI,EAAEC,OAAO,GAAG,IAAIL,IAAIC,EAAEK,KAAK,CAAC,KAAIQ,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO7B,gBAAgBxO,EAAEC,OAAO,IAAIJ,EAAEK,MAAM,CAAC,IAAMN,EAAEI,EAAEuJ,MAAM9J,EAAEF,KAAK8Q,OAAOpR,IAAIsmB,GAAGC,SAASjmB,KAAK0d,UAAU6I,qBAAoBplB,EAAAA,EAAAA,IAAEjB,IAAIA,EAAEmM,kBAAkBhM,GAAGL,KAAK0d,UAAU5L,SAASzR,EAAEkY,EAAAA,EAAAA,SAAU,GAAIvY,KAAK0d,UAAUyH,WAAW9kB,GAAGC,EAAE6H,cAAc,CAAC,GAAGnI,KAAKoc,kBAAkB7N,KAAK,EAAE,IAAI,IAAIjO,EAAEG,EAAEC,OAAOJ,EAAED,EAAEC,IAAI,CAAC,IAAMZ,EAAEe,EAAE4N,KAAK/N,GAAGN,KAAKoc,kBAAkBta,OAAOpC,EAAE,CAAC,CAAC,GAAC,mCAAae,GAAG,IAAIA,EAAEqK,UAAU9B,gBAAgBhJ,KAAKwc,eAAelP,IAAI7M,EAAE4H,OAAO,OAAM,EAAG,IAAM/H,EAAEN,KAAK0d,UAAU8I,oBAAoB/lB,EAAE4H,OAAO,OAAO,MAAM/H,GAAGA,IAAIN,KAAKmS,mBAAmB,GAAC,wCAAkB1R,GAAE,WAAOH,EAAE,IAAI4W,gBAAgBlX,KAAKwc,eAAe7a,IAAIlB,EAAE4H,MAAM/H,IAAIuT,GAAE7T,KAAK0d,UAAU8I,oBAAoB/lB,EAAE4H,OAAOrI,KAAKmS,qBAAqByD,QAAQ6Q,QAAQzmB,KAAK0d,UAAUgJ,iBAAiBjmB,EAAE4H,QAAQrI,KAAKqhB,YAAYnO,eAAezS,EAAET,KAAKmS,oBAAoB7R,EAAE8W,SAASvP,MAAM,SAAAnI,GAAC,OAAE,EAAKinB,UAAU,kBAAI,EAAKjJ,UAAUkJ,iBAAiBnmB,EAAE4H,MAAM,CAACkM,iBAAiB,EAAKpC,oBAAoB3C,cAAc9P,GAAGY,EAAE8W,OAAO,GAAE9W,EAAE8W,OAAO,IAAGpP,OAAO,SAAAtI,GAAI,KAAIoB,EAAAA,EAAAA,IAAEpB,GAAG,OAAO,EAAKge,UAAUkJ,iBAAiBnmB,EAAE4H,MAAM,CAACkM,iBAAiB,EAAKpC,oBAAoB3C,cAAc,CAAC,GAAGlP,EAAE8W,OAAO,IAAIpP,OAAO,WAAK,IAAIH,MAAM,WAAK,EAAK2U,eAAe1a,OAAOrB,EAAE4H,OAAO,EAAK+Z,mBAAmB,IAAIpiB,KAAKoiB,mBAAmB,GAAC,gCAAU3hB,GAAE,WAAC,GAAGT,KAAKuc,cAAcjP,IAAI7M,EAAE4H,OAAmBgT,GAAEpT,MAAM,wBAAwBxH,EAAE4H,WAAjF,CAAwF,IAAM/H,EAAE,IAAI4W,gBAAgBlX,KAAKuc,cAAc5a,IAAIlB,EAAE4H,MAAM/H,GAAGN,KAAKoiB,oBAAoBpiB,KAAK6mB,gBAAgBpmB,EAAEH,EAAE8W,QAAQvP,MAAM,SAAAnI,GAAIA,IAAGyB,EAAAA,EAAAA,IAAE,EAAK2P,SAAS,EAAKyL,cAAcxc,IAAIU,EAAE4H,SAAS/H,IAAI,EAAKic,cAAcza,OAAOrB,EAAE4H,OAAO,EAAKyI,OAAO7B,gBAAgB,IAAIjH,OAAO,SAAAvH,GAAI,KAAIK,EAAAA,EAAAA,IAAEL,GAAG,MAAMA,CAAC,IAAIqmB,SAAS,WAAK,EAAKvK,cAAcxc,IAAIU,EAAE4H,SAAS/H,GAAG,EAAKic,cAAcza,OAAOrB,EAAE4H,OAAO,EAAK+Z,mBAAmB,GAA5Y,CAA+Y,GAAC,sCAAgB3hB,EAAEH,GAAG,OAAOG,EAAE4kB,aAAalZ,EAAAA,GAAAA,SAAWnM,KAAK+mB,cAActmB,EAAEH,GAAGuH,MAAM,kBAAI,CAAE,IAAG7H,KAAKgnB,YAAYvmB,EAAEH,GAAGuH,MAAM,SAAAvH,GAAC,OAAGA,IAAIG,EAAE4kB,WAAWlZ,EAAAA,GAAAA,UAAW,EAAG,IAAGnE,OAAO,SAAA1H,GAAC,QAAGQ,EAAAA,EAAAA,IAAER,KAAKG,EAAE4kB,WAAWlZ,EAAAA,GAAAA,UAAW,EAAG,GAAE,GAAC,0CAAoB1L,EAAEH,GAAG,GAAGN,KAAK6c,mBAAkB3c,EAAAA,EAAAA,IAAEF,KAAK8Q,QAAQ,OAAM,EAAG,GAAGxQ,IAAI0L,EAAAA,GAAAA,OAAShM,KAAK8Q,OAAOmW,cAAcxmB,EAAE4H,OAAO,OAAM,EAAG,IAAM3I,EAAEM,KAAKknB,mBAAmBzmB,GAAG,QAAQf,IAAIM,KAAK0d,UAAUM,iBAAiBvd,EAAEf,EAAEY,GAAGN,KAAKmnB,cAAa,EAAG,GAAC,yCAAmB1mB,GAAG,IAAMH,EAAEN,KAAK0d,UAAUK,kBAAkBtd,GAAG,OAAOU,EAAAA,EAAAA,IAAEb,KAAIa,EAAAA,EAAAA,IAAEb,EAAE8mB,gBAAgBvT,GAAEvT,EAAE8mB,cAAc7S,iBAAiBvU,KAAKmS,qBAAqB7R,GAAGN,KAAK0d,UAAU2J,oBAAoB/mB,GAAG,KAAK,GAAC,oCAAaa,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO7B,gBAAgBjP,KAAKie,aAAakE,oBAAoBniB,KAAKoiB,mBAAmB,GAAC,uCAAiB3hB,EAAEH,GAAG,IAAMZ,EAAEM,KAAK8Q,QAAO3P,EAAAA,EAAAA,IAAEzB,IAAIA,EAAE4nB,qBAAqB7mB,EAAEH,EAAE,GAAG,EAAE,GAAC,kCAAYG,EAAEH,GAAE,WAAC,GAAGN,KAAK8gB,oBAAoBrgB,EAAEuL,EAAAA,GAAAA,MAAQ,OAAO4J,QAAQ6Q,SAAQ,GAAI,IAAM/mB,EAAEM,KAAK0d,UAAU,OAAO1d,KAAK4c,iBAAiBld,EAAE6nB,oBAAoB7nB,EAAE8nB,kBAAkBxnB,KAAK2mB,UAAU,kBAAIjnB,EAAE6nB,mBAAmB9mB,EAAEH,GAAG,SAACA,EAAEZ,GAAC,OAAG,EAAK2hB,YAAYjN,aAAa3T,EAAEH,EAAEZ,EAAE,GAAE,GAAEY,GAAGuH,MAAM,SAAAxH,GAAI,IAAGH,EAAAA,EAAAA,IAAEG,GAAG,OAAM,EAAG,IAAMc,EAAE,EAAKgR,oBAAoB,OAAO,EAAKsV,YAAY,kBAAI,EAAKpG,YAAYnO,eAAezS,EAAEU,EAAEb,EAAE,GAAEA,GAAGuH,MAAM,SAAA3H,GAAC,OAAE,EAAKunB,YAAY,kBAAI/nB,EAAE8nB,kBAAkB/mB,EAAEJ,EAAE,CAACkU,iBAAiBpT,EAAEqO,cAActP,GAAGI,EAAE,GAAEA,EAAE,IAAGuH,MAAM,kBAAK,EAAKsf,cAAa,CAAE,GAAG,IAAIvR,QAAQ6Q,SAAQ,EAAG,GAAC,oCAAchmB,EAAEH,GAAE,WAAC,OAAON,KAAKsc,oBAAoBtc,KAAKqhB,YAAYqG,aAAajnB,EAAEH,GAAG0H,OAAO,SAAAvH,GAAI,MAAM,EAAK6b,oBAAoB7b,CAAC,IAAIoH,MAAM,SAAAnI,GAAC,OAAG,EAAK4c,oBAAoB,EAAKqK,UAAU,kBAAI,EAAKjJ,UAAUjN,QAAQhQ,EAAEf,EAAEY,EAAE,GAAEA,EAAE,IAAIuH,MAAM,WAAK,EAAKsf,aAAa1mB,EAAE4kB,WAAWlZ,EAAAA,GAAAA,MAAQ,IAAInE,OAAO,SAAA1H,GAAI,KAAIQ,EAAAA,EAAAA,IAAER,GAAG,MAAM+a,GAAEpT,MAAM,kBAAkB,EAAKoV,MAAK,+BAAyB5c,EAAEgH,GAAE,KAAInH,GAAGG,EAAE+M,QAAO,GAAGrM,EAAAA,EAAAA,IAAE,EAAK2P,SAAS,EAAKA,OAAO7B,gBAAgB3O,CAAC,GAAG,GAAC,uCAAiBG,GAAGA,IAAIT,KAAK+b,UAAU/b,KAAK+b,QAAQtb,EAAET,KAAKoiB,oBAAoB3hB,GAAGT,KAAK8Q,SAAQ3P,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO6W,mBAAmB,GAAC,gCAAUlnB,GAAG,GAAGT,KAAKoc,kBAAkB9O,IAAI7M,EAAE4H,OAAO,OAAOrI,KAAKoc,kBAAkBrc,IAAIU,EAAE4H,OAAO,IAAM/H,EAAEN,KAAK8iB,cAAcriB,GAAG,OAAOT,KAAK0d,UAAU9L,aAAanR,EAAE4H,QAAQrI,KAAKoc,kBAAkBza,IAAIlB,EAAE4H,MAAM/H,GAAGA,CAAC,GAAC,oCAAcG,GAAGT,KAAKmZ,UAAUvP,EAAEnJ,EAAEoK,IAAI,GAAG7K,KAAKmZ,UAAUjM,EAAEzM,EAAEoK,IAAI,GAAG7K,KAAKmZ,UAAUe,EAAEzZ,EAAEoK,IAAI,GAAG,IAAMvK,EAAEG,EAAEoK,IAAI,GAAG,OAAO7K,KAAK0d,UAAUtM,KAAKmP,eAAeqH,eAAe5nB,KAAKmZ,UAAU7Y,EAAE,GAAC,2CAAqBG,GAAG,IAAIT,KAAKyiB,sBAAsB,OAAM,EAAS,IAAAniB,EAAEN,KAAK6nB,UAAUpnB,GAAE,GAAyB2L,EAAAA,GAAAA,IAAEpM,KAAKqd,OAArB3d,EAAC,EAAVqjB,SAAoB1iB,EAAC,EAAV2iB,SAA0B,OAAO3O,EAAAA,GAAAA,IAAE/T,EAAEZ,EAAEW,EAAE,GAAC,kCAAYI,GAAGA,EAAE4H,OAAMlH,EAAAA,EAAAA,IAAEnB,KAAK8Q,QAAQ9Q,KAAK8Q,OAAOvC,KAAK,EAAEvO,KAAKsgB,eAAe7f,EAAEqnB,OAAO9nB,KAAK6b,YAAYpb,EAAEsnB,OAAO/nB,KAAKwb,cAAcxb,KAAK8kB,WAAU3jB,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAOkX,YAAYvnB,EAAE,GAAC,YAAAV,IAAA,WAAW,IAAMU,EAAET,KAAK,MAAM,CAACqI,MAAMrI,KAAK8Q,OAAWmX,mBAAe3nB,GAAGG,EAAEkc,iBAAiBrc,EAAEA,EAAEG,EAAE0e,oBAAoB1e,EAAEwO,eAAe,EAAM2N,oBAAgBtc,GAAGG,EAAEmc,gBAAgBtc,CAAC,EAAMsF,qBAAiBtF,IAAGa,EAAAA,EAAAA,IAAEV,EAAEqQ,UAAUrQ,EAAEqQ,OAAOlL,iBAAiBtF,EAAE,EAAEqlB,eAAe,SAAArlB,GAAC,OAAEG,EAAEogB,gBAAgBvgB,EAAE,EAAC,GAAC,wCAAkBN,KAAKie,aAAakE,oBAAoBniB,KAAKoiB,qBAAoBjhB,EAAAA,EAAAA,IAAEnB,KAAK8Q,SAAS9Q,KAAK8Q,OAAO7B,eAAe,GAAC,4CAAsBxO,GAAG,IAAMH,EAAEN,KAAK8Q,QAAO3P,EAAAA,EAAAA,IAAEb,IAAIA,EAAE4nB,mBAAmBznB,GAAGT,KAAKgf,iBAAiB,KAAC,EAAxrrB,EAAetd,EAAAA,EAAAA,GAAEpB,EAAAA,KAAyqrBG,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,gBAAgB,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,eAAe,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,6BAA6B,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,wBAAwB,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,uBAAuB,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,YAAY,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,WAAW,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,wBAAmB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,qBAAgB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,0BAAqB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,iBAAY,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,QAAQ,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,gBAAW,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,UAAU,OAAMT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,OAAK0Y,GAAEpa,UAAU,wBAAmB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,KAAMqa,GAAEpa,UAAU,qBAAgB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAACulB,eAAc,KAAM7M,GAAEpa,UAAU,8BAAyB,IAAQT,EAAAA,EAAAA,GAAE,EAACmC,EAAAA,EAAAA,IAAE,CAAC3B,UAAS,EAAGmnB,UAAU,MAAM9M,GAAEpa,UAAU,kBAAkB,MAAMoa,IAAE7a,EAAAA,EAAAA,GAAE,EAACa,EAAAA,EAAAA,GAAEwS,KAAIwH,IAAG,IAAsCiG,GAAhCD,GAAE,IAAI5e,EAAAA,EAAE,CAAC6C,YAAY,OAAa,SAASsO,GAAEpT,EAAEH,GAAG,OAAOa,EAAAA,EAAAA,IAAEV,IAAIA,EAAEC,SAASJ,EAAEI,QAAQD,EAAE4nB,OAAO,SAAA5nB,GAAC,OAAEihB,GAAEphB,EAAEG,EAAEwS,OAAO,CAAC,GAAE,CAAC,SAASyO,GAAEjhB,EAAEH,GAA2B,IAAxB,IAAMZ,EAAEY,EAAEgoB,cAAsBjoB,EAAE,EAAEA,EAAEI,EAAEC,OAAOL,IAAI,GAAGI,EAAEJ,GAAG4S,KAAKqV,gBAAgB5oB,EAAE,OAAOW,EAAE,OAAO,CAAC,CAAC,IAAsE2lB,GAAavlB,GAA7EshB,GAAE,CAACwG,SAAS,GAAGC,eAAe,IAAIxG,gBAAgB,IAAIM,IAAEzf,EAAAA,EAAAA,OAAqBpC,GAA8CulB,KAAKA,GAAG,CAAC,IAAlDvlB,GAAEuJ,IAAI,GAAG,MAAMvJ,GAAEA,GAAEwlB,QAAQ,GAAG,UAAwB,IAAMwC,GAAGnN,E,iOCAjkxB9Z,EAAC,0CAAiB,aAAa,MAA6F,OAA7F,gBAAC,eAASknB,YAAgBjiB,KAAK,aAAa,EAAKkiB,0CAAyClmB,EAAAA,EAAAA,MAAG,EAA6zB,OAA5zB,6CAAY,MAAahC,EAAUT,KAAhBqd,MAAahd,EAAGL,KAARoR,KAAiB,QAAJ,GAAAjQ,EAAAA,EAAAA,IAAEV,UAAE,OAAJ,EAAMmoB,WAAWC,eAAe7oB,KAAKoe,oBAAoBxI,QAAQI,OAAO,IAAI9V,EAAAA,EAAE,uCAAuC,oDAAoD,CAACmd,MAAM5c,OAAMH,EAAAA,EAAAA,IAAEG,EAAEqoB,aAAa9oB,KAAK2oB,yCAAyC3oB,KAAK0kB,KAAK,0BAA0B,YAAY1kB,KAAKoe,oBAAoBxI,QAAQI,OAAO,IAAI9V,EAAAA,EAAE,+CAA8C,oCAA8BO,EAAEsoB,kBAAmB,SAAStoB,EAAEsoB,eAAcrpB,EAAAA,EAAAA,IAAEe,EAAEyY,iBAAiB7Y,EAAE6Y,mBAAmBlZ,KAAKoe,oBAAoBxI,QAAQI,OAAO,IAAI9V,EAAAA,EAAE,2CAA2C,uGAAuG,GAAC,+BAAAH,IAAA,WAA6B,QAAC,OAA6B,QAA7B,EAAOC,KAAKoR,KAAK4X,oBAAY,OAAc,QAAd,EAAtB,EAAwBC,oBAAY,WAAd,EAAtB,EAAsC/P,gBAAgB,KAAC,EAAx7B,C,SAAe5X,IAA26Bb,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAAC8nB,eAAc,KAAM3mB,EAAEN,UAAU,gDAA2C,IAAQT,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKmB,EAAEN,UAAU,aAAQ,GAA8D,IAAMgM,EAA5D1L,GAAEf,EAAAA,EAAAA,GAAE,EAACiB,EAAAA,EAAAA,GAAE,4CAA4CF,E,+UCA35B,SAASmB,EAAElC,EAAEU,GAAG,IAAMd,EAAE,IAAIkB,IAAIT,EAAE,SAACL,EAAEU,GAAK,IAAGjB,EAAAA,EAAAA,IAAEO,GAAG,OAAO,EAAE,IAAMiB,EAAErB,EAAEN,IAAIU,EAAEgH,IAAI,GAAG/F,EAAE,OAAOA,EAAEsT,OAAO7T,EAAEO,EAAE+F,GAAG,IAAMnH,EAAED,EAAEkO,KAAK,OAAOlO,EAAEsB,IAAIlB,EAAEgH,GAAG,CAACA,GAAGnH,EAAE0U,MAAM7T,IAAIb,CAAC,EAAEZ,EAAEyB,EAAE+nB,qBAAqB1mB,EAAE9C,GAAGA,EAAEypB,gBAAgB7nB,EAAEH,EAAEioB,eAAe1mB,EAAE,MAAMvB,EAAEkoB,eAAe,MAAMloB,EAAEmoB,iBAAiB,MAAMnoB,EAAEooB,oBAAoB7pB,GAAG,MAAMA,EAAE8pB,0BAA0B,IAAI9pB,EAAE+pB,kBAAkB,IAAI/pB,EAAEgqB,gBAAgB,IAAIhqB,EAAEgqB,iBAAiB7mB,EAAEH,EAAElB,EAAAA,GAAAA,GAAK9B,EAAEA,EAAEgqB,eAAe,EAAEjnB,EAAEC,EAAElB,EAAAA,GAAAA,GAAK9B,EAAEA,EAAE+pB,gBAAgB,EAAE9mB,EAAE,SAASxB,EAAEwoB,UAAUrpB,EAAAA,EAAAA,MAAQA,EAAAA,EAAAA,UAAYA,EAAAA,EAAAA,MAAQsJ,EAAE,CAACuf,gBAAgB3mB,EAAE,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,EAAE,EAAE,EAAE,GAAGonB,mBAAmB9oB,EAAEpB,GAAGA,EAAEmqB,iBAAiBlnB,GAAGmnB,2BAA2BhpB,EAAEpB,GAAGA,EAAE8pB,yBAAyBlpB,EAAAA,EAAAA,mBAAqBopB,eAAe7mB,EAAE4mB,gBAAgBhnB,GAAGT,EAAE,CAAC2nB,UAAUxoB,EAAEwoB,UAAUI,YAAY5oB,EAAE4oB,YAAYC,YAAY7oB,EAAE6oB,YAAYC,SAAS,SAAS9oB,EAAE8oB,SAASnnB,EAAAA,GAAAA,KAAO,SAAS3B,EAAE8oB,SAASnnB,EAAAA,GAAAA,KAAO,UAAU3B,EAAE8oB,SAASnnB,EAAAA,GAAAA,MAAQA,EAAAA,GAAAA,KAAOonB,gBAAgBppB,EAAEK,EAAEkoB,cAAc/oB,EAAAA,EAAAA,QAAU6pB,kBAAkBrpB,EAAEK,EAAEmoB,gBAAgBhpB,EAAAA,EAAAA,UAAY8pB,mBAAmBtpB,EAAEK,EAAEooB,iBAAiBjpB,EAAAA,EAAAA,WAAa8oB,eAAe9nB,EAAE,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG+oB,kBAAkBzgB,EAAE0gB,cAAa,EAAGC,wBAAwB7nB,GAAG6V,EAAE,GAAG,OAAOlY,EAAEqX,SAAS,WAAWxX,GAAI,IAAPiB,EAAC,EAAP6T,MAAoB3U,GAAEqB,EAAAA,EAAAA,IAAEjB,IAAIA,EAAEP,IAAIO,EAAEP,GAAGsqB,QAAQlqB,EAAED,EAAEyI,EAAEzI,EAAE+H,KAAK,gBAAO3H,EAAC,EAANwS,KAAc9R,EAAC,EAARspB,OAAM,MAAO,CAACxX,KAAKxS,EAAEwU,SAASvB,EAAEvS,GAAG,KAAK,GAAGoX,EAAEpR,KAAK,CAACM,GAAGvH,EAAE8U,MAAM7T,EAAE2U,UAAUxV,GAAG,IAAI,CAACuI,SAAS7G,EAAEyR,SAAS8E,EAAE,CAAC,SAASzP,EAAErI,GAAG,OAAOA,EAAE2N,MAAM,SAAC3N,EAAEU,GAAC,OAAGV,EAAEwU,SAAS9T,EAAE8T,QAAQ,GAAE,CAAC,IAAMvB,EAAE,CAACgX,KAAKrqB,EAAAA,EAAAA,KAAOsqB,MAAMtqB,EAAAA,EAAAA,MAAQuqB,IAAIvqB,EAAAA,EAAAA,SAAWwqB,IAAIxqB,EAAAA,EAAAA,IAAMyqB,IAAIzqB,EAAAA,EAAAA,IAAM,WAAWA,EAAAA,EAAAA,UAAYuJ,GAAC,eAAGtI,EAAAA,GAAAA,cAAiBjB,EAAAA,EAAAA,QAAO,SAAEiB,EAAAA,GAAAA,eAAkBjB,EAAAA,EAAAA,QAAO,SAAEiB,EAAAA,GAAAA,aAAgBjB,EAAAA,EAAAA,WAAU,SAAC,YAAYA,EAAAA,EAAAA,MAAK,SAAC,YAAYA,EAAAA,EAAAA,MAAK,SAAC,aAAaA,EAAAA,EAAAA,MAAK,SAAC,YAAYA,EAAAA,EAAAA,UAAU,GAAE,SAAS2B,EAAEb,GAAE,QAAOO,EAAEP,GAAGA,EAAEuR,oBAAoByD,OAAOC,KAAKjV,EAAEuR,qBAAqB,GAAG,KAAKxS,EAAEiB,GAAGA,EAAE+U,mBAAmBC,OAAOC,KAAKjV,EAAE+U,oBAAoB,GAAG,KAAK7V,EAAEqB,EAAuB,QAAtB,EAACP,EAAEuR,2BAAmB,aAArB,EAAwBhR,GAAG,KAAKZ,EAAEZ,EAAsB,QAArB,EAACiB,EAAE+U,0BAAkB,aAApB,EAAuBhW,GAAG,KAAKsB,EAAE+W,IAAI,GAAG,MAAMlY,EAAE,CAAC,IAAMc,EAAEd,EAAE4T,OAAO9S,EAAE4pB,UAAUvpB,EAAE6oB,kBAAkBlB,gBAAgB,CAAChoB,EAAE4pB,QAAQ,GAAG5pB,EAAE4pB,QAAQ,GAAG5pB,EAAE4pB,QAAQ,GAAG,IAAI,MAAM5pB,EAAE6oB,cAAcxoB,EAAEwoB,YAAY7oB,EAAE6oB,YAAYxoB,EAAEyoB,SAAS9oB,EAAE6oB,YAAYlnB,EAAAA,GAAAA,KAAOA,EAAAA,GAAAA,MAAQ,SAAS3B,EAAE8oB,UAAU,UAAU9oB,EAAE8oB,UAAU,SAAS9oB,EAAE8oB,WAAWzoB,EAAEyoB,SAAS,SAAS9oB,EAAE8oB,SAASnnB,EAAAA,GAAAA,KAAO,SAAS3B,EAAE8oB,SAASnnB,EAAAA,GAAAA,KAAOA,EAAAA,GAAAA,OAAS3B,EAAE6pB,eAAexpB,EAAE6oB,kBAAkBlB,gBAAgB,IAAG1oB,EAAAA,EAAAA,IAAE,EAAEU,EAAE6pB,aAAa,EAAE,KAAK7pB,EAAE8pB,qBAAqBzpB,EAAE6oB,kBAAkBlB,gBAAgB,GAAG,KAAK3nB,EAAEmoB,UAAU,QAAQ,CAAC,IAAMjqB,EAAE,GAAG,GAAG,MAAMoB,EAAE,EAAYA,EAAEoqB,MAAM,WAAWpqB,EAAEoqB,KAAK,IAAI,WAAWpqB,EAAEoqB,KAAK,KAAK1pB,EAAE8oB,cAAa,GAAI,IAAInpB,EAAEb,EAAAA,EAAAA,MAAQ,SAASQ,EAAEqqB,WAAW3pB,EAAEmoB,UAAU,QAAQxoB,GAAGb,EAAAA,EAAAA,WAAa,IAAMoB,EAAEZ,EAAEuV,OAAO3V,OAAO,EAAER,EAAEY,EAAEuV,OAAO3U,GAAGrB,EAAE,SAAAI,GAAC,OAAEA,GAAGA,EAAE2qB,MAAM,KAAKphB,KAAK,EAACxH,EAAE3C,MAAMsP,QAAQrO,EAAEmU,UAAUnM,EAAEhI,EAAEmU,SAAS7M,KAAK,SAAC3H,EAAEU,GAAC,MAAI,CAAC8R,KAAK5S,EAAEH,EAAEmP,KAAKlO,IAAI8T,SAASrL,EAAEnJ,IAAI,EAAE,KAAK,CAAC,CAACwS,KAAK5S,EAAEH,EAAEmP,MAAM4F,SAASrL,EAAE9I,EAAEmU,WAAW,IAAIvV,EAAEyH,KAAK,CAACM,GAA1W,EAA+WuN,MAAM7T,EAAE2U,UAAUtT,IAAIhB,EAAE6oB,kBAAkBT,mBAAzZ,CAA6a,CAAC,MAAM,CAAC/gB,SAASrH,EAAEiS,SAAS/T,EAAE,CAAC,IAAM6Y,EAAE,WAAD,MAAM,CAACoR,UAAU,SAASI,YAAYrqB,EAAAA,EAAEsqB,aAAY,EAAGC,SAASnnB,EAAAA,GAAAA,KAAOonB,iBAAiB,EAAEC,mBAAmB,EAAEC,oBAAoB,EAAEhB,eAAe,CAAC,EAAE,EAAE,GAAGiB,kBAAkB,CAAClB,gBAAgB,CAAC,GAAG,GAAG,GAAG,GAAGS,oBAAoB,EAAEE,4BAA4B,EAAEJ,eAAe,EAAED,gBAAgB,IAAIa,cAAa,EAAGC,yBAAwB,EAAG,EAAE,SAASpe,EAAE1L,EAAEiB,EAAErB,EAAES,GAAG,IAAGZ,EAAAA,EAAAA,IAAEO,IAAI,MAAMA,EAAE4N,KAAK,OAAO,KAAK,IAAM7M,EAAEf,EAAE4N,KAAK3O,IAAI8B,aAAa6pB,oBAAmBlqB,EAAAA,EAAAA,IAAEK,EAAE2T,SAAQhU,EAAAA,EAAAA,IAAEK,EAAE4T,QAAQ5S,EAAE1B,EAAEwqB,iBAAiBC,WAAWC,iBAAiBlqB,EAAEjB,IAAIS,EAAE2qB,aAAaC,iBAAiB,EAAElpB,EAAEM,EAAEpD,IAAIe,EAAEyU,aAAa5T,EAAE,EAAEoB,EAAErC,IAAIqB,EAAE4oB,aAAa9e,EAAEY,EAAE3J,EAAg8D,SAAWhC,GAAG,OAAOA,GAAG,KAAKJ,EAAAA,EAAAA,KAAO,OAAOiB,EAAAA,GAAAA,cAAgB,KAAKjB,EAAAA,EAAAA,MAAQ,OAAOiB,EAAAA,GAAAA,eAAiB,KAAKjB,EAAAA,EAAAA,SAAW,OAAOiB,EAAAA,GAAAA,aAAe,KAAKjB,EAAAA,EAAAA,IAAM,MAAM,YAAY,KAAKA,EAAAA,EAAAA,IAAM,MAAM,aAAa,KAAKA,EAAAA,EAAAA,SAAW,MAAM,YAAY,QAAQ,MAAM,GAAG,CAAlrEqK,CAAEjK,EAAEwU,UAAUtS,EAAElC,EAAEuU,MAAM1U,EAAAA,EAAAA,MAAQ,WAAWoB,EAAEioB,UAAU,EAAE,EAAE,EAAE,OAAO,IAAI9mB,EAAAA,EAAErB,EAAE,CAACmqB,OAAO7oB,EAAE8oB,cAActqB,EAAE2T,SAASxS,EAAEyoB,KAAKxoB,EAAEmpB,WAAWlpB,EAAEmpB,cAAa,GAAI,CAAC,IAAMtgB,EAAE,CAACnL,EAAEoC,EAAAA,GAAAA,cAAgBnC,EAAEmC,EAAAA,GAAAA,eAAiB2J,EAAE,CAAC/L,EAAEoC,EAAAA,GAAAA,OAASnC,EAAEmC,EAAAA,GAAAA,QAAU,SAASuE,EAAE7F,EAAEjB,EAAEG,EAAEmB,EAAEF,EAAEwB,GAAG,IAAMD,EAAEC,EAAEgjB,qBAAqBrjB,EAAE,SAAAhC,GAAC,OAAigD,SAAWA,EAAEU,EAAEd,GAAG,IAAGH,EAAAA,EAAAA,IAAEO,IAAIJ,IAAIC,EAAAA,EAAAA,KAAO,OAAO,KAAK,IAAI,IAAIJ,EAAE,EAAEA,EAAEO,EAAEC,OAAOR,IAAI,CAAC,IAAMI,EAAEG,EAAEP,GAAG,IAAGwB,EAAAA,EAAAA,IAAEpB,IAAI,IAAIA,EAAE0U,MAAM3U,GAAG,CAAC,IAAMI,EAAEU,EAAEjB,GAAG,OAAOwB,EAAAA,EAAAA,IAAEjB,GAAGA,EAAEgH,GAAG,IAAI,CAAC,CAAC,OAAO,IAAI,CAAlqDqC,CAAEtI,EAAEnB,EAAEI,EAAEoC,EAAE,EAACF,EAAEzC,EAAEmqB,kBAAkBlB,gBAAgBrgB,GAAErI,EAAAA,EAAAA,IAAEP,EAAEmqB,kBAAkBlB,gBAAgB,GAAG,EAAE,GAAGhoB,EAAE4qB,UAAU,CAACppB,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGmG,GAAG3H,EAAEopB,0BAA0BrqB,EAAEqqB,wBAAwBppB,EAAE6qB,OAAOlpB,EAAEkpB,OAAO7qB,EAAE8qB,WAAW,CAAC/rB,EAAEmqB,kBAAkBX,eAAexpB,EAAEmqB,kBAAkBZ,gBAAgBvpB,EAAEqqB,wBAAwB,GAAG,IAAIppB,EAAEioB,eAAelpB,EAAEkpB,eAAejoB,EAAE+qB,iBAAiBppB,EAAEopB,iBAAiB/qB,EAAEgrB,mBAAmB,SAASjsB,EAAEypB,UAAUzpB,EAAE6pB,YAAYrqB,EAAAA,EAAEyB,EAAEirB,iBAAiB,WAAWlsB,EAAEypB,UAAUjnB,EAAAA,GAAAA,OAAS,SAASxC,EAAEypB,UAAUjnB,EAAAA,GAAAA,KAAOA,EAAAA,GAAAA,UAAY,IAAMgR,EAAE,GAAG9J,EAAEnH,EAAEnC,EAAAA,EAAAA,MAAQA,EAAAA,EAAAA,YAAaoB,EAAAA,EAAAA,IAAEkI,KAAKzI,EAAE0oB,iBAAiB,IAAI/oB,EAAAA,EAAEQ,EAAEsI,GAAG8J,EAAEvM,KAAKhG,EAAE0oB,iBAAiBwC,cAAc,IAAMrqB,EAAES,EAAEnC,EAAAA,EAAAA,oBAAqBoB,EAAAA,EAAAA,IAAEM,KAAKb,EAAEqoB,yBAAyB,IAAI1oB,EAAAA,EAAEQ,EAAEU,GAAG0R,EAAEvM,KAAKhG,EAAEqoB,yBAAyB6C,cAAc,IAAM9T,EAAE9V,EAAEnC,EAAAA,EAAAA,WAAYoB,EAAAA,EAAAA,IAAE6W,KAAKpX,EAAEmrB,gBAAgB,IAAIxrB,EAAAA,EAAEQ,EAAEiX,GAAG7E,EAAEvM,KAAKhG,EAAEmrB,gBAAgBD,cAAc,IAAMlgB,EAAE1J,EAAEnC,EAAAA,EAAAA,YAAaoB,EAAAA,EAAAA,IAAEyK,KAAKhL,EAAEooB,iBAAiB,IAAIzoB,EAAAA,EAAEQ,EAAE6K,GAAGuH,EAAEvM,KAAKhG,EAAEooB,iBAAiB8C,cAAc,IAAM7gB,EAAE/I,EAAEnC,EAAAA,EAAAA,QAAU,OAAOoB,EAAAA,EAAAA,IAAE8J,KAAKrK,EAAEkoB,cAAc,IAAIvoB,EAAAA,EAAEQ,EAAEkK,GAAGkI,EAAEvM,KAAKhG,EAAEkoB,cAAcgD,cAAclrB,EAAEorB,yBAAyBC,cAAc1pB,EAAE2pB,kBAAkBtrB,EAAEorB,yBAAyBvC,YAAY9pB,EAAE8pB,YAAY7oB,EAAEorB,yBAAyBtC,SAAS/pB,EAAE+pB,SAAS9oB,EAAEurB,eAAclqB,EAAAA,EAAAA,GAAEM,EAAE6pB,sBAAsB/W,QAAQC,IAAInC,EAAE,CAAC,SAASP,EAAE1S,GAAG,IAAMU,IAAIV,EAAEmsB,sBAAsBlrB,IAAIjB,EAAEosB,qBAAqB3sB,GAAEoN,EAAAA,EAAAA,GAAI,6BAA6B,EAAEjN,EAAAA,EAAAA,MAAQA,EAAAA,EAAAA,KAAOC,EAAED,EAAAA,EAAAA,IAAMA,EAAAA,EAAAA,IAAMS,EAAEZ,EAAEG,EAAAA,EAAAA,SAAW,OAAOC,GAAGa,EAAEL,EAAE,IAAIY,EAAExB,EAAE,EAAE,CAAC,SAAS8L,EAAEvL,EAAEU,GAAG,GAAG,MAAMA,EAAE,OAAOV,EAAEqsB,MAAM,SAAArsB,GAAC,OAAE,IAAIA,EAAEwU,SAAS9T,EAAE,GAAE,C,6PCAj5LL,EAAEY,EAAErB,EAAEc,EAAEG,EAAYb,E,uDAArLH,GAAC,QAAC,WAAYA,EAAEZ,IAAE,eAACM,KAAKyH,GAAGnH,EAAEN,KAAK6K,IAAInL,EAAEM,KAAKiL,WAAUxK,EAAAA,EAAAA,GAAE,EAAE,EAAE,GAAG,GAAGT,KAAKyL,eAAe,IAAI,IAAQ/L,GAAC,QAAC,cAAa,eAACM,KAAK8L,IAAI,IAAI9L,KAAKoK,KAAI,IAAKpK,KAAK0L,OAAM,CAAE,KAA0BjL,EAAyFK,IAAIA,EAAE,CAAC,IAA3FL,EAAEssB,WAAW,GAAG,aAAatsB,EAAEA,EAAEusB,OAAO,GAAG,SAASvsB,EAAEA,EAAEwsB,WAAW,GAAG,aAAyB,SAASxsB,GAAGA,EAAEA,EAAEssB,WAAW,GAAG,aAAatsB,EAAEA,EAAEysB,oBAAoB,GAAG,sBAAsBzsB,EAAEA,EAAEusB,OAAO,GAAG,SAASvsB,EAAEA,EAAE0sB,QAAQ,GAAG,UAAU1sB,EAAEA,EAAEwsB,WAAW,GAAG,YAAY,CAA1K,CAA4KvrB,IAAIA,EAAE,CAAC,IAAI,IAAMiB,EAAC,0CAAW,WAAYlC,EAAEH,EAAEZ,EAAEoB,EAAEK,EAAEG,EAAEqB,EAAED,EAAExC,EAAEsB,GAAE,MAA2S,OAA3S,gBAAC,cAAMf,EAAEf,IAAQ2I,MAAM/H,EAAE,EAAK4B,WAAWpB,EAAE,EAAKiJ,MAAM5I,EAAE,EAAK2J,UAAUxJ,EAAE,EAAKyJ,QAAQpI,EAAE,EAAKkE,UAAUnE,EAAE,EAAK+H,SAASvK,EAAE,EAAK8K,YAAYxJ,EAAE,EAAKgM,QAAO,EAAG,EAAK6X,WAAWhlB,EAAE8sB,QAAQ,EAAKxjB,YAAY,EAAE,EAAK+D,OAAO,EAAE,EAAKwC,eAAe,EAAE,EAAKvD,kBAAiB,EAAG,EAAKV,qBAAqBvK,EAAEurB,WAAU,EAAC,iBAAvV,CAAS3sB,IAAgV,SAASG,GAAGA,EAAEA,EAAE0sB,QAAQ,GAAG,UAAU1sB,EAAEA,EAAE2sB,SAAS,GAAG,WAAW3sB,EAAEA,EAAE4sB,OAAO,GAAG,QAAQ,CAAtF,CAAwFhtB,IAAIA,EAAE,CAAC,IAAI,SAASI,GAAGA,EAAEA,EAAE6sB,KAAK,GAAG,OAAO7sB,EAAEA,EAAE8sB,mBAAmB,GAAG,qBAAqB9sB,EAAEA,EAAE+sB,oBAAoB,GAAG,sBAAsB/sB,EAAEA,EAAEgtB,uBAAuB,GAAG,yBAAyBhtB,EAAEA,EAAEitB,+BAA+B,GAAG,gCAAgC,CAA5P,CAA8PvsB,IAAIA,EAAE,CAAC,IAAI,SAASV,GAAGA,EAAEA,EAAEktB,KAAK,GAAG,OAAOltB,EAAEA,EAAEmtB,KAAK,GAAG,MAAM,CAAjD,CAAmDtsB,IAAIA,EAAE,CAAC,IAAI,IAAMoB,GAAC,QAAC,WAAYjC,EAAEH,EAAEZ,EAAEoB,IAAE,eAACd,KAAK+P,WAAWtP,EAAET,KAAKgP,SAAS1O,EAAEN,KAAK+O,SAASrP,EAAEM,KAAK+K,QAAQjK,CAAC,G,yVCAxJ0S,EAAC,0CAAiB,WAAY/S,GAAE,MAAwU,OAAxU,gBAAC,cAAMA,IAAQotB,oCAAmC,EAAG,EAAKC,4BAA4B,KAAK,EAAKC,8BAA8B/mB,EAAE,EAAKgnB,mCAAmC,KAAK,EAAKC,qBAAqB,KAAK,EAAKC,kBAAkB,IAAI9pB,IAAI,EAAK+pB,8BAA8B,KAAK,EAAKC,6BAA6B,IAAIlX,gBAAe,EAA4zN,OAA3zN,6CAAY,aAAClX,KAAKquB,UAAUruB,KAAKsR,iBAAiBgd,SAAS,GAAD,OAAItuB,KAAKqd,MAAMkR,IAAG,yBAAwBvuB,KAAKmuB,8BAA8BnuB,KAAKwuB,uBAAwD,QAAlC,EAACxuB,KAAKouB,oCAA4B,aAAjC,EAAmChX,QAAQpX,KAAKmuB,8BAA8BtmB,MAAM,WAAK,EAAKumB,6BAA6B,KAAK,EAAKD,8BAA8B,IAAI,IAAInuB,KAAKyuB,UAASnmB,EAAAA,EAAAA,QAAK3F,EAAAA,EAAAA,IAAE3C,KAAK0uB,mBAAmB1uB,KAAK0uB,iBAAiB/J,OAAO9c,MAAM,SAAApH,GAAI,EAAK8d,YAAY,EAAKyP,mCAAmCvtB,EAAEkuB,qBAAqB,EAAKjQ,YAAWxR,EAAAA,EAAAA,KAAG,kBAAI,EAAK0hB,qBAAqB,IAAG,SAAAtuB,GAAC,OAAEG,EAAEkuB,qBAAqBruB,CAAC,GAAE0B,EAAAA,KAAI,EAAKisB,qBAAqB,IAAIvjB,EAAAA,QAAE,CAAC2S,MAAM,EAAKqR,iBAAiBtd,KAAK,EAAKA,OAAO,GAAG,GAAC,gCAAUpR,KAAKyuB,UAASnmB,EAAAA,EAAAA,QAAK3F,EAAAA,EAAAA,IAAE3C,KAAKiuB,wBAAuBtrB,EAAAA,EAAAA,IAAE3C,KAAK0uB,oBAAoB1uB,KAAK0uB,iBAAiBC,sBAAqBntB,EAAAA,EAAAA,IAAExB,KAAKguB,qCAAqChuB,KAAK0kB,KAAK,QAAQ,MAAM1kB,KAAKquB,WAAU7rB,EAAAA,EAAAA,IAAExC,KAAKquB,WAAWruB,KAAKouB,8BAA6BtrB,EAAAA,EAAAA,IAAE9C,KAAKouB,8BAA8BpuB,KAAKmuB,8BAA8B,IAAI,GAAC,eAAApuB,IAAA,WAAc,OAAOwK,EAAAA,EAAAA,QAAK5H,EAAAA,EAAAA,IAAE3C,KAAK0uB,oBAAmB/rB,EAAAA,EAAAA,IAAE3C,KAAK0uB,iBAAiB5F,UAAU,GAAC,gCAAA/oB,IAAA,WAA+B,OAAOC,KAAKyuB,SAAO,OAAKzuB,KAAKkuB,mBAAmB,EAAE,GAAC,wBAAAnuB,IAAA,WAAuB,OAAO,MAAMC,KAAKqd,MAAM,KAAKrd,KAAKqd,MAAMwR,eAAe,GAAC,6BAAA9uB,IAAA,WAA4B,IAAMU,EAAET,KAAK8uB,yBAAyB,OAAO,IAAIruB,EAAEC,OAAO,QAAO,uBAAiBD,EAAE0P,KAAK,KAAI,IAAG,GAAC,gBAAApQ,IAAA,WAAe,QAAIC,KAAKyuB,aAAqBnmB,EAAAA,EAAAA,UAAoB3F,EAAAA,EAAAA,IAAE3C,KAAKiuB,wBAAuBtrB,EAAAA,EAAAA,IAAE3C,KAAKiuB,uBAAuBjuB,KAAKiuB,qBAAqBvS,UAAQ,GAAC,eAAA3b,IAAA,WAAc,OAAO,MAAMC,KAAKmuB,+BAA+B,IAAInuB,KAAKkuB,kBAAkB3f,IAAI,GAAC,mDAA6B9N,GAAE,WAACT,KAAKkuB,kBAAkBtsB,IAAInB,GAAGT,KAAKgB,aAAa,sBAAqB6B,EAAAA,EAAAA,IAAE7C,KAAK8tB,+BAA+B9tB,KAAK8tB,4BAA4B,IAAI,IAAMxtB,EAAEN,KAAK8tB,4BAA4BztB,EAAE,IAAIkY,EAAE9X,EAAE,CAACsuB,SAAS,YAAKrvB,EAAAA,EAAAA,IAAEY,EAAED,GAAG,IAAIC,EAAEI,SAAS,EAAKotB,4BAA4B,KAAK,EAAEkB,OAAO,SAAA1uB,GAAG,IAAmB,EAAnB,UAAkBA,GAAC,IAAlB,2BAAmB,0BAATD,EAAC,KAACX,EAAC,KAAM,EAAKuvB,qBAAqBxuB,EAAEJ,EAAEX,EAAC,CAAC,mCAAI,OAAOY,EAAES,QAAQV,GAAGA,CAAC,GAAC,uEAAYI,EAAEH,EAAED,GAAC,6FAAKwC,EAAAA,EAAAA,IAAEvC,GAAE,iDAA8C,GAAfZ,EAAmBY,EAApCiU,iBAAiCrU,EAAGI,EAAjBkP,gBAAsB3M,EAAAA,EAAAA,IAAEnD,IAAI,IAAIA,EAAEgB,UAAQmC,EAAAA,EAAAA,IAAE3C,GAAE,iDAA6C,GAA7C,KAAWF,KAAKmuB,+BAA6B,sCAAQvrB,EAAAA,EAAAA,IAAE5C,KAAKmuB,8BAA8B9tB,GAAE,UAAC,IAAIL,KAAKkuB,kBAAkB3f,KAAI,mDAAsI,GAAxHpN,EAAE,CAACoT,iBAAiB7U,EAAE8P,cAActP,GAAGY,EAAEd,KAAKkvB,uBAAuBzuB,EAAEU,EAAEnB,KAAKkuB,mBAA8BxsB,EAAgBZ,EAA1BquB,UAAuB7tB,EAAGR,EAAdsuB,WAAmB,IAAI1tB,EAAEhB,QAAQ,IAAIY,EAAEZ,OAAM,oEAAsBV,KAAKqvB,mCAAmC3tB,EAAEJ,EAAEjB,GAAE,QAAtDqC,EAAC,QAAsDG,EAAAA,EAAAA,IAAEH,IAAI1C,KAAKsvB,qCAAqC7uB,EAAEiC,EAAEpB,EAAEH,GAAE,iDAAC,uDAA5gB,IAA4gB,qCAAeV,GAAGT,KAAKkuB,kBAAkBtsB,IAAInB,GAAGT,KAAKgB,aAAa,oBAAoB,GAAC,2CAAqBP,EAAEH,EAAED,GAAGL,KAAKkuB,kBAAkBtsB,IAAInB,GAAGT,KAAKuvB,qBAAqB9uB,EAAEH,EAAED,GAAGL,KAAKgB,aAAa,oBAAoB,GAAC,2CAAqBP,EAAEH,EAAED,GAAGL,KAAKquB,UAAUmB,IAAIxvB,KAAKyvB,sBAAsBhvB,EAAEH,GAAGD,EAAEL,KAAK0vB,4BAA4BrvB,GAAG,GAAC,6CAAuBI,EAAC,EAAsCf,GAAE,IAA6C,EAAlEY,EAAC,EAAlBiU,iBAAiClU,EAAC,EAAfmP,cAA0BtP,EAAE,IAAIkE,IAAIjD,EAAE,IAAItB,MAAM,UAAeS,GAAC,IAAhB,2BAAiB,KAAPoB,EAAC,QAAMP,EAAEO,EAAE2G,OAAOhI,EAAEqB,EAAEuR,KAAK,CAAC,+BAAgB,IAAhB,IAAMnS,EAAE,IAAIsD,IAAY1C,EAAE,EAAEA,EAAEjB,EAAEC,OAAOgB,IAAI,CAAC,IAAMrB,EAAEI,EAAEiB,GAAG,GAAGhC,EAAE4N,IAAIjN,GAAE,KAAiB,EAAjB,UAAgBC,GAAC,IAAhB,2BAAiB,KAAPG,EAAC,QAAaH,EAAEN,KAAK2vB,WAAWtvB,EAAEI,EAAE4H,YAAO,IAAS/H,GAAGJ,EAAE0B,IAAIvB,GAAGS,EAAEc,IAAInB,EAAEwS,OAAO9R,EAAEV,EAAE4H,OAAO3G,GAAGpB,CAAC,CAAC,iCAAC,MAAM,CAAC6uB,UAAUtvB,MAAMukB,KAAKlkB,GAAGkvB,WAAWvvB,MAAMukB,KAAKtjB,GAAG,GAAC,iCAAWL,EAAEH,GAAG,IAAMD,EAAEL,KAAK4vB,+BAA+BnvB,EAAEH,GAAG,QAAG,IAASD,EAAE,OAAOA,EAAE,IAAMX,EAAEM,KAAKyvB,sBAAsBhvB,EAAEH,GAAG,OAAON,KAAKquB,UAAUtuB,IAAIL,EAAE,GAAC,qDAA+Be,EAAEH,GAAG,KAAIuC,EAAAA,EAAAA,IAAE7C,KAAK8tB,6BAA4B,KAAgD,EAAhD,UAAgB9tB,KAAK8tB,6BAA2B,IAA/C,2BAAgD,KAAtCztB,EAAC,QAAsC,GAAGA,EAAEwvB,WAAWpvB,EAAhB,CAA2B,IAAMf,EAAEW,EAAEN,IAAIO,GAAG,QAAG,IAASZ,EAAE,OAAOA,CAAvC,CAAwC,CAAC,mCAAC,4CAAsBe,EAAEH,GAAG,gBAASG,EAAC,YAAIH,EAAG,GAAC,oGAAyCG,EAAEH,EAAED,GAAC,qFAAK,IAAII,EAAEC,QAAQ,IAAIJ,EAAEI,OAAM,yCAAQ,MAAI,OAAyL,GAAxLD,EAAEA,EAAE2N,MAAM,SAAC3N,EAAEH,GAAC,OAAGG,EAAEH,CAAC,IAAGN,KAAK6tB,qCAAqC7tB,KAAK6tB,oCAAmC,EAAG7tB,KAAK8vB,qCAA2CpwB,EAAEM,KAAKqd,MAAMwR,kBAAmBhsB,EAAAA,EAAAA,IAAEnD,GAAE,yCAAQ,MAAI,OAA0P,OAAnPoB,EAAEpB,EAAEqwB,eAAgBC,MAAM,MAAMlvB,EAAEmvB,gBAAe,EAAGnvB,EAAEovB,UAAS,CAAExwB,EAAE+hB,eAAa,eAAInhB,IAAGQ,EAAEqvB,WAAU,EAAGrvB,EAAEquB,UAAU1uB,EAAQiB,GAAEqD,EAAAA,EAAAA,IAAErF,GAAG4B,EAAEb,EAAEC,OAAOgB,GAAExB,EAAAA,EAAAA,IAAEO,EAAEiB,GAAG0G,KAAK,SAAA3H,GAAI,IAAMH,EAAEQ,EAAEsvB,QAAQ,OAAO9vB,EAAE6uB,UAAU1uB,GAAEU,EAAAA,EAAAA,KAAEgL,EAAAA,EAAAA,IAAEzM,EAAEY,EAAE,CAAC8W,OAAO/W,IAAI,IAAI,EAACc,EAAAA,EAAAA,KAAEgL,EAAAA,EAAAA,IAAEzM,EAAEoB,EAAE,CAACsW,OAAO/W,MAAK,UAAcuV,QAAQC,IAAIvU,GAAE,wCAAE+uB,QAAQ,SAAC5vB,EAAEH,GAAC,OAAGG,EAAE6vB,OAAOhwB,EAAEiwB,GAAGjwB,EAAE0S,MAAM3C,SAAS,GAAG,GAAE,KAAE,iDAAE,uDAArnB,IAAqnB,0DAAoC,IAAI5P,EAAC,uKAAgKqT,EAAAA,EAAAA,IAAE9T,KAAK+tB,+BAA8B,0DAA+DztB,EAAEN,KAAKqd,MAAMmT,WAAWlwB,GAAGA,EAAEmwB,OAAOhwB,GAAC,YAAOH,EAAEowB,OAAOC,IAAG,8BAAsBrwB,EAAEmH,GAAE,cAAahH,GAAC,YAAOT,KAAKqd,MAAM/K,UAAUC,KAAI,KAAI7P,EAAAA,EAAAA,UAAY,yCAAyC4M,KAAK,oBAAoBtP,KAAKqd,MAAMuT,MAAK,UAAInwB,EAAC,KAAI,GAAC,2DAAqCA,EAAEH,EAAED,EAAC,GAAsC,IAAnBX,EAAC,EAAlB6U,iBAAiCrU,EAAC,EAAfsP,cAAwBrO,EAAEnB,KAAKqd,MAAMwR,gBAAgB,KAAGhsB,EAAAA,EAAAA,IAAE1B,GAAL,CAAe,IAAkK,EAA5JL,EAAEK,EAAEsgB,cAAc/f,EAAErB,EAAE+H,KAAK,SAAA3H,GAAC,OAAEP,EAAEO,EAAE,IAAGa,EAAE,IAAIC,IAAI7B,EAAE0I,KAAK,SAAA3H,GAAC,MAAE,CAACA,EAAEwS,KAAKxS,EAAE4H,MAAM,KAAI3F,EAAErC,EAAE+H,KAAK,SAAA3H,GAAC,OAAEa,EAAEvB,IAAIU,EAAE,IAAGkC,EAAE,IAAIpB,IAAI1B,MAAMukB,KAAK3jB,GAAG,SAACA,EAAEH,GAAC,MAAG,CAACG,EAAEH,EAAE,KAAI,UAAeA,GAAC,IAAhB,2BAA0C,IAAzB,IAAPkB,EAAC,QAAaf,EAAEe,EAAEyH,WAAWnI,GAAWR,EAAE,EAAEA,EAAED,EAAEK,OAAOJ,IAAI,CAAC,IAAMZ,EAAEgD,EAAEpC,GAAGJ,EAAEyC,EAAE5C,IAAIU,GAAGU,EAAEK,EAAEyH,WAAW5I,EAAEC,IAAIoB,EAAEpB,GAAGJ,GAAGiB,EAAEnB,KAAKuvB,qBAAqB9uB,EAAEf,EAAEyB,EAAE,CAAE,+BAAlT,CAAkT,GAAC,kDAA4BV,GAAG,MAAM,iBAAiBA,GAAEiB,EAAAA,EAAAA,IAAEjB,IAAGa,EAAAA,EAAAA,KAAG,GAAC,wFAA6Bb,GAAC,0GAAoB,OAAZJ,EAAEL,KAAKqd,MAAK,SAAUhd,EAAEskB,KAAK,CAACvN,OAAO3W,IAAG,OAA+B,GAA9BT,KAAKkuB,kBAAkBlhB,UAAQnK,EAAAA,EAAAA,IAAExC,EAAEwuB,kBAAiD,QAA/B,EAACxuB,EAAEwuB,gBAAgBpD,oBAAY,OAAY,QAAZ,EAA9B,EAAgC7C,kBAAU,OAA1C,EAA4CiI,uBAAsB,iDAAyD,GAA3CnxB,EAAEM,KAAK8wB,uCAAwCjuB,EAAAA,EAAAA,IAAEnD,GAAE,iDAA0E,OAA5DQ,EAAEG,EAAEwuB,gBAAgBkC,QAAQ5vB,GAAEwB,EAAAA,EAAAA,IAAEtC,EAAEwuB,gBAAgB/F,WAAU,WAAShoB,EAAAA,EAAAA,KAAER,EAAAA,EAAAA,SAAE,GAAD,OAAID,EAAEwuB,gBAAgB8B,IAAG,mBAAkB,CAACK,OAAO,OAAO3Z,MAAM,CAACvO,EAAE,OAAOmoB,eAAc,EAAGC,OAAM,WAAKhxB,EAAC,KAAIixB,eAAc,EAAGC,cAAcjwB,EAAEkwB,cAAclwB,EAAEmwB,gBAAgBC,KAAKC,UAAU,CAAC,CAAC/pB,GAAGvH,EAAEuxB,UAAU/xB,MAAMgyB,QAAQ1lB,EAAEoL,OAAO3W,KAAI,QAAC,IAAnPiB,EAAC,QAAuP6uB,IAAgB,QAAd,EAAE7uB,EAAEsR,MAAM3E,YAAI,OAAZ,EAAcsjB,OAAO,IAAIjwB,EAAEsR,MAAM3E,KAAKsjB,MAAMjxB,OAAyV,IAA3UD,EAAEiB,EAAEsR,MAAM3E,KAAKsjB,MAAM,GAAGrxB,GAAEmC,EAAAA,EAAAA,IAAEhC,EAAE,YAAY,QAAQJ,GAAEoC,EAAAA,EAAAA,IAAEhC,EAAE,YAAY,WAAWf,GAAE+C,EAAAA,EAAAA,IAAEhC,EAAE,YAAY,WAAeP,EAAE,IAAGyC,EAAAA,EAAAA,IAAErC,KAAKJ,EAAEA,EAAEowB,OAAOhwB,KAAIqC,EAAAA,EAAAA,IAAEtC,KAAKH,EAAEA,EAAEowB,OAAOjwB,KAAIsC,EAAAA,EAAAA,IAAEjD,KAAKQ,EAAEA,EAAEowB,OAAO5wB,KAAUyB,EAAEgJ,KAAK2B,IAAI9L,KAAK+tB,8BAA8B7tB,EAAEQ,SAAUR,EAAEQ,SAASV,KAAK6tB,oCAAmC,GAAU/sB,EAAEZ,EAAEkO,MAAM,SAAC3N,EAAEH,GAAC,OAAGG,EAAEH,CAAC,IAAWoB,EAAE,EAAEA,EAAEP,EAAEO,IAAI1B,KAAKkuB,kBAAkBtsB,IAAId,EAAEY,IAAI1B,KAAKgB,aAAa,qBAAoB,iDAAC,mDAAhjC,IAAgjC,2DAAqC,IAAMP,EAAET,KAAKqd,MAAM,IAAG1a,EAAAA,EAAAA,IAAElC,EAAE0F,0BAAyBxD,EAAAA,EAAAA,IAAElC,EAAE0F,uBAAuBC,YAAY,OAAO3F,EAAE0F,uBAAuBC,WAAW,IAAM9F,EAAEG,EAAEouB,gBAAgB,OAAOlsB,EAAAA,EAAAA,IAAErC,KAAIqC,EAAAA,EAAAA,IAAErC,EAAEsxB,cAAajvB,EAAAA,EAAAA,IAAErC,EAAEsxB,WAAWC,cAAcvxB,EAAEsxB,WAAWC,aAAa,IAAI,GAAC,YAAA9xB,IAAA,WAAW,IAAMU,EAAEZ,MAAMukB,KAAKpkB,KAAKkuB,mBAAmB5tB,EAAEN,KAAKmuB,8BAA8B9tB,EAAEL,KAAK,MAAM,CAAC8xB,iBAAiBrxB,EAAEsxB,6BAA6BzxB,EAAM0xB,mCAA+B,OAAO3xB,EAAE0tB,6BAA6B,EAAMiE,iCAA6BvxB,GAAGJ,EAAE0tB,8BAA8BttB,CAAC,EAAE,KAAC,EAAnqO,CAAeJ,EAAAA,IAAspOI,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,IAAE,CAACqf,eAAc,KAAM3U,EAAEtS,UAAU,YAAO,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,IAAE,CAACqf,eAAc,KAAM3U,EAAEtS,UAAU,aAAQ,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,IAAE,CAAC7H,UAAS,KAAMuS,EAAEtS,UAAU,UAAU,OAAMT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,IAAE,CAAC7H,UAAS,KAAMuS,EAAEtS,UAAU,2BAA2B,OAAMT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,mBAAmB,OAAMT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,4BAAuB,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,IAAE,CAACqf,eAAc,KAAM3U,EAAEtS,UAAU,wBAAmB,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,yBAAoB,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,qCAAgC,IAAQT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,wBAAwB,OAAMT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,WAAW,OAAMT,EAAAA,EAAAA,GAAE,EAACqI,EAAAA,EAAAA,OAAK0K,EAAEtS,UAAU,UAAU,MAAMsS,GAAE/S,EAAAA,EAAAA,GAAE,EAAC0M,EAAAA,EAAAA,GAAE,0CAA0CqG,GAAG,IAAua5J,EAAYnJ,EAA7a8X,EAAC,WAAC,WAAY9X,EAAEH,IAAE,eAACN,KAAK6vB,SAASpvB,EAAET,KAAKoS,SAAS9R,EAAEN,KAAKyF,SAAS,IAAIlE,IAAIvB,KAAKiyB,OAAOroB,EAAEsoB,MAAM,CAA+T,OAA9T,oCAAIzxB,GAAG,OAAOT,KAAKyF,SAAS1F,IAAIU,EAAE,GAAC,0BAAIA,EAAEH,GAAGN,KAAKmyB,WAAWnyB,KAAKyF,SAAS9D,IAAIlB,EAAEH,EAAE,GAAC,iCAAWN,KAAKmyB,YAAYnyB,KAAKiyB,OAAOroB,EAAEwoB,YAAYpyB,KAAKoS,SAAS2c,WAAW,GAAC,+BAAS/uB,KAAKmyB,YAAYnyB,KAAKiyB,OAAOroB,EAAEyoB,UAAUryB,KAAKoS,SAAS4c,OAAOhvB,KAAKyF,UAAUzF,KAAKyF,SAASuH,QAAQ,GAAC,iBAAAjN,IAAA,WAAgB,OAAOC,KAAKiyB,SAASroB,EAAEsoB,MAAM,KAAC,EAA3Z,IAA4azxB,EAAyFmJ,IAAIA,EAAE,CAAC,IAA3FnJ,EAAEyxB,OAAO,GAAG,SAASzxB,EAAEA,EAAE4xB,UAAU,GAAG,YAAY5xB,EAAEA,EAAE2xB,YAAY,GAAG,cAA0B,IAAMpmB,EAAE,IAAIhF,EAAE,G,wBCA3jT,IAAIvG,EAAEJ,E,uDAAG,SAASI,GAAGA,EAAEA,EAAE6xB,KAAK,GAAG,OAAO7xB,EAAEA,EAAE8xB,MAAM,GAAG,QAAQ9xB,EAAEA,EAAE+xB,SAAS,GAAG,WAAW/xB,EAAEA,EAAEgyB,IAAI,GAAG,MAAMhyB,EAAEA,EAAEiyB,IAAI,IAAI,MAAMjyB,EAAEA,EAAEkyB,SAAS,IAAI,UAAU,CAA7I,CAA+IlyB,IAAIA,EAAE,CAAC,IAAI,SAASA,GAAGA,EAAEA,EAAE6sB,KAAK,GAAG,OAAO7sB,EAAEA,EAAEmyB,MAAM,GAAG,QAAQnyB,EAAEA,EAAEoyB,kBAAkB,GAAG,oBAAoBpyB,EAAEA,EAAEqyB,OAAO,GAAG,SAASryB,EAAEA,EAAEsyB,UAAU,GAAG,YAAYtyB,EAAEA,EAAEuyB,SAAS,IAAI,WAAWvyB,EAAEA,EAAEwyB,UAAU,IAAI,YAAYxyB,EAAEA,EAAEyyB,cAAc,IAAI,gBAAgBzyB,EAAEA,EAAE0yB,iBAAiB,IAAI,mBAAmB1yB,EAAEA,EAAE2yB,oBAAoB,IAAI,sBAAsB3yB,EAAEA,EAAE4yB,YAAY,IAAI,cAAc5yB,EAAEA,EAAE6yB,eAAe,IAAI,gBAAgB,CAA5Z,CAA8ZjzB,IAAIA,EAAE,CAAC,G,wBCAxkB,IAAIc,E,gCAAG,SAASA,GAAGA,EAAEA,EAAEoyB,OAAO,GAAG,SAASpyB,EAAEA,EAAEqyB,QAAQ,GAAG,SAAS,CAA3D,CAA6DryB,IAAIA,EAAE,CAAC,G,wGCAuEjB,EAAC,WAAC,WAAYI,EAAEJ,GAAE,2BAACF,KAAKyzB,YAAYnzB,EAAEN,KAAKqsB,YAAY,KAAKrsB,KAAK0zB,WAAU,EAAG,IAAMh0B,EAAEM,KAAKyzB,YAAYE,QAAQzzB,IAAGG,EAAAA,EAAAA,IAAEX,IAAIA,EAAEmI,MAAM,SAAAvH,GAAI,EAAKozB,WAAUjzB,EAAAA,EAAAA,IAAEH,GAAG,EAAKszB,YAAYtzB,CAAC,IAAIN,KAAKqsB,YAAY3sB,GAAGM,KAAK4zB,YAAYl0B,CAAC,CAA6I,OAA5I,0CAAUM,KAAK4zB,aAAYnzB,EAAAA,EAAAA,IAAET,KAAK4zB,aAAa5zB,KAAK0zB,WAAU,CAAE,GAAC,iBAAA3zB,IAAA,WAAgB,OAAOO,EAAAA,EAAAA,IAAEN,KAAK4zB,aAAa5zB,KAAK4zB,YAAYC,UAAU,IAAI,KAAC,EAAhW,E","sources":["../node_modules/@arcgis/core/views/3d/layers/i3s/I3SFrameTask.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SLodHandling.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNodeLoader.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SStreamDataController.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SViewportQueries.js","../node_modules/@arcgis/core/layers/graphics/controllers/I3SOnDemandController.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SMaterialUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SOverrides.js","../node_modules/@arcgis/core/views/3d/layers/i3s/enums.js","../node_modules/@arcgis/core/views/3d/layers/support/I3SLayerView.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Accessor.js\";import{removeUnordered as t}from\"../../../../core/arrayUtils.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{TaskPriority as o}from\"../../../support/Scheduler.js\";let i=class extends s{constructor(){super(),this.referenceCount=0,this.callbacks=new Array,this.runIndex=0}get running(){return this.callbacks.some((r=>r.running))}runTask(r){this._sort();const s=this.callbacks,t={numIndexLoading:0,numNodesLoading:0};for(let e=0;e<s.length&&!r.done;++e)s[e].priority=s[e].runTask(r,t),this.runIndex=e}_sort(){const r=this.callbacks;let s=r.length;for(let t=this.runIndex;t>0;t--){const e=r[t-1];let n=t;for(;n<r.length&&e.priority<=r[n].priority&&(n!==s||e.priority<r[n].priority);)r[n-1]=r[n],n++;r[n-1]=e,s=n-1}this.runIndex=0}add(r){this._sort(),r.priority=1/0,this.callbacks.unshift(r),this.notifyChange(\"running\")}remove(r){t(this.callbacks,r),this.runIndex=this.callbacks.length,this._sort(),this.notifyChange(\"running\")}};r([e({readOnly:!0})],i.prototype,\"running\",null),i=r([n(\"esri.views.3d.layers.i3s.I3SFrameTask\")],i);class a{constructor(r,s){this.task=r,this.handle=s}}const c=new Map;function l(r,s){let t=c.get(r);if(null==t){const s=new i,e=r.registerTask(o.I3S_CONTROLLER,s);t=new a(s,e),c.set(r,t)}return t.task.add(s),{remove:()=>{if(null==t)return;t.task.remove(s);t.task.callbacks.length>0||(c.delete(r),t.handle.remove(),t.task.destroy()),t=null}}}export{l as addCallback};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as i}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{l as r}from\"../../../../chunks/vec3.js\";import{b as o}from\"../../../../chunks/vec4f64.js\";import{LodMetric as a,NodeBase as d,Node as l,ElevationRange as h,NodeFilterImpact as u,NodeIMModificationImpact as c,NodeTraversalState as _}from\"./I3SNode.js\";import{invalidateMbs as g,invalidateObb as m,addWraparound as f}from\"./I3SUtil.js\";import{clone as v}from\"../../support/orientedBoundingBox.js\";class b{constructor(e,t,i,s,n){this.childOffset=e,this.childCount=t,this.visibilityCache=i,this.ref=s,this.node=n,this.useAsHole=0,this.filterImpact=u.NotChecked}}class p{constructor(e,t,i,n,r,o,d,l,h,u,c,_,g,m){this._streamDataController=i,this._viewportQueries=n,this._logger=r,this.holeFilling=o,this._isLoaded=d,this._isReloading=l,this._isSelected=h,this._enable=u,this._needsUpdate=c,this._canRequest=_,this._computeVisibilityObb=g,this._computeNodeFiltering=m,this._dirty=!0,this._nodePages=[],this._nodeCount=0,this._nodesPerPage=0,this._rootIndex=0,this._lodMetric=a.None,this._lodConversion=e=>e,this._urlPrefix=\"\",this._loading=new Set,this._failedNodes=new Set,this._failedPages=new Set,this._indexMissing=1,this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.POSITIVE_INFINITY,this._nodeTraversalState=new Map,this._version=I(0),this._visibilityCacheVersion=I(0),this._maxLevel=1,this._featureEstimate={estimate:0,leavesReached:!1},this._unloadedMemoryEstimate=0,this._missing=new s({deallocator:null}),this._prefetch=new s({deallocator:null}),this._updates=new N(this._missing),this._imModificationUncategorized=new s({deallocator:null}),this.ignoreServiceObb=!1,this.progressiveLoadPenalty=0,this._pageQueue=[],this.needNodeElevationRange=!1,this.layerHasModifications=!1,this._layerHasFilter=!1,this._logLayer=e,e.serviceUpdateTimeStamp&&e.serviceUpdateTimeStamp.lastUpdate&&(this._lastUpdate=`${e.serviceUpdateTimeStamp.lastUpdate}`),this._maxLodLevel=this._viewportQueries?this._viewportQueries.maxLodLevel:1,this._init(t)}_init(e){if(\"page\"===e.type){switch(this._urlPrefix=e.urlPrefix,this._nodesPerPage=e.pageSize,this._rootIndex=e.rootIndex,e.lodMetric){case\"maxScreenThreshold\":this._lodMetric=a.MaxScreenThreshold;break;case\"maxScreenThresholdSQ\":this._lodMetric=a.MaxScreenThreshold,this._lodConversion=V}this._addPage(S(this._rootIndex,this._nodesPerPage),e.rootPage),this._updateParentsAndLevel()}else if(\"node\"===e.type){this._urlPrefix=e.urlPrefix,this._nodePages.push({nodes:[],children:[],parents:[]}),this._makeRefNode(new d(e.rootNode.id,null),-1);const t=this._validateNode(e.rootNode.id,e.rootNode);t&&this._addNode(t,0)}}_loadPage(e){this._loading.add(e);const t=this._urlPrefix+e;this._streamDataController.request(t,\"json\").then((t=>{this._pageQueue.push({pageIndex:e,page:t})})).catch((t=>{this._loading.delete(e),n(t)||(this._failedPages.add(e),this._logger.error(\"#loadPage()\",this._logLayer,`Error when loading page ${e}`,t))}))}_addQueuedPages(e){for(;this._pageQueue.length>0&&!e.done;){const{pageIndex:t,page:i}=this._pageQueue.shift();this._addPage(t,i),this._loading.delete(t),e.madeProgress()}this._updateParentsAndLevel()}_addPage(e,t){for(let r=this._nodePages.length;r<e;r++)this._nodePages[r]=null;const i=[],s=[],n=t.nodes.map(((t,n)=>{const a=i.length,d=t.children?t.children.length:0;s.push(-1);for(let e=0;e<d;e++)i.push(t.children[e]);const h=`${t.index}`,u=v(t.obb),c=o([u.center[0],u.center[1],u.center[2],r(u.halfSize)]),_=t.mesh&&t.mesh.attribute,g=t.mesh&&t.mesh.geometry,m=t.mesh&&t.mesh.material,f={hasSharedResource:!1,hasFeatureData:!!g,attributes:_&&null!=_.resource?`${_.resource}`:void 0,geometry:g&&null!=g.resource?`${g.resource}`:void 0,texture:m&&null!=m.resource?`${m.resource}`:void 0,geometryDefinition:g?g.definition:-1,materialDefinition:m?m.definition:-1},p=new l(h,e*this._nodesPerPage+n,c,d,0,f,this._lastUpdate,this._lodMetric,this._lodConversion(t.lodThreshold),g?g.featureCount:null);return p.serviceObb=u,p.visibilityObb=this._computeVisibilityObb(p),p.vertexCount=g?g.vertexCount:0,new b(a,d,x(this._visibilityCacheVersion),null,p)}));this._nodePages[e]={nodes:n,children:i,parents:s},this._nodeCount+=n.length}_updateParentsAndLevel(){const t=new Array,i=(i,s,n)=>{const r=this._getPage(i);if(e(r)){const o=R(i,this._nodesPerPage);r.parents[o]=s;const a=r.nodes[o].node;e(a)&&(a.level=n,t.push(i))}};for(i(this._rootIndex,-1,0);t.length;){const s=t.pop(),n=this.getNode(s);if(e(n))for(let e=0;e<n.childCount;e++){i(this.getChildIndex(n.index,e),s,n.level+1),this._maxLevel=Math.max(this._maxLevel,n.level+1)}}}_getPage(e){return this._nodePages[S(e,this._nodesPerPage)]}_getNodeInternal(e){const i=this._getPage(e);return t(i)?null:i.nodes[R(e,this._nodesPerPage)]}_addNode(t,s){null!=t.children&&this.populateChildren(s,t.children);const n=this.getParent(s),r=e(n)?n.level+1:0;this._maxLevel=Math.max(this._maxLevel,t.children?r+1:r);const{lodMetric:a,maxError:d}=E(t.lodSelection),h=i(this._getNodeInternal(s));return h.node=new l(t.id,s,o(t.mbs),h.childCount,r,t.resources,t.version,a,d,t.numFeatures),t.obb&&(h.node.serviceObb=v(t.obb)),h.node.visibilityObb=this._computeVisibilityObb(h.node),e(h.ref)&&(null==h.ref.mbs&&(h.ref.mbs=t.mbs),h.node.renderMbs=h.ref.renderMbs,h.node.serviceObbInRenderSR=h.ref.serviceObbInRenderSR,h.ref.visibilityObb=h.node.visibilityObb),h.node}_makeRefNode(e,t){const i=this._nodePages[0];if(null==i)return-1;const s=i.nodes.length;return i.nodes.push(new b(0,0,x(this._visibilityCacheVersion),e,null)),this._nodeCount++,i.parents.push(t),g(e.renderMbs),m(e.serviceObbInRenderSR),s}populateChildren(e,t){const s=i(this._getNodeInternal(e)),n=i(this._getPage(e));s.childOffset=n.children.length,s.childCount=t.length;for(let i=0;i<t.length;i++){const s=this._makeRefNode(t[i],e);n.children.push(s)}}getNode(t){const i=this._getNodeInternal(t);return e(i)?i.node:null}getIndexById(t){let i;return this._forAllNodes(((s,n)=>{(e(s.node)&&s.node.id===t||e(s.ref)&&s.ref.id===t)&&(i=n)})),i}getNodeById(e){const t=this.getIndexById(e);return null!=t&&t>=0?this.getNode(t):null}getChildIndex(e,i){const s=this._getPage(e);if(t(s))return-1;const n=s.nodes[R(e,this._nodesPerPage)];return s.children[n.childOffset+i]}getParentIndex(t){const i=this._getPage(t);return e(i)?i.parents[R(t,this._nodesPerPage)]:-1}getParent(e){return(e=this.getParentIndex(e))>=0?this.getNode(e):null}isLeaf(t){const i=this._getNodeInternal(t);return e(i)&&0===i.childCount}get rootNode(){return this.getNode(this._rootIndex)}get size(){return this._nodeCount}removeAllGeometryObbs(){this._forAllNodes((t=>{e(t.node)&&(t.node.geometryObb=null)}))}invalidateVisibilityCache(){this._visibilityCacheVersion=I(this._visibilityCacheVersion)}invalidateNodeVisibilityCache(t){const i=this._getNodeInternal(t);e(i)&&this.invalidateNodeVisibilityCacheInternal(i)}invalidateNodeVisibilityCacheInternal(e){e.visibilityCache=x(this._visibilityCacheVersion)}invalidateBoundingVolumeCache(t){const i=this._getNodeInternal(t);e(i)&&(P(i),this.invalidateNodeVisibilityCacheInternal(i))}updateElevationChanged(i){const s=this._getNodeInternal(i);if(t(s))return;if(!this.needNodeElevationRange)return void this.invalidateBoundingVolumeCache(i);const n=e(s.node)?s.node:s.ref;if(t(n))return;const r=n.elevationRange;t(r)||(r.valid=!1)}invalidateGeometryVisibility(t){const i=this._getNodeInternal(t);e(i)&&e(i.node)&&(i.node.geometryObb=null,g(i.node.renderMbs),m(i.node.serviceObbInRenderSR))}invalidateVisibilityObbs(){t(this.rootNode)||this.traverse(this.rootNode,(e=>(e.visibilityObb=this._computeVisibilityObb(e),e.geometryObb=null,!0)))}_updateElevationRange(i){const s=this._getNodeInternal(i);if(t(s))return null;const n=e(s.node)?s.node:s.ref;if(t(n))return null;const r=n.elevationRange;if(e(r)&&r.valid)return r;const o=new h;let a=!1;for(let e=0;e<s.childCount;e++){const s=this._updateElevationRange(this.getChildIndex(i,e));t(s)?a=!0:(o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max))}if(0===s.childCount||a&&e(s.node)&&s.node.resources.geometry){const t=this._viewportQueries.getElevationRange(n);e(t)&&(o.min=Math.min(o.min,t.min),o.max=Math.max(o.max,t.max))}return e(r)&&r.min===o.min&&r.max===o.max?(r.valid=!0,r):(o.valid=!0,n.elevationRange=o,this.invalidateBoundingVolumeCache(i),o)}isNodeVisible(i){const s=this._getNodeInternal(i);if(t(s)||e(s.ref)&&!s.ref.mbs)return!0;if(this.needNodeElevationRange&&this._updateElevationRange(i),!w(s.visibilityCache,this._visibilityCacheVersion)){const i=s.node,n=e(i)&&(t(s.ref)||e(i.visibilityObb))?i:e(s.ref)?s.ref:null;if(this._layerHasFilter&&this._computeNodeFiltering&&(e(i)||e(s.ref))&&s.filterImpact===u.NotChecked){const t=e(i)?i.mbs:e(s.ref)?s.ref.mbs:null;s.filterImpact=null!=t?this._computeNodeFiltering(t):u.Unmodified}const r=e(i)&&s.filterImpact===u.Culled,o=!(e(i)&&i.imModificationImpact===c.Culled)&&(!n||this._viewportQueries.isNodeVisible(n))&&!r;return s.visibilityCache=C(o,this._visibilityCacheVersion),o}return M(s.visibilityCache)}isGeometryVisible(t){if(!this.isNodeVisible(t))return!1;const i=this._getNodeInternal(t);return!(e(i)&&e(i.node)&&e(i.node.geometryObb)&&(!this.layerHasModifications||i.node.imModificationImpact!==c.NotChecked))||this._viewportQueries.isGeometryVisible(i.node)}_traverseCoverage(s,n,r,o,a){const d=this._getPage(s);if(t(d)||0===n.childCount)return;const l=n.childOffset+n.childCount,h=new Array;for(let t=n.childOffset;t<l;++t){const i=d.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&this.isGeometryVisible(i)&&h.push(s)}o/=h.length;for(const e of h){const t=i(e.node).index;this._isLoaded(t)||this._isReloading(t)?(a.delta=Math.max(a.delta,r),a.coverage+=o):this._traverseCoverage(t,e,r+1,o,a)}}useNodeAsHole(e){if(\"off\"===this.holeFilling)return!1;const i=this._getNodeInternal(e);if(t(i))return!1;if(\"always\"===this.holeFilling)return!0;if(w(i.useAsHole,this._version))return M(i.useAsHole);const s={delta:0,coverage:0};this._traverseCoverage(e,i,0,1,s);const n=s.delta*s.coverage<=.5;return i.useAsHole=C(n,this._version),n}get maxLevel(){return this._maxLevel}get dirty(){return this._dirty}destroy(){this._updates.add.prune(),this._updates.update.prune()}requestUpdate(){this._dirty=!0,this._indexMissing=1,this._version=I(this._version)}imModificationsChanged(t){this.layerHasModifications=t,this._forAllNodes((({node:t})=>{e(t)&&(t.imModificationImpact=c.NotChecked,t.visibilityObb=this._computeVisibilityObb(t),t.hasModifications&&this.invalidateGeometryVisibility(t.index))})),this.invalidateVisibilityCache()}layerFilterChanged(t){this._layerHasFilter=t,this._forAllNodes((t=>{if(e(t)){t.filterImpact=u.NotChecked;const i=t.node;e(i)&&this.invalidateNodeVisibilityCache(i.index)}})),this.invalidateVisibilityCache()}update(s,n,r){if(!this._dirty)return;this._pageQueue.length>0&&this._addQueuedPages(n),this._maxUnloadedPrio=Number.NEGATIVE_INFINITY,this._maxProcessingPrio=Number.NEGATIVE_INFINITY,this._missing.clear(),this._prefetch.clear(),this._updates.reset(s),y.clear();let o=!0;const a=new O,d=new O,l=this._imModificationUncategorized;l.clear();const h=new Set,u=(u,_,g)=>{if(t(_)){let e=this._entryPriority(u);e===1/0&&(e=this._entryPriority(g));const t=S(u,this._nodesPerPage);return y.set(t,Math.max(e,y.get(t)||0)),this._loading.has(t)||this._failedPages.has(t)||this._missing.push(t),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const m=_.node;if(this._updateNodeFeatureEstimate(m,d),t(m)){const e=this._entryPriority(u);return this._loading.has(u)||this._failedNodes.has(u)||(this._missing.push(u),y.set(u,e)),void(this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e))}const f=i(this._getPage(u));if(0===this._missing.length&&0===this._nodesPerPage)for(let t=0;t<_.childCount;t++){const i=f.children[_.childOffset+t],s=this._getNodeInternal(i);!e(s)||s.node||this._loading.has(i)||this._failedNodes.has(i)||(y.set(i,this._entryPriority(i)),this._prefetch.push(i))}if(m.failed||!m.resources.hasFeatureData)return void(o&&_.childCount>0&&this._isSelected(m)&&(o=!1));if(h.add(m.id),this._isLoaded(u)){if(a.known+=m.memory,++a.knownNodes,this._isSelected(m)?_.childCount>0&&(o=!1):(a.unremoved+=m.memory,o=!1),this._needsUpdate(m)){const e=this._entryPriority(u);y.set(u,e),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,e),this._updates.update.push(u)}return}if(m.memory&&(a.known+=m.memory,++a.knownNodes),!this._isSelected(m))return void(this._isReloading(u)&&this._updates.remove.push(u));if(_.childCount>0&&(o=!1),m.memory?(a.missing+=m.memory,a.known+=m.memory,++a.knownNodes):++a.missingNodes,s.includes(m.index))return this._maxProcessingPrio=Math.max(this._maxProcessingPrio,this._entryPriority(u)),void(this._updates.cancel=this._updates.cancel.filter((e=>e!==m.index)));if(!n.done&&this._enable(m))return void n.madeProgress();const v=this._entryPriority(u);y.set(u,v),this._maxProcessingPrio=Math.max(this._maxProcessingPrio,v),this._updates.add.push(u),this.layerHasModifications&&r&&e(m)&&m.imModificationImpact===c.NotChecked&&l.push(u)};this.traverseVisible(u);const _=this._updates.add;_.length>0&&this.layerHasModifications&&(l.length>0&&r?.(l),_.filterInPlace((e=>{const i=this._getNodeInternal(e),s=t(i)||t(i.node)||i.node.imModificationImpact!==c.Culled;return s||this.invalidateNodeVisibilityCache(e),s}))),this._unloadedMemoryEstimate=a.missing-a.unremoved,a.knownNodes>3&&a.missingNodes>0&&(this._unloadedMemoryEstimate+=a.known/a.knownNodes*a.missingNodes),this._unloadedMemoryEstimate=.8*Math.max(0,this._unloadedMemoryEstimate),this._featureEstimate.estimate=this._computeFeatureEstimate(d),this._featureEstimate.leavesReached=o,this._missing.sort(((e,t)=>e-t)),this._missing.filterInPlace(((e,t)=>t<1||this._missing.data[t-1]!==e)),this._missing.sort(((e,t)=>y.get(e)-y.get(t))),this._missing.length>0&&(this._maxUnloadedPrio=y.get(this._missing.back()),this._prefetch.clear()),this._updates.add.filterInPlace((e=>y.get(e)>=this._maxUnloadedPrio)).sort(((e,t)=>y.get(e)-y.get(t))),this._updates.update.sort(((e,t)=>y.get(e)-y.get(t))),this._indexMissing=this._loading.size+this._missing.length,this._dirty=this._indexMissing>0,y.clear()}checkFeatureTarget(e,t){const i=this._viewportQueries.updateScreenSpaceErrorBias(t);let s=t,n=t,r=i,o=10;for(;o--;){const i=new O;this._updateFeatureEstimate(s,i);if(this._computeFeatureEstimate(i)<=e){if(s>=t||i.missingNodes>0||0===o)break;r=s,s=.5*(s+n)}else n=s,s=.5*(s+r)}return this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(i),Math.min(t,s)}_updateFeatureEstimate(t,i){this._version=I(this._version),this._viewportQueries.updateScreenSpaceErrorBias(t),this.traverseVisible(((t,s)=>this._updateNodeFeatureEstimate(e(s)?s.node:void 0,i)))}_updateNodeFeatureEstimate(i,s){if(!(t(i)||i.failed||t(i.numFeatures)))return this._isLoaded(i.index)?(s.known+=i.numFeatures,++s.knownNodes,void(this._isSelected(i)||(s.unremoved+=i.numFeatures))):void(this._isSelected(i)&&(e(i.numFeatures)?(s.missing+=i.numFeatures,s.known+=i.numFeatures,++s.knownNodes):++s.missingNodes))}_computeFeatureEstimate(e){let t=e.known-e.unremoved;return e.knownNodes>3&&e.missingNodes>0&&(t+=e.known/e.knownNodes*e.missingNodes),Math.max(0,t)}load(){return this._load(this._missing)}prefetch(){return this._prefetch.sort(((e,t)=>y.get(e)-y.get(t))),this._load(this._prefetch)}_load(e){if(0===e.length||!this._canRequest())return!1;for(;e.length>0&&this._canRequest();)0===this._nodesPerPage?this._loadNode(e.pop()):this._loadPage(e.pop());return!0}get isLoading(){return this._indexMissing>0}get isPrefetching(){return this._prefetch.length>0}get indexLoading(){return this._loading.size}get indexMissing(){return this._indexMissing}get unloadedMemoryEstimate(){return this._unloadedMemoryEstimate}get updates(){return this._updates}get featureEstimate(){return this._featureEstimate}get maxPriority(){return Math.max(this._maxProcessingPrio,this._maxUnloadedPrio)}nodeTraversalState(e){if(t(e))return null;let i=this._nodeTraversalState.get(e.index);if(i&&w(i.version,this._version))return i;const s=this._viewportQueries.getLodLevel(e),n=this._viewportQueries.hasLOD(e);let r=!0;if(n){const t=this.getParentIndex(e.index);if(t>=0){const e=this._nodeTraversalState.get(t);r=!!e&&s>e.lodLevel}else r=s>0}else r=0===e.childCount;return i?(i.lodLevel=s,i.isChosen=r,i.version=C(!0,this._version),i):(i=new _(n,r,s,C(!0,this._version)),this._nodeTraversalState.set(e.index,i),i)}_loadNode(e){this._loading.add(e);const s=i(this._getNodeInternal(e)).ref;if(t(s))return void this._failedNodes.add(e);const r=s.id,o=this._urlPrefix+r,a=()=>{this._loading.delete(e),0===this._missing.length&&0===this._loading.size&&this.requestUpdate()};this._streamDataController.request(o,\"json\").then((t=>{a();const i=this._validateNode(r,t);if(null==i)return;i.obb&&this.invalidateNodeVisibilityCache(e);const s=this._addNode(i,e);this.nodeTraversalState(s)}),(t=>{a(),n(t)||(this._logger.error(\"#loadNode()\",this._logLayer,\"Error loading node: \"+o),this._failedNodes.add(e))}))}_validateNode(e,t){if(null==t||\"object\"!=typeof t||t.id!==e)return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node. Wrong type or wrong id \"${e}\"`),null;if(!Array.isArray(t.mbs))return this._logger.error(\"#validateNode()\",this._logLayer,`Invalid bounding volume on node ${e}.`),null;t.sharedResource&&\"./shared\"!==t.sharedResource.href&&\"./shared/\"!==t.sharedResource.href&&this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid shared resource href on node \"${e}\"`),null==t.geometryData||Array.isArray(t.geometryData)&&1===t.geometryData.length&&\"./geometries/0\"===t.geometryData[0].href||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid geometry data on node \"${e}\"`),null==t.attributeData||Array.isArray(t.attributeData)&&!t.attributeData.some(((e,t)=>e.href!==`./attributes/f_${t}/0`))||this._logger.warn(\"#validateNode()\",this._logLayer,`Invalid attribute data on node \"${e}\"`),t.featureData&&t.featureData.length>1&&this._logger.warn(\"#validateNode()\",this._logLayer,`Node ${e} has ${t.featureData.length} bundles. Only the first bundle will be loaded.`);const i=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,s=t.featureData&&1===t.featureData.length&&t.featureData[0].featureRange?t.featureData[0].featureRange[1]-t.featureData[0].featureRange[0]+1:void 0,n=t=>{if(null==t)return null;const i=t=>this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node reference on node ${e}: ${t}`);if(\"number\"==typeof t.id)i(`id ${t.id} is a number instead of a string.`);else if(\"string\"!=typeof t.id||!Array.isArray(t.mbs))return i(\"Missing or invalid id.\"),null;if(!Array.isArray(t.mbs))return i(`Invalid bounding volume on reference ${t.id}.`),null;t.href&&t.href!==\"../\"+t.id&&this._logger.error(\"#validateNode()\",this._logLayer,`Invalid node href on node \"${e}\"`);const s=t.hasOwnProperty(\"obb\")&&!this.ignoreServiceObb?t.obb:null,n=new d(`${t.id}`,t.mbs);return n.serviceObb=s,n.visibilityObb=this._computeVisibilityObb(n),n},r=Array.isArray(t.children)?t.children.map(n).filter((e=>null!=e)):null;return{id:e,mbs:t.mbs,obb:i,children:r,resources:{hasFeatureData:t.featureData&&t.featureData.length>0,hasSharedResource:null!=t.sharedResource,attributes:t.attributeData?e:void 0,texture:t.textureData&&t.textureData.length>0?e:void 0,geometry:null!=t.geometryData?e:void 0},version:\"string\"==typeof t.version?t.version:null,lodSelection:Array.isArray(t.lodSelection)?t.lodSelection:null,numFeatures:s}}resetFailedNodes(){this._failedNodes.clear(),this._failedPages.clear(),this._forAllNodes((t=>{e(t.node)&&(t.node.failed=!1)}))}_entryPriority(i){const s=this._getNodeInternal(i),n=this.getParentIndex(i);if(t(s)||n<0&&null==s.node)return n<0?1/0:this._entryPriority(n);let r=0;if(s.node&&n>=0){const e=this._nodeTraversalState.get(n);null!=e&&(r=e.lodLevel)}let o=this.progressiveLoadPenalty;for(let e=i;e>=0;e=this.getParentIndex(e))if(this._isLoaded(e)){o=0;break}const a=e(s.ref)?this._viewportQueries.distToPOI(s.ref):e(s.node)?this._viewportQueries.distToPOI(s.node):0;return-a-r*(a+this.progressiveLoadPenalty)+o}traverseVisible(e){const i=this._getNodeInternal(this._rootIndex);t(i)?e(this._rootIndex,null,null):this._traverseVisible(this._rootIndex,-1,i,e)}_traverseVisible(t,s,n,r){if(n.node&&0===n.childCount)return void(this.isGeometryVisible(t)&&r(t,n,s));if(!this.isNodeVisible(t))return;if(r(t,n,s),null==n.node)return;const o=this.nodeTraversalState(n.node);if(o?.nodeHasLOD&&o.lodLevel===this._maxLodLevel)return;const a=i(this._getPage(t));for(let i=0;i<n.childCount;i++){const s=a.children[n.childOffset+i],o=this._getNodeInternal(s);e(o)?this._traverseVisible(s,t,o,r):r(s,null,t)}}traverse(e,t){t(e)&&this.traverseChildren(e,t)}traverseChildren(t,i){const s=t.index,n=this._getNodeInternal(s);e(n)&&this._traverseChildren(s,n,i)}_traverseChildren(i,s,n){const r=this._getPage(i);if(t(r))return;const o=s.childOffset+s.childCount;for(let t=s.childOffset;t<o;++t){const i=r.children[t],s=this._getNodeInternal(i);e(s)&&e(s.node)&&n(s.node)&&this._traverseChildren(i,s,n)}}updateChildrenLoaded(t,i){let s=this.getNode(t);for(;e(s);)s.childrenLoaded+=i,s=this.getParent(s.index)}checkChildrenLoadedInvariant(){if(t(this.rootNode))return!0;const e=[],i=t=>{let s=this._isLoaded(t.index)||this._isReloading(t.index)?1:0;return this.traverseChildren(t,(e=>(s+=i(e),!1))),t.childrenLoaded!==s&&e.push(t.index),s};return i(this.rootNode),e.length&&this._logger.error(\"childrenLoaded invariant broken at following nodes: \"+e.join(\",\")),e.length>0}updateStats(e){if(this._updates.add.length>0&&(e.nodes+=\" + \"+this._updates.add.length),(this._indexMissing||this._prefetch.length>0)&&(e.index+=\" + \"+this._indexMissing||this._prefetch.length),e.prio=this._maxProcessingPrio,this._featureEstimate.estimate){const t=this._featureEstimate.estimate-e.features;t>0?e.features+=\" + \"+t:t<0&&(e.features+=\" - \"+-t)}}updateElevationInfo(e,t){this.needNodeElevationRange=t&&!!e&&(\"relative-to-ground\"===e.mode||\"on-the-ground\"===e.mode),this._viewportQueries.updateElevationInfo(e),this.invalidateAllElevationRanges()}invalidateAllElevationRanges(){this._forAllNodes((t=>{P(t),e(t.node)&&(t.node.elevationRange=null),e(t.ref)&&(t.ref.elevationRange=null)}))}_forAllNodes(e){for(let t=0;t<this._nodePages.length;t++){const i=this._nodePages[t];if(i){const s=t*this._nodesPerPage;for(let t=0;t<i.nodes.length;t++)e(i.nodes[t],s+t)}}}get test(){return{addNode:(e,t)=>this._addNode(e,t)}}}const y=new Map;class N{constructor(e){this.missing=e,this.update=new s({deallocator:null}),this.add=new s({deallocator:null}),this.remove=new s({deallocator:null}),this.cancel=[]}reset(e){this.add.clear(),this.update.clear(),this.cancel=e}}function P(t){e(t.node)&&(g(t.node.renderMbs),m(t.node.serviceObbInRenderSR)),e(t.ref)&&(g(t.ref.renderMbs),m(t.ref.serviceObbInRenderSR))}function x(e){return f(e,-2)}function I(e){return f(e,2)}function C(e,t){return t+(e?1:0)}function w(e,t){return(-2&e)===t}function M(e){return 1==(1&e)}function S(e,t){return 0===t?0:e/t|0}function R(e,t){return 0===t?e:e%t}const L=[[\"maxScreenThreshold\",a.MaxScreenThreshold],[\"screenSpaceRelative\",a.ScreenSpaceRelative],[\"removedFeatureDiameter\",a.RemovedFeatureDiameter],[\"distanceRangeFromDefaultCamera\",a.DistanceRangeFromDefaultCamera]];function E(e){if(e)for(let t=0;t<e.length;t++)for(const i of L)if(i[0]===e[t].metricType)return{lodMetric:i[1],maxError:e[t].maxError};return{lodMetric:a.None,maxError:0}}class O{constructor(){this.known=0,this.knownNodes=0,this.missing=0,this.missingNodes=0,this.unremoved=0}}function V(e){return Math.sqrt(e*(4/Math.PI))}export{p as I3SIndex,E as selectErrorMetric};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import o from\"../../../../core/PooledArray.js\";import{NodeState as s}from\"./I3SNode.js\";import{FadeDirection as d}from\"../support/I3SLayerView.js\";class t{constructor(e){this._layerView=e,this._lodGlobalDirty=!1}startNodeLoading(e,i,o,s){this._maxLodLevel=s.maxLodLevel,this._index=o,this._isNodeInScaleBounds=e,this._removeNodes=i}shouldLoadNode(i){if(e(i))return!1;const o=this._index.nodeTraversalState(i);return!!this._isChosenMaxLOD(o)||!!o.isChosen&&this._childrenRequireLoading(i)}setLodGlobalDirty(){this._lodGlobalDirty=!0}get requiresLODGlobalHandling(){return null!=this._index&&!0===this._lodGlobalDirty}lodGlobalHandling(e){if(!this.requiresLODGlobalHandling)return!1;this._lodGlobalDirty=!1;const i=this._layerView.view.resourceController.memoryController.usedMemory,o=Math.max(0,Math.floor(10*(i-1)));r.clear(),this._lodGlobalHandling(this._index.rootNode,o,!1,!!this._layerView.nodeCrossfadingEnabled);const s=r.length;this._removeNodes(r,e);const d=r.length<s;return 0!==r.length&&(this._lodGlobalDirty=!0),r.clear(),d}_lodGlobalHandling(o,t,l,n){if(e(o))return!1;const a=o.index,h=this._index,_=this._layerView,u=h.nodeTraversalState(o),c=this._isChosenMaxLOD(u),x=!o.resources.hasFeatureData;if(c&&x)return o.childrenLoaded>0&&this._removeChildrenRecursive(o),!0;const L=_.isNodeLoaded(a);if(n&&L&&c){const e=!l&&this.hasNoVisibleChildren(o);_.fadeNode(a,d.FadeIn,!e)}const N=L&&(!_.isNodeFullyFadedIn||_.isNodeFullyFadedIn(a));if(L&&(_.updateNodeState(a,c?s.Leaf:s.Hole),c))return N&&this._removeChildrenRecursive(o),N;const m=o.childCount>0;let y=m;if(m)for(let e=0;e<o.childCount;e++){const o=h.getChildIndex(a,e),s=h.getNode(o);if(i(s)){!(!h.isGeometryVisible(o)||this._lodGlobalHandling(s,t,l||N,n))&&this._isNodeInScaleBounds(s)&&(y=!1)}else h.isNodeVisible(o)&&(y=!1)}const b=L&&!c&&(y||r.length<t);b&&r.push(a),!n||b||!L||l||y||_.fadeNode(a,d.FadeIn,!1);const f=!o.resources.hasFeatureData;return y||N&&!b||f}_removeChildrenRecursive(e){this._index.traverseChildren(e,(e=>((this._layerView.isNodeLoaded(e.index)||this._layerView.isNodeReloading(e.index))&&r.push(e.index),e.childrenLoaded>0)))}hasNoVisibleChildren(e){let i=!0;return this._index.traverseChildren(e,(e=>!(!i||!this._index.isNodeVisible(e.index))&&(this._layerView.isNodeLoaded(e.index)?(i=!1,!1):e.childrenLoaded>0))),i}_childrenRequireLoading(e){let i=!1,o=!0;return this._index.traverseChildren(e,(e=>{if(!o||!this._index.isNodeVisible(e.index))return!1;const s=this._index.nodeTraversalState(e);return this._isChosenMaxLOD(s)&&this._index.isGeometryVisible(e.index)&&(i=!0),this._layerView.isNodeLoaded(e.index)?(o=!1,!1):e.childrenLoaded>0})),o&&i}_isChosenMaxLOD(e){return e.isChosen&&(!e.nodeHasLOD||e.lodLevel===this._maxLodLevel)}}const r=new o({deallocator:null});export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{result as e,assertResult as t}from\"../../../../core/asyncUtils.js\";import has from\"../../../../core/has.js\";import{clone as r}from\"../../../../core/lang.js\";import{isNone as i,isSome as o}from\"../../../../core/maybe.js\";import{eachAlways as n,isAbortError as s}from\"../../../../core/promiseUtils.js\";import{makeAbsolute as a}from\"../../../../core/urlUtils.js\";import{TextureEncoding as u}from\"./enums.js\";import{readBinaryAttribute as l,createGeometryDescriptor as f}from\"./I3SBinaryReader.js\";import{getMaterialAndTextures as d,getMaterialAndTexturesFromShared as c,selectEncoding as h}from\"./I3SMaterialUtil.js\";class m{constructor(e,t,r,i,o,n){if(this._streamDataController=t,this._logger=r,this._defaultGeometrySchema=i,this._requiredAttributes=o,this._options=n,this._logLayer=e,this._layerUrl=e.parsedUrl.path,this._geometryDefinitions=e.geometryDefinitions,e.materialDefinitions){const t=e.textureSetDefinitions;this._materialAndTextures=e.materialDefinitions.map((e=>d(t,e)))}}_load(e,t,r){return this._streamDataController.request(e,t,r)}_loadAttribute(e,t,r){const i=`${this._layerUrl}/nodes/${e.resources.attributes}/attributes/${t.key}/0`;return this._load(i,\"binary\",r).then((e=>l(t,e)))}loadAttributes(e,t,r){return n(t.map((t=>this._loadAttribute(e,t.attributeStorageInfo,r)))).then((r=>{const i={};for(let o=0;o<t.length;++o){const n=r[o].value;if(n)i[t[o].name]=n;else{if(s(r[o].error))throw r[o].error;this._logger.error(\"#loadAttributes\",this._logLayer,`Failed to load attributeData for '${t[o].name}' on node '${e.id}'`,r[o].error)}}return i}))}async loadNodeData(r,n){const s=null!=this._requiredAttributes&&r.resources.attributes?e(this.loadAttributes(r,this._requiredAttributes,n)):null,{bufferDefinition:a,bufferIndex:u}=D(this._geometryDefinitions,r),l=!!r.resources.geometry,d=l?e(this._loadGeometry(r.resources.geometry,u,n)):null,h=r.resources.hasSharedResource?await this._loadShared(r,n):null,m=r.resources.materialDefinition,p=this._materialAndTextures&&null!=m&&m>=0?this._materialAndTextures[m]:null!=h?c(h):null,x=p?.material,A=p?.textures??[],w=`${r.id}`,T=!l&&this._options.loadFeatureData,$=T?await this._loadFeatureData(w,n):null,j=T?_($):g(x),I=i(j)?b($):null,U=A.length>0?e(this.loadTextures(r,A,n)):null;let S=null,q=null;if(d){S=t(await d);const e=y(this._defaultGeometrySchema,h);q=f(a,e)}const B=U?t(await U):null,C=s?t(await s):{},E=C?{attributeData:C,loadedAttributes:this._requiredAttributes}:null;if(o(j))return{geometryData:j,attributeDataInfo:E,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:B};if(o(I))return{pointData:I,attributeDataInfo:E,geometryBuffer:S,geometryDescriptor:q,requiredTextures:A,textureData:B};throw new Error}static _addAbsoluteHrefTexture(e,t){const r=e.textureDefinitions;if(null!=r)for(const i of Object.keys(r))for(const e of r[i].images)Array.isArray(e.href)?e.hrefConcat=e.href.map((e=>a(e,t))):e.hrefConcat=a(e.href,t)}static _fixTextureEncodings(e){const t=e.textureDefinitions;if(null!=t)for(const r in t){const e=t[r];if(Array.isArray(e.encoding))for(let t=0;t<e.encoding.length;t++){const r=e.encoding[t];\"data:\"===r.substring(0,5)&&(e.encoding[t]=r.substring(5))}else{const t=e.encoding;\"data:\"===t.substring(0,5)&&(e.encoding=t.substring(5))}}}_loadShared(e,t){const r=`${this._layerUrl}/nodes/${e.resources.geometry}/shared`;return this._load(r,\"json\",t).then((e=>(m._fixTextureEncodings(e),m._addAbsoluteHrefTexture(e,r),e)))}_loadTexture(e,t,r,i,o,n){let s=!1;return o===u.DDS_S3TC||o===u.KTX2||o===u.Basis?this._load(e,\"binary\",n).then((e=>({id:t,usage:r,data:e,encoding:o,downsampled:s}))):this._load(e,\"image\",n).then((e=>{let n=e;const a=4096,u=2;if(i&&e.width*e.height>=a){const t=Math.ceil(e.width/u),r=Math.ceil(e.height/u),i=document.createElement(\"canvas\");i.width=t,i.height=r;i.getContext(\"2d\").drawImage(e,0,0,t,r),n=i,s=!0}return{id:t,usage:r,data:n,encoding:o,downsampled:s}}))}loadTextures(e,t,r){const i=!!this._options.uncompressedTextureDownsamplingEnabled,o=this._options.textureUsageMask;return Promise.all(t.map((t=>{if(0==(t.usage&o))return null;const n=h(t.encodings,this._options.textureEncodings);if(null==n)return this._logger.error(\"#loadTextures\",this._logLayer,`No known encoding for texture found on node ${e.id}`),Promise.reject();const s=e.resources.texture||e.id,a=`${this._layerUrl}/nodes/${s}/textures/${n.name}`;return this._loadTexture(a,t.id,t.usage,i,n.encoding,r)})))}_loadFeatureData(e,t){const r=`${this._layerUrl}/nodes/${e}/features/0`;return this._load(r,\"json\",t)}_loadGeometry(e,t,r){const i=`${this._layerUrl}/nodes/${e}/geometries/${t}`;return this._load(i,\"binary\",r)}}function g(e){return{featureIds:[],geometries:[{type:\"ArrayBufferView\",params:{material:e}}],featureDataPosition:[0,0,0]}}function _(e){if(!e)return null;for(const t of e.featureData){const e=t.geometries;if(null!=e)for(const r of e)return{featureIds:[t.id],featureDataPosition:t.position,geometries:[r]}}return null}function b(e){if(!e)return null;const t=new Array;for(const r of e.featureData)null!=r.position&&t.push({featureIds:[r.id],featureDataPosition:r.position,geometries:[]});return t}function y(e,t){if(!e||!t||!t.materialDefinitions)return e;const i=Object.keys(t.materialDefinitions)[0];return!t.materialDefinitions[i].params.vertexRegions&&e.vertexAttributes.region&&delete(e=r(e)).vertexAttributes.region,e}function D(e,t){const r={bufferDefinition:null,bufferIndex:0},i=t.resources.geometryDefinition;if(null==e||null==i||i<0)return r;const o=i>=0?e[i].geometryBuffers:null;if(null==o)return r;for(let n=0;n<o.length;n++){const e=o[n];if(null==e.compressedAttributes)r.bufferIndex=n,r.bufferDefinition=o[n];else if(\"draco\"===e.compressedAttributes.encoding&&!has(\"disable-feature:i3s-draco\"))return r.bufferIndex=n,r.bufferDefinition=e,r}return r}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{onAbortOrThrow as e,always as t}from\"../../../../core/promiseUtils.js\";class r{constructor(e,t){this._requester=e,this._apiKey=t,this._activeRequests=new Set}get busy(){return this._requester.busy}request(r,s,o){const l=new AbortController,a=e(o,(()=>l.abort())),n={signal:l.signal,query:{token:this._apiKey}},i=this._requester.request(r,s,n),u={response:i,abortController:l,abortHandle:a};return this._activeRequests.add(u),t(i,(()=>{u.abortController=null,u.abortHandle?.remove(),u.abortHandle=null,this._activeRequests.delete(u)})),i}cancelAll(){this._activeRequests.forEach((e=>{e.abortController?.abort(),e.abortController=null,e.abortHandle?.remove()})),this._activeRequests.clear()}}export{r as I3SStreamDataController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{d as i,i as s,l as r,g as n,e as o,p as a,b as h,a as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{c as l}from\"../../../../chunks/vec4.js\";import{getReferenceEllipsoid as p}from\"../../../../geometry/ellipsoidUtils.js\";import{projectBoundingSphere as _}from\"../../../../geometry/projection.js\";import{getSphericalPCPF as u}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as d,fromMatrix as g,intersectsSphere as b}from\"../../../../geometry/support/frustum.js\";import{isPlateCarree as v}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{w as x}from\"../../../../chunks/sphere.js\";import{makeDehydratedPoint as f}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{evaluateElevationAlignmentAtPoint as M}from\"../graphics/elevationAlignmentUtils.js\";import{ElevationContext as R}from\"../graphics/ElevationContext.js\";import{createContextWithoutExpressionSupport as D,extractExpressionInfo as S}from\"../graphics/featureExpressionInfoUtils.js\";import{LodMetric as C}from\"./I3SNode.js\";import{isValidMbs as E,isValidObb as P,transformObb as O,intersectBoundingRectWithMbs as L,MbsIntersectResult as j}from\"./I3SUtil.js\";import{create as F,computeOffsetObb as y,isVisible as B}from\"../../support/orientedBoundingBox.js\";const I=1e5;class A{constructor(e,t,i,s,r,n,o,a,h={}){this._indexSR=e,this._renderCoordsHelper=t,this._clippingArea=r,this._elevationProvider=n,this._viewingMode=o,this._options=h,this._frustum=d(),this._useFrustumCulling=!1,this._poi=m(),this._elevationContext=null,this.minDistance=1/0,this.maxDistance=0,this.maxLodLevel=2,this._tmpObb=F(),this._tmp1=m(),this._tmp2=m(),this._tmp3=m(),this._tmp0=m(),this._screenspaceErrorBias=h.screenspaceErrorBias||1,this._progressiveLoadFactor=h.progressiveLoadFactor||1,this.updateCamera(i,s),this.engineSR=this._renderCoordsHelper.spatialReference,this.updateElevationInfo(a),this._tmpPoint=f(0,0,0,e),this._isECEFOBBInLocalMode=this._indexSR.isWGS84&&(this.engineSR.isWebMercator||v(this.engineSR)),this._indexSREllipsoidRadius=p(this._indexSR).radius}updateElevationInfo(e){null!=e?(this._elevationContext=R.fromElevationInfo(e),this._elevationContext.updateFeatureExpressionInfoContext(D(S(e,!1)))):this._elevationContext=null}updateCamera(e,t){this._useFrustumCulling=t,t&&g(e.viewMatrix,e.projectionMatrix,this._frustum),this._screenSizeFactor=1/(e.perScreenPixelRatio/2),this._camPos=e.eye,this.minDistance=1/0,this.maxDistance=0}setPointOfInterest(e){this._poi=e}updateScreenSpaceErrorBias(e){const t=this._screenspaceErrorBias;return this._screenspaceErrorBias=e,t}updateClippingArea(e){this._clippingArea=e}getElevationRange(i){if(e(this._elevationContext))return null;const s=i.mbs;if(!s)return null;const r=s[0],n=s[1],o=s[2],a=s[3],h=\"relative-to-scene\"===this._elevationContext.mode?\"scene\":\"ground\";if(this._elevationProvider.getSphereElevationBounds)return this._elevationProvider.getSphereElevationBounds(r,n,o,a,this._indexSR,h);const c=this._elevationProvider.getElevation(r,n,o,this._indexSR,h);return t(c)?{min:c,max:c}:null}getRenderMbs(e){const t=e.renderMbs;return E(t)||(e.mbs&&l(t,e.mbs),this._elevationContext&&t[3]<I&&(this._tmpPoint.x=t[0],this._tmpPoint.y=t[1],this._tmpPoint.z=t[2],t[2]=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)),_(t,this._indexSR,t,this.engineSR)),t}getVisibilityObb(i){if(t(i.visibilityObb))return i.visibilityObb;const s=i.serviceObb,r=.01*this._indexSREllipsoidRadius;return e(s)||!i.mbs||!P(s)||this._isECEFOBBInLocalMode&&s.halfSize.some((e=>e>r))?null:(i.serviceObbInRenderSR=this._computeRenderObb(s,i.serviceObbInRenderSR,i.mbs[3],i.elevationRange),i.serviceObbInRenderSR)}_computeRenderObb(i,s,r,n){if(e(s))s=F();else if(P(s))return s;let o=0,a=0;if(this._elevationContext&&t(n)&&Number.isFinite(n.min))switch(this._elevationContext.mode){case\"relative-to-ground\":o=this._elevationContext.geometryZWithOffset(i.center[2],this._renderCoordsHelper)+n.min-i.center[2],a=n.max-n.min;break;case\"on-the-ground\":o=n.min-i.center[2],a=n.max-n.min}else this._elevationContext&&r<I&&(this._tmpPoint.x=i.center[0],this._tmpPoint.y=i.center[1],this._tmpPoint.z=i.center[2],o=M(this._tmpPoint,this._elevationProvider,this._elevationContext,this._renderCoordsHelper)-i.center[2]);return a>0?(O(i,this._indexSR,this._tmpObb,this.engineSR,o),y(this._tmpObb,0,a,this._viewingMode,s)):O(i,this._indexSR,s,this.engineSR,o),s}isNodeVisible(e){const i=this.getRenderMbs(e);if(!this._isMBSinClippingArea(i))return!1;if(!this._useFrustumCulling)return!0;const s=this.getVisibilityObb(e);return t(s)?B(s,this._frustum):b(this._frustum,x(i))}isGeometryVisible(e){if(!this._useFrustumCulling)return!0;const i=e.geometryObb;return t(i)?B(i,this._frustum):this.isNodeVisible(e)}_isMBSinClippingArea(t){return!!e(this._clippingArea)||L(this._clippingArea,t)!==j.OUTSIDE}_screenSpaceDiameterMbs(e,t){const s=this.getRenderMbs(e),r=Math.sqrt(i(s,this._camPos)),n=r-s[3];return this._updateMinMaxDistance(r),n<0?.5*Number.MAX_VALUE:t/n*this._screenSizeFactor}calcCameraDistance(e){return this.calcCameraDistanceToCenter(e)-this.getRenderMbs(e)[3]}calcCameraDistanceToCenter(e){const t=this.getRenderMbs(e),i=s(t,this._camPos);return this._updateMinMaxDistance(i),i}calcAngleDependentLoD(e){const t=this.getRenderMbs(e),i=t[3],n=(Math.abs(t[0]*(t[0]-this._camPos[0])+t[1]*(t[1]-this._camPos[1])+t[2]*(t[2]-this._camPos[2]))/r(t)+i)/s(t,this._camPos);return Math.min(1,n)}hasLOD(e){return e.lodMetric!==C.None}_getDistancePlanarMode(e,t){const i=e[0]-t[0],s=e[1]-t[1],r=e[2]-t[2],n=i*i+s*s,o=t[3];if(n<=o*o)return Math.abs(r);const a=Math.sqrt(n)-o;return Math.sqrt(r*r+a*a)}_getDistanceGlobeMode(e,t){const m=r(t),l=r(e)-m;n(this._tmp0,e,o(e,t)/a(e));const p=i(t,this._tmp0),_=t[3];if(p<=_*_)return Math.abs(l);{const i=n(this._tmp0,t,1/m),a=m,p=_*_/2/a,u=n(this._tmp1,i,a-p),d=e,g=h(this._tmp2,d,u),b=h(this._tmp2,g,n(this._tmp3,i,o(i,g))),v=c(this._tmp2,u,n(this._tmp2,b,_/r(b)));let x=s(d,v);if(l>=2e5){const e=h(this._tmp1,d,v);let t=o(e,i)/r(e);t<.08&&(t=1e-4),x/=t}return x}}_getDistance(e,t){return this.engineSR===u(this.engineSR)?this._getDistanceGlobeMode(e,t):this._getDistancePlanarMode(e,t)}_updateMinMaxDistance(e){e>0?(this.minDistance=Math.min(this.minDistance,e),this.maxDistance=Math.max(this.maxDistance,e)):(this.minDistance=0,this.maxDistance=Math.max(this.maxDistance,-e))}getLodLevel(e){if(e.lodMetric===C.None)return 0;if(0===e.childCount)return this.maxLodLevel;if(this._useFrustumCulling&&this._progressiveLoadFactor<1){const t=this._progressiveLoadFactor*this._screenspaceErrorBias,i=this._screenspaceErrorBias;return this.evaluateLODmetric(e,t)?this.evaluateLODmetric(e,i)?2:1:0}return this.evaluateLODmetric(e,this._screenspaceErrorBias)?this.maxLodLevel:0}evaluateLODmetric(e,t){switch(e.lodMetric){case C.ScreenSpaceRelative:{const i=this.getRenderMbs(e),s=this._getDistance(this._camPos,i),r=2*s/this._screenSizeFactor,n=s+i[3];return this._updateMinMaxDistance(n),e.maxError*t<=r}case C.MaxScreenThreshold:{let i=this._screenSpaceDiameterMbs(e,e.mbs[3]*t);return this._options.angleDependentLoD&&(i*=this.calcAngleDependentLoD(e)),i<e.maxError}case C.RemovedFeatureDiameter:return this._screenSpaceDiameterMbs(e,e.maxError)*t<10;case C.DistanceRangeFromDefaultCamera:return this.calcCameraDistance(e)>e.maxError*t}return!1}distToPOI(e){const t=this.getRenderMbs(e);return s(t,this._poi)-t[3]}distCameraToPOI(){return s(this._camPos,this._poi)}}export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import i from\"../../../core/Handles.js\";import has from\"../../../core/has.js\";import s from\"../../../core/Logger.js\";import{isNone as r,isSome as a}from\"../../../core/maybe.js\";import d from\"../../../core/PooledArray.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{isAbortError as n}from\"../../../core/promiseUtils.js\";import{watch as h,initial as l,sync as u}from\"../../../core/reactiveUtils.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{projectBoundingRect as p}from\"../../../geometry/projection.js\";import{create as g,intersectsSphere as m}from\"../../../geometry/support/aaBoundingRect.js\";import{makeDehydratedPoint as y}from\"../dehydratedFeatures.js\";import{PromiseQueue as x}from\"../../support/PromiseQueue.js\";import{viewingModeFromString as f}from\"../../../views/ViewingMode.js\";import{addCallback as b}from\"../../../views/3d/layers/i3s/I3SFrameTask.js\";import{I3SIndex as N}from\"../../../views/3d/layers/i3s/I3SIndex.js\";import v from\"../../../views/3d/layers/i3s/I3SLodHandling.js\";import{NodeState as w,CacheState as C}from\"../../../views/3d/layers/i3s/I3SNode.js\";import D from\"../../../views/3d/layers/i3s/I3SNodeLoader.js\";import{I3SStreamDataController as L}from\"../../../views/3d/layers/i3s/I3SStreamDataController.js\";import{getVertexCrs as S,getIndexCrs as I,findIntersectingNodes as V}from\"../../../views/3d/layers/i3s/I3SUtil.js\";import A from\"../../../views/3d/layers/i3s/I3SViewportQueries.js\";import{FadeDirection as F}from\"../../../views/3d/layers/support/I3SLayerView.js\";import{toBoundingRect as O}from\"../../../views/3d/support/extentUtils.js\";import{ClientType as P,maxDownloadSlots as U}from\"../../../views/3d/support/index.js\";import{extractSafeScaleBounds as M,scaleBoundsPredicate as q}from\"../../../views/support/layerViewUtils.js\";import{noBudget as G}from\"../../../views/support/Scheduler.js\";const j=\"esri.layers.graphics.controllers.I3SOnDemandController\",Q=s.getLogger(j),T=100,E=2,H=1e4,R=1e-4,k=1.2,B=500,z=1.5;let K=class extends(o(t)){get isMeshPyramid(){return\"mesh-pyramids\"===this.layer.profile||\"MeshPyramid\"===this.layer.store?.lodType}get isGraphics3D(){return\"points\"===this.layer.profile}get useMaximumNumberOfFeatures(){return!this.isMeshPyramid&&(r(this.layer.priority)||\"High\"===this.layer.priority)}get indexStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(P.I3S_INDEX);return new L(e,this.layer.apiKey)}get dataStreamController(){const e=this.layerView.view.resourceController.createStreamDataRequester(P.I3S_DATA);return new L(e,this.layer.apiKey)}get crsVertex(){return S(this.layer)}get crsIndex(){return I(this.layer)}get layer(){return this.layerView.i3slayer}get running(){return this.updating}get rootNodeVisible(){if(a(this._index)){const e=this._index.rootNode;if(a(e))return this._updateViewData(),this._index.isNodeVisible(e.index)}return!0}get index(){return this._index}constructor(e){super(e),this.screenSizeFactor=0,this.featureTarget=5e4,this.fixedFeatureTarget=!1,this.updating=!0,this.updatingProgress=1,this.leavesReached=!1,this.scaleVisibilityEnabled=!0,this._featureLOD=1,this._stableFeatureLOD=!1,this._isIdle=!1,this._cameraDirty=!0,this._invisibleDirty=!1,this._idleStateCallbacks=null,this._newLoadingNodes=new d({deallocator:null}),this._loadedNodeScales=new Map,this._modificationsNodeFilteringArray=new d,this._downloadingCount=0,this._loadingNodes=new Map,this._updatingNodes=new Map,this._progressMaxNumNodes=1,this._requiredAttributes=new Array,this._requiredAttributesDirty=!0,this._updatesDisabled=!1,this.disableIDBCache=!1,this._disableMemCache=!1,this._restartNodeLoading=!1,this._fields=null,this._attributeStorageInfo=null,this._handles=new i,this._idleQueue=new x,this._elevationUpdateNodes=new d({deallocator:null}),this._errorCount=0}initialize(){const{layerView:e,layer:t}=this;this._disableMemCache=!e.loadCachedGPUData||!e.addCachedGPUData,this._lodHandling=new v(e),this._defaultGeometrySchema=t.store.defaultGeometrySchema,this.disableIDBCache=has(\"disable-feature:idb-cache\"),\"fields\"in t&&(this._fields=t.fields,this._attributeStorageInfo=t.attributeStorageInfo),this.addResolvingPromise(Promise.all([t.indexInfo,t.when(),e.when()]).then((([i])=>{if(this.destroyed||!e||e.destroyed||!i)return;const{view:s}=e,{resourceController:r}=s;this._setClippingArea(s.clippingArea),this.addHandles([h((()=>s?.pointsOfInterest?.focus?.renderLocation),(e=>this._pointOfInterestChanged(e)),l),h((()=>r.memoryController.memoryFactor),(()=>this._setCameraDirty()),u),h((()=>e.suspended),(e=>{const t=e?()=>this._updateViewData():()=>this._updateIdleState(!0),i=e?()=>{}:()=>this._updateIdleState(!1);!e&&a(this._index)&&this._index.invalidateAllElevationRanges(),this._idleStateCallbacks?(e&&this.cancelNodeLoading(),this.restartNodeLoading(),this._idleStateCallbacks.idleBegin=t,this._idleStateCallbacks.idleEnd=i):this._idleStateCallbacks=r.scheduler.registerIdleStateCallbacks(t,i)}),l),b(e.view.resourceController.scheduler,this),h((()=>e.uncompressedTextureDownsamplingEnabled),(()=>this.restartNodeLoading())),h((()=>[this.featureTarget,this.fixedFeatureTarget]),(()=>{this._setCameraDirty(),this._stableFeatureLOD=!1})),h((()=>s.state?.contentCamera),(()=>this._setCameraDirty())),h((()=>t.elevationInfo),(e=>this._elevationInfoChanged(e))),h((()=>t.effectiveScaleRange),(()=>this._scaleBoundsChanged())),h((()=>e.lodFactor),(()=>this._setCameraDirty())),h((()=>e.availableFields),(()=>this._requiredFieldsChange())),h((()=>e.holeFilling),(e=>a(this._index)&&(this._index.holeFilling=e)))]),this._updateScaleHandles(),this._viewportQueries=new A(this.crsIndex,s.renderCoordsHelper,s.state.contentCamera,!s.state.fixedContentCamera||this.isGraphics3D,this._clippingArea,this.isMeshPyramid?s.basemapTerrain:s.elevationProvider,f(s.viewingMode),this.layer.elevationInfo,{progressiveLoadFactor:this._getProgressiveLoadFactor(),screenspaceErrorBias:this._lod,angleDependentLoD:this._lod<.5}),this._index=new N(t,i,this.indexStreamController,this._viewportQueries,Q,e.holeFilling,(t=>e.isNodeLoaded(t)),(t=>e.isNodeReloading(t)),(e=>this._shouldLoadNode(e)),(e=>this._enableFromGPUCache(e,w.Leaf)),(e=>this._needsUpdate(e)),(()=>!this.indexStreamController.busy),(t=>e.computeVisibilityObb?e.computeVisibilityObb(t):null),e?.computeNodeFiltering?t=>e.computeNodeFiltering(t):void 0),this._index.updateElevationInfo(this.layer.elevationInfo,this.isMeshPyramid),this._index.imModificationsChanged(!!e.hasModifications),this._startNodeLoading()}))),this._tmpPoint=y(0,0,0,this.crsIndex)}updateNodeModificationStatus(e){const t=this._index,i=this.layerView;a(t)&&i?.updateNodeModificationStatus&&(this._modificationsNodeFilteringArray.clear(),e.forAll((e=>{const i=t.getNode(e);a(i)&&this._modificationsNodeFilteringArray.push(i)})),i.updateNodeModificationStatus(this._modificationsNodeFilteringArray),this._invisibleDirty=!0)}destroy(){this.cancelNodeLoading(),this._idleStateCallbacks&&(this._isIdle=!1,this._idleStateCallbacks.remove(),this._idleStateCallbacks=null),this._handles.destroy(),this._nodeLoader=null,W.prune(),a(X)&&(X.hide(),X=null)}_getRequiredAttributes(){if(null==this._attributeStorageInfo||!this._fields||!this.layerView.availableFields)return[];const e=this._attributeStorageInfo,t=this._fields,i=this.layer.objectIdField;return this.layerView.availableFields.map((i=>{const s=J(e,i),r=J(t,i);return s>=0&&r>=0?{index:s,name:t[r].name,field:t[r],attributeStorageInfo:e[s]}:null})).filter((e=>null!=e&&e.name!==i))}_requiredFieldsChange(){const e=this._getRequiredAttributes();$(this._requiredAttributes,e)||(this._requiredAttributes=e,this._requiredAttributesDirty=!1,this.restartNodeLoading())}requestUpdate(){this._requiredAttributesDirty=!0,this.restartNodeLoading()}_setClippingArea(e){const t=g();O(e,t,this.layerView.view.renderSpatialReference)?this._clippingArea=t:this._clippingArea=null}_pointOfInterestChanged(e){a(this._viewportQueries)&&(this._viewportQueries.setPointOfInterest(e),a(this._index)&&(this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate()))}updateClippingArea(e){this._setClippingArea(e),a(this._viewportQueries)&&a(this._index)&&(this._viewportQueries.updateClippingArea(this._clippingArea),this._index.invalidateVisibilityCache()),this._setCameraDirty()}_setCameraDirty(){this._cameraDirty=!0,this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateElevationChanged(e,t){const i=this._index;if(r(i)||r(i.rootNode)||r(t))return null;this.crsIndex.equals(t)||(p(e,t,Z,this.crsIndex),e=Z);const s=this._elevationUpdateNodes;return s.clear(),V(e,i.rootNode,i,(e=>s.push(e.index))),s.length&&(s.forAll((e=>i.updateElevationChanged(e))),this._setCameraDirty()),s}getParentIndex(e){return a(this._index)?this._index.getParentIndex(e):-1}removeAllGeometryObbs(){a(this._index)&&this._index.removeAllGeometryObbs()}getRenderMbs(e){return a(this._viewportQueries)?this._viewportQueries.getRenderMbs(e):null}_elevationInfoChanged(e){r(this._index)||(this._index.updateElevationInfo(e,this.isMeshPyramid),this._setCameraDirty())}_updateScaleHandles(){const e=\"scale-bounds\";this._handles.remove(e),this._areScaleBoundsActive&&this._handles.add(this.layerView.view.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),e)}_scaleBoundsChanged(){this._areScaleBoundsActive||this._loadedNodeScales.clear(),this._updateScaleHandles(),this._setCameraDirty()}_scaleUpdateHandler(e){this._updateScaleInBoundingRect(e.extent,e.spatialReference),this._setCameraDirty()}_updateScaleInBoundingRect(e,t){const i=this._index;if(r(i))return;const s=i.rootNode;!r(s)&&p(e,t,Z,this.crsIndex)&&this._loadedNodeScales.forEach(((e,t)=>{const s=i.getNode(t);a(s)&&m(Z,s.mbs)&&this._loadedNodeScales.set(t,this._computeScale(s))}))}restartNodeLoading(){this._restartNodeLoading=!0,this.cancelNodeLoading(),this._evaluateUpdating()}schedule(e,t){return this._idleQueue.push(e,t)}reschedule(e,t){return this._idleQueue.unshift(e,t)}get _isIntegratedMesh(){return\"integrated-mesh\"===this.layer.type}get _areScaleBoundsActive(){const{minScale:e,maxScale:t}=M(this.layer);return this.scaleVisibilityEnabled&&(e>0||t>0)}get unloadedMemoryEstimate(){return r(this._index)||this.layerView.suspended?0:this._index.unloadedMemoryEstimate*this._lodDropFactor}get indexDepth(){return a(this._index)?this._index.maxLevel:0}set disableMemCache(e){this.layerView.loadCachedGPUData&&this.layerView.addCachedGPUData||(this._disableMemCache=!0),this._disableMemCache=e}runTask(e,t){return this.layerView.suspended?(this._updateViewData(),this._evaluateUpdating(),-1/0):!this.layerView.visible||r(this._index)?-1/0:(this._processWithErrorLogging(e,t),this._index.maxPriority)}_processWithErrorLogging(e,t){try{this._process(e,t)}catch(i){this._errorCount<50?Q.error(\"Error during processing: \"+i):50===this._errorCount&&Q.error(\"Too many errors for this layer. Further errors will not be displayed.\"),this._errorCount++}}_process(e,t){this._restartNodeLoading&&this._startNodeLoading(),null==this._nodeLoader||r(this._index)||(this._updateViewData(),this._invisibleDirty&&this._removeInvisibleNodes(e)&&(this._invisibleDirty=!1),this._isIntegratedMesh&&(e.enabled=!1),e.run((()=>this._processIndex(e))),this._updateFeatureLOD(),e.run((()=>this._processCache(e))),this._isIntegratedMesh&&(e.enabled=!0),e.run((()=>this._processNodes(e,t))),this._idleQueue.runTask(e),e.run((()=>this._prefetchIndex())),t.numIndexLoading+=this._index.indexLoading,t.numNodesLoading+=this._downloadingCount,e.run((()=>this._lodHandling.lodGlobalHandling(e))),this._evaluateUpdating())}_processIndex(e){if(r(this._index))return!1;if(this._index.dirty){this._newLoadingNodes.clear(),this._index.update(Array.from(this._loadingNodes.keys()),e,(e=>this.updateNodeModificationStatus(e))),this._disableMemCache||(this._newLoadingNodes.pushArray(this._index.updates.add.data,this._index.updates.add.length),this._newLoadingNodes.pushArray(this._index.updates.missing.data,this._index.updates.missing.length));const t=this._index.featureEstimate.leavesReached;this._index.isLoading||t===this._get(\"leavesReached\")||this._set(\"leavesReached\",t)}return this._index.load()}_prefetchIndex(){return!(r(this._index)||this._loadingNodes.size>0||this._index.updates.add.length>0)&&this._index.prefetch()}_updateFeatureLOD(){if(!this.useMaximumNumberOfFeatures||r(this._index)||r(this._viewportQueries))return;const e=!this._index.isLoading,t=this.featureTarget*this._baseLOD,i=this._index.featureEstimate;if(i.estimate=i.estimate||t/2,this._index.indexMissing>B){if(this._featureLOD<=R)return;this._featureLOD/=z,this._stableFeatureLOD=!1}else if(e&&i.estimate<t){if(i.leavesReached||this._featureLOD>=H||this._stableFeatureLOD)return;const e=Math.min(10,Math.max(t/i.estimate,1.001));this._featureLOD*=e;const s=this._lod,r=this._index.checkFeatureTarget(t,s);r!==s&&(this._featureLOD=r/this._baseLOD,this._stableFeatureLOD=!0)}else{if(!(i.estimate>t*k||e&&i.estimate>t))return;if(this._featureLOD<=R)return;this._featureLOD/=1+.25*(i.estimate/t-1),this._stableFeatureLOD=!1}this._featureLOD=Math.min(H,Math.max(R,this._featureLOD)),this._viewportQueries.updateScreenSpaceErrorBias(this._lod),this._index.requestUpdate()}_processCache(e){const t=this._index;if(r(t))return!1;for(;this._newLoadingNodes.length>0&&!e.done;){const i=this._newLoadingNodes.pop();for(let s=t.getParent(i);a(s)&&(!this.layerView.isNodeLoaded(s.index)&&this._isNodeInScaleBounds(s));s=t.getParent(s.index))if(this._enableFromGPUCache(s,w.Hole)){e.madeProgress();break}}return e.hasProgressed}_processNodes(e,t){if(r(this._index))return!1;let i=(this._isIdle?T:E)-this._loadingNodes.size;const s=this._index.updates;for(s.cancel.forEach(this._cancelNode,this),s.cancel=[];s.remove.length>0&&!e.done;)this.layerView.removeNode(s.remove.pop()),e.madeProgress();for(;s.update.length>0&&!e.done;){const t=this._index.getNode(s.update.pop());a(t)&&(this._updateLoadedNode(t),e.madeProgress())}for(;s.add.length>0&&!e.done&&i>0;){--i;const a=this._index.getNode(s.add.back());if(r(a)||a.cacheState!==C.Cached&&!this._hasNodeLoadToken(t))break;s.add.pop(),this._loadNode(a),e.madeProgress()}return e.hasProgressed}_cancelAllNodes(){this._loadingNodes.forEach((e=>e.abort())),this._loadingNodes.clear(),this._updatingNodes.forEach((e=>e.abort())),this._updatingNodes.clear()}_cancelNode(e){const t=this._loadingNodes.get(e);t&&(t.abort(),this._loadingNodes.delete(e))}_hasNodeLoadToken(e){return!(!this._isIdle&&e.numNodesLoading+this._loadingNodes.size>=E)&&(this._downloadingCount<U&&!this.dataStreamController.busy)}_evaluateUpdating(){let e=!1,t=0;if(this.layerView.suspended)e=this._cameraDirty,t=e?0:1;else{const i=(a(this._index)?this._index.indexMissing:0)+3*(a(this._index)?this._index.updates.add.length:0)+2*this._loadingNodes.size;e=!!(i>0||this._updatingNodes.size>0||this._restartNodeLoading||this._cameraDirty||this._idleQueue.running||this._lodHandling&&this._lodHandling.requiresLODGlobalHandling||a(this._index)&&this._index.isPrefetching),0===i&&(this._progressMaxNumNodes=1),this._progressMaxNumNodes=Math.max(i,this._progressMaxNumNodes),t=1-i/this._progressMaxNumNodes}this.updating=e,this.updatingProgress=t}_updateViewData(){if(!this._cameraDirty||r(this._index)||r(this._viewportQueries))return;const e=this.layerView.view,{contentCamera:t,fixedContentCamera:i}=e.state;this.screenSizeFactor=1/(t.perScreenPixelRatio/2),this._viewportQueries.updateCamera(t,!i||this.isGraphics3D),this._viewportQueries.setPointOfInterest(e.pointsOfInterest.focus.renderLocation),this._viewportQueries.updateScreenSpaceErrorBias(this._lod),this._index.invalidateVisibilityCache(),this._index.progressiveLoadPenalty=Y.distancePenalty*this._viewportQueries.distCameraToPOI(),this._index.requestUpdate(),this._stableFeatureLOD=!1,this._invisibleDirty=!0,this._cameraDirty=!1,this.notifyChange(\"rootNodeVisible\")}_getProgressiveLoadFactor(){return this.layerView.view.resourceController.memoryController.memoryFactor<1?1:this.layerView.progressiveLoadFactor}get _lod(){return this._featureLOD*this._baseLOD}get _baseLOD(){const e=this.layerView.lodFactor,t=this.layerView.view.resourceController.memoryController.memoryFactor;return this.fixedFeatureTarget?1:(e>0?e:1)*t}get _lodDropFactor(){if(this.fixedFeatureTarget)return 1;const e=this.layerView.view.resourceController.memoryController;return(Math.min(e.memoryFactor,.5)-e.minQuality)/(.5-e.minQuality)}isGeometryVisible(e){return a(this._index)&&this._index.isGeometryVisible(e.index)}updateVisibility(e){a(this._index)&&this._index.invalidateNodeVisibilityCache(e)}invalidateGeometryVisibility(e){a(this._index)&&this._index.invalidateGeometryVisibility(e)}invalidateVisibilityObbs(){a(this._index)&&this._index.invalidateVisibilityObbs()}modificationsChanged(){a(this._index)&&this._index.imModificationsChanged(!!this.layerView.hasModifications),this._invisibleDirty=!0}_shouldLoadNode(e){return!(!this._lodHandling.shouldLoadNode(e)||this._shouldDropNode(e))&&(!(r(this._index)||!this._index.isGeometryVisible(e.index))&&this._isNodeInScaleBounds(e))}_shouldDropNode(e){if(r(this._viewportQueries))return!1;const t=this._lodDropFactor;if(t>=1||!this._lodHandling.hasNoVisibleChildren(e))return!1;return Math.abs(this._viewportQueries.calcCameraDistanceToCenter(e))-this._viewportQueries.minDistance>(this._viewportQueries.maxDistance-this._viewportQueries.minDistance)*t}_startNodeLoading(){this._restartNodeLoading=!1;const e=this._index;if(this._updatesDisabled||r(e)||r(this._viewportQueries))return;this._updateViewData(),this._requiredAttributesDirty&&(this._requiredAttributes=this._getRequiredAttributes(),this._requiredAttributesDirty=!1);const t={textureEncodings:this.layerView.supportedTextureEncodings,uncompressedTextureDownsamplingEnabled:this.layerView.uncompressedTextureDownsamplingEnabled,textureUsageMask:this.layerView.rendererTextureUsage,loadFeatureData:this.useMaximumNumberOfFeatures};this._nodeLoader=new D(this.layer,this.dataStreamController,Q,this._defaultGeometrySchema,this._requiredAttributes,t),e.requestUpdate(),this._lodHandling.startNodeLoading((e=>this._isNodeInScaleBounds(e)),((e,t)=>this._removeNodes(e,t,ee.fadeout)),e,{maxLodLevel:this._viewportQueries.maxLodLevel}),this._evaluateUpdating()}isNodeLoading(){return null!=this._nodeLoader&&null!=this._index}cancelNodeLoading(){this.isNodeLoading()&&(this.indexStreamController.cancelAll(),this.dataStreamController.cancelAll(),this._idleQueue.cancelAll(),this._cancelAllNodes(),this._nodeLoader=null,this._evaluateUpdating())}_removeInvisibleNodes(e){const t=this._index;if(r(t)||r(this._viewportQueries))return!1;W.clear(),this.layerView.getLoadedNodeIndices(W);const i=0===this._viewportQueries.maxDistance,s=i?()=>!1:e=>this._shouldDropNode(e);return W.filterInPlace((e=>{const i=t.getNode(e);return r(i)||!t.isGeometryVisible(e)||s(i)||!this._isNodeInScaleBounds(i)})),W.length>0&&this._lodHandling.setLodGlobalDirty(),this._removeNodes(W,e,ee.pop),!(i&&this._lodDropFactor<1)&&(0===W.length||(W.clear(),!1))}markNodeToRemove(e){W.push(e)}removeMarkedNodes(){this._removeNodes(W,G,ee.pop)}_removeNodes(e,t,i){const s=e.length;if(0!==s&&!t.done){for(a(this._index)&&this._index.requestUpdate();e.length>0&&!t.done;){const s=e.pop(),r=this._index;i===ee.fadeout&&this.layerView.nodeFadeoutEnabled&&a(r)&&r.isGeometryVisible(s)?this.layerView.fadeNode(s,F.FadeOut,!0):this.layerView.removeNode(s),t.madeProgress()}if(this._loadedNodeScales.size>0)for(let t=e.length;t<s;t++){const i=e.data[t];this._loadedNodeScales.delete(i)}}}_needsUpdate(e){if(!e.resources.hasFeatureData||this._updatingNodes.has(e.index))return!1;const t=this.layerView.getLoadedAttributes(e.index);return null!=t&&t!==this._requiredAttributes}_updateLoadedNode(e){const t=new AbortController;this._updatingNodes.set(e.index,t);($(this.layerView.getLoadedAttributes(e.index),this._requiredAttributes)?Promise.resolve(this.layerView.getAttributeData(e.index)):this._nodeLoader.loadAttributes(e,this._requiredAttributes,t.signal)).then((i=>this.schedule((()=>this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:i},t.signal)),t.signal))).catch((i=>{if(!n(i))return this.layerView.updateAttributes(e.index,{loadedAttributes:this._requiredAttributes,attributeData:{}},t.signal)})).catch((()=>{})).then((()=>{this._updatingNodes.delete(e.index),this._evaluateUpdating()})),this._evaluateUpdating()}_loadNode(e){if(this._loadingNodes.has(e.index))return void Q.error(\"already loading node \"+e.index);const t=new AbortController;this._loadingNodes.set(e.index,t),this._evaluateUpdating(),this._loadAndAddNode(e,t.signal).then((i=>{i&&a(this._index)&&this._loadingNodes.get(e.index)===t&&(this._loadingNodes.delete(e.index),this._index.requestUpdate())})).catch((e=>{if(!n(e))throw e})).finally((()=>{this._loadingNodes.get(e.index)===t&&this._loadingNodes.delete(e.index),this._evaluateUpdating()}))}_loadAndAddNode(e,t){return e.cacheState===C.Uncached?this._loadUncached(e,t).then((()=>!1)):this._loadCached(e,t).then((t=>!t&&(e.cacheState=C.Uncached,!0))).catch((t=>!n(t)&&(e.cacheState=C.Uncached,!0)))}_enableFromGPUCache(e,t){if(this._disableMemCache||r(this._index))return!1;if(t===w.Hole&&!this._index.useNodeAsHole(e.index))return!0;const i=this._loadCachedGPUData(e);return!!i&&(this.layerView.addCachedGPUData(e,i,t),this._nodeAdded(),!0)}_loadCachedGPUData(e){const t=this.layerView.loadCachedGPUData(e);return a(t)&&a(t.attributeInfo)&&$(t.attributeInfo.loadedAttributes,this._requiredAttributes)?t:(this.layerView.deleteCachedGPUData(t),null)}_nodeAdded(){a(this._index)&&this._index.requestUpdate(),this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating()}updateLoadStatus(e,t){const i=this._index;a(i)&&i.updateChildrenLoaded(e,t?1:-1)}_loadCached(e,t){if(this._enableFromGPUCache(e,w.Leaf))return Promise.resolve(!0);const i=this.layerView;return!this.disableIDBCache&&i.loadCachedNodeData&&i.addCachedNodeData?this.schedule((()=>i.loadCachedNodeData(e,t,((t,i)=>this._nodeLoader.loadTextures(e,t,i)))),t).then((s=>{if(r(s))return!1;const a=this._requiredAttributes;return this.reschedule((()=>this._nodeLoader.loadAttributes(e,a,t)),t).then((r=>this.reschedule((()=>i.addCachedNodeData(e,s,{loadedAttributes:a,attributeData:r},t)),t))).then((()=>(this._nodeAdded(),!0)))})):Promise.resolve(!1)}_loadUncached(e,t){return this._downloadingCount++,this._nodeLoader.loadNodeData(e,t).catch((e=>{throw this._downloadingCount--,e})).then((i=>(this._downloadingCount--,this.schedule((()=>this.layerView.addNode(e,i,t)),t)))).then((()=>{this._nodeAdded(),e.cacheState=C.Cached})).catch((t=>{if(!n(t))throw Q.error(\"#loadNodeData()\",this.layer,`Failed to load node '${e.id}'`,t),e.failed=!0,a(this._index)&&this._index.requestUpdate(),t}))}_updateIdleState(e){e!==this._isIdle&&(this._isIdle=e,this._evaluateUpdating(),e&&this._index&&a(this._index)&&this._index.resetFailedNodes())}_getScale(e){if(this._loadedNodeScales.has(e.index))return this._loadedNodeScales.get(e.index);const t=this._computeScale(e);return this.layerView.isNodeLoaded(e.index)&&this._loadedNodeScales.set(e.index,t),t}_computeScale(e){this._tmpPoint.x=e.mbs[0],this._tmpPoint.y=e.mbs[1],this._tmpPoint.z=e.mbs[2];const t=e.mbs[3];return this.layerView.view.basemapTerrain.getSphereScale(this._tmpPoint,t)}_isNodeInScaleBounds(e){if(!this._areScaleBoundsActive)return!0;const t=this._getScale(e),{minScale:i,maxScale:s}=M(this.layer);return q(t,i,s)}updateStats(e){e.index=a(this._index)?this._index.size:0,this.isGraphics3D&&(e.detail=this._featureLOD,e.target=this.featureTarget*this._baseLOD),a(this._index)&&this._index.updateStats(e)}get test(){const e=this;return{index:this._index,set disableUpdates(t){e._updatesDisabled=t,t?e.cancelNodeLoading():e.requestUpdate()},set disableIDBCache(t){e.disableIDBCache=t},set ignoreServiceObb(t){a(e._index)&&(e._index.ignoreServiceObb=t)},shouldLoadNode:t=>e._shouldLoadNode(t)}}notifyLODUpdate(){this._lodHandling.setLodGlobalDirty(),this._evaluateUpdating(),a(this._index)&&this._index.requestUpdate()}geometryFilterChanged(e){const t=this._index;a(t)&&t.layerFilterChanged(e),this._setCameraDirty()}};e([_({readOnly:!0})],K.prototype,\"isMeshPyramid\",null),e([_({readOnly:!0})],K.prototype,\"isGraphics3D\",null),e([_({readOnly:!0})],K.prototype,\"useMaximumNumberOfFeatures\",null),e([_({readOnly:!0})],K.prototype,\"indexStreamController\",null),e([_({readOnly:!0})],K.prototype,\"dataStreamController\",null),e([_({readOnly:!0})],K.prototype,\"crsVertex\",null),e([_({readOnly:!0})],K.prototype,\"crsIndex\",null),e([_()],K.prototype,\"screenSizeFactor\",void 0),e([_()],K.prototype,\"featureTarget\",void 0),e([_()],K.prototype,\"fixedFeatureTarget\",void 0),e([_()],K.prototype,\"layerView\",void 0),e([_()],K.prototype,\"layer\",null),e([_()],K.prototype,\"updating\",void 0),e([_({readOnly:!0})],K.prototype,\"running\",null),e([_()],K.prototype,\"updatingProgress\",void 0),e([_({readOnly:!0})],K.prototype,\"leavesReached\",void 0),e([_({constructOnly:!0})],K.prototype,\"scaleVisibilityEnabled\",void 0),e([_({readOnly:!0,dependsOn:[]})],K.prototype,\"rootNodeVisible\",null),K=e([c(j)],K);const W=new d({deallocator:null});let X;function $(e,t){return a(e)&&e.length===t.length&&e.every((e=>J(t,e.name)>=0))}function J(e,t){const i=t.toLowerCase();for(let s=0;s<e.length;s++)if(e[s].name.toLowerCase()===i)return s;return-1}const Y={factorIM:.2,factor3dObject:.05,distancePenalty:10},Z=g();var ee;!function(e){e[e.pop=0]=\"pop\",e[e.fadeout=1]=\"fadeout\"}(ee||(ee={}));const te=K;export{te as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{isSome as t}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as i}from\"../../../geometry/projection.js\";import{getEffectiveLayerCapabilities as a}from\"../../../layers/support/layerUtils.js\";import{enableDirect3DObjectFeatureLayerDisplay as p}from\"../../../support/featureFlags.js\";import c from\"./FeatureLayerViewBase3D.js\";let l=class extends c{constructor(){super(...arguments),this.type=\"feature-3d\",this.direct3DObjectFeatureLayerDisplayEnabled=p()}initialize(){const{layer:e,view:s}=this;a(e)?.operations.supportsQuery||this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e}))),t(e.infoFor3D)&&(this.direct3DObjectFeatureLayerDisplayEnabled?this._set(\"suspendResumeExtentMode\",\"computed\"):this.addResolvingPromise(Promise.reject(new r(\"featurelayerview3d:unsupported-geometry-type\",`Unsupported geometry type ${e.geometryType}`)))),\"mesh\"!==e.geometryType||i(e.spatialReference,s.spatialReference)||this.addResolvingPromise(Promise.reject(new r(\"layerview:spatial-reference-incompatible\",\"The spatial references of the feature layer is incompatible with the spatial reference of the view\")))}get featureSpatialReference(){return this.view.featureTiles?.tilingScheme?.spatialReference}};e([s({constructOnly:!0})],l.prototype,\"direct3DObjectFeatureLayerDisplayEnabled\",void 0),e([s()],l.prototype,\"layer\",void 0),l=e([o(\"esri.views.3d.layers.FeatureLayerView3D\")],l);const y=l;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as e,isPowerOfTwo as a}from\"../../../../core/mathUtils.js\";import{isSome as o,isNone as r}from\"../../../../core/maybe.js\";import{TextureEncoding as s,TextureUsage as t}from\"./enums.js\";import{RenderTexture as n}from\"../../webgl-engine/core/material/RenderTexture.js\";import{PBRSchematicMRRValues as l}from\"../../webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{defaultMaskAlphaCutoff as i}from\"../../webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{getEllipsoidMode as u}from\"../../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{TextureEncodingMimeType as c,CullFaceOptions as m,AlphaDiscardMode as d}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Texture as g}from\"../../webgl-engine/lib/Texture.js\";import{TextureWrapMode as p}from\"../../../webgl/enums.js\";function h(e,a){const s=new Map,n=(e,a)=>{if(r(e))return-1;const o=s.get(e.id);if(o)return o.usage|=a,o.id;const t=s.size;return s.set(e.id,{id:t,usage:a}),t},i=a.pbrMetallicRoughness,u=i&&i.baseColorFactor,c=a.emissiveFactor,d=null==a.normalTexture&&null==a.emissiveTexture&&null==a.occlusionTexture&&(!i||null==i.metallicRoughnessTexture&&1===i.roughnessFactor&&(1===i.metallicFactor||0===i.metallicFactor)),g=d?l[0]:i?i.metallicFactor:1,p=d?l[1]:i?i.roughnessFactor:1,h=\"mask\"===a.alphaMode?t.Color|t.AlphaMask:t.Color,x={baseColorFactor:u?[u[0],u[1],u[2],u[3]]:[1,1,1,1],baseColorTextureId:n(i&&i.baseColorTexture,h),metallicRoughnessTextureId:n(i&&i.metallicRoughnessTexture,t.MetallicRoughness),metallicFactor:g,roughnessFactor:p},b={alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,cullFace:\"none\"===a.cullFace?m.None:\"back\"===a.cullFace?m.Back:\"front\"===a.cullFace?m.Front:m.None,normalTextureId:n(a.normalTexture,t.Normal),emissiveTextureId:n(a.emissiveTexture,t.Emissive),occlusionTextureId:n(a.occlusionTexture,t.Occlusion),emissiveFactor:c?[c[0],c[1],c[2]]:[0,0,0],metallicRoughness:x,wrapTextures:!1,hasParametersFromSource:d},F=[];return s.forEach((({usage:a},r)=>{const s=o(e)&&e[r]&&e[r].formats,t=s?f(s.map((({name:e,format:a})=>({name:e,encoding:T[a]})))):[];F.push({id:r,usage:a,encodings:t})})),{material:b,textures:F}}function f(e){return e.sort(((e,a)=>e.encoding-a.encoding))}const T={ktx2:s.KTX2,basis:s.Basis,dds:s.DDS_S3TC,png:s.PNG,jpg:s.JPG,\"ktx-etc2\":s.KTX_ETC2},x={[c.KTX2_ENCODING]:s.Basis,[c.BASIS_ENCODING]:s.Basis,[c.DDS_ENCODING]:s.DDS_S3TC,\"image/png\":s.PNG,\"image/jpg\":s.JPG,\"image/jpeg\":s.JPG,\"image/ktx\":s.KTX_ETC2};function b(a){const o=a&&a.materialDefinitions?Object.keys(a.materialDefinitions)[0]:null,r=a&&a.textureDefinitions?Object.keys(a.textureDefinitions)[0]:null,s=o?a.materialDefinitions?.[o]:null,n=r?a.textureDefinitions?.[r]:null,l=F();if(null!=s){const a=s.params;a.diffuse&&(l.metallicRoughness.baseColorFactor=[a.diffuse[0],a.diffuse[1],a.diffuse[2],1]),null!=a.doubleSided&&(l.doubleSided=a.doubleSided,l.cullFace=a.doubleSided?m.None:m.Back),\"none\"!==a.cullFace&&\"front\"!==a.cullFace&&\"back\"!==a.cullFace||(l.cullFace=\"none\"===a.cullFace?m.None:\"back\"===a.cullFace?m.Back:m.Front),a.transparency&&(l.metallicRoughness.baseColorFactor[3]=e(1-a.transparency,0,1)),(a.useVertexColorAlpha||l.metallicRoughness.baseColorFactor[3]<1)&&(l.alphaMode=\"blend\")}const i=[];if(null!=n){const e=0;!n.wrap||\"repeat\"!==n.wrap[0]&&\"repeat\"!==n.wrap[1]||(l.wrapTextures=!0);let a=t.Color;\"rgba\"===n.channels&&(l.alphaMode=\"blend\",a|=t.AlphaMask);const o=n.images.length-1,r=n.images[o],s=e=>e&&e.split(\"/\").pop(),u=Array.isArray(n.encoding)?f(n.encoding.map(((e,a)=>({name:s(r.href[a]),encoding:x[e]||0})))):[{name:s(r.href),encoding:x[n.encoding]||0}];i.push({id:e,usage:a,encodings:u}),l.metallicRoughness.baseColorTextureId=e}return{material:l,textures:i}}const F=()=>({alphaMode:\"opaque\",alphaCutoff:i,doubleSided:!0,cullFace:m.None,normalTextureId:-1,emissiveTextureId:-1,occlusionTextureId:-1,emissiveFactor:[0,0,0],metallicRoughness:{baseColorFactor:[.8,.8,.8,1],baseColorTextureId:-1,metallicRoughnessTextureId:-1,metallicFactor:0,roughnessFactor:.6},wrapTextures:!1,hasParametersFromSource:!0});function C(e,o,s,n){if(r(e)||null==e.data)return null;const l=e.data,i=!(l instanceof HTMLImageElement)||a(l.width)&&a(l.height),u=n.renderingContext.parameters.maxMaxAnisotropy,c=s&&!n.capabilities.shaderTextureLOD?1:u,m=i&&!e.downsampled&&c>1,d=s||!o.wrapTextures?P:M,p=E(e.encoding),h=e.usage&t.Color?\"opaque\"===o.alphaMode?3:4:3;return new g(l,{mipmap:m,maxAnisotropy:c,encoding:p,wrap:d,components:h,noUnpackFlip:!0})}const P={s:p.CLAMP_TO_EDGE,t:p.CLAMP_TO_EDGE},M={s:p.REPEAT,t:p.REPEAT};function S(a,r,s,l,c,m){const g=m.rendererTextureUsage,p=e=>R(l,s,e&g),h=r.metallicRoughness.baseColorFactor,f=e(r.metallicRoughness.baseColorFactor[3],0,1);a.baseColor=[h[0],h[1],h[2],f],a.hasParametersFromSource=!!r.hasParametersFromSource,a.usePBR=m.usePBR,a.mrrFactors=[r.metallicRoughness.metallicFactor,r.metallicRoughness.roughnessFactor,r.hasParametersFromSource?.2:.5],a.emissiveFactor=r.emissiveFactor,a.isIntegratedMesh=m.isIntegratedMesh,a.textureAlphaCutoff=\"mask\"===r.alphaMode?r.alphaCutoff:i,a.alphaDiscardMode=\"opaque\"===r.alphaMode?d.Opaque:\"mask\"===r.alphaMode?d.Mask:d.MaskBlend;const T=[],x=p(t.Color|t.AlphaMask);o(x)&&(a.baseColorTexture=new n(c,x),T.push(a.baseColorTexture.loadPromise));const b=p(t.MetallicRoughness);o(b)&&(a.metallicRoughnessTexture=new n(c,b),T.push(a.metallicRoughnessTexture.loadPromise));const F=p(t.Emissive);o(F)&&(a.emissionTexture=new n(c,F),T.push(a.emissionTexture.loadPromise));const C=p(t.Occlusion);o(C)&&(a.occlusionTexture=new n(c,C),T.push(a.occlusionTexture.loadPromise));const P=p(t.Normal);return o(P)&&(a.normalTexture=new n(c,P),T.push(a.normalTexture.loadPromise)),a.commonMaterialParameters.hasSlicePlane=m.slicePlaneEnabled,a.commonMaterialParameters.doubleSided=r.doubleSided,a.commonMaterialParameters.cullFace=r.cullFace,a.ellipsoidMode=u(m.viewSpatialReference),Promise.all(T)}function D(e){const a=!!e.compressedTextureS3TC,o=!!e.compressedTextureETC,r=has(\"disable-feature:i3s-basis\")?0:s.Basis|s.KTX2,t=s.JPG|s.PNG,n=r|s.DDS_S3TC;return t|(a?n:0)|(o?r:0)}function w(e,a){if(null!=a)return e.find((e=>0!=(e.encoding&a)))}function R(e,a,s){if(r(e)||s===t.None)return null;for(let r=0;r<e.length;r++){const t=e[r];if(o(t)&&0!=(t.usage&s)){const e=a[r];return o(e)?e.id:null}}return null}function E(e){switch(e){case s.KTX2:return c.KTX2_ENCODING;case s.Basis:return c.BASIS_ENCODING;case s.DDS_S3TC:return c.DDS_ENCODING;case s.PNG:return\"image/png\";case s.JPG:return\"image/jpeg\";case s.KTX_ETC2:return\"image/ktx\";default:return\"\"}}export{S as configureMaterial,C as createTexture,F as defaultMaterial,h as getMaterialAndTextures,b as getMaterialAndTexturesFromShared,D as getSupportedEncodings,w as selectEncoding};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/sphere.js\";class t{constructor(t,i){this.id=t,this.mbs=i,this.renderMbs=e(0,0,0,-1),this.elevationRange=null}}class i{constructor(){this.min=1/0,this.max=-1/0,this.valid=!1}}var n,o,s,a,c;!function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.Culled=1]=\"Culled\",e[e.NotChecked=2]=\"NotChecked\"}(n||(n={})),function(e){e[e.Unmodified=0]=\"Unmodified\",e[e.PotentiallyModified=1]=\"PotentiallyModified\",e[e.Culled=2]=\"Culled\",e[e.Unknown=3]=\"Unknown\",e[e.NotChecked=4]=\"NotChecked\"}(o||(o={}));class h extends t{constructor(e,t,i,n,a,c,h,d,r,l){super(e,i),this.index=t,this.childCount=n,this.level=a,this.resources=c,this.version=h,this.lodMetric=d,this.maxError=r,this.numFeatures=l,this.failed=!1,this.cacheState=s.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=o.NotChecked}}!function(e){e[e.Unknown=0]=\"Unknown\",e[e.Uncached=1]=\"Uncached\",e[e.Cached=2]=\"Cached\"}(s||(s={})),function(e){e[e.None=0]=\"None\",e[e.MaxScreenThreshold=1]=\"MaxScreenThreshold\",e[e.ScreenSpaceRelative=2]=\"ScreenSpaceRelative\",e[e.RemovedFeatureDiameter=3]=\"RemovedFeatureDiameter\",e[e.DistanceRangeFromDefaultCamera=4]=\"DistanceRangeFromDefaultCamera\"}(a||(a={})),function(e){e[e.Hole=0]=\"Hole\",e[e.Leaf=1]=\"Leaf\"}(c||(c={}));class d{constructor(e,t,i,n){this.nodeHasLOD=e,this.isChosen=t,this.lodLevel=i,this.version=n}}export{s as CacheState,i as ElevationRange,a as LodMetric,h as Node,t as NodeBase,n as NodeFilterImpact,o as NodeIMModificationImpact,c as NodeState,d as NodeTraversalState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../request.js\";import s from\"../../../../core/Accessor.js\";import{remove as i,splitIntoChunks as r}from\"../../../../core/arrayUtils.js\";import{resultOrAbort as a,result as n}from\"../../../../core/asyncUtils.js\";import{estimateStringByteSize as o,estimateNumberByteSize as c}from\"../../../../core/byteSizeEstimations.js\";import d from\"../../../../core/Logger.js\";import{isSome as h,unwrap as l,destroyMaybe as u,abortMaybe as m,isNone as g,get as p}from\"../../../../core/maybe.js\";import{whenOrAbort as _}from\"../../../../core/promiseUtils.js\";import{watch as y,initial as b}from\"../../../../core/reactiveUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as O}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{formatNumber as j}from\"../../../../intl/number.js\";import{getMaximumQuerySize as I,queryAllJSON as C}from\"../../../../layers/support/featureQueryAll.js\";import{enableDirect3DObjectFeatureLayerDisplay as v,sceneLayerEditingEnabled as L}from\"../../../../support/featureFlags.js\";import E from\"../FeatureLayerView3D.js\";let A=class extends s{constructor(e){super(e),this._warnMaximumChangedObjectsExceeded=!1,this._interactiveEditingSessions=null,this._maximumNumberOfEditOVerrides=S,this._original3DOFLDefinitionExpression=null,this._associatedLayerView=null,this._changedObjectIds=new Set,this._pendingFetchChangedObjectIds=null,this._pendingFetchAbortController=new AbortController}initialize(){this._memCache=this.memoryController.newCache(`${this.layer.uid}-attribute-overrides`),this._pendingFetchChangedObjectIds=this._fetchChangedObjectIds(this._pendingFetchAbortController?.signal),this._pendingFetchChangedObjectIds.then((()=>{this._pendingFetchAbortController=null,this._pendingFetchChangedObjectIds=null})),this.is3DOFL&&v()&&h(this._associatedLayer)&&this._associatedLayer.load().then((e=>{this.destroyed||(this._original3DOFLDefinitionExpression=e.definitionExpression,this.addHandles(y((()=>this._definitionExpression),(t=>e.definitionExpression=t),b)),this._associatedLayerView=new E({layer:this._associatedLayer,view:this.view}))}))}destroy(){this.is3DOFL&&v()&&h(this._associatedLayerView)&&h(this._associatedLayer)&&(this._associatedLayer.definitionExpression=l(this._original3DOFLDefinitionExpression)),this._set(\"layer\",null),this._memCache=u(this._memCache),this._pendingFetchAbortController=m(this._pendingFetchAbortController),this._pendingFetchChangedObjectIds=null}get is3DOFL(){return L()&&h(this._associatedLayer)&&h(this._associatedLayer.infoFor3D)}get geometryChangedObjectIds(){return this.is3DOFL?[...this._changedObjectIds]:[]}get _associatedLayer(){return null==this.layer?null:this.layer.associatedLayer}get _definitionExpression(){const e=this.geometryChangedObjectIds;return 0===e.length?\"1 = 0\":`OBJECTID IN (${e.join(\",\")})`}get updating(){if(!this.is3DOFL)return!1;if(!v())return!1;return!h(this._associatedLayerView)||h(this._associatedLayerView)&&this._associatedLayerView.updating}get isEmpty(){return null==this._pendingFetchChangedObjectIds&&0===this._changedObjectIds.size}createInteractiveEditSession(e){this._changedObjectIds.add(e),this.notifyChange(\"_changedObjectIds\"),g(this._interactiveEditingSessions)&&(this._interactiveEditingSessions=[]);const t=this._interactiveEditingSessions,s=new F(e,{rollback:()=>{i(t,s),0===t.length&&(this._interactiveEditingSessions=null)},commit:t=>{for(const[s,i]of t)this.updateAttributeValue(e,s,i)}});return t.unshift(s),s}async apply(e,t,s){if(g(t))return;const{loadedAttributes:i,attributeData:r}=t;if(g(i)||0===i.length||g(r))return;if(this._pendingFetchChangedObjectIds&&await _(this._pendingFetchChangedObjectIds,s),0===this._changedObjectIds.size)return;const a={loadedAttributes:i,attributeData:r},n=this._getOverridesFromCache(e,a,this._changedObjectIds),{objectIds:o,fieldNames:c}=n;if(0===o.length||0===c.length)return;const d=await this._queryOverridesFromAssociatedLayer(o,c,s);g(d)||this._processOverridesFromAssociatedLayer(e,d,c,a)}updateGeometry(e){this._changedObjectIds.add(e),this.notifyChange(\"_changedObjectIds\")}updateAttributeValue(e,t,s){this._changedObjectIds.add(e),this._cacheAttributeValue(e,t,s),this.notifyChange(\"_changedObjectIds\")}_cacheAttributeValue(e,t,s){this._memCache.put(this._getAttributeCacheKey(e,t),s,this._memCacheAttributeValueSize(s))}_getOverridesFromCache(e,{loadedAttributes:t,attributeData:s},i){const r=new Set,a=new Array;for(const o of t)a[o.index]=s[o.name];const n=new Set;for(let o=0;o<e.length;o++){const s=e[o];if(i.has(s))for(const e of t){const t=this._fromCache(s,e.index);void 0===t?(r.add(s),n.add(e.name)):a[e.index][o]=t}}return{objectIds:Array.from(r),fieldNames:Array.from(n)}}_fromCache(e,t){const s=this._fromInteractiveEditingSession(e,t);if(void 0!==s)return s;const i=this._getAttributeCacheKey(e,t);return this._memCache.get(i)}_fromInteractiveEditingSession(e,t){if(!g(this._interactiveEditingSessions))for(const s of this._interactiveEditingSessions){if(s.objectId!==e)continue;const i=s.get(t);if(void 0!==i)return i}}_getAttributeCacheKey(e,t){return`${e}-${t}`}async _queryOverridesFromAssociatedLayer(e,t,s){if(0===e.length||0===t.length)return null;e=e.sort(((e,t)=>e-t)),this._warnMaximumChangedObjectsExceeded&&(this._warnMaximumChangedObjectsExceeded=!1,this._logMaximumObjectsExceededWarning());const i=this.layer.associatedLayer;if(g(i))return null;const n=i.createQuery();n.where=\"1=1\",n.returnGeometry=!1,n.outFields=[i.objectIdField,...t],n.cacheHint=!0,n.objectIds=e;const o=I(i),c=e.length>o?r(e,o).map((e=>{const t=n.clone();return t.objectIds=e,a(C(i,t,{signal:s}))})):[a(C(i,n,{signal:s}))];return(await Promise.all(c)).reduce(((e,t)=>e.concat(t.ok?t.value.features:[])),[])}_logMaximumObjectsExceededWarning(){let e=`The number of edited objects that are not yet cached in the scene service exceeds the maximum limit. Attribute changes will only be available for the first ${j(this._maximumNumberOfEditOVerrides)} objects. Please consider re-caching the scene service`;const t=this.layer.portalItem;t&&t.loaded?e+=` (${t.portal.url}/home/item.html?id=${t.id}#settings)`:e+=` (${this.layer.parsedUrl.path})`,d.getLogger(\"esri.views.3d.layers.i3s.I3SOverrides\").warn(\"#queryOverrides()\",this.layer.title,`${e}.`)}_processOverridesFromAssociatedLayer(e,t,s,{loadedAttributes:i,attributeData:r}){const a=this.layer.associatedLayer;if(g(a))return;const n=a.objectIdField,o=s.map((e=>r[e])),c=new Map(i.map((e=>[e.name,e.index]))),d=s.map((e=>c.get(e))),h=new Map(Array.from(e,((e,t)=>[e,t])));for(const l of t){const e=l.attributes[n];for(let t=0;t<s.length;t++){const i=d[t],r=h.get(e),a=l.attributes[s[t]];o[t][r]=a,this._cacheAttributeValue(e,i,a)}}}_memCacheAttributeValueSize(e){return\"string\"==typeof e?o(e):c()}async _fetchChangedObjectIds(e){const s=this.layer;if(await s.load({signal:e}),this._changedObjectIds.clear(),g(s.associatedLayer)||!s.associatedLayer.capabilities?.operations?.supportsChangeTracking)return;const i=this._getFetchChangedObjectIdsServerGen();if(g(i))return;const r=s.associatedLayer.layerId,a=h(s.associatedLayer.infoFor3D),o=await n(t(`${s.associatedLayer.url}/extractChanges`,{method:\"post\",query:{f:\"json\",returnIdsOnly:!0,layers:`[${r}]`,returnUpdates:!0,returnDeletes:a,returnInserts:a,layerServerGens:JSON.stringify([{id:r,serverGen:i}])},timeout:w,signal:e}));if(o.ok&&o.value.data?.edits&&1===o.value.data.edits.length){const e=o.value.data.edits[0],t=p(e,\"objectIds\",\"adds\"),s=p(e,\"objectIds\",\"updates\"),i=p(e,\"objectIds\",\"deletes\");let r=[];h(t)&&(r=r.concat(t)),h(s)&&(r=r.concat(s)),h(i)&&(r=r.concat(i));const a=Math.min(this._maximumNumberOfEditOVerrides,r.length);a<r.length&&(this._warnMaximumChangedObjectsExceeded=!0);const n=r.sort(((e,t)=>e-t));for(let o=0;o<a;o++)this._changedObjectIds.add(n[o])}this.notifyChange(\"_changedObjectIds\")}_getFetchChangedObjectIdsServerGen(){const e=this.layer;if(h(e.serviceUpdateTimeStamp)&&h(e.serviceUpdateTimeStamp.lastUpdate))return e.serviceUpdateTimeStamp.lastUpdate;const t=e.associatedLayer;return h(t)&&h(t.serverGens)&&h(t.serverGens.minServerGen)?t.serverGens.minServerGen:null}get test(){const e=Array.from(this._changedObjectIds),t=this._pendingFetchChangedObjectIds,s=this;return{changedObjectIds:e,pendingFetchChangedObjectIds:t,get maximumNumberOfEditOVerrides(){return s._maximumNumberOfEditOVerrides},set maximumNumberOfEditOVerrides(e){s._maximumNumberOfEditOVerrides=e}}}};e([f({constructOnly:!0})],A.prototype,\"view\",void 0),e([f({constructOnly:!0})],A.prototype,\"layer\",void 0),e([f({readOnly:!0})],A.prototype,\"is3DOFL\",null),e([f({readOnly:!0})],A.prototype,\"geometryChangedObjectIds\",null),e([f()],A.prototype,\"_associatedLayer\",null),e([f()],A.prototype,\"_associatedLayerView\",void 0),e([f({constructOnly:!0})],A.prototype,\"memoryController\",void 0),e([f()],A.prototype,\"_changedObjectIds\",void 0),e([f()],A.prototype,\"_pendingFetchChangedObjectIds\",void 0),e([f()],A.prototype,\"_definitionExpression\",null),e([f()],A.prototype,\"updating\",null),e([f()],A.prototype,\"isEmpty\",null),A=e([O(\"esri.views.3d.layers.i3s.I3SOverrides\")],A);class F{constructor(e,t){this.objectId=e,this._options=t,this._updates=new Map,this._state=x.ACTIVE}get(e){return this._updates.get(e)}set(e,t){this._isActive&&this._updates.set(e,t)}rollback(){this._isActive&&(this._state=x.ROLLED_BACK,this._options.rollback())}commit(){this._isActive&&(this._state=x.COMMITTED,this._options.commit(this._updates),this._updates.clear())}get _isActive(){return this._state===x.ACTIVE}}var x;!function(e){e[e.ACTIVE=0]=\"ACTIVE\",e[e.COMMITTED=1]=\"COMMITTED\",e[e.ROLLED_BACK=2]=\"ROLLED_BACK\"}(x||(x={}));const w=1e4,S=5e4;export{A as I3SOverrides};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar e,s;!function(e){e[e.KTX2=1]=\"KTX2\",e[e.Basis=2]=\"Basis\",e[e.DDS_S3TC=4]=\"DDS_S3TC\",e[e.PNG=8]=\"PNG\",e[e.JPG=16]=\"JPG\",e[e.KTX_ETC2=32]=\"KTX_ETC2\"}(e||(e={})),function(e){e[e.None=0]=\"None\",e[e.Color=1]=\"Color\",e[e.MetallicRoughness=2]=\"MetallicRoughness\",e[e.Normal=4]=\"Normal\",e[e.Occlusion=8]=\"Occlusion\",e[e.Emissive=16]=\"Emissive\",e[e.AlphaMask=32]=\"AlphaMask\",e[e.ColorTextures=19]=\"ColorTextures\",e[e.GeometryTextures=36]=\"GeometryTextures\",e[e.GeometryTexturesPBR=44]=\"GeometryTexturesPBR\",e[e.AllTextures=37]=\"AllTextures\",e[e.AllTexturesPBR=63]=\"AllTexturesPBR\"}(s||(s={}));export{e as TextureEncoding,s as TextureUsage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar a;!function(a){a[a.FadeIn=0]=\"FadeIn\",a[a.FadeOut=1]=\"FadeOut\"}(a||(a={}));export{a as FadeDirection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,isSome as t}from\"../../../../../core/maybe.js\";import{isPromiseLike as s}from\"../../../../../core/promiseUtils.js\";class r{constructor(t,r){this._textureRep=t,this.loadPromise=null,this._disposed=!1;const i=this._textureRep.acquire(r);s(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return t(this._textureRef)?this._textureRef.glTexture:null}}export{r as RenderTexture};\n"],"names":["i","referenceCount","callbacks","Array","runIndex","get","this","some","r","running","_sort","s","t","numIndexLoading","numNodesLoading","e","length","done","priority","runTask","n","unshift","notifyChange","readOnly","prototype","a","task","handle","c","Map","l","registerTask","o","set","add","remove","delete","destroy","b","childOffset","childCount","visibilityCache","ref","node","useAsHole","filterImpact","u","p","d","h","_","g","m","_streamDataController","_viewportQueries","_logger","holeFilling","_isLoaded","_isReloading","_isSelected","_enable","_needsUpdate","_canRequest","_computeVisibilityObb","_computeNodeFiltering","_dirty","_nodePages","_nodeCount","_nodesPerPage","_rootIndex","_lodMetric","_lodConversion","_urlPrefix","_loading","Set","_failedNodes","_failedPages","_indexMissing","_maxUnloadedPrio","Number","NEGATIVE_INFINITY","_maxProcessingPrio","POSITIVE_INFINITY","_nodeTraversalState","_version","I","_visibilityCacheVersion","_maxLevel","_featureEstimate","estimate","leavesReached","_unloadedMemoryEstimate","_missing","deallocator","_prefetch","_updates","N","_imModificationUncategorized","ignoreServiceObb","progressiveLoadPenalty","_pageQueue","needNodeElevationRange","layerHasModifications","_layerHasFilter","_logLayer","serviceUpdateTimeStamp","lastUpdate","_lastUpdate","_maxLodLevel","maxLodLevel","_init","type","urlPrefix","pageSize","rootIndex","lodMetric","V","_addPage","S","rootPage","_updateParentsAndLevel","push","nodes","children","parents","_makeRefNode","rootNode","id","_validateNode","_addNode","request","then","pageIndex","page","catch","error","shift","madeProgress","map","index","v","obb","center","halfSize","mesh","attribute","geometry","material","f","hasSharedResource","hasFeatureData","attributes","resource","texture","geometryDefinition","definition","materialDefinition","lodThreshold","featureCount","serviceObb","visibilityObb","vertexCount","x","_getPage","R","level","pop","getNode","getChildIndex","Math","max","populateChildren","getParent","L","metricType","maxError","E","lodSelection","_getNodeInternal","mbs","resources","version","numFeatures","renderMbs","serviceObbInRenderSR","_forAllNodes","getIndexById","getParentIndex","geometryObb","invalidateNodeVisibilityCacheInternal","P","elevationRange","valid","invalidateBoundingVolumeCache","traverse","_updateElevationRange","min","getElevationRange","w","imModificationImpact","isNodeVisible","C","M","isGeometryVisible","delta","coverage","_traverseCoverage","prune","update","hasModifications","invalidateGeometryVisibility","invalidateVisibilityCache","invalidateNodeVisibilityCache","_addQueuedPages","clear","reset","y","O","traverseVisible","_entryPriority","has","_updateNodeFeatureEstimate","failed","known","memory","knownNodes","unremoved","missing","missingNodes","includes","cancel","filter","filterInPlace","_computeFeatureEstimate","sort","data","back","size","updateScreenSpaceErrorBias","_updateFeatureEstimate","_load","_loadNode","_loadPage","getLodLevel","hasLOD","lodLevel","isChosen","requestUpdate","nodeTraversalState","isArray","sharedResource","href","warn","geometryData","attributeData","featureData","hasOwnProperty","featureRange","textureData","distToPOI","_traverseVisible","nodeHasLOD","traverseChildren","_traverseChildren","childrenLoaded","join","prio","features","mode","updateElevationInfo","invalidateAllElevationRanges","addNode","sqrt","PI","_layerView","_lodGlobalDirty","_index","_isNodeInScaleBounds","_removeNodes","_isChosenMaxLOD","_childrenRequireLoading","requiresLODGlobalHandling","view","resourceController","memoryController","usedMemory","floor","_lodGlobalHandling","nodeCrossfadingEnabled","_removeChildrenRecursive","isNodeLoaded","hasNoVisibleChildren","fadeNode","isNodeFullyFadedIn","updateNodeState","isNodeReloading","_defaultGeometrySchema","_requiredAttributes","_options","_layerUrl","parsedUrl","path","_geometryDefinitions","geometryDefinitions","materialDefinitions","textureSetDefinitions","_materialAndTextures","key","_loadAttribute","attributeStorageInfo","value","name","loadAttributes","D","bufferDefinition","bufferIndex","_loadGeometry","_loadShared","A","textures","T","loadFeatureData","_loadFeatureData","$","j","featureIds","geometries","params","featureDataPosition","U","loadTextures","q","B","loadedAttributes","attributeDataInfo","geometryBuffer","geometryDescriptor","requiredTextures","pointData","Error","_fixTextureEncodings","_addAbsoluteHrefTexture","usage","encoding","downsampled","width","height","ceil","document","createElement","getContext","drawImage","uncompressedTextureDownsamplingEnabled","textureUsageMask","Promise","all","encodings","textureEncodings","reject","_loadTexture","textureDefinitions","Object","keys","images","hrefConcat","substring","position","vertexRegions","vertexAttributes","region","geometryBuffers","compressedAttributes","_requester","_apiKey","_activeRequests","busy","AbortController","abort","signal","query","token","response","abortController","abortHandle","forEach","_indexSR","_renderCoordsHelper","_clippingArea","_elevationProvider","_viewingMode","_frustum","_useFrustumCulling","_poi","_elevationContext","minDistance","maxDistance","_tmpObb","F","_tmp1","_tmp2","_tmp3","_tmp0","_screenspaceErrorBias","screenspaceErrorBias","_progressiveLoadFactor","progressiveLoadFactor","updateCamera","engineSR","spatialReference","_tmpPoint","_isECEFOBBInLocalMode","isWGS84","isWebMercator","_indexSREllipsoidRadius","radius","updateFeatureExpressionInfoContext","viewMatrix","projectionMatrix","_screenSizeFactor","perScreenPixelRatio","_camPos","eye","getSphereElevationBounds","getElevation","z","_computeRenderObb","isFinite","geometryZWithOffset","getRenderMbs","_isMBSinClippingArea","getVisibilityObb","_updateMinMaxDistance","MAX_VALUE","calcCameraDistanceToCenter","abs","_getDistanceGlobeMode","_getDistancePlanarMode","evaluateLODmetric","_getDistance","_screenSpaceDiameterMbs","angleDependentLoD","calcAngleDependentLoD","calcCameraDistance","Q","K","screenSizeFactor","featureTarget","fixedFeatureTarget","updating","updatingProgress","scaleVisibilityEnabled","_featureLOD","_stableFeatureLOD","_isIdle","_cameraDirty","_invisibleDirty","_idleStateCallbacks","_newLoadingNodes","_loadedNodeScales","_modificationsNodeFilteringArray","_downloadingCount","_loadingNodes","_updatingNodes","_progressMaxNumNodes","_requiredAttributesDirty","_updatesDisabled","disableIDBCache","_disableMemCache","_restartNodeLoading","_fields","_attributeStorageInfo","_handles","_idleQueue","_elevationUpdateNodes","_errorCount","layer","profile","store","lodType","isMeshPyramid","layerView","createStreamDataRequester","apiKey","i3slayer","_updateViewData","loadCachedGPUData","addCachedGPUData","_lodHandling","defaultGeometrySchema","fields","addResolvingPromise","indexInfo","when","destroyed","_setClippingArea","clippingArea","addHandles","pointsOfInterest","focus","renderLocation","_pointOfInterestChanged","memoryFactor","_setCameraDirty","suspended","_updateIdleState","cancelNodeLoading","restartNodeLoading","idleBegin","idleEnd","scheduler","registerIdleStateCallbacks","state","contentCamera","elevationInfo","_elevationInfoChanged","effectiveScaleRange","_scaleBoundsChanged","lodFactor","availableFields","_requiredFieldsChange","_updateScaleHandles","crsIndex","renderCoordsHelper","fixedContentCamera","isGraphics3D","basemapTerrain","elevationProvider","viewingMode","_getProgressiveLoadFactor","_lod","indexStreamController","_shouldLoadNode","_enableFromGPUCache","computeVisibilityObb","computeNodeFiltering","imModificationsChanged","_startNodeLoading","updateNodeModificationStatus","forAll","_nodeLoader","W","X","hide","objectIdField","J","field","_getRequiredAttributes","renderSpatialReference","setPointOfInterest","Y","distancePenalty","distCameraToPOI","updateClippingArea","setLodGlobalDirty","_evaluateUpdating","equals","Z","updateElevationChanged","removeAllGeometryObbs","_areScaleBoundsActive","on","_scaleUpdateHandler","_updateScaleInBoundingRect","extent","_computeScale","minScale","maxScale","unloadedMemoryEstimate","_lodDropFactor","maxLevel","visible","_processWithErrorLogging","maxPriority","_process","_removeInvisibleNodes","_isIntegratedMesh","enabled","run","_processIndex","_updateFeatureLOD","_processCache","_processNodes","_prefetchIndex","indexLoading","lodGlobalHandling","dirty","from","pushArray","updates","featureEstimate","isLoading","_get","_set","load","prefetch","useMaximumNumberOfFeatures","_baseLOD","indexMissing","checkFeatureTarget","hasProgressed","_cancelNode","removeNode","_updateLoadedNode","cacheState","_hasNodeLoadToken","dataStreamController","isPrefetching","minQuality","invalidateVisibilityObbs","shouldLoadNode","_shouldDropNode","supportedTextureEncodings","rendererTextureUsage","startNodeLoading","ee","fadeout","isNodeLoading","cancelAll","_cancelAllNodes","getLoadedNodeIndices","G","nodeFadeoutEnabled","getLoadedAttributes","resolve","getAttributeData","schedule","updateAttributes","_loadAndAddNode","finally","_loadUncached","_loadCached","useNodeAsHole","_loadCachedGPUData","_nodeAdded","attributeInfo","deleteCachedGPUData","updateChildrenLoaded","loadCachedNodeData","addCachedNodeData","reschedule","loadNodeData","resetFailedNodes","getSphereScale","_getScale","detail","target","updateStats","disableUpdates","layerFilterChanged","constructOnly","dependsOn","every","toLowerCase","factorIM","factor3dObject","te","arguments","direct3DObjectFeatureLayerDisplayEnabled","operations","supportsQuery","infoFor3D","geometryType","featureTiles","tilingScheme","pbrMetallicRoughness","baseColorFactor","emissiveFactor","normalTexture","emissiveTexture","occlusionTexture","metallicRoughnessTexture","roughnessFactor","metallicFactor","alphaMode","baseColorTextureId","baseColorTexture","metallicRoughnessTextureId","alphaCutoff","doubleSided","cullFace","normalTextureId","emissiveTextureId","occlusionTextureId","metallicRoughness","wrapTextures","hasParametersFromSource","formats","format","ktx2","basis","dds","png","jpg","diffuse","transparency","useVertexColorAlpha","wrap","channels","split","HTMLImageElement","renderingContext","parameters","maxMaxAnisotropy","capabilities","shaderTextureLOD","mipmap","maxAnisotropy","components","noUnpackFlip","baseColor","usePBR","mrrFactors","isIntegratedMesh","textureAlphaCutoff","alphaDiscardMode","loadPromise","emissionTexture","commonMaterialParameters","hasSlicePlane","slicePlaneEnabled","ellipsoidMode","viewSpatialReference","compressedTextureS3TC","compressedTextureETC","find","Unmodified","Culled","NotChecked","PotentiallyModified","Unknown","Uncached","Cached","None","MaxScreenThreshold","ScreenSpaceRelative","RemovedFeatureDiameter","DistanceRangeFromDefaultCamera","Hole","Leaf","_warnMaximumChangedObjectsExceeded","_interactiveEditingSessions","_maximumNumberOfEditOVerrides","_original3DOFLDefinitionExpression","_associatedLayerView","_changedObjectIds","_pendingFetchChangedObjectIds","_pendingFetchAbortController","_memCache","newCache","uid","_fetchChangedObjectIds","is3DOFL","_associatedLayer","definitionExpression","_definitionExpression","associatedLayer","geometryChangedObjectIds","rollback","commit","updateAttributeValue","_getOverridesFromCache","objectIds","fieldNames","_queryOverridesFromAssociatedLayer","_processOverridesFromAssociatedLayer","_cacheAttributeValue","put","_getAttributeCacheKey","_memCacheAttributeValueSize","_fromCache","_fromInteractiveEditingSession","objectId","_logMaximumObjectsExceededWarning","createQuery","where","returnGeometry","outFields","cacheHint","clone","reduce","concat","ok","portalItem","loaded","portal","url","title","supportsChangeTracking","_getFetchChangedObjectIdsServerGen","layerId","method","returnIdsOnly","layers","returnUpdates","returnDeletes","returnInserts","layerServerGens","JSON","stringify","serverGen","timeout","edits","serverGens","minServerGen","changedObjectIds","pendingFetchChangedObjectIds","maximumNumberOfEditOVerrides","_state","ACTIVE","_isActive","ROLLED_BACK","COMMITTED","KTX2","Basis","DDS_S3TC","PNG","JPG","KTX_ETC2","Color","MetallicRoughness","Normal","Occlusion","Emissive","AlphaMask","ColorTextures","GeometryTextures","GeometryTexturesPBR","AllTextures","AllTexturesPBR","FadeIn","FadeOut","_textureRep","_disposed","acquire","_textureRef","glTexture"],"sourceRoot":""}