/*! For license information please see 77843.5c2c6aec.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[77843],{77843:function(e,t,r){r.d(t,{A:function(){return d},N:function(){return f},_:function(){return o},e:function(){return u},r:function(){return p}});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function a(e){return Object.keys(e).some((function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function s(e){var t={};return Object.keys(e).forEach((function(r){var n,o,a=e[r];if(a&&a.toParam&&(a=a.toParam()),a||0===a||"boolean"===typeof a||"string"===typeof a){var s;switch(a.constructor.name){case"Array":var i=null===(o=null===(n=a[0])||void 0===n?void 0:n.constructor)||void 0===o?void 0:o.name;s="Array"===i?a:"Object"===i?JSON.stringify(a):a.join(",");break;case"Object":s=JSON.stringify(a);break;case"Date":s=a.valueOf();break;case"Function":s=null;break;case"Boolean":s=a+"";break;default:s=a}(s||0===s||"string"===typeof s||Array.isArray(s))&&(t[r]=s)}})),t}function i(e,t){return Array.isArray(t)&&t[0]&&Array.isArray(t[0])?t.map((function(t){return i(e,t)})).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(t)}function u(e){var t=s(e);return Object.keys(t).map((function(e){return i(e,t[e])})).join("&")}var c=function(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o};c.prototype=Object.create(Error.prototype),c.prototype.constructor=c;var f="@esri/arcgis-rest-js",h={httpMethod:"POST",params:{f:"json"}},d=function(e){function t(t,r,n,o,a){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var s=e.call(this,t,r,n,o,a)||this;return s.name="ArcGISAuthError",s.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,s}return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var n=0,a=function a(s,i){e(r.url,r.options).then((function(e){var t=o(o({},r.options),{authentication:e});return n+=1,p(r.url,t)})).then((function(e){s(e)})).catch((function(e){"ArcGISAuthError"===e.name&&n<t?a(s,i):"ArcGISAuthError"===e.name&&n>=t?i(r):i(e)}))};return new Promise((function(e,t){a(e,t)}))},t}(c);function p(e,t){void 0===t&&(t={params:{f:"json"}});var r=o(o(o({httpMethod:"POST"},h),t),{params:o(o({},h.params),t.params),headers:o(o({},h.headers),t.headers)}),n=[],i=[];if(r.fetch||"undefined"===typeof fetch?(n.push("`fetch`"),i.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"===typeof Promise&&(n.push("`Promise`"),i.push("`es6-promise`")),"undefined"===typeof FormData&&(n.push("`FormData`"),i.push("`isomorphic-form-data`")),!r.fetch||"undefined"===typeof Promise||"undefined"===typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+n.join(", ")+". We recommend installing the "+i.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var p=r.httpMethod,l=r.authentication,m=r.rawResponse,v=o({f:"json"},r.params),y=null,O={method:p,credentials:r.credentials||"same-origin"};return r.headers&&r.headers["X-Esri-Auth-Client-Id"]&&e.indexOf("/oauth2/platformSelf")>-1&&(O.credentials="include"),(l?l.getToken(e,{fetch:r.fetch}).catch((function(t){return t.url=e,t.options=r,y=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(v.token=t),l&&l.getDomainCredentials&&(O.credentials=l.getDomainCredentials(e));var n={};if("GET"===O.method){v.token&&r.hideToken&&"undefined"===typeof window&&(n["X-Esri-Authorization"]="Bearer "+v.token,delete v.token);var i=""===u(v)?e:e+"?"+u(v);r.maxUrlLength&&i.length>r.maxUrlLength||v.token&&r.hideToken?(O.method="POST",t.length&&r.hideToken&&(v.token=t,delete n["X-Esri-Authorization"])):e=i}var c=new RegExp("/items/.+/updateResources").test(e);return"POST"===O.method&&(O.body=function(e,t){var r=a(e)||t,n=s(e);if(r){var o=new FormData;return Object.keys(n).forEach((function(e){if("undefined"!==typeof Blob&&n[e]instanceof Blob){var t=n.fileName||n[e].name||e;o.append(e,n[e],t)}else o.append(e,n[e])})),o}return u(e)}(v,c)),O.headers=o(o({},n),r.headers),"undefined"!==typeof window||O.headers.referer||(O.headers.referer=f),a(v)||c||(O.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,O)})).then((function(t){if(!t.ok){var n=t.status,o=t.statusText;throw new c(o,"HTTP "+n,t,e,r)}if(m)return t;switch(v.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==v.f&&"geojson"!==v.f||m)return t;var n=function(e,t,r,n,o){if(e.code>=400){var a=e.message,s=e.code;throw new c(a,s,e,t,n)}if(e.error){var i=e.error,u=(a=i.message,s=i.code,i.messageCode),f=u||s||"UNKNOWN_ERROR_CODE";if(498===s||499===s||"GWM_0003"===u||400===s&&"Unable to generate token."===a)throw o||new d(a,f,e,t,n);throw new c(a,f,e,t,n)}if("failed"===e.status||"failure"===e.status){a=void 0,s="UNKNOWN_ERROR_CODE";try{a=JSON.parse(e.statusMessage).message,s=JSON.parse(e.statusMessage).code}catch(h){a=e.statusMessage||e.message}throw new c(a,s,e,t,n)}return e}(t,e,0,r,y);if(y){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.federatedServers[o]={token:[],expires:new Date(Date.now()+864e5)},y=null}return n}))}}}]);
//# sourceMappingURL=77843.5c2c6aec.chunk.js.map