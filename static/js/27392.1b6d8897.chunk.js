"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[27392,65905],{44925:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},62044:function(e,t,n){n.d(t,{Z:function(){return _}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(46784),f=n(92026),c=n(86710),y=n(49861),p=(n(25243),n(63780),n(38511)),d=n(69912),h=n(31201),v=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).end=null,r.start=null,r}return(0,o.Z)(n,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(r.allTime)}},{key:"isEmpty",get:function(){return this.equals(r.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new r({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=(0,f.pC)(this.start)?this.start.getTime():this.start,n=(0,f.pC)(this.end)?this.end.getTime():this.end,r=(0,f.pC)(e.start)?e.start.getTime():e.start,i=(0,f.pC)(e.end)?e.end.getTime():e.end;return t===r&&n===i}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=(0,f.yw)(this.start,(function(t){return(0,c.JE)(t,e)})),n=(0,f.yw)(this.end,(function(t){var n=(0,c.JE)(t,e);return t.getTime()===n.getTime()?n:(0,c.Nm)(n,1,e)}));return new r({start:t,end:n})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,n,i=(0,f.R2)(this.start,-1/0,(function(e){return e.getTime()})),o=(0,f.R2)(this.end,1/0,(function(e){return e.getTime()})),a=(0,f.R2)(e.start,-1/0,(function(e){return e.getTime()})),s=(0,f.R2)(e.end,1/0,(function(e){return e.getTime()}));if(a>=i&&a<=o?t=a:i>=a&&i<=s&&(t=i),o>=a&&o<=s?n=o:s>=i&&s<=o&&(n=s),null!=t&&null!=n&&!isNaN(t)&&!isNaN(n)){var l=new r;return l.start=t===-1/0?null:new Date(t),l.end=n===1/0?null:new Date(n),l}return r.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var n=new r,i=this.start,o=this.end;return(0,f.pC)(i)&&(n.start=(0,c.Nm)(i,e,t)),(0,f.pC)(o)&&(n.end=(0,c.Nm)(o,e,t)),n}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return m.clone();var t=(0,f.pC)(this.start)&&(0,f.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=(0,f.pC)(this.end)&&(0,f.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:n})}}],[{key:"allTime",get:function(){return m}},{key:"empty",get:function(){return g}}]),n}(u.wq);(0,l._)([(0,y.Cb)({type:Date,json:{write:{allowNull:!0}}})],v.prototype,"end",void 0),(0,l._)([(0,p.r)("end")],v.prototype,"readEnd",null),(0,l._)([(0,h.c)("end")],v.prototype,"writeEnd",null),(0,l._)([(0,y.Cb)({readOnly:!0,json:{read:!1}})],v.prototype,"isAllTime",null),(0,l._)([(0,y.Cb)({readOnly:!0,json:{read:!1}})],v.prototype,"isEmpty",null),(0,l._)([(0,y.Cb)({type:Date,json:{write:{allowNull:!0}}})],v.prototype,"start",void 0),(0,l._)([(0,p.r)("start")],v.prototype,"readStart",null),(0,l._)([(0,h.c)("start")],v.prototype,"writeStart",null);var m=new(v=r=(0,l._)([(0,d.j)("esri.TimeExtent")],v)),g=new v({start:void 0,end:void 0}),_=v},65905:function(e,t,n){n.d(t,{V:function(){return f},b:function(){return u}});var r=n(42265),i=n(76200),o=n(10064),a=n(32718),s=n(35995),l=a.Z.getLogger("esri.assets");function u(e,t){return(0,i.default)(f(e),t)}function f(e){if(!r.Z.assetsPath)throw l.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new o.Z("assets:path-not-set","config.assetsPath is not set");return(0,s.v_)(r.Z.assetsPath,e)}},84397:function(e,t,n){n.d(t,{c:function(){return r},g:function(){return i}});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},77178:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(37762),i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(80987),f=n(92026),c=(n(93169),n(10064),n(32718),n(3073),n(27088)),y=n(49861),p=(n(25243),n(63780),n(69912)),d=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).getCollections=null,r}return(0,o.Z)(n,[{key:"initialize",value:function(){var e=this;this.own((0,c.EH)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,f.pC)(this.getCollections)?this.getCollections():null;if((0,f.Wi)(e))this.removeAll();else{var t,n=0,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;(0,f.pC)(o)&&(n=this._processCollection(n,o))}}catch(a){i.e(a)}finally{i.f()}this.splice(n,this.length)}}},{key:"_createNewInstance",value:function(e){return new u.Z(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var n,i=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},o=(0,r.Z)(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a){if(i(a)){var s=this.indexOf(a,e);s>=0?s!==e&&this.reorder(a,e):this.add(a,e),++e}if(this.getChildrenFunction){var l=this.getChildrenFunction(a);if(Array.isArray(l)){var u,f=(0,r.Z)(l);try{for(f.s();!(u=f.n()).done;){var c=u.value;e=this._processCollection(e,c)}}catch(y){f.e(y)}finally{f.f()}}else e=this._processCollection(e,l)}}}}catch(y){o.e(y)}finally{o.f()}return e}}]),n}(u.Z);(0,l._)([(0,y.Cb)()],d.prototype,"getCollections",void 0),(0,l._)([(0,y.Cb)()],d.prototype,"getChildrenFunction",void 0),(0,l._)([(0,y.Cb)()],d.prototype,"itemFilterFunction",void 0);var h=d=(0,l._)([(0,p.j)("esri.core.CollectionFlattener")],d)},18759:function(e,t,n){n.d(t,{WJ:function(){return p},Xq:function(){return y},an:function(){return c},lN:function(){return r}});var r,i,o=n(29439),a=n(37762),s=n(15671),l=n(43144),u=n(92026),f=n(27546),c=-3;(i=r||(r={}))[i.ALL=0]="ALL",i[i.SOME=1]="SOME";var y=function(){function e(t,n,r){(0,s.Z)(this,e),this._namespace=t,this._storage=n,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}return(0,l.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,n,r)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,n){this._storage.updateSize(this._namespace+e,t,n)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,s.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new f.Z,this._users=new f.Z}return(0,l.Z)(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,n,i){var o=this._db.get(e);if(o&&(this._size-=o.size,this._db.delete(e),o.entry!==t&&this._notifyRemove(e,o.entry,r.ALL)),n>this._maxSize)this._notifyRemove(e,t,r.ALL);else if(void 0!==t)if(!n||n<0)console.warn("Refusing to cache entry with invalid size "+n);else{var a=1+Math.max(i,c)-c;this._db.set(e,{entry:t,size:n,lifetime:a,lives:a}),this._size+=n,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,n){var i=this._db.get(e);if(i&&i.entry===t){for(this._size-=i.size;n>this._maxSize;){var o=this._notifyRemove(e,t,r.SOME);if(!((0,u.pC)(o)&&o>0))return void this._db.delete(e);n=o}i.size=n,this._size+=n,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},n={},r=new Array;this._db.forEach((function(t,i){var o=t.lifetime;r[o]=(r[o]||0)+t.size,e._users.forAll((function(e){var r=e.namespace;if(i.startsWith(r)){var o=n[r]||0;n[r]=o+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var r=n[t]||0;n[t]=r,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var o=Object.keys(n);o.sort((function(e,t){return n[t]-n[e]})),o.forEach((function(e){return t[e]=Math.round(n[e]/Math.pow(2,20))+"MB / "+i[e]}));for(var a=r.length-1;a>=0;--a){var s=r[a];s&&(t["Priority "+(a+c-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(n,i){i.startsWith(e)&&(t._size-=n.size,t._db.delete(i),t._notifyRemove(i,n.entry,r.ALL))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,n){return e._notifyRemove(n,t.entry,r.ALL)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,n){var r;return this._removeFuncs.some((function(i){if(e.startsWith(i[0])){var o=i[1](t,n);return"number"==typeof o&&(r=o),!0}return!1})),r}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=(0,a.Z)(this._db);try{for(t.s();!(e=t.n()).done;){var n=(0,o.Z)(e.value,2),i=n[0],s=n[1];if(this._db.delete(i),s.lives<=1){this._size-=s.size;var l=this._notifyRemove(i,s.entry,r.SOME);(0,u.pC)(l)&&l>0&&(this._size+=l,s.lives=s.lifetime,s.size=l,this._db.set(i,s))}else--s.lives,this._db.set(i,s);if(this._size<=.9*this.maxSize)return}}catch(f){t.e(f)}finally{t.f()}}}}]),e}()},48732:function(e,t,n){n.d(t,{Hg:function(){return m},V7:function(){return v},uD:function(){return h},xb:function(){return g}});var r=n(4942),i=n(37762),o=n(85015),a=n(80987),s=n(92026),l=n(23879),u=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function f(e){return e instanceof o.Z}function c(e){return e instanceof a.Z?Object.keys(e.items):f(e)?(0,l.vw)(e).keys():e?Object.keys(e):[]}function y(e,t){return e instanceof a.Z?e.items[t]:e[t]}function p(e){return e?e.declaredClass:null}function d(e,t){var n=e.diff;if(n&&"function"==typeof n)return n(e,t);var o=c(e),a=c(t);if(0!==o.length||0!==a.length){if(!o.length||!a.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var l,h=a.filter((function(e){return!o.includes(e)})),v=o.filter((function(e){return!a.includes(e)})),m=o.filter((function(n){return a.includes(n)&&y(e,n)!==y(t,n)})).concat(h,v).sort(),g=p(e);if(g&&u.includes(g)&&m.length)return{type:"complete",oldValue:e,newValue:t};var _,b=f(e)&&f(t),w=(0,i.Z)(m);try{for(w.s();!(_=w.n()).done;){var Z=_.value,k=y(e,Z),S=y(t,Z),C=void 0;if((b||"function"!=typeof k&&"function"!=typeof S)&&k!==S&&(null!=k||null!=S)){if(n&&n[Z]&&"function"==typeof n[Z])C=n[Z](k,S);else if(k instanceof Date&&S instanceof Date){if(k.getTime()===S.getTime())continue;C={type:"complete",oldValue:k,newValue:S}}else C="object"==typeof k&&"object"==typeof S&&p(k)===p(S)?d(k,S):{type:"complete",oldValue:k,newValue:S};(0,s.pC)(C)&&((0,s.pC)(l)?l.diff[Z]=C:l={type:"partial",diff:(0,r.Z)({},Z,C)})}}}catch(F){w.e(F)}finally{w.f()}return l}}function h(e,t){if((0,s.Wi)(e))return!1;var n,r=t.split("."),o=e,a=(0,i.Z)(r);try{for(a.s();!(n=a.n()).done;){var l=n.value;if("complete"===o.type)return!0;if("partial"!==o.type)return!1;var u=o.diff[l];if(!u)return!1;o=u}}catch(f){a.e(f)}finally{a.f()}return!0}function v(e,t){var n,r=(0,i.Z)(t);try{for(r.s();!(n=r.n()).done;){if(h(e,n.value))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function m(e,t){if(!("function"==typeof e||"function"==typeof t||(0,s.Wi)(e)&&(0,s.Wi)(t)))return(0,s.Wi)(e)||(0,s.Wi)(t)||"object"==typeof e&&"object"==typeof t&&p(e)!==p(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}function g(e){if((0,s.Wi)(e))return!0;switch(e.type){case"complete":return!1;case"collection":var t,n=e,r=(0,i.Z)(n.added);try{for(r.s();!(t=r.n()).done;){if(!g(t.value))return!1}}catch(c){r.e(c)}finally{r.f()}var o,a=(0,i.Z)(n.removed);try{for(a.s();!(o=a.n()).done;){if(!g(o.value))return!1}}catch(c){a.e(c)}finally{a.f()}var l,u=(0,i.Z)(n.changed);try{for(u.s();!(l=u.n()).done;){if(!g(l.value))return!1}}catch(c){u.e(c)}finally{u.f()}return!0;case"partial":for(var f in e.diff)if(!g(e.diff[f]))return!1;return!0}}},41644:function(e,t,n){n.d(t,{Bg:function(){return r},sM:function(){return i}});n(93169);function r(e){}function i(e){return function(){return e}}},86710:function(e,t,n){n.d(t,{JE:function(){return a},Nm:function(){return o},rJ:function(){return s}});n(93169);var r={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function o(e,t,n){var r=new Date(e.getTime());if(t&&n){var o=i[n],a=o.getter,s=o.setter,l=o.multiplier;if("months"===n){var u=function(e,t){var n=new Date(e,t+1,1);return n.setDate(0),n.getDate()}(r.getFullYear(),r.getMonth()+t);r.getDate()>u&&r.setDate(u)}r[s](r[a]()+t*l)}return r}function a(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function s(e,t,n){return 0===e?0:e*r[t]/r[n]}},13838:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r,i=n(37762),o=n(74165),a=n(15861),s=n(93433),l=n(1413),u=n(15671),f=n(43144),c=n(11752),y=n(61120),p=n(60136),d=n(92572),h=n(27366),v=(n(59486),n(80987)),m=n(77178),g=n(92026),_=n(97642),b=n(66978),w=n(94172),Z=n(35995),k=n(49861),S=n(25243),C=(n(63780),n(38511)),F=n(69912),T=n(31201),x=n(78952),z=n(30651),j=n(6693),O=n(6061),M=n(29598),D=n(71684),R=n(56811),E=n(70361),N=n(97326),P=n(91505),V=n(46784),L=n(54472),A=n(643),G=n(21857),I=n(53866),J=r=function(e){(0,p.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).description=null,e.id=null,e.networkLink=null,e.sublayers=null,e.title=null,e.sourceJSON=null,e.fullExtent=null,e.addHandles([(0,w.on)((function(){return e.sublayers}),"after-add",(function(t){var n=t.item;n.parent=(0,N.Z)(e),n.layer=e.layer}),w.Z_),(0,w.on)((function(){return e.sublayers}),"after-remove",(function(e){var t=e.item;t.layer=t.parent=null}),w.Z_),(0,w.YP)((function(){return e.sublayers}),(function(t,n){if(n){var r,o=(0,i.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.layer=a.parent=null}}catch(f){o.e(f)}finally{o.f()}}if(t){var s,l=(0,i.Z)(t);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.parent=(0,N.Z)(e),u.layer=e.layer}}catch(f){l.e(f)}finally{l.f()}}}),w.Z_)]),e}return(0,f.Z)(n,[{key:"initialize",value:function(){var e=this;(0,w.N1)((function(){return e.networkLink})).then((function(){return(0,w.N1)((function(){return!0===e.visible}))})).then((function(){return e.load()}))}},{key:"load",value:function(e){var t,n,i=this;if(this.networkLink&&!this.networkLink.viewFormat){var o=(0,g.pC)(e)?e.signal:null,a=this._fetchService(null!==(t=null===(n=this._get("networkLink"))||void 0===n?void 0:n.href)&&void 0!==t?t:"",o).then((function(e){var t,n=(0,G.lm)(e.sublayers);i.fullExtent=I.Z.fromJSON(n),i.sourceJSON=e;var o=(0,S.se)(v.Z.ofType(r),(0,G.j5)(r,e));i.sublayers?i.sublayers.addMany(o):i.sublayers=o,null!==(t=i.layer)&&void 0!==t&&t.emit("sublayer-update"),i.layer&&i.layer.notifyChange("visibleSublayers")}));return this.addResolvingPromise(a),Promise.resolve(this)}}},{key:"visible",get:function(){return this._get("visible")},set:function(e){this._get("visible")!==e&&(this._set("visible",e),this.layer&&this.layer.notifyChange("visibleSublayers"))}},{key:"readVisible",value:function(e,t){return!!t.visibility}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"_fetchService",value:function(e,t){return(0,G.CS)(e,this.layer.outSpatialReference,this.layer.refreshInterval,t).then((function(e){return(0,G.Cw)(e.data)}))}}]),n}(P.Z.EventedMixin((0,V.eC)(L.Z)));(0,h._)([(0,k.Cb)()],J.prototype,"description",void 0),(0,h._)([(0,k.Cb)()],J.prototype,"id",void 0),(0,h._)([(0,k.Cb)({readOnly:!0,value:null})],J.prototype,"networkLink",void 0),(0,h._)([(0,k.Cb)({json:{write:{allowNull:!0}}})],J.prototype,"parent",void 0),(0,h._)([(0,k.Cb)({type:v.Z.ofType(r),json:{write:{allowNull:!0}}})],J.prototype,"sublayers",void 0),(0,h._)([(0,k.Cb)({value:null,json:{read:{source:"name",reader:function(e){return(0,A.Cb)(e)}}}})],J.prototype,"title",void 0),(0,h._)([(0,k.Cb)({value:!0})],J.prototype,"visible",null),(0,h._)([(0,C.r)("visible",["visibility"])],J.prototype,"readVisible",null),(0,h._)([(0,k.Cb)()],J.prototype,"sourceJSON",void 0),(0,h._)([(0,k.Cb)({value:null})],J.prototype,"layer",null),(0,h._)([(0,k.Cb)({type:I.Z})],J.prototype,"fullExtent",void 0);var Y=J=r=(0,h._)([(0,F.j)("esri.layers.support.KMLSublayer")],J),q=["kml","xml"],W=function(e){(0,p.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i)))._visibleFolders=[],e.allSublayers=new m.Z({getCollections:function(){return[e.sublayers]},getChildrenFunction:function(e){return e.sublayers}}),e.outSpatialReference=x.Z.WGS84,e.path=null,e.legendEnabled=!1,e.operationalLayerType="KML",e.sublayers=null,e.type="kml",e.url=null,e}return(0,f.Z)(n,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,w.YP)((function(){return e.sublayers}),(function(t,n){n&&n.forEach((function(e){e.parent=null,e.layer=null})),t&&t.forEach((function(t){t.parent=e,t.layer=e}))}),w.Z_),this.on("sublayer-update",(function(){return e.notifyChange("fullExtent")}))])}},{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,l.Z)({url:e},t):e}},{key:"readSublayersFromItemOrWebMap",value:function(e,t){this._visibleFolders=t.visibleFolders}},{key:"readSublayers",value:function(e,t,n){return(0,G.j5)(Y,t,n,this._visibleFolders)}},{key:"writeSublayers",value:function(e,t){for(var n=[],r=e.toArray();r.length;){var i=r[0];i.networkLink||(i.visible&&n.push(i.id),i.sublayers&&r.push.apply(r,(0,s.Z)(i.sublayers.toArray()))),r.shift()}t.visibleFolders=n}},{key:"title",get:function(){var e=this._get("title");return e&&"defaults"!==this.originOf("title")?e:this.url?(0,Z.vt)(this.url,q)||"KML":e||""},set:function(e){this._set("title",e)}},{key:"visibleSublayers",get:function(){var e=this.sublayers,t=[];return e&&e.forEach((function e(n){n.visible&&(t.push(n),n.sublayers&&n.sublayers.forEach(e))})),t}},{key:"fullExtent",get:function(){return this._recomputeFullExtent()}},{key:"load",value:function(e){var t=this,n=(0,g.pC)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["KML"],supportsData:!1},e).catch(b.r9).then((function(){return t._fetchService(n)}))),Promise.resolve(this)}},{key:"destroy",value:function(){(0,c.Z)((0,y.Z)(n.prototype),"destroy",this).call(this),this.allSublayers.destroy()}},{key:"_fetchService",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i=this;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){var e;return i.resourceInfo?{ssl:!1,data:i.resourceInfo}:(0,G.CS)(null!==(e=i.url)&&void 0!==e?e:"",i.outSpatialReference,i.refreshInterval,t)}));case 2:n=e.sent,(r=(0,G.Cw)(n.data))&&this.read(r,{origin:"service"});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_recomputeFullExtent",value:function(){var e=null;(0,g.pC)(this.extent)&&(e=this.extent.clone());return function t(n){if(n.sublayers){var r,o=(0,i.Z)(n.sublayers.items);try{for(o.s();!(r=o.n()).done;){var a=r.value;t(a),a.visible&&a.fullExtent&&((0,g.pC)(e)?e.union(a.fullExtent):e=a.fullExtent.clone())}}catch(s){o.e(s)}finally{o.f()}}}(this),e}}]),n}((0,j.h)((0,D.Q)((0,R.M)((0,O.q)((0,M.I)((0,_.R)(z.Z)))))));(0,h._)([(0,k.Cb)({readOnly:!0})],W.prototype,"allSublayers",void 0),(0,h._)([(0,k.Cb)({type:x.Z})],W.prototype,"outSpatialReference",void 0),(0,h._)([(0,k.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],W.prototype,"path",void 0),(0,h._)([(0,k.Cb)({readOnly:!0,json:{read:!1,write:!1}})],W.prototype,"legendEnabled",void 0),(0,h._)([(0,k.Cb)({type:["show","hide","hide-children"]})],W.prototype,"listMode",void 0),(0,h._)([(0,k.Cb)({type:["KML"]})],W.prototype,"operationalLayerType",void 0),(0,h._)([(0,k.Cb)({})],W.prototype,"resourceInfo",void 0),(0,h._)([(0,k.Cb)({type:v.Z.ofType(Y),json:{write:{ignoreOrigin:!0}}})],W.prototype,"sublayers",void 0),(0,h._)([(0,C.r)(["web-map","portal-item"],"sublayers",["visibleFolders"])],W.prototype,"readSublayersFromItemOrWebMap",null),(0,h._)([(0,C.r)("service","sublayers",["sublayers"])],W.prototype,"readSublayers",null),(0,h._)([(0,T.c)("sublayers")],W.prototype,"writeSublayers",null),(0,h._)([(0,k.Cb)({readOnly:!0,json:{read:!1}})],W.prototype,"type",void 0),(0,h._)([(0,k.Cb)({json:{origins:{"web-map":{read:{source:"title"}}},write:{ignoreOrigin:!0}}})],W.prototype,"title",null),(0,h._)([(0,k.Cb)(E.HQ)],W.prototype,"url",void 0),(0,h._)([(0,k.Cb)({readOnly:!0})],W.prototype,"visibleSublayers",null),(0,h._)([(0,k.Cb)({type:I.Z})],W.prototype,"extent",void 0),(0,h._)([(0,k.Cb)()],W.prototype,"fullExtent",null);var H=W=(0,h._)([(0,F.j)("esri.layers.KMLLayer")],W)},9114:function(e,t,n){n.d(t,{u:function(){return y}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(46784),f=n(49861),c=(n(25243),n(63780),n(69912)),y=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=null,r.code=null,r}return(0,o.Z)(n,[{key:"clone",value:function(){return new r({name:this.name,code:this.code})}}]),n}(u.wq);(0,l._)([(0,f.Cb)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,l._)([(0,f.Cb)({type:[String,Number],json:{write:!0}})],y.prototype,"code",void 0),y=r=(0,l._)([(0,c.j)("esri.layers.support.CodedValue")],y)},52175:function(e,t,n){n.d(t,{Z:function(){return v}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(84652),f=n(49861),c=(n(25243),n(27135)),y=n(69912),p=n(9114),d=n(64538),h=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).codedValues=null,r.type="coded-value",r}return(0,o.Z)(n,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var n=String(e);this.codedValues.some((function(e){return String(e.code)===n&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new r({codedValues:(0,u.d9)(this.codedValues),name:this.name})}}]),n}(d.Z);(0,l._)([(0,f.Cb)({type:[p.u],json:{write:!0}})],h.prototype,"codedValues",void 0),(0,l._)([(0,c.J)({codedValue:"coded-value"})],h.prototype,"type",void 0);var v=h=r=(0,l._)([(0,y.j)("esri.layers.support.CodedValueDomain")],h)},64538:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(43144),i=n(15671),o=n(60136),a=n(92572),s=n(27366),l=n(43404),u=n(46784),f=n(49861),c=(n(25243),n(63780),n(27135)),y=n(69912),p=new l.X({inherited:"inherited",codedValue:"coded-value",range:"range"}),d=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).name=null,r.type=null,r}return(0,r.Z)(n)}(u.wq);(0,s._)([(0,f.Cb)({type:String,json:{write:!0}})],d.prototype,"name",void 0),(0,s._)([(0,c.J)(p)],d.prototype,"type",void 0);var h=d=(0,s._)([(0,y.j)("esri.layers.support.Domain")],d)},83040:function(e,t,n){n.d(t,{Z:function(){return b}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(43404),f=n(46784),c=n(49861),y=n(25243),p=(n(63780),n(27135)),d=n(38511),h=n(69912),v=n(67755),m=n(85249),g=new u.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),_=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).alias=null,r.defaultValue=void 0,r.description=null,r.domain=null,r.editable=!0,r.length=-1,r.name=null,r.nullable=!0,r.type=null,r.valueType=null,r.visible=!0,r}return(0,o.Z)(n,[{key:"readDescription",value:function(e,t){var n,r,i=t.description,o=null;try{o=i?JSON.parse(i):null}catch(a){}return null!==(n=null===(r=o)||void 0===r?void 0:r.value)&&void 0!==n?n:null}},{key:"readValueType",value:function(e,t){var n=t.description,r=null;try{r=n?JSON.parse(n):null}catch(i){}return r?g.fromJSON(r.fieldValueType):null}},{key:"clone",value:function(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}]),n}(f.wq);(0,l._)([(0,c.Cb)({type:String,json:{write:!0}})],_.prototype,"alias",void 0),(0,l._)([(0,c.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],_.prototype,"defaultValue",void 0),(0,l._)([(0,c.Cb)()],_.prototype,"description",void 0),(0,l._)([(0,d.r)("description")],_.prototype,"readDescription",null),(0,l._)([(0,c.Cb)({types:v.V5,json:{read:{reader:v.im},write:!0}})],_.prototype,"domain",void 0),(0,l._)([(0,c.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"editable",void 0),(0,l._)([(0,c.Cb)({type:y.z8,json:{write:!0}})],_.prototype,"length",void 0),(0,l._)([(0,c.Cb)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,l._)([(0,c.Cb)({type:Boolean,json:{write:!0}})],_.prototype,"nullable",void 0),(0,l._)([(0,p.J)(m.v)],_.prototype,"type",void 0),(0,l._)([(0,c.Cb)()],_.prototype,"valueType",void 0),(0,l._)([(0,d.r)("valueType",["description"])],_.prototype,"readValueType",null),(0,l._)([(0,c.Cb)({type:Boolean,json:{read:!1}})],_.prototype,"visible",void 0);var b=_=r=(0,l._)([(0,h.j)("esri.layers.support.Field")],_)},56754:function(e,t,n){n.d(t,{Z:function(){return p}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=(n(32718),n(25243),n(63780),n(10064),n(93169),n(27135)),f=n(69912),c=n(64538),y=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).type="inherited",r}return(0,o.Z)(n,[{key:"clone",value:function(){return new r}}]),n}(c.Z);(0,l._)([(0,u.J)({inherited:"inherited"})],y.prototype,"type",void 0);var p=y=r=(0,l._)([(0,f.j)("esri.layers.support.InheritedDomain")],y)},30539:function(e,t,n){n.d(t,{Z:function(){return d}});var r,i=n(15671),o=n(43144),a=n(60136),s=n(92572),l=n(27366),u=n(49861),f=(n(25243),n(63780),n(27135)),c=n(69912),y=n(64538),p=r=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).maxValue=null,r.minValue=null,r.type="range",r}return(0,o.Z)(n,[{key:"clone",value:function(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),n}(y.Z);(0,l._)([(0,u.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,n){t[n]=[this.minValue||0,e]}}}})],p.prototype,"maxValue",void 0),(0,l._)([(0,u.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,n){t[n]=[e,this.maxValue||0]}}}})],p.prototype,"minValue",void 0),(0,l._)([(0,f.J)({range:"range"})],p.prototype,"type",void 0);var d=p=r=(0,l._)([(0,c.j)("esri.layers.support.RangeDomain")],p)},67755:function(e,t,n){n.d(t,{V5:function(){return s},im:function(){return l}});n(93169);var r=n(52175),i=n(64538),o=n(56754),a=n(30539),s={key:"type",base:i.Z,typeMap:{range:a.Z,"coded-value":r.Z,inherited:o.Z}};function l(e){if(!e||!e.type)return null;switch(e.type){case"range":return a.Z.fromJSON(e);case"codedValue":return r.Z.fromJSON(e);case"inherited":return o.Z.fromJSON(e)}return null}},85249:function(e,t,n){n.d(t,{v:function(){return r}});var r=new(n(43404).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},21857:function(e,t,n){n.d(t,{CS:function(){return _},Cw:function(){return g},Yu:function(){return Z},j5:function(){return b},lm:function(){return S}});var r=n(74165),i=n(15861),o=n(37762),a=n(42265),s=n(19545),l=n(44055),u=n(76200),f=n(84652),c=n(35995),y=n(78952),p=n(41414),d=n(376),h=n(9014),v=n(49818),m={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function g(e){var t=e.folders||[],n=t.slice(),r=new Map,i=new Map,a=new Map,s=new Map,l=new Map,u={esriGeometryPoint:i,esriGeometryPolyline:a,esriGeometryPolygon:s};(e.featureCollection&&e.featureCollection.layers||[]).forEach((function(e){var t=(0,f.d9)(e);t.featureSet.features=[];var n=e.featureSet.geometryType;r.set(n,t);var o=e.layerDefinition.objectIdField;"esriGeometryPoint"===n?w(i,o,e.featureSet.features):"esriGeometryPolyline"===n?w(a,o,e.featureSet.features):"esriGeometryPolygon"===n&&w(s,o,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((function(e){l.set(e.id,e)})),t.forEach((function(t){t.networkLinkIds.forEach((function(r){var i=function(e,t,n){var r=function(e,t){var n;return t.some((function(t){return t.id===e&&(n=t,!0)})),n}(e,n);return r&&(r.parentFolderId=t,r.networkLink=r),r}(r,t.id,e.networkLinks);i&&n.push(i)}))})),n.forEach((function(e){if(e.featureInfos){e.points=(0,f.d9)(r.get("esriGeometryPoint")),e.polylines=(0,f.d9)(r.get("esriGeometryPolyline")),e.polygons=(0,f.d9)(r.get("esriGeometryPolygon")),e.mapImages=[];var t,n=(0,o.Z)(e.featureInfos);try{for(n.s();!(t=n.n()).done;){var i=t.value;switch(i.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":var a=u[i.type].get(i.id);a&&e[m[i.type]].featureSet.features.push(a);break;case"GroundOverlay":var s=l.get(i.id);s&&e.mapImages.push(s)}}}catch(c){n.e(c)}finally{n.f()}e.fullExtent=S([e])}}));var c=S(n);return{folders:t,sublayers:n,extent:c}}function _(e,t,n,r){var i=s.id&&s.id.findCredential(e);e=(0,c.fl)(e,{token:i&&i.token});var o=a.Z.kmlServiceUrl;return(0,u.default)(o,{query:{url:e,model:"simple",folders:"",refresh:0!==n||void 0,outSR:JSON.stringify(t)},responseType:"json",signal:r})}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],o={},a=t.sublayers,s=t.folders.map((function(e){return e.id}));return a.forEach((function(t){var a=new e;if(n?a.read(t,n):a.read(t),r.length&&s.includes(a.id)&&(a.visible=r.includes(a.id)),o[t.id]=a,null!=t.parentFolderId&&-1!==t.parentFolderId){var l,u=o[t.parentFolderId];u.sublayers||(u.sublayers=[]),null===(l=u.sublayers)||void 0===l||l.unshift(a)}else i.unshift(a)})),i}function w(e,t,n){n.forEach((function(n){e.set(n.attributes[t],n)}))}function Z(e){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,a,s,u,f,c,y,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v.Z.fromJSON(t.featureSet).features,i=t.layerDefinition,a=(0,h.i)(i.drawingInfo.renderer),s=l.Z.fromJSON(t.popupInfo),u=[],f=(0,o.Z)(n),e.prev=2,f.s();case 4:if((c=f.n()).done){e.next=12;break}return y=c.value,e.next=8,a.getSymbolAsync(y);case 8:p=e.sent,y.symbol=p,y.popupTemplate=s,y.visible=!0,u.push(y);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),f.e(e.t0);case 17:return e.prev=17,f.f(),e.finish(17);case 20:return e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))).apply(this,arguments)}function S(e){var t,n=(0,p.Ue)(p.Gv),r=(0,p.Ue)(p.Gv),i=(0,o.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.polygons&&a.polygons.featureSet&&a.polygons.featureSet.features){var s,l=(0,o.Z)(a.polygons.featureSet.features);try{for(l.s();!(s=l.n()).done;){var u=s.value;(0,d.Yg)(n,u.geometry),(0,p.TC)(r,n)}}catch(Z){l.e(Z)}finally{l.f()}}if(a.polylines&&a.polylines.featureSet&&a.polylines.featureSet.features){var f,c=(0,o.Z)(a.polylines.featureSet.features);try{for(c.s();!(f=c.n()).done;){var h=f.value;(0,d.Yg)(n,h.geometry),(0,p.TC)(r,n)}}catch(Z){c.e(Z)}finally{c.f()}}if(a.points&&a.points.featureSet&&a.points.featureSet.features){var v,m=(0,o.Z)(a.points.featureSet.features);try{for(m.s();!(v=m.n()).done;){var g=v.value;(0,d.Yg)(n,g.geometry),(0,p.TC)(r,n)}}catch(Z){m.e(Z)}finally{m.f()}}if(a.mapImages){var _,b=(0,o.Z)(a.mapImages);try{for(b.s();!(_=b.n()).done;){var w=_.value;(0,d.Yg)(n,w.extent),(0,p.TC)(r,n)}}catch(Z){b.e(Z)}finally{b.f()}}}}catch(Z){i.e(Z)}finally{i.f()}return(0,p.fS)(r,p.Gv)?void 0:{xmin:r[0],ymin:r[1],zmin:r[2],xmax:r[3],ymax:r[4],zmax:r[5],spatialReference:y.Z.WGS84}}},80724:function(e,t,n){var r,i;function o(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function s(e){return e.valueExpression?r.Expression:e.field&&"string"==typeof e.field?r.Field:r.Unknown}function l(e,t){var n=t||s(e),o=e.valueUnit||"unknown";return n===r.Unknown?i.Constant:e.stops?i.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?i.ClampedLinear:"unknown"===o?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?i.Proportional:i.Additive:i.Identity:i.RealWorldSize}n.d(t,{PS:function(){return s},QW:function(){return l},RY:function(){return r},hL:function(){return i},iY:function(){return o},qh:function(){return a}}),function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(r||(r={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(i||(i={}))},49818:function(e,t,n){n.d(t,{Z:function(){return F}});var r,i=n(29439),o=n(37762),a=n(15671),s=n(43144),l=n(60136),u=n(92572),f=n(27366),c=n(59486),y=n(52639),p=n(43404),d=n(46784),h=n(84652),v=n(92026),m=n(49861),g=(n(25243),n(38511)),_=n(69912),b=n(31201),w=n(78952),Z=n(77981),k=n(83040),S=new p.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),C=r=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e)).displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return(0,s.Z)(n,[{key:"readFeatures",value:function(e,t){for(var n=w.Z.fromJSON(t.spatialReference),r=[],i=0;i<e.length;i++){var o=e[i],a=y.Z.fromJSON(o),s=o.geometry&&o.geometry.spatialReference;(0,v.pC)(a.geometry)&&!s&&(a.geometry.spatialReference=n);var l=o.aggregateGeometries,u=a.aggregateGeometries;if(l&&(0,v.pC)(u))for(var f in u){var c,p=u[f],d=null===(c=l[f])||void 0===c?void 0:c.spatialReference;(0,v.pC)(p)&&!d&&(p.spatialReference=n)}r.push(a)}return r}},{key:"writeGeometryType",value:function(e,t,n,r){if(e)S.write(e,t,n,r);else{var i=this.features;if(i){var a,s=(0,o.Z)(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l&&(0,v.pC)(l.geometry))return void S.write(l.geometry.type,t,n,r)}}catch(u){s.e(u)}finally{s.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var n=!!e.spatialReference,r=(0,Z.im)(e);return r&&!n&&t.spatialReference&&(r.spatialReference=w.Z.fromJSON(t.spatialReference)),r}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var n=this.features;if(n){var r,i=(0,o.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&(0,v.pC)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(s){i.e(s)}finally{i.f()}}}}},{key:"clone",value:function(){return new r(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var n=0;n<t.features.length;n++){var r=t.features[n];if(r.geometry){var i=e&&e[n];r.geometry=i&&i.toJSON()||r.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,i.Z)(e.scale,2),n=t[0],r=t[1],o=(0,i.Z)(e.translate,2),a=o[0],s=o[1],l=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/n)}),(function(e){return Math.round((s-e)/r)})),f=0,c=l.length;f<c;f++)(null===u||void 0===u?void 0:u((0,v.Wg)(l[f].geometry)))||(l.splice(f,1),f--,c--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,n=this.transform;if(!n)return this;var r,a=(0,i.Z)(n.translate,2),s=a[0],l=a[1],u=(0,i.Z)(n.scale,2),f=u[0],c=u[1],y=this._getHydrationFunction(e,(function(e){return e*f+s}),(function(e){return l-e*c})),p=(0,o.Z)(t);try{for(p.s();!(r=p.n()).done;){var d=r.value.geometry;(0,v.pC)(d)&&y&&y(d)}}catch(h){p.e(h)}finally{p.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,n){for(var r,i,o=[],a=0,s=e.length;a<s;a++){var l=e[a];if(a>0){var u=t(l[0]),f=n(l[1]);u===r&&f===i||(o.push([u-r,f-i]),r=u,i=f)}else r=t(l[0]),i=n(l[1]),o.push([r,i])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,n){var r=this;return"point"===e?function(e){return e.x=t(e.x),e.y=n(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,Z.oU)(e)?e.rings:e.paths,o=[],a=0,s=i.length;a<s;a++){var l=i[a],u=r._quantizePoints(l,t,n);u&&o.push(u)}return o.length>0?((0,Z.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i=r._quantizePoints(e.points,t,n);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,n){return"point"===e?function(e){e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var r,i,o=(0,Z.oU)(e)?e.rings:e.paths,a=0,s=o.length;a<s;a++)for(var l=o[a],u=0,f=l.length;u<f;u++){var c=l[u];u>0?(r+=c[0],i+=c[1]):(r=c[0],i=c[1]),c[0]=t(r),c[1]=n(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?function(e){for(var r,i,o=e.points,a=0,s=o.length;a<s;a++){var l=o[a];a>0?(r+=l[0],i+=l[1]):(r=l[0],i=l[1]),l[0]=t(r),l[1]=n(i)}}:null}}]),n}(d.wq);(0,f._)([(0,m.Cb)({type:String,json:{write:!0}})],C.prototype,"displayFieldName",void 0),(0,f._)([(0,m.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"exceededTransferLimit",void 0),(0,f._)([(0,m.Cb)({type:[y.Z],json:{write:!0}})],C.prototype,"features",void 0),(0,f._)([(0,g.r)("features")],C.prototype,"readFeatures",null),(0,f._)([(0,m.Cb)({type:[k.Z],json:{write:!0}})],C.prototype,"fields",void 0),(0,f._)([(0,m.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:S.read}}})],C.prototype,"geometryType",void 0),(0,f._)([(0,b.c)("geometryType")],C.prototype,"writeGeometryType",null),(0,f._)([(0,m.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"hasM",void 0),(0,f._)([(0,m.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"hasZ",void 0),(0,f._)([(0,m.Cb)({types:c.qM,json:{write:!0}})],C.prototype,"queryGeometry",void 0),(0,f._)([(0,g.r)("queryGeometry")],C.prototype,"readQueryGeometry",null),(0,f._)([(0,m.Cb)({type:w.Z,json:{write:!0}})],C.prototype,"spatialReference",void 0),(0,f._)([(0,b.c)("spatialReference")],C.prototype,"writeSpatialReference",null),(0,f._)([(0,m.Cb)({json:{write:!0}})],C.prototype,"transform",void 0),(C=r=(0,f._)([(0,_.j)("esri.rest.support.FeatureSet")],C)).prototype.toJSON.isDefaultToJSON=!0;var F=C}}]);
//# sourceMappingURL=27392.1b6d8897.chunk.js.map