{"version":3,"file":"static/js/9634.1575d3bb.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal.request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),a(c)&&c.compress&&f.append(\"compress\",\"true\"),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal.request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal.request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{result as r}from\"../../core/asyncUtils.js\";import e from\"../../core/Error.js\";import{isSome as o}from\"../../core/maybe.js\";import{eachAlways as t,throwIfAborted as s}from\"../../core/promiseUtils.js\";import{generateUUID as c}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as p}from\"../../portal/support/resourceUtils.js\";async function a(r,o,a){if(!o||!o.resources)return;const h=o.portalItem===r.portalItem?new Set(r.paths):new Set;r.paths.length=0,r.portalItem=o.portalItem;const i=new Set(o.resources.toKeep.map((r=>r.resource.path))),m=new Set,f=[];i.forEach((e=>{h.delete(e),r.paths.push(e)}));for(const e of o.resources.toUpdate)if(h.delete(e.resource.path),i.has(e.resource.path)||m.has(e.resource.path)){const{resource:o,content:t,finish:s,error:u}=e,h=p(o,c());r.paths.push(h.path),f.push(n({resource:h,content:t,compress:e.compress,finish:s,error:u},a))}else r.paths.push(e.resource.path),f.push(u(e,a)),m.add(e.resource.path);for(const e of o.resources.toAdd)f.push(n(e,a)),r.paths.push(e.resource.path);if(h.forEach((r=>{if(o.portalItem){const e=o.portalItem.resourceFromPath(r);f.push(e.portalItem.removeResource(e).catch((()=>{})))}})),0===f.length)return;const l=await t(f);s(a);const d=l.filter((r=>\"error\"in r)).map((r=>r.error));if(d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d})}async function n(e,t){const s={...o(t)?t:{},compress:e.compress},c=await r(e.resource.portalItem.addResource(e.resource,e.content,s));if(!0!==c.ok)throw e.error?.(c.error),c.error;e.finish?.(e.resource)}async function u(e,o){const t=await r(e.resource.update(e.content,o));if(!0!==t.ok)throw e.error?.(t.error),t.error;e.finish?.(e.resource)}export{a as saveResources};\n"],"names":["c","e","t","a","load","o","s","itemUrl","start","n","num","sortOrder","u","sortField","l","query","token","apiKey","signal","r","portal","request","p","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","hasPath","portalItem","i","userItemUrl","path","d","h","m","f","FormData","append","compress","access","method","body","deleteAll","lastIndexOf","slice","length","Blob","url","responseType","data","w","Set","paths","toKeep","forEach","delete","push","toUpdate","has","content","finish","error","add","toAdd","removeResource","catch","filter","errors","addResource","ok","update"],"sourceRoot":""}