"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[66287],{42016:function(t,e,r){r.d(e,{P:function(){return a},a:function(){return i},b:function(){return o},c:function(){return n}});var n={overview:!0,details:!0,settings:!0},o=[{entity:"project",capability:"overview",permissions:["hub:project:view"]},{entity:"project",capability:"details",permissions:["hub:project:edit"]},{entity:"project",capability:"settings",permissions:["hub:project:edit"]}],i=["hub:project:create","hub:project:delete","hub:project:edit","hub:project:view"],a=[{permission:"hub:project:create",subsystems:["projects"],authenticated:!0,privileges:["portal:user:createItem"],licenses:["hub-premium"]},{permission:"hub:project:view",subsystems:["projects"],authenticated:!1,licenses:["hub-premium"]},{permission:"hub:project:edit",authenticated:!0,subsystems:["projects"],entityEdit:!0,licenses:["hub-premium"]},{permission:"hub:project:delete",authenticated:!0,subsystems:["projects"],entityOwner:!0,licenses:["hub-premium"]}]},77699:function(t,e,r){r.d(e,{a:function(){return u},c:function(){return c}});var n=r(63613),o=r(98825),i=r(69207),a=r(80046),s=r(77843);function u(t){return(0,i.d)(t).then((function(e){var r=(0,o.g)(t)+"/content/users/"+e+"/createFolder";return t.params=(0,n._)({title:t.title},t.params),(0,s.r)(r,t)}))}function c(t){return function(t){return t.multipart&&!t.filename?Promise.reject(new Error("The filename is required for a multipart request.")):(0,i.d)(t).then((function(e){var r=(0,o.g)(t)+"/content/users/"+e,u=r+"/addItem";t.folderId&&(u=r+"/"+t.folderId+"/addItem"),t.params=(0,n._)((0,n._)({},t.params),(0,i.s)(t.item)),t.params.extent&&(0,i.i)(t.params.extent)&&(t.params.extent=(0,i.b)(t.params.extent));var c=(0,a.a)(t,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:(0,n._)({},t.params)});return(0,s.r)(u,c)}))}((0,n._)({folderId:null},t))}},89363:function(t,e,r){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){return t.apply(void 0,arguments).catch((function(t){return e}))}}r.d(e,{f:function(){return n}})},90251:function(t,e,r){r.d(e,{S:function(){return s},g:function(){return u}});var n=r(98825),o=r(80046),i=r(77843);function a(t){console&&console.warn&&console.warn.apply(console,[t])}var s=function(){function t(t){void 0===t&&(t=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=t}return t.prototype.match=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.termStack=this.termStack.concat(t),this},t.prototype.in=function(t){var e="`in("+(t?'"'+t+'"':"")+")`";return this.hasRange||this.hasTerms?(t&&"*"!==t&&(this.q+=t+":"),this.commit()):(a(e+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},t.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},t.prototype.endGroup=function(){return this.openGroups<=0?(a("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},t.prototype.and=function(){return this.addModifier("and")},t.prototype.or=function(){return this.addModifier("or")},t.prototype.not=function(){return this.addModifier("not")},t.prototype.from=function(t){return this.hasTerms?(a('`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01").  Your query was not modified.'),this):(this.rangeStack[0]=t,this)},t.prototype.to=function(t){return this.hasTerms?(a('`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Optionally, you may see this because dates are incorrectly formatted. Dates should be a primative Date value, aka a number in milliseconds or Date object, ie new Date("2020-01-01"). Your query was not modified.'),this):(this.rangeStack[1]=t,this)},t.prototype.boost=function(t){return this.commit(),this.q+="^"+t,this},t.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},t.prototype.clone=function(){return this.commit(),this.cleanup(),new t(this.q+"")},t.prototype.addModifier=function(t){return this.currentModifer?(a("You have called `"+this.currentModifer+"()` after `"+t+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==t?(a("You have called `"+t+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=t,this.q+=""===this.q?"":" ",this.q+=t.toUpperCase()+" ",this))},t.prototype.needsQuotes=function(t){return/\s|:/g.test(t)},t.prototype.formatTerm=function(t){return t instanceof Date?t.getTime():"string"===typeof t&&this.needsQuotes(t)?'"'+t+'"':t},t.prototype.commit=function(){var t=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(e){return t.formatTerm(e)})).join(" "),this.termStack=[]),this},Object.defineProperty(t.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!1,configurable:!0}),t.prototype.cleanup=function(){if(this.openGroups>0)for(a("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var t=this.q;this.q=t.replace(/( AND ?| NOT ?| OR ?)*$/,""),t!==this.q&&a("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},t}();function u(t,e){var r,a;switch(r="string"===typeof t||t instanceof s?{httpMethod:"GET",params:{q:t}}:(0,o.a)(t,["q","num","start","sortField","sortOrder","searchUserAccess","searchUserName","filter","countFields","countSize","categories","categoryFilters"],{httpMethod:"GET"}),e){case"item":a="/search";break;case"group":a="/community/groups";break;case"groupContent":if("string"===typeof t||t instanceof s||!t.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));a="/content/groups/"+t.groupId+"/search";break;default:a="/portals/self/users/search"}var c=(0,n.g)(r)+a;return(0,i.r)(c,r).then((function(r){return r.nextStart&&-1!==r.nextStart&&(r.nextPage=function(){var n;return"string"===typeof t||t instanceof s?n={q:t,start:r.nextStart}:(n=t).start=r.nextStart,u(n,e)}),r}))}},66287:function(t,e,r){r.d(e,{E:function(){return S},H:function(){return _},P:function(){return Q},a:function(){return E},b:function(){return X},c:function(){return Z},d:function(){return M},e:function(){return $},f:function(){return R},g:function(){return D},h:function(){return U},i:function(){return W},j:function(){return G},k:function(){return F},l:function(){return J},p:function(){return z},s:function(){return T},u:function(){return Y}});var n=r(29439),o=r(74165),i=r(15861),a=r(43144),s=r(15671),u=r(60136),c=r(92572),p=r(91466),f=r(49799),h=r(25434),d=r(77699),l=r(69207),m=r(20399),y=r(34601),g=r(84744),b=r(21923),v=r(63613),w=r(98825),j=r(77843),x=r(89363),k=r(67258),q=r(62254),K=r(42016),O=r(82842);function E(t){return(0,l.d)(t).then((function(e){var r=(0,w.g)(t)+"/content/users/"+e+"/items/"+t.id+"/addResources";return t.params=(0,v._)({file:t.resource,fileName:t.name,resourcesPrefix:t.prefix,text:t.content,access:t.private?"private":"inherit"},t.params),(0,j.r)(r,t)}))}var S={location:"location.json"};function Z(t,e){return"".concat(e.toLowerCase(),"|").concat("string"===typeof(r=t)?r.trim().toLowerCase().replace(/ +/g,"-").replace(/[^\w-]/g,"").replace(/-+/g,"-"):r);var r}function T(t,e){var r=t.filter((function(t){return!t.startsWith("slug|")}));return r.push("slug|".concat(e)),r}function G(t,e){return I({slug:t},e).then((function(t){return t.length?t[0]:null}))}function I(t,e){var r={filter:'typekeywords:"slug|'.concat(t.slug,'"')};return e.authentication?r.authentication=e.authentication:e.portal&&(r.portal=e.portal),t.exclude&&(r.q="NOT id:".concat(t.exclude)),(0,p.s)(r).then((function(t){return t.results})).catch((function(t){throw t}))}function D(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.slug;return r&&(n="".concat(t.slug,"-").concat(r)),I({slug:n,exclude:t.existingId},e).then((function(o){return o.length?(r++,D(t,e,r)):n})).catch((function(t){throw Error("Error in getUniqueSlug ".concat(t))}))}var _=function(t){(0,u.Z)(r,t);var e=(0,c.Z)(r);function r(t,n,o){var i;return(0,s.Z)(this,r),n=n||"UNKNOWN_ERROR",o=(0,m.g)(o,"rootCause",o),(i=e.call(this,t,n,o)).name="HubError",i.stack=(0,m.g)(o,"stack",(new Error).stack),i}return(0,a.Z)(r)}(y.O);function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";if("undefined"!==typeof Blob){for(var r=[],n=0;n<t.length;n++)r[n]=t.charCodeAt(n);var o=new Uint8Array(r);return new Blob([o],{type:e})}throw new Error("stringToBlob is not currently supported on Node")}function N(t){if("undefined"!==typeof Blob)return new Blob([JSON.stringify(t)],{type:"application/json"});throw new Error("objectToJsonBlob is not currently supported on Node")}function P(t,e,r,n,o){return C.apply(this,arguments)}function C(){return C=(0,i.Z)((0,o.Z)().mark((function t(e,r,n,i,a){var s,u,c,p,f,h,d,m=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=m.length>5&&void 0!==m[5]?m[5]:"",t.prev=1,u=i.split(".").pop(),t.next=5,(0,l.f)(e,a).then((function(t){return!!t.resources.find((function(t){return t.resource===i}))}));case 5:return c=t.sent,p=c?b.a:E,f=n,"json"===u&&(f=N(n)),"txt"===u&&(f=A(n)),t.next=12,p(Object.assign({id:e,owner:r,resource:f,name:i,prefix:s},a));case 12:if(t.sent.success){t.next=15;break}throw new _("Add Item Resource","Error adding resource ".concat(i," to item ").concat(e,"."));case 15:return h=(0,g.a)(a.portal),d=s?"".concat(s,"/"):"",t.abrupt("return","".concat(h,"/content/items/").concat(e,"/resources/").concat(d).concat(i));case 20:if(t.prev=20,t.t0=t.catch(1),!(t.t0 instanceof Error)){t.next=26;break}throw new _("Add Item Resource",t.t0.message,t.t0);case 26:throw new _("Add Item Resource","Error adding resource ".concat(i," to item ").concat(e,"."));case 27:case"end":return t.stop()}}),t,null,[[1,20]])}))),C.apply(this,arguments)}function R(t,e){return Promise.all([(0,l.g)(t,e),(0,l.c)(t,e)]).then((function(t){return{item:t[0],data:t[1]}}))}function M(t,e){var r=(0,h.c)(t.item);r.data=(0,h.c)(t.data),r.extent&&"string"!==typeof r.extent&&(r.extent=(0,f.d)(r.extent));var n=Object.assign({item:r},e);return(0,d.c)(n).then((function(t){return R(t.id,e)}))}function U(t,e){var r=(0,h.c)(t.item);r.data=(0,h.c)(t.data),r.extent&&"string"!==typeof r.extent&&(r.extent=(0,f.d)(r.extent)),function(t){return["description","snippet"].some((function(e){return""===t[e]}))}(r)&&(e.params=Object.assign(Object.assign({},e.params),{clearEmptyFields:!0}));var n=Object.assign({item:r},e);return(0,b.u)(n).then((function(){return R(r.id,e)}))}function Y(t,e,r){return B.apply(this,arguments)}function B(){return(B=(0,i.Z)((0,o.Z)().mark((function t(e,r,n){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],r.forEach((function(t){i.push(P(e.item.id,e.item.owner,t.resource,t.filename,n))})),t.abrupt("return",Promise.all(i).then((function(){var t=r.reduce((function(t,e){return t[e.filename.split(".").shift()]=e.resource,t}),{});return Object.assign({resources:t},e)})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t,e){return H.apply(this,arguments)}function H(){return(H=(0,i.Z)((0,o.Z)().mark((function t(e,r){var n;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.c)(e.id,r);case 2:return n=t.sent,t.abrupt("return",{item:e,data:n});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t,e,r){return L.apply(this,arguments)}function L(){return L=(0,i.Z)((0,o.Z)().mark((function t(e,r,a){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object.entries(r).reduce(function(){var t=(0,i.Z)((0,o.Z)().mark((function t(r,i){var s,u,c,p,f;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(0,n.Z)(i,2),u=s[0],c=s[1],p=(0,x.f)(l.h,null),t.next=4,p(e.id,Object.assign({fileName:c,readAs:c.split(".").pop()},a));case 4:return(f=t.sent)&&(r[u]=f),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),{}));case 1:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}var Q=function(){function t(e){(0,s.Z)(this,t),this.mappings=e}return(0,a.Z)(t,[{key:"modelToObject",value:function(t,e){var r=function(t,e,r){return V(t,"modelKey",e,"objectKey",r)}(t,e,this.mappings);return(0,k.s)("canEdit",["admin","update"].includes(t.item.itemControl),r),(0,k.s)("canDelete","admin"===t.item.itemControl,r),r}},{key:"objectToModel",value:function(t,e){return function(t,e,r){return V(t,"objectKey",e,"modelKey",r)}(t,e,this.mappings)}}]),t}();function V(t,e,r,n,o){var i=(0,h.c)(r);return o.forEach((function(r){var o=(0,q.g)(r,e),a=(0,q.g)(r,n),s=(0,q.g)(t,o);null!==s&&void 0!==s&&(0,k.d)(i,a,s)})),i}function W(){var t=Object.keys(S),e=[];return["access","created","culture","description","extent","id","itemControl","modified","owner","tags","type","typeKeywords","thumbnail","url"].forEach((function(t){e.push({objectKey:t,modelKey:"item.".concat(t)})})),["display","geometry","view"].forEach((function(t){e.push({objectKey:t,modelKey:"data.".concat(t)})})),t.forEach((function(t){e.push({objectKey:t,modelKey:"resources.".concat(t)})})),e.push({objectKey:"slug",modelKey:"item.properties.slug"}),e.push({objectKey:"summary",modelKey:"item.snippet"}),e.push({objectKey:"schemaVersion",modelKey:"item.properties.schemaVersion"}),e.push({objectKey:"orgUrlKey",modelKey:"item.properties.orgUrlKey"}),e.push({objectKey:"name",modelKey:"item.title"}),e.push({objectKey:"boundary",modelKey:"item.properties.boundary"}),e}function z(t,e){var r=Object.assign(Object.assign({},e),t),n=Object.keys(e);return Object.keys(r).reduce((function(t,e){return n.includes(e)||t.push(e),t}),[]).forEach((function(t){delete r[t]})),r}function $(t,e,r){var n,o;r.authentication&&(o=r.authentication.token);return e.thumbnailUrl=(0,O.a)(t.item,r,o),e.createdDate=new Date(t.item.created),e.createdDateSource="item.created",e.updatedDate=new Date(t.item.modified),e.updatedDateSource="item.modified",e.capabilities=z((null===(n=t.data.settings)||void 0===n?void 0:n.capabilities)||{},K.c),e}function X(){var t=W();return t.push({objectKey:"status",modelKey:"data.status"}),t.push({objectKey:"catalog",modelKey:"data.catalog"}),t.push({objectKey:"permissions",modelKey:"data.permissions"}),t.push({objectKey:"capabilities",modelKey:"data.settings.capabilities"}),t}},91466:function(t,e,r){r.d(e,{s:function(){return o}});var n=r(90251);function o(t){return(0,n.g)(t,"item")}},67258:function(t,e,r){r.d(e,{d:function(){return o},s:function(){return i}});var n=r(25434);function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.split("."),i=t,a=o.length-1;o.forEach((function(t,e){i.hasOwnProperty(t)&&null!=i[t]?e===a&&("object"!==typeof i[t]||Array.isArray(i[t])?i[t]=r:i[t]=Object.assign(i[t],(0,n.c)(r))):i[t]=e===a?r:{},i=i[t]}))}function i(t,e,r){Array.isArray(t)&&(t=t.join(".")),o(r,t,e)}},21923:function(t,e,r){r.d(e,{a:function(){return u},m:function(){return c},u:function(){return s}});var n=r(63613),o=r(98825),i=r(69207),a=r(77843);function s(t){return(0,i.d)(t).then((function(e){var r=t.folderId?(0,o.g)(t)+"/content/users/"+e+"/"+t.folderId+"/items/"+t.item.id+"/update":(0,o.g)(t)+"/content/users/"+e+"/items/"+t.item.id+"/update";return t.params=(0,n._)((0,n._)({},t.params),(0,i.s)(t.item)),t.params.extent&&(0,i.i)(t.params.extent)&&(t.params.extent=(0,i.b)(t.params.extent)),(0,a.r)(r,t)}))}function u(t){return(0,i.d)(t).then((function(e){var r=(0,o.g)(t)+"/content/users/"+e+"/items/"+t.id+"/updateResources";return t.params=(0,n._)({file:t.resource,fileName:t.name,resourcesPrefix:t.prefix,text:t.content},t.params),"undefined"!==typeof t.private&&(t.params.access=t.private?"private":"inherit"),(0,a.r)(r,t)}))}function c(t){return(0,i.d)(t).then((function(e){var r=(0,o.g)(t)+"/content/users/"+e+"/items/"+t.itemId+"/move",i=t.folderId;return i||(i="/"),t.params=(0,n._)({folder:i},t.params),(0,a.r)(r,t)}))}}}]);
//# sourceMappingURL=66287.f608ea26.chunk.js.map