{"version":3,"file":"static/js/40957.e752d705.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/analysis/LineOfSightAnalysisObserver.js","../node_modules/@arcgis/core/analysis/LineOfSightAnalysisTarget.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightComputation.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightIntersectionResult.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightRayIntersector.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightController.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightToolConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/lineOfSightToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightTool.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSight/LineOfSightVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/LineOfSightAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as e}from\"./featureReferenceUtils.js\";import t from\"../core/Accessor.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{equalsMaybe as p}from\"../core/maybe.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import m from\"../geometry/Point.js\";import l from\"../symbols/support/ElevationInfo.js\";let f=class extends(i(s(t))){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return p(this.position,o.position)&&p(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([a({type:m}),n()],f.prototype,\"position\",void 0),o([a({type:l}),n()],f.prototype,\"elevationInfo\",void 0),o([a(e)],f.prototype,\"feature\",void 0),f=o([c(\"esri.analysis.LineOfSightAnalysisObserver\")],f);const u=f;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as t}from\"./featureReferenceUtils.js\";import{Clonable as e}from\"../core/Clonable.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as i}from\"../core/maybe.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import{persistable as n}from\"../core/accessorSupport/decorators/persistable.js\";import c from\"../geometry/Point.js\";import l from\"../symbols/support/ElevationInfo.js\";let m=class extends(s(e)){constructor(o){super(o),this.position=null,this.elevationInfo=null,this.feature=null}equals(o){return i(this.position,o.position)&&i(this.elevationInfo,o.elevationInfo)&&r(this.feature,o.feature)}};o([p({type:c}),n()],m.prototype,\"position\",void 0),o([p({type:l}),n()],m.prototype,\"elevationInfo\",void 0),o([p(t)],m.prototype,\"feature\",void 0),m=o([a(\"esri.analysis.LineOfSightAnalysisTarget\")],m);const f=m;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../core/maybe.js\";function t(e,t){return l(e)===l(t)}function l(t){if(e(t))return null;const l=null!=t.layer?t.layer.id:\"\";let r=null;return r=null!=t.objectId?t.objectId:null!=t.layer&&\"objectIdField\"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==r?null:`o-${l}-${r}`}const r={json:{write:{writer:n,target:{\"feature.layerId\":{type:[Number,String]},\"feature.objectId\":{type:[Number,String]}}},origins:{\"web-scene\":{read:u}}}};function n(t,l){e(t)||null==t.layer?.objectIdField||null==t.attributes||(l.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})}function u(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}export{t as featureReferenceEquals,r as featureReferenceProperty,l as getFeatureId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as t}from\"../../multiOriginJSONSupportUtils.js\";import{isAbsolute as r,isBlobProtocol as e,join as o,getPathExtension as s}from\"../../urlUtils.js\";import{generateUUID as n}from\"../../uuid.js\";import{getPropertyMetadata as i}from\"../metadata.js\";import{nameToId as a}from\"../PropertyOrigin.js\";import{propertyJSONMeta as p}from\"./property.js\";import{getResourceContentExtension as u}from\"../../../portal/support/resourceExtension.js\";import{r as c,t as l,M as m,i as f,p as y,a as d}from\"../../../chunks/persistableUrlUtils.js\";function g(t){const r=t?.origins??[void 0];return(e,o)=>{const s=h(t,e,o);for(const t of r){const r=p(e,t,o);for(const t in s)r[t]=s[t]}}}function h(t,r,e){if(\"resource\"===t?.type)return v(t,r,e);switch(t?.type??\"other\"){case\"other\":return{read:!0,write:!0};case\"url\":{const{read:t,write:r}=d;return{read:t,write:r}}}}function v(o,s,n){const p=i(s,n);return{type:String,read:(t,r,e)=>{const o=c(t,r,e);return p.type===String?o:\"function\"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,i,u,c){if(!c||!c.resources)return\"string\"==typeof s?void(i[u]=l(s,c)):void(i[u]=s.write({},c));const y=x(s),d=l(y,{...c,verifyItemRelativeUrls:c&&c.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},m.NO),g=p.type!==String&&(!t(this)||c&&c.origin&&this.originIdOf(n)>a(c.origin)),h={object:this,propertyName:n,value:s,targetUrl:d,dest:i,targetPropertyName:u,context:c,params:o};c&&c.portalItem&&d&&!r(d)?g?w(h):j(h):c&&c.portalItem&&(null==d||null!=f(d)||e(d)||g)?U(h):i[u]=d}}}}function U(t){const{targetUrl:r,params:s,value:i,context:a,dest:p,targetPropertyName:c}=t;if(!a.portalItem)return;const l=y(r),m=l?.filename??n(),f=s?.prefix??l?.prefix,d=N(i,r,a),g=o(f,m),h=`${g}.${u(d)}`,v=a.portalItem.resourceFromPath(h);e(r)&&a.resources&&a.resources.pendingOperations.push(P(r).then((t=>{v.path=`${g}.${u(t)}`,p[c]=v.itemRelativeUrl})).catch((()=>{})));const U=s?.compress??!1;a.resources&&I({...t,resource:v,content:d,compress:U,updates:a.resources.toAdd}),p[c]=v.itemRelativeUrl}function w(t){const{context:r,targetUrl:e,params:o,value:n,dest:i,targetPropertyName:a}=t;if(!r.portalItem)return;const p=r.portalItem.resourceFromPath(e),c=N(n,e,r),l=u(c),m=s(p.path),f=o?.compress??!1;l===m?(r.resources&&I({...t,resource:p,content:c,compress:f,updates:r.resources.toUpdate}),i[a]=e):U(t)}function j({context:t,targetUrl:r,dest:e,targetPropertyName:o}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),e[o]=r)}function I({object:t,propertyName:r,updates:e,resource:o,content:s,compress:n}){e.push({resource:o,content:s,compress:n,finish:e=>{O(t,r,e)}})}function N(t,r,e){return\"string\"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:\"application/json\"})}async function P(t){const r=(await import(\"../../../request.js\")).default,{data:e}=await r(t,{responseType:\"blob\"});return e}function x(t){return null==t?null:\"string\"==typeof t?t:t.url}function O(t,r,e){\"string\"==typeof t[r]?t[r]=e.url:t[r].url=e.url}export{g as persistable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function t(i){return o[p(i)]||e}function p(i){return i instanceof Blob?i.type:n(i.url)}function n(t){const p=i(t);return g[p]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const c in g)o[g[c]]=c;export{t as getResourceContentExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import r from\"../../../../core/Accessor.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{constructor(o){super(o),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new e([3,252,111,1]),this.visibleOuterColor=new e([3,252,111,.15]),this.occludedInnerColor=new e([252,3,69,1]),this.occludedOuterColor=new e([252,3,69,.1]),this.undefinedInnerColor=new e([255,255,255,1]),this.undefinedOuterColor=new e([127,127,127,.2])}};o([t({type:Number})],s.prototype,\"innerWidth\",void 0),o([t({type:Number})],s.prototype,\"outerWidth\",void 0),o([t({type:e})],s.prototype,\"visibleInnerColor\",void 0),o([t({type:e})],s.prototype,\"visibleOuterColor\",void 0),o([t({type:e})],s.prototype,\"occludedInnerColor\",void 0),o([t({type:e})],s.prototype,\"occludedOuterColor\",void 0),o([t({type:e})],s.prototype,\"undefinedInnerColor\",void 0),o([t({type:e})],s.prototype,\"undefinedOuterColor\",void 0),s=o([i(\"esri.views.3d.analysis.LineOfSight.LineOfSightConfiguration\")],s);export{s as LineOfSightConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(o){super(o),this.target=null,this.intersectedGraphic=null,this.intersectedLocation=null,this.elevationAlignedTargetLocation=null,this.visible=void 0}};o([e()],s.prototype,\"target\",void 0),o([e()],s.prototype,\"intersectedGraphic\",void 0),o([e()],s.prototype,\"intersectedLocation\",void 0),o([e()],s.prototype,\"elevationAlignedTargetLocation\",void 0),o([e({type:Boolean})],s.prototype,\"visible\",void 0),s=o([r(\"esri.views.3d.analysis.LineOfSightAnalysisResult\")],s);export{s as LineOfSightAnalysisResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";let i=class extends o{constructor(t){super(t),this.elevationAlignedTargetLocation=null,this.inputPoints={isValid:!1,observer:s(),observerSurfaceNormal:null,observerFeatureId:null,target:s(),targetSurfaceNormal:null,targetFeatureId:null,observerAdjusted:s(),targetAdjusted:s()},this.computationResult={start:s(),end:s(),intersection:s(),isValid:!1,isTargetVisible:!1},this.result=null}notifyResultChanged(){this.notifyChange(\"computationResult\")}notifyInputPointsChanged(){this.notifyChange(\"inputPoints\")}};t([e()],i.prototype,\"target\",void 0),t([e()],i.prototype,\"elevationAlignedTargetLocation\",void 0),t([e()],i.prototype,\"inputPoints\",void 0),t([e()],i.prototype,\"computationResult\",void 0),t([e()],i.prototype,\"result\",void 0),i=t([r(\"esri.views.3d.analysis.LineOfSight.LineOfSightComputation\")],i);export{i as LineOfSightComputation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../core/Accessor.js\";import{equals as t}from\"../../../../core/arrayUtils.js\";import{clone as s}from\"../../../../core/lang.js\";import{equalsMaybe as e}from\"../../../../core/maybe.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{F as n}from\"../../../../chunks/vec3.js\";import{a as c}from\"../../../../chunks/vec3f64.js\";import{equals as a}from\"../../../../geometry/support/ray.js\";var m;let y=m=class extends o{constructor(r){super(r)}clone(){return new m({type:this.type,id:s(this.id),mapPoint:s(this.mapPoint),renderPoint:c(this.renderPoint),normal:s(this.normal),ray:s(this.ray),graphic:this.graphic})}equals(r){return this.type===r.type&&this.id===r.id&&e(this.mapPoint,r.mapPoint)&&n(this.renderPoint,r.renderPoint)&&t(this.normal,r.normal)&&a(this.ray,r.ray)&&this.graphic===r.graphic}};r([i()],y.prototype,\"type\",void 0),r([i({constructOnly:!0})],y.prototype,\"id\",void 0),r([i({constructOnly:!0})],y.prototype,\"mapPoint\",void 0),r([i({constructOnly:!0})],y.prototype,\"renderPoint\",void 0),r([i({constructOnly:!0})],y.prototype,\"normal\",void 0),r([i({constructOnly:!0})],y.prototype,\"graphic\",void 0),r([i({constructOnly:!0})],y.prototype,\"ray\",void 0),y=m=r([p(\"esri.views.3d.analysis.LineOfSight.LineOfSightIntersectionResult\")],y);export{y as LineOfSightIntersectionResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{isNone as t,isSome as s}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o}from\"../../../../core/screenUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c,n as a,g as p,a as m}from\"../../../../chunks/vec3.js\";import{a as l,c as d}from\"../../../../chunks/vec3f64.js\";import{create as u,copy as h,fromPoints as f}from\"../../../../geometry/support/ray.js\";import{sv2d as y}from\"../../../../geometry/support/vectorStacks.js\";import{getObjectId as g}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{LineOfSightIntersectionResult as I}from\"./LineOfSightIntersectionResult.js\";import{isI3sIntersectorResult as j}from\"../../layers/i3s/Intersector.js\";import{fromScreen as v}from\"../../support/geometryUtils/ray.js\";import{isTerrainIntersectorResult as w}from\"../../terrain/Intersector.js\";import{newIntersector as b}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as P,IntersectorType as R}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as S}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";let U=class extends r{constructor(e){super(e),this._terrainIntersectionOptionsLayerUids=new Set([\"terrain\"])}initialize(){this.intersector=b(this.view.state.viewingMode),this.intersector.options.hud=!1,this.intersector.options.store=P.MIN}getScreenPointIntersection(e){const r=o(e,y.get()),t=v(this.view.state.camera,r,_);return this._getRayIntersection(t)}_getRayIntersection(e,r){if(t(e)||t(this.view.sceneIntersectionHelper))return null;this.intersector.options.store=P.MIN,this.view.sceneIntersectionHelper.intersectToolIntersectorRay(e,this.intersector,r);const o=this.intersector.results.min,i=d();if(!o.getIntersectionPoint(i))return null;const n=this.view.renderCoordsHelper.fromRenderCoords(i,this.view.spatialReference),c=l(o.normal);if(j(o))return new I({type:R.OBJECT,id:`${o.target.layerUid}/${o.target.nodeIndex}/${o.target.componentIndex}`,mapPoint:n,renderPoint:i,normal:c,ray:h(e),graphic:null});if(w(o))return new I({type:R.TERRAIN,id:o.target.lij.slice(),mapPoint:n,renderPoint:i,normal:c,ray:h(e),graphic:null});const a=S(o,this.view);if(s(a)){const r=a.layer,t=a.sourceLayer;let s;if(t)if(\"scene\"===t.type)s=g(a,t.objectIdField);else s=a.uid;else s=a.uid;return new I({type:R.OBJECT,id:`${r?.uid}/${s}`,mapPoint:n,renderPoint:i,normal:c,ray:h(e),graphic:a})}return null}updateFromGroundIntersection(e,r,t){const o=O,i=C,n=L,d=T;c(i,e),this.view.renderCoordsHelper.worldUpAtPosition(i,n),a(n,n);const u=this.view.basemapTerrain.visibleElevationBounds,h=u?Math.abs(u.max-u.min):100,y=r>=0?1:-1;p(d,n,y*(h+Math.abs(r))),m(o,i,d),f(o,i,_);const g=this._getRayIntersection(_,{include:this._terrainIntersectionOptionsLayerUids});return s(g)?(p(d,n,y*r),m(t,g.renderPoint,d),l(g.normal)):(c(t,e),null)}};e([i()],U.prototype,\"view\",void 0),e([i()],U.prototype,\"intersector\",void 0),U=e([n(\"esri.views.3d.analysis.LineOfSight.LineOfSightRayIntersector\")],U);const O=d(),C=d(),L=d(),T=d(),_=u();export{U as LineOfSightRayIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import{getFeatureId as t}from\"../../../../analysis/featureReferenceUtils.js\";import o from\"../../../../core/Accessor.js\";import{createTask as i}from\"../../../../core/asyncUtils.js\";import n from\"../../../../core/Evented.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as s,makeHandle as a}from\"../../../../core/handleUtils.js\";import l from\"../../../../core/Logger.js\";import{isNone as c,isSome as d,abortMaybe as u,unwrapOr as p,none as h}from\"../../../../core/maybe.js\";import{ignoreAbortErrors as g}from\"../../../../core/promiseUtils.js\";import{initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as _,i as b,b as y,n as C,g as I,a as T,j as P,w as O}from\"../../../../chunks/vec3.js\";import{c as S}from\"../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as j}from\"../../../../core/support/WatchUpdatingTracking.js\";import{projectOrLoad as w,projectBoundingRect as R}from\"../../../../geometry/projection.js\";import{empty as A,containsPointObject as E,intersectsSegment as H}from\"../../../../geometry/support/aaBoundingRect.js\";import{fromPoints as F,create as L}from\"../../../../geometry/support/ray.js\";import{zValueInAbsoluteHeightMode as V}from\"../../../../support/elevationInfoUtils.js\";import{LineOfSightAnalysisResult as D}from\"../LineOfSightAnalysisResult.js\";import{LineOfSightComputation as x}from\"./LineOfSightComputation.js\";import{LineOfSightRayIntersector as N}from\"./LineOfSightRayIntersector.js\";import{logFailedGeometryProjectionError as k}from\"../support/projectionUtils.js\";import{StoreResults as G}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as z,hasLod as U,getIntersectedFeatureBSRadius as M}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{ImmediateTask as Z,TaskPriority as q}from\"../../../support/Scheduler.js\";import B from\"../../../../geometry/Point.js\";const W=\"esri.views.3d.analysis.LineOfSight.LineOfSightController\",J=l.getLogger(W);let K=class extends(n.EventedMixin(o)){constructor(e){super(e),this.updateOnCameraChange=!0,this._observerGroundOffsetRenderSpace=0,this._effectiveObserverElevationMode=\"absolute-height\",this._observerFeatureId=null,this._updatingHandles=new j,this._frameTask=Z,this._handles=new r,this._computationHandles=new r,this._externalObserverUpdate=!0}initialize(){const e=this.view.resourceController?.scheduler;this._frameTask=e?e.registerTask(q.LINE_OF_SIGHT_TOOL):Z,this._intersector=new N({view:this.view}),this._handles.add([this._connectObserver(),this._connectComputations(),this._connectTargets()])}destroy(){this._handles.destroy(),this._computationHandles.destroy(),this._computations.removeAll(),this._updatingHandles.destroy()}get updating(){return this._frameTask.updating||this._updatingHandles.updating}get priority(){return this._frameTask.priority}set priority(e){this._frameTask.priority=e}get _computations(){return this.analysisViewData.computations}get _elevationAlignedObserverPositionRenderSpace(){return this.analysisViewData.observerEngineLocation}set _elevationAlignedObserverPositionRenderSpace(e){this.analysisViewData.observerEngineLocation=e}get _screenPixelSize(){return this.view.state.camera.computeScreenPixelSizeAt(this._elevationAlignedObserverPositionRenderSpace)}_computeResult(e){const t=e.computation,{inputPoints:o,computationResult:i}=t,{observerAdjusted:n,targetAdjusted:r}=o,{start:s,end:a}=i;_(s,n),_(a,r);this._canCompute(t)?this._computeIntersection(e):this._interpolateIntersection(e),t.notifyResultChanged(),this.emit(\"result-changed\",{target:e.computation.target,result:t.result})}_updateAdjustedPointsFromFeatures(e){const o=this.view,{sceneIntersectionHelper:i}=o,{inputPoints:n}=e,{observerAdjusted:r,observerFeatureId:s,targetFeatureId:a,targetAdjusted:l}=n;if(c(s)&&c(a))return;const u=b(r,l),p=this._intersector.intersector,h=F(n.observer,n.target,Y);p.options.store=G.ALL,i.intersectToolIntersectorRay(h,p);let g=null,v=null,m=null,f=null;for(const _ of p.results.all){const e=z(_,this.view);if(c(e)||c(_.distanceInRenderSpace))continue;const i=t(e);c(i)||(d(s)&&i===s&&(c(g)&&(g=this._getFeatureDistanceThreshold(_,o,u)),_.distanceInRenderSpace<g&&(m=_)),d(a)&&i===a&&(c(v)&&(v=this._getFeatureDistanceThreshold(_,o,u)),c(f)&&_.distanceInRenderSpace<u&&u-_.distanceInRenderSpace<v&&(f=_)))}d(m)&&m.getIntersectionPoint(r)&&(n.observerSurfaceNormal=m.getTransformedNormal(S())),d(f)&&f.getIntersectionPoint(l)&&(n.targetSurfaceNormal=f.getTransformedNormal(S()))}_getFeatureDistanceThreshold(e,t,o){if(U(e)){const i=M(e,t);if(d(i))return Math.min(i*ee,o)}return 1e-5*o}_adjustStartEndPositions(e){const t=this._screenPixelSize,o=this.view,{inputPoints:i}=e,{observer:n,observerSurfaceNormal:r,target:s,targetSurfaceNormal:a,observerAdjusted:l,targetAdjusted:c}=i,u=X;_(l,n),_(c,s),this._updateAdjustedPointsFromFeatures(e),d(r)?_(u,r):y(u,c,l);const p=t;C(u,u),I(u,u,Math.min(p,1)),T(l,l,u),d(a)?_(u,a):y(u,l,c);const h=o.state.camera.computeScreenPixelSizeAt(c);C(u,u),I(u,u,Math.min(h,1)),T(c,c,u)}_computeIntersection({computation:e,interpolationInfo:t}){const{view:o}=this,{sceneIntersectionHelper:i,renderCoordsHelper:n}=o;if(c(i))return;const r=this._intersector.intersector,{computationResult:s,inputPoints:a}=e,{observer:l,target:u}=a,{start:p,end:h}=s,g=F(p,h,Y);r.options.store=G.MIN,i.intersectToolIntersectorRay(g,r);const v=r.results.min,m=s.intersection,f=X;let b=!0;if(d(v)&&v.getIntersectionPoint(m)){_(t.originalIntersection,m),_(t.originalObserver,p),_(t.originalTarget,h),n.fromRenderCoords(m,f,o.spatialReference);const e=1-P(h,u)/P(p,u);b=P(l,m)>=e*P(l,u)}const y=new B(f,o.spatialReference);{const{result:t,target:i}=e;d(t)?(t.target=i,t.intersectedGraphic=b?null:z(v,o),t.intersectedLocation=b?null:y,t.visible=b):e.result=new D({target:i,elevationAlignedTargetLocation:e.elevationAlignedTargetLocation,intersectedGraphic:b?null:z(v,o),intersectedLocation:b?null:y,visible:b})}s.isValid=a.isValid=!0,s.isTargetVisible=b}_interpolateIntersection({computation:e,interpolationInfo:t}){const{computationResult:o,inputPoints:i}=e,{start:n,end:r,intersection:s}=o,{originalIntersection:a,originalObserver:l,originalTarget:c}=t;if(_(s,a),i.isValid){const e=X,t=P(l,a)/P(l,c);O(e,n,l),I(e,e,1-t),T(s,s,e),O(e,r,c),I(e,e,t),T(s,s,e),o.isValid=!0}else e.result=null,o.isValid=!1,o.isTargetVisible=!1}_canCompute(e){const t=this.analysisViewData.elevationAlignedObserver,o=this.view.frustum;if(c(t)||c(e.elevationAlignedTargetLocation)||c(o))return!1;const{observerAdjusted:i,targetAdjusted:n}=e.inputPoints,r=o.intersectsPoint(i),s=o.intersectsPoint(n);return r&&s}_onObserverPositionChange(e,o,i,n,r){if(this._externalObserverUpdate=r,c(e))return this.analysisViewData.elevationAlignedObserver=null,void(this._observerFeatureId=null);if(c(o))return k(this.analysis,e.spatialReference,J),void(this.analysisViewData.elevationAlignedObserver=null);const s=this._getEffectiveElevationInfo(o,i),{absoluteZ:a,elevation:l}=V(o.x,o.y,o.z,this.view.spatialReference,this.view,s),d=o.clone();d.z=a,this._effectiveObserverElevationMode=s.mode,this.analysisViewData.elevationAlignedObserver=d;const u=S();this.view.renderCoordsHelper.toRenderCoords(d,u),this._elevationAlignedObserverPositionRenderSpace=u,this._observerGroundOffsetRenderSpace=a-l,this._observerFeatureId=t(n),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n){const{inputPoints:r}=e;switch(_(r.observer,t),r.observerFeatureId=n,r.observerSurfaceNormal=null,i){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(r.observer,o,r.observer);c(r.observerFeatureId)&&(r.observerSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_onTargetPositionChange(e,o,i,n,r,s=!0){const a=e.inputPoints;if(s&&(a.isValid=!1),c(i))return d(o)&&k(this.analysis,o.spatialReference,J),e.elevationAlignedTargetLocation=null,void e.notifyInputPointsChanged();const l=this._getEffectiveElevationInfo(i,n),{absoluteZ:u,elevation:p}=V(i.x,i.y,i.z,this.view.spatialReference,this.view,l),h=i.clone();switch(h.z=u,e.elevationAlignedTargetLocation=h,this.view.renderCoordsHelper.toRenderCoords(e.elevationAlignedTargetLocation,a.target),a.targetFeatureId=t(r),a.targetSurfaceNormal=null,l.mode){case\"on-the-ground\":case\"relative-to-ground\":{const e=this._intersector.updateFromGroundIntersection(a.target,u-p,a.target);c(a.targetFeatureId)&&(a.targetSurfaceNormal=e)}}this._adjustStartEndPositions(e),e.notifyInputPointsChanged(),this.priority=q.LINE_OF_SIGHT_TOOL_INTERACTIVE}_connectComputationToTarget(e){return s([this._updatingHandles.add((()=>({computation:e,targetPosition:e.target.position,targetElevationInfo:e.target.elevationInfo,targetFeatureInfo:e.target.feature,projectedTargetPosition:w(e.target.position,this.view.spatialReference)})),(({computation:e,targetPosition:t,targetElevationInfo:o,targetFeatureInfo:i,projectedTargetPosition:n})=>{d(n.pending)?this._updatingHandles.addPromise(n.pending):this._onTargetPositionChange(e,t,n.geometry,o,i)}),v)])}_connectComputationToObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this.analysisViewData.elevationAlignedObserver})),(({computation:e})=>{this._externalObserverUpdate&&(e.inputPoints.isValid=!1,e.notifyInputPointsChanged())}),v)}_connectComputationToRenderSpaceObserver(e){return this._updatingHandles.add((()=>({computation:e,observer:this._elevationAlignedObserverPositionRenderSpace,observerGroundOffset:this._observerGroundOffsetRenderSpace,observerElevationMode:this._effectiveObserverElevationMode,observerFeatureId:this._observerFeatureId})),(({computation:e,observer:t,observerGroundOffset:o,observerElevationMode:i,observerFeatureId:n})=>{this._onObserverRenderSpacePositionChangeForComputation(e,t,o,i,n)}),v)}_connectComputationToCamera(e){return this._updatingHandles.add((()=>({camera:this.view.state.camera,isDirty:this._isCameraDirty})),(({isDirty:t})=>{!this.updateOnCameraChange||e.inputPoints.isValid&&!t||e.notifyInputPointsChanged()}))}_connectComputationToSlicePlane(e){return this._updatingHandles.add((()=>this.view.slicePlane),(()=>{e.inputPoints.isValid=!1,e.notifyInputPointsChanged()}))}_connectComputationToElevation(e){const t=(o,i)=>{const n=this.analysis.observer,r=e.target;let s=null,a=null,l=null,u=null,p=null,h=null;if(d(n)&&d(n.position)){const e=w(n.position,this.view.spatialReference);if(d(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));s=e.geometry,a=n.elevationInfo,l=n.feature}if(d(r.position)){const e=w(r.position,this.view.spatialReference);if(d(e.pending))return this._updatingHandles.addPromise(e.pending),void e.pending.finally((()=>t(o,i)));u=e.geometry,p=r.elevationInfo,h=r.feature}c(s)&&c(u)||(R(o,i,$,this.view.spatialReference),d(s)&&E($,s)&&this._onObserverPositionChange(d(n)?n.position:null,s,a,l,!1),d(u)&&E($,u)&&this._onTargetPositionChange(e,r.position,u,p,h,!1),d(s)&&d(u)&&H($,s,u)&&e.notifyInputPointsChanged())};return this.view.elevationProvider.on(\"elevation-change\",(e=>t(e.extent,e.spatialReference)))}_connectComputationToTask(e){let t=h;const o={computation:e,interpolationInfo:{originalIntersection:S(),originalObserver:S(),originalTarget:S()}};return s([this._updatingHandles.add((()=>e.inputPoints),(()=>{t=u(t),t=i((async e=>{await g(this._frameTask.schedule((()=>this._computeResult(o)),e))}))}),{initial:!0,equals:()=>!1}),a((()=>t=u(t)))])}_connectComputation(e){const t=this._computationHandles;t.has(e)||t.add([this._connectComputationToTarget(e),this._connectComputationToObserver(e),this._connectComputationToRenderSpaceObserver(e),this._connectComputationToCamera(e),this._connectComputationToSlicePlane(e),this._connectComputationToElevation(e),this._connectComputationToTask(e)],e)}_disconnectComputation(e){this._computationHandles.remove(e)}_onComputationCollectionChange({added:e,removed:t}){for(const o of t)this._disconnectComputation(o);for(const o of e)this._connectComputation(o)}_onTargetCollectionChange({added:e,removed:t}){for(const o of t)this._removeTarget(o);for(const o of e)this._addTarget(o)}_onCursorTargetChange(e,t){d(t)&&this._removeTarget(t),d(e)&&this._addTarget(e)}_addTarget(e){this._computations.some((t=>t.target===e))||this._computations.add(new x({target:e}))}_removeTarget(e){const t=this._computations.findIndex((t=>t.target===e));this._computations.removeAt(t)}_connectObserver(){return s([this._updatingHandles.add((()=>({observerPosition:d(this.analysis.observer)?this.analysis.observer.position:null,projectedObserverPosition:w(d(this.analysis.observer)?this.analysis.observer.position:null,this.view.spatialReference),observerElevationInfo:d(this.analysis.observer)?this.analysis.observer.elevationInfo:null,observerFeatureInfo:d(this.analysis.observer)?this.analysis.observer.feature:null})),(({observerPosition:e,projectedObserverPosition:t,observerElevationInfo:o,observerFeatureInfo:i})=>{d(t.pending)?this._updatingHandles.addPromise(t.pending):this._onObserverPositionChange(e,t.geometry,o,i,!0)}),v)])}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this._computations),(e=>this._onComputationCollectionChange(e)),{initial:!0,final:!0})}_connectTargets(){return s([this._updatingHandles.addOnCollectionChange((()=>this.analysis.targets),(e=>this._onTargetCollectionChange(e)),{initial:!0,final:!0}),this._updatingHandles.add((()=>this.analysisViewData.cursorTarget),((e,t)=>{this._onCursorTargetChange(e,t)}))])}get _isCameraDirty(){const e=this.analysisViewData.elevationAlignedObserver,{view:t}=this,{renderCoordsHelper:o}=t;if(c(e)||c(o))return!1;const i=X;o.toRenderCoords(e,i);const n=t.state.camera.computeScreenPixelSizeAt(i);return Math.abs((n-this._screenPixelSize)/this._screenPixelSize)>Q}_getEffectiveElevationInfo(e,t){return e.hasZ?p(t,{mode:\"absolute-height\",offset:0}):{mode:\"on-the-ground\",offset:0}}};e([m({constructOnly:!0})],K.prototype,\"analysis\",void 0),e([m({constructOnly:!0})],K.prototype,\"analysisViewData\",void 0),e([m({constructOnly:!0})],K.prototype,\"view\",void 0),e([m()],K.prototype,\"updating\",null),e([m()],K.prototype,\"priority\",null),e([m()],K.prototype,\"updateOnCameraChange\",void 0),e([m()],K.prototype,\"_computations\",null),e([m()],K.prototype,\"_elevationAlignedObserverPositionRenderSpace\",null),e([m()],K.prototype,\"_observerGroundOffsetRenderSpace\",void 0),e([m()],K.prototype,\"_effectiveObserverElevationMode\",void 0),e([m()],K.prototype,\"_observerFeatureId\",void 0),e([m()],K.prototype,\"_screenPixelSize\",null),e([m({readOnly:!0})],K.prototype,\"_updatingHandles\",void 0),e([m()],K.prototype,\"_frameTask\",void 0),e([m()],K.prototype,\"_isCameraDirty\",null),K=e([f(W)],K);const Q=.1,X=S(),Y=L(),$=A(),ee=.05;export{K as LineOfSightController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends t{constructor(e){super(e),this.enabled=!0,this.glowColor=new o([255,127,0]),this.glowWidth=8,this.innerColor=new o([255,255,255]),this.innerWidth=.75,this.globalAlpha=.75}};e([r({type:Boolean})],s.prototype,\"enabled\",void 0),e([r({type:o})],s.prototype,\"glowColor\",void 0),e([r({type:Number})],s.prototype,\"glowWidth\",void 0),e([r({type:o})],s.prototype,\"innerColor\",void 0),e([r({type:Number})],s.prototype,\"innerWidth\",void 0),e([r({type:Number})],s.prototype,\"globalAlpha\",void 0),s=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightLaserLineConfiguration\")],s);let n=class extends t{constructor(e){super(e),this.size=.5,this.color=new o([255,127,0,.75])}};e([r({type:Number})],n.prototype,\"size\",void 0),e([r({type:o})],n.prototype,\"color\",void 0),n=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightObserverConfiguration\")],n);let p=class extends t{constructor(e){super(e),this.size=.5,this.visibleColor=new o([3,252,111,.75]),this.occludedColor=new o([252,3,69,.75]),this.undefinedColor=new o([127,127,127,.75])}};e([r({type:Number})],p.prototype,\"size\",void 0),e([r({type:o})],p.prototype,\"visibleColor\",void 0),e([r({type:o})],p.prototype,\"occludedColor\",void 0),e([r({type:o})],p.prototype,\"undefinedColor\",void 0),p=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTargetConfiguration\")],p);class l extends t{constructor(e){super(e),this.innerWidth=2,this.outerWidth=8,this.visibleInnerColor=new o([3,252,111,1]),this.visibleOuterColor=new o([3,252,111,.15]),this.occludedInnerColor=new o([252,3,69,1]),this.occludedOuterColor=new o([252,3,69,.1]),this.undefinedInnerColor=new o([255,255,255,1]),this.undefinedOuterColor=new o([127,127,127,.2])}}e([r({type:Number})],l.prototype,\"innerWidth\",void 0),e([r({type:Number})],l.prototype,\"outerWidth\",void 0),e([r({type:o})],l.prototype,\"visibleInnerColor\",void 0),e([r({type:o})],l.prototype,\"visibleOuterColor\",void 0),e([r({type:o})],l.prototype,\"occludedInnerColor\",void 0),e([r({type:o})],l.prototype,\"occludedOuterColor\",void 0),e([r({type:o})],l.prototype,\"undefinedInnerColor\",void 0),e([r({type:o})],l.prototype,\"undefinedOuterColor\",void 0);let d=class extends t{constructor(e){super(e),this.laserLine=new s,this.observer=new n,this.target=new p,this.lineOfSight=new l}};e([r({type:s})],d.prototype,\"laserLine\",void 0),e([r({type:n})],d.prototype,\"observer\",void 0),e([r({type:p})],d.prototype,\"target\",void 0),e([r({type:l})],d.prototype,\"lineOfSight\",void 0),d=e([i(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightToolConfiguration\")],d);export{l as LineOfSightConfiguration,s as LineOfSightLaserLineConfiguration,n as LineOfSightObserverConfiguration,p as LineOfSightTargetConfiguration,d as LineOfSightToolConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport o from\"../../../../Color.js\";import{Manipulator3D as t}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as r}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as e}from\"../../interactive/RenderObject.js\";import{disableDisplayOnGrab as i}from\"../../interactive/editingTools/manipulatorUtils.js\";import{createSphereGeometry as s}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ManipulatorStateCustomFlags as n}from\"../../../interactive/interfaces.js\";function m(t,i,n){return new e(s(r(o.toUnitRGBA(i)),t,32,32),n)}function u(o){const t=[];return o.customColor1&&t.push(m(o.size,o.customColor1,n.Custom1)),o.customColor2&&t.push(m(o.size,o.customColor2,n.Custom2)),o.customColor3&&t.push(m(o.size,o.customColor3,n.Custom3)),o.color&&t.push(m(o.size,o.color)),t}function c(o,r){const e=u(r),s=new t({view:o,renderObjects:e,elevationInfo:{mode:\"absolute-height\",offset:0}});return i(s),s}export{c as createSphereManipulator,u as createSphereManipulatorRenderObjects};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../analysis/LineOfSightAnalysisObserver.js\";import a from\"../../../../analysis/LineOfSightAnalysisTarget.js\";import r from\"../../../../core/Handles.js\";import n from\"../../../../core/Logger.js\";import{destroyMaybe as s,isSome as o,isNone as l,applySome as c}from\"../../../../core/maybe.js\";import{watch as u,syncAndInitial as h,initial as p}from\"../../../../core/reactiveUtils.js\";import{property as d}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as _}from\"../../../../core/support/WatchUpdatingTracking.js\";import{create as m,fromPoints as v}from\"../../../../geometry/support/lineSegment.js\";import{getGraphicEffectiveElevationInfo as b,getConvertedElevation as y}from\"../../../../support/elevationInfoUtils.js\";import f from\"../../../../symbols/support/ElevationInfo.js\";import{LineOfSightRayIntersector as T}from\"./LineOfSightRayIntersector.js\";import{LineOfSightToolConfiguration as C}from\"./LineOfSightToolConfiguration.js\";import{createSphereManipulator as w,createSphereManipulatorRenderObjects as M}from\"./lineOfSightToolUtils.js\";import{LaserlineVisualElement as L}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{IntersectorType as k}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import\"../../../input/ViewEvents.js\";import{AnalysisToolBase as V}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateCustomFlags as S}from\"../../../interactive/interfaces.js\";import{createScreenPointFromEvent as D}from\"../../../support/screenUtils.js\";import{MouseButton as E}from\"../../../input/IViewEvents.js\";var I;!function(e){e.Ready=\"ready\",e.Creating=\"creating\",e.Created=\"created\"}(I||(I={}));let P=class extends V{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.configuration=new C,this.analysisViewData=null,this._latestPointerMovePointerType=null,this._laserlineVisualElement=null,this._grabbedManipulator=null,this._analysisHandles=new r,this._handles=new r,this._updatingHandles=new _,this._manipulatorHandles=new r,this._targetTrackerManipulator=null}initialize(){this._intersector=new T({view:this.view}),this._handles.add(u((()=>this.state),(e=>{e===I.Created&&this.finishToolCreation()}),h)),this._observerManipulator=this._createObserverManipulator(),this._handles.add([this._updatingHandles.add((()=>({...this.configuration.observer})),(()=>this._updateObserverManipulatorStyle())),this._updatingHandles.add((()=>this.analysisViewData?.elevationAlignedObserver),(e=>this._onObserverLocationChange(e)),p),this._updatingHandles.add((()=>({...this.configuration.laserLine})),(()=>this._createVisualElements()),p),this._updatingHandles.add((()=>this._laserLineRendererDependencies()),(e=>this._updateLaserLineRenderer(e))),this._connectComputations(),this._updatingHandles.addWhen((()=>!this._shouldRenderTracker),(()=>this._clearCursorTracker()),p)])}destroy(){this._updatingHandles=s(this._updatingHandles),this._handles=s(this._handles),this._manipulatorHandles=s(this._manipulatorHandles),this._analysisHandles=s(this._analysisHandles),this._observerManipulator=null,this._clearCursorTracker(),this._removeVisualElements(),this._intersector=null,this._set(\"analysis\",null)}get state(){return this.active?this.hasGrabbedManipulators?I.Created:I.Creating:o(this.analysis.observer)&&o(this.analysis.observer.position)?I.Created:I.Ready}get cursor(){return this.active&&this._showTracker?\"crosshair\":null}get updating(){return o(this.analysisViewData)&&this.analysisViewData.updating||this._updatingHandles.updating}get _showTracker(){return this.active&&\"mouse\"===this._latestPointerMovePointerType}get _shouldRenderTracker(){return this._showTracker&&o(this.analysis.observer)&&o(this.analysis.observer.position)&&!this.hasGrabbedManipulators}continue(){this.view.activeTool=this}stop(){this.view.activeTool=null}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"key-down\":this._keyDownHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickHandler(e)}onShow(){}onHide(){}onDeactivate(){this._clearCursorTracker()}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(e=>this._onComputationsCollectionChange(e)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:e,removed:t}){for(const i of t)this._disconnectComputation(i);for(const i of e)this._connectComputation(i)}_connectComputation(e){if(this.destroyed)return void n.getLogger(this.declaredClass).warn(\"Attempting to connect an analysis to a destroyed LineOfSight tool. Ignoring.\");const t=this._analysisHandles;if(t.has(e))return;const i=this._createTargetManipulator(e.target);l(this._targetTrackerManipulator)&&i.metadata.target===this.analysisViewData.cursorTarget&&(this._targetTrackerManipulator=i,this._targetTrackerManipulator.available=!1,this._targetTrackerManipulator.interactive=!1,this._updateLaserLineRenderer()),t.add([this._updatingHandles.add((()=>this._getLineOfSightManipulatorStateDependencies(e)),(()=>this._updateManipulatorState(i,e)),p),this._updatingHandles.add((()=>e.elevationAlignedTargetLocation),(e=>this._onTargetLocationChange(e,i)),p)],e)}_disconnectComputation(e){if(this.destroyed)return void n.getLogger(this.declaredClass).warn(\"Attempting to disconnect an analysis from a destroyed LineOfSight tool. Ignoring.\");this._analysisHandles.remove(e);const t=this._getTargetManipulator(e.target);o(t)&&(this.manipulators.remove(t),this._manipulatorHandles.remove(t),o(this._targetTrackerManipulator)&&this._targetTrackerManipulator===t&&(this._targetTrackerManipulator=null))}_clearCursorTracker(){this.analysisViewData.cursorTarget=s(this.analysisViewData.cursorTarget)}_createManipulator(e,t,i){const a=w(this.view,e);return a.metadata=i,this._manipulatorHandles.add([t(a),a.events.on(\"grab-changed\",(e=>this._manipulatorGrabChanged(a,e))),a.events.on(\"immediate-click\",(e=>this._manipulatorClick(a,e)))],a),this.manipulators.add(a),a}_createTargetManipulator(e){const t=this.configuration,i={size:t.target.size,customColor1:t.target.visibleColor,customColor2:t.target.occludedColor,customColor3:t.target.undefinedColor,visible:!0},a={target:e,type:\"target\"},r=this._createManipulator(i,(e=>this._createTargetManipulatorDragPipeline(e)),a);return o(e.position)?r.elevationAlignedLocation=e.position:r.available=!1,r}_getTargetManipulator(e){let t=null;return this.manipulators.forEach((i=>{const a=i.manipulator;l(t)&&\"target\"===a.metadata.type&&a.metadata.target===e&&(t=a)})),t}_createObserverManipulator(){const e=this.configuration,t={size:e.observer.size,color:e.observer.color,visible:!0};return this._createManipulator(t,(e=>this._createObserverManipulatorDragPipeline(e)),{type:\"observer\",intersection:null})}_updateObserverManipulatorStyle(){const e=this._observerManipulator,t=this.configuration.observer,i={size:t.size,color:t.color,visible:e.available};e.renderObjects=M(i)}_screenToIntersection(){return e=>{const t=this._intersector.getScreenPointIntersection(e.screenEnd);return l(t)?null:{...e,intersection:t}}}_createTargetManipulatorDragPipeline(e){return O(e,((t,i,a)=>{i.next(this._screenToIntersection()).next(this._updateTargetDragStep(e)).next((()=>this._updateLaserLineRenderer())),a.next(this._cancelTargetDragStep(e.metadata.target)).next((()=>this._updateLaserLineRenderer()))}))}_createObserverManipulatorDragPipeline(e){return O(e,((e,t,i)=>{t.next(this._screenToIntersection()).next(this._updateObserverDragStep()).next((()=>this._updateLaserLineRenderer())),i.next(this._cancelObserverDragStep()).next((()=>this._updateLaserLineRenderer()))}))}_updateObserverDragStep(){return e=>(o(e.intersection.mapPoint)?(l(this.analysis.observer)&&(this.analysis.observer=new i),this._updateFromIntersection(this.analysis.observer,e.intersection)):this.analysis.observer=null,e)}_cancelObserverDragStep(){const e=o(this.analysis.observer)&&o(this.analysis.observer.position)?this.analysis.observer.clone():null;return t=>(this.analysis.observer=e,t)}_updateTargetDragStep(e){return t=>{this._updateFromIntersection(e.metadata.target,t.intersection);const i=t.intersection.mapPoint;return o(i)&&(e.elevationAlignedLocation=i),t}}_cancelTargetDragStep(e){const t=c(e.position,(e=>e.clone()));return i=>(e.position=t,i)}_manipulatorGrabChanged(e,t){switch(t.action){case\"start\":this._grabbedManipulator=e;break;case\"end\":this._grabbedManipulator===e&&(this._grabbedManipulator=null)}}_updateManipulatorState(e,t){const{isValid:i,isTargetVisible:a}=t.computationResult;e.state=i?a?S.Custom1:S.Custom2:S.Custom3}_getLineOfSightManipulatorStateDependencies(e){const{isValid:t,isTargetVisible:i}=e.computationResult;return{isValid:t,isTargetVisible:i}}_laserLineRendererDependencies(){return{laserlineVisualElement:this._laserlineVisualElement,grabbedManipulator:this._grabbedManipulator,shouldRenderTracker:this._shouldRenderTracker,observerPosition:o(this.analysis.observer)?this.analysis.observer.position:null,visible:this.visible}}_updateLaserLineRenderer(e=this._laserLineRendererDependencies()){const{laserlineVisualElement:t,grabbedManipulator:i,shouldRenderTracker:a,observerPosition:r,visible:n}=e;if(l(t))return;const s=o(i)?i:a&&o(r)?this._targetTrackerManipulator:null;this.configuration.laserLine.enabled&&o(s)&&n?(t.visible=!0,t.heightManifoldTarget=s.renderLocation,s!==this._observerManipulator?t.lineVerticalPlaneSegment=v(this._observerManipulator.renderLocation,s.renderLocation,H):t.lineVerticalPlaneSegment=null):(t.visible=!1,t.heightManifoldTarget=null,t.lineVerticalPlaneSegment=null)}_createVisualElements(){const e=this.configuration.laserLine;this._removeVisualElements(),this._laserlineVisualElement=new L({view:this.view,attached:!0,visible:this.visible,style:{glowColor:t.toUnitRGB(e.glowColor),glowWidth:e.glowWidth,innerColor:t.toUnitRGB(e.innerColor),innerWidth:e.innerWidth,globalAlpha:e.globalAlpha}})}_removeVisualElements(){o(this._laserlineVisualElement)&&(this._laserlineVisualElement.destroy(),this._laserlineVisualElement=null)}_onObserverLocationChange(e){l(e)?this._observerManipulator.available=!1:(this._observerManipulator.metadata.intersection=null,this._observerManipulator.available=!0,this._observerManipulator.elevationAlignedLocation=e)}_onTargetLocationChange(e,t){o(e)?(t.elevationAlignedLocation=e,t!==this._targetTrackerManipulator&&(t.available=!0)):t.available=!1}_addPointFromClickEvent(e){const t=this._intersector.getScreenPointIntersection(e);if(!l(t)&&!l(t.mapPoint))if(o(this.analysis.observer)&&o(this.analysis.observer.position)){this._clearCursorTracker();const e=new a;this._updateFromIntersection(e,t),this.analysis.targets.add(e)}else{const e=new i;this._updateFromIntersection(e,t),this.analysis.observer=e}}_clickHandler(e){this.active&&e.button!==E.Right&&(this._addPointFromClickEvent(D(e)),e.stopPropagation())}_doubleClickHandler(e){this.active&&e.button!==E.Right&&(this.stop(),e.stopPropagation())}_keyDownHandler(e){this.active&&\"Escape\"===e.key&&(this.stop(),e.stopPropagation())}_pointerMoveHandler(e){if(this.hasGrabbedManipulators)return;if(this._latestPointerMovePointerType=e.pointerType,this._updateLaserLineRenderer(),!this._showTracker||l(this.analysis.observer)||l(this.analysis.observer.position))return;const t=D(e),i=this._intersector.getScreenPointIntersection(t);o(i)&&o(i.mapPoint)&&(l(this.analysisViewData.cursorTarget)&&(this.analysisViewData.cursorTarget=new a),this._updateFromIntersection(this.analysisViewData.cursorTarget,i),this._updateLaserLineRenderer())}_updateFromIntersection(e,t){if(l(t.mapPoint))return e.position=null,e.elevationInfo=null,void(e.feature=null);switch(t.type){case k.OBJECT:if(o(t.graphic)){const i=t.graphic,a=b(i);\"on-the-ground\"===a.mode&&(a.mode=\"relative-to-ground\",a.offset=0),e.elevationInfo=new f(a),e.feature=i}else e.elevationInfo=null,e.feature=null;break;case k.TERRAIN:case k.I3S:e.elevationInfo=new f({mode:\"on-the-ground\"}),e.feature=null;break;default:e.elevationInfo=null,e.feature=null}const i=t.mapPoint.clone();i.z=y(this.view,i,{mode:\"absolute-height\",offset:0},e.elevationInfo),e.position=i}_manipulatorClick(e,t){if(\"observer\"===e.metadata.type||e.grabbing||e.dragging||t.button!==E.Right||this.analysis.targets.length<=1)return;const{target:i}=e.metadata;this.analysis.targets.remove(i),t.stopPropagation()}get testInfo(){return{laserLineVisualElement:this._laserlineVisualElement}}};e([d({constructOnly:!0})],P.prototype,\"view\",void 0),e([d({constructOnly:!0})],P.prototype,\"analysis\",void 0),e([d({readOnly:!0})],P.prototype,\"state\",null),e([d({readOnly:!0})],P.prototype,\"cursor\",null),e([d()],P.prototype,\"removeIncompleteOnCancel\",void 0),e([d({readOnly:!0})],P.prototype,\"updating\",null),e([d({type:C})],P.prototype,\"configuration\",void 0),e([d({constructOnly:!0})],P.prototype,\"analysisViewData\",void 0),e([d({readOnly:!0})],P.prototype,\"_showTracker\",null),e([d()],P.prototype,\"_latestPointerMovePointerType\",void 0),e([d()],P.prototype,\"_shouldRenderTracker\",null),e([d()],P.prototype,\"_laserlineVisualElement\",void 0),e([d()],P.prototype,\"_grabbedManipulator\",void 0),P=e([g(\"esri.views.3d.interactive.analysisTools.lineOfSight.LineOfSightTool\")],P);const H=m();export{P as LineOfSightTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i,t,s){this.visibleLineVisualElement=e,this.occludedLineVisualElement=i,this.undefinedLineVisualElement=t,this.targetVisualElement=s}destroy(){this.visibleLineVisualElement.destroy(),this.occludedLineVisualElement.destroy(),this.undefinedLineVisualElement.destroy(),this.targetVisualElement.destroy()}}export{e as LineOfSightVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Color.js\";import t from\"../../../../core/Accessor.js\";import n from\"../../../../core/Handles.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s,isNone as r}from\"../../../../core/maybe.js\";import{initial as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as u}from\"../../../../chunks/mat4f64.js\";import{b as d}from\"../../../../chunks/vec3.js\";import{d as m,c as h}from\"../../../../chunks/vec3f64.js\";import{WatchUpdatingTracking as p}from\"../../../../core/support/WatchUpdatingTracking.js\";import{LineOfSightVisualElement as v}from\"./LineOfSightVisualElement.js\";import{LineVisualElement as g}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as f}from\"../../interactive/visualElements/PointVisualElement.js\";import{RenderOccludedFlag as b}from\"../../webgl-engine/lib/Material.js\";let _=class extends t{constructor(i){super(i),this._lineOfSightVisualElements=new Array,this._computationHandles=new n,this._updatingHandles=new p}initialize(){this.addHandles(this._connectComputations()),this._createObserverVisualization()}destroy(){this._updatingHandles=s(this._updatingHandles),this._computationHandles=s(this._computationHandles),this._observerVisualElement=s(this._observerVisualElement)}get visible(){return this.analysisViewData.visible}get updating(){return this._updatingHandles.updating}get interactiveAndEditable(){return this.analysisViewData.interactive&&this.analysisViewData.editable}get test(){return{disablePartialOcclusion:()=>{for(const i of this._lineOfSightVisualElements)i.visibleLineVisualElement.renderOccluded=b.Occlude,i.occludedLineVisualElement.renderOccluded=b.Occlude,i.undefinedLineVisualElement.renderOccluded=b.Occlude},visualizations:this._lineOfSightVisualElements}}get _configuration(){return this.analysisViewData.configuration}_createLineOfSightVisualization(){const i=this._configuration,t=this.view,n={view:t,attached:!0,width:i.outerWidth,innerWidth:i.innerWidth},o=e.toUnitRGBA(i.visibleOuterColor),s=e.toUnitRGBA(i.visibleInnerColor),r=e.toUnitRGBA(i.occludedOuterColor),a=e.toUnitRGBA(i.occludedInnerColor),l=e.toUnitRGBA(i.undefinedOuterColor),c=e.toUnitRGBA(i.undefinedInnerColor),u=new g({...n,color:o,innerColor:s}),d=new g({...n,color:r,innerColor:a}),m=new g({...n,color:l,innerColor:c}),h=new f({view:t,attached:!0,...O,size:8}),p=new v(u,d,m,h);return this._lineOfSightVisualElements.push(p),p}_destroyLineOfSightVisualization(i){i.destroy(),this._lineOfSightVisualElements.splice(this._lineOfSightVisualElements.indexOf(i),1)}_updateLineOfSightVisualization(i,t,n){const o=this._configuration,{computationResult:s,inputPoints:a}=i,{start:l,end:c,intersection:u,isValid:h,isTargetVisible:p}=s,{observer:v}=a,g=E;g[12]=v[0],g[13]=v[1],g[14]=v[2];const f=d(V,l,v),b=d(y,c,v),_=d(C,u,v),{visibleLineVisualElement:O,occludedLineVisualElement:w,undefinedLineVisualElement:A,targetVisualElement:S}=t,L=r(this.analysisViewData.elevationAlignedObserver)||r(i.elevationAlignedTargetLocation),j=this.visible&&!L;O.visible=j,w.visible=j,A.visible=j,S.visible=j,S.attached=!n.interactiveAndEditable,j&&(O.geometry=null,w.geometry=null,A.geometry=null,S.geometry=i.elevationAlignedTargetLocation,h?p?(O.geometry=[[m(f),m(b)]],O.transform=g,O.color=e.toUnitRGBA(o.visibleOuterColor),S.color=e.toUnitRGBA(o.visibleInnerColor)):(O.geometry=[[m(f),m(_)]],O.transform=g,O.color=e.toUnitRGBA(o.occludedOuterColor),w.geometry=[[m(_),m(b)]],w.transform=g,S.color=e.toUnitRGBA(o.occludedInnerColor)):(A.geometry=[[m(f),m(b)]],A.transform=g,S.color=e.toUnitRGBA(o.undefinedInnerColor)))}_getLineOfSightVisualizationDependencies(i){const{computationResult:e}=i,{occludedOuterColor:t,visibleOuterColor:n}=this._configuration;return{computationResult:e,occludedOuterColor:t,visibleOuterColor:n,visible:this.visible,interactiveAndEditable:this.interactiveAndEditable}}_connectComputation(i){const e=this._computationHandles;if(e.has(i))return;const t=this._createLineOfSightVisualization();e.add([this._updatingHandles.add((()=>this._getLineOfSightVisualizationDependencies(i)),(e=>this._updateLineOfSightVisualization(i,t,e)),{initial:!0,equals:()=>!1}),o((()=>this._destroyLineOfSightVisualization(t)))],i)}_disconnectComputation(i){this._computationHandles.remove(i)}_connectComputations(){return this._updatingHandles.addOnCollectionChange((()=>this.analysisViewData.computations),(i=>this._onComputationsCollectionChange(i)),{initial:!0,final:!0})}_onComputationsCollectionChange({added:i,removed:e}){for(const t of e)this._disconnectComputation(t);for(const t of i)this._connectComputation(t)}_createObserverVisualization(){const i=e.toUnitRGBA(this._configuration.visibleInnerColor),t=new f({view:this.view,attached:!1,color:i,...O});this._observerVisualElement=t,this.addHandles(this._updatingHandles.add((()=>({observer:this.analysisViewData.elevationAlignedObserver,interactiveAndEditable:this.interactiveAndEditable,visible:this.visible})),(({observer:i,interactiveAndEditable:e,visible:n})=>{r(i)||e||!n?t.attached=!1:(t.geometry=i,this._observerVisualElement.attached=!0)}),a))}};i([l({constructOnly:!0})],_.prototype,\"analysis\",void 0),i([l({constructOnly:!0})],_.prototype,\"analysisViewData\",void 0),i([l({constructOnly:!0})],_.prototype,\"view\",void 0),i([l({readOnly:!0})],_.prototype,\"visible\",null),i([l()],_.prototype,\"updating\",null),i([l()],_.prototype,\"interactiveAndEditable\",null),i([l()],_.prototype,\"test\",null),i([l()],_.prototype,\"_configuration\",null),_=i([c(\"esri.views.3d.analysis.LineOfSight.LineOfSightVisualization\")],_);const O={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0},V=h(),y=h(),C=h(),E=u();export{_ as LineOfSightVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import s from\"../../../core/Collection.js\";import o from\"../../../core/Evented.js\";import{destroyMaybe as r,isSome as e,applySome as n}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{AnalysisView3D as y}from\"./AnalysisView3D.js\";import{LineOfSightConfiguration as u}from\"./LineOfSight/LineOfSightConfiguration.js\";import{LineOfSightController as h}from\"./LineOfSight/LineOfSightController.js\";import{LineOfSightTool as c}from\"./LineOfSight/LineOfSightTool.js\";import{LineOfSightVisualization as m}from\"./LineOfSight/LineOfSightVisualization.js\";import{connectAnalysisViewToTool as d,removeAnalysisViewTool as g}from\"../../analysis/analysisViewUtils.js\";let f=class extends(y(o.EventedMixin(i))){constructor(t){super(t),this.type=\"line-of-sight-view-3d\",this.analysis=null,this.tool=null,this.computations=new s,this.elevationAlignedObserver=null,this.configuration=new u,this.observerEngineLocation=p(),this.cursorTarget=null,this.editable=!0}initialize(){const t=this.view,i=this.analysis;this._analysisController=new h({analysis:i,analysisViewData:this,view:t}),this._analysisVisualization=new m({analysis:i,analysisViewData:this,view:t}),this.addHandles([this._analysisController.on(\"result-changed\",(t=>{t.target!==this.cursorTarget&&this.emit(\"result-changed\",t)})),d(this,c)])}destroy(){g(this),this._analysisController=r(this._analysisController),this._analysisVisualization=r(this._analysisVisualization)}get results(){return this.computations.map((t=>t.result))}get priority(){return this._analysisController.priority}set priority(t){this._analysisController.priority=t}get updating(){return e(this._analysisController)&&this._analysisController.updating||e(this._analysisVisualization)&&this._analysisVisualization.updating}getResultForTarget(t){const i=this.computations.find((i=>i.target===t));return n(i,(t=>t.result))}get testInfo(){return{visualization:this._analysisVisualization,controller:this._analysisController}}};t([a({readOnly:!0})],f.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],f.prototype,\"analysis\",void 0),t([a()],f.prototype,\"tool\",void 0),t([a({readOnly:!0})],f.prototype,\"results\",null),t([a()],f.prototype,\"priority\",null),t([a()],f.prototype,\"computations\",void 0),t([a()],f.prototype,\"elevationAlignedObserver\",void 0),t([a()],f.prototype,\"configuration\",void 0),t([a()],f.prototype,\"observerEngineLocation\",void 0),t([a()],f.prototype,\"cursorTarget\",void 0),t([a()],f.prototype,\"updating\",null),t([a()],f.prototype,\"editable\",void 0),t([a()],f.prototype,\"_analysisController\",void 0),t([a()],f.prototype,\"_analysisVisualization\",void 0),f=t([l(\"esri.views.3d.analysis.LineOfSightAnalysisView3D\")],f);const v=f;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t,isNone as i}from\"../../core/maybe.js\";import{onAbort as e}from\"../../core/promiseUtils.js\";import{whenOnce as n,watch as r,syncAndInitial as a}from\"../../core/reactiveUtils.js\";function c(r,a){r.interactive=!0;const{tool:c,view:s}=r;s.activeTool=c;let l=e(a,(()=>{s.activeTool===c&&(s.activeTool=null)}));return o((async o=>{await n((()=>i(c)||!c.active),o),l=t(l)}),a)}function s(o,t){return r((()=>o.interactive),(()=>l(o,t)),a)}function l(o,t){o.interactive?v(o,t):m(o)}function v(o,t){m(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function m(o){const{view:t,tool:e}=o;i(e)||(t.tools.remove(e),o.tool=null)}export{c as activateAnalysisViewTool,s as connectAnalysisViewToTool,m as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let a=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};s([r({constructOnly:!0})],a.prototype,\"analysis\",void 0),s([r()],a.prototype,\"analysisViewData\",void 0),a=s([o(\"esri.views.interactive.AnalysisToolBase\")],a);export{a as AnalysisToolBase};\n"],"names":["f","o","position","elevationInfo","feature","p","this","r","i","s","t","a","type","m","n","prototype","l","e","u","c","layer","id","objectId","objectIdField","attributes","uid","json","write","writer","layerId","target","Number","String","origins","read","ObjectId","g","url","resources","y","x","d","verifyItemRelativeUrls","writtenUrls","rootPath","origin","originIdOf","h","object","propertyName","value","targetUrl","dest","targetPropertyName","context","params","portalItem","resourceFromPath","N","path","compress","I","resource","content","updates","toUpdate","U","w","toKeep","push","j","v","filename","prefix","pendingOperations","P","then","itemRelativeUrl","catch","toAdd","finish","O","Blob","JSON","stringify","toJSON","default","responseType","data","png","jpeg","jpg","bmp","gif","txt","xml","svg","zip","pbf","gz","innerWidth","outerWidth","visibleInnerColor","visibleOuterColor","occludedInnerColor","occludedOuterColor","undefinedInnerColor","undefinedOuterColor","intersectedGraphic","intersectedLocation","elevationAlignedTargetLocation","visible","Boolean","inputPoints","isValid","observer","observerSurfaceNormal","observerFeatureId","targetSurfaceNormal","targetFeatureId","observerAdjusted","targetAdjusted","computationResult","start","end","intersection","isTargetVisible","result","notifyChange","mapPoint","renderPoint","normal","ray","graphic","constructOnly","_terrainIntersectionOptionsLayerUids","Set","intersector","b","view","state","viewingMode","options","hud","store","camera","_","_getRayIntersection","sceneIntersectionHelper","intersectToolIntersectorRay","results","min","getIntersectionPoint","renderCoordsHelper","fromRenderCoords","spatialReference","R","layerUid","nodeIndex","componentIndex","lij","slice","S","sourceLayer","C","L","T","worldUpAtPosition","basemapTerrain","visibleElevationBounds","Math","abs","max","include","W","J","K","updateOnCameraChange","_observerGroundOffsetRenderSpace","_effectiveObserverElevationMode","_observerFeatureId","_updatingHandles","_frameTask","Z","_handles","_computationHandles","_externalObserverUpdate","resourceController","scheduler","registerTask","q","_intersector","add","_connectObserver","_connectComputations","_connectTargets","destroy","_computations","removeAll","get","updating","priority","set","analysisViewData","computations","observerEngineLocation","computeScreenPixelSizeAt","_elevationAlignedObserverPositionRenderSpace","computation","_canCompute","_computeIntersection","_interpolateIntersection","notifyResultChanged","emit","F","Y","G","all","z","distanceInRenderSpace","_getFeatureDistanceThreshold","getTransformedNormal","M","ee","_screenPixelSize","X","_updateAdjustedPointsFromFeatures","interpolationInfo","originalIntersection","originalObserver","originalTarget","B","D","elevationAlignedObserver","frustum","intersectsPoint","k","analysis","_getEffectiveElevationInfo","V","absoluteZ","elevation","clone","mode","toRenderCoords","updateFromGroundIntersection","_adjustStartEndPositions","notifyInputPointsChanged","targetPosition","targetElevationInfo","targetFeatureInfo","projectedTargetPosition","pending","addPromise","_onTargetPositionChange","geometry","observerGroundOffset","observerElevationMode","_onObserverRenderSpacePositionChangeForComputation","isDirty","_isCameraDirty","slicePlane","finally","$","E","_onObserverPositionChange","H","elevationProvider","on","extent","schedule","_computeResult","initial","equals","has","_connectComputationToTarget","_connectComputationToObserver","_connectComputationToRenderSpaceObserver","_connectComputationToCamera","_connectComputationToSlicePlane","_connectComputationToElevation","_connectComputationToTask","remove","added","removed","_disconnectComputation","_connectComputation","_removeTarget","_addTarget","some","findIndex","removeAt","observerPosition","projectedObserverPosition","observerElevationInfo","observerFeatureInfo","addOnCollectionChange","_onComputationCollectionChange","final","targets","_onTargetCollectionChange","cursorTarget","_onCursorTargetChange","Q","hasZ","offset","readOnly","A","enabled","glowColor","glowWidth","innerColor","globalAlpha","size","color","visibleColor","occludedColor","undefinedColor","laserLine","lineOfSight","customColor1","customColor2","customColor3","Ready","Creating","Created","removeIncompleteOnCancel","configuration","_latestPointerMovePointerType","_laserlineVisualElement","_grabbedManipulator","_analysisHandles","_manipulatorHandles","_targetTrackerManipulator","finishToolCreation","_observerManipulator","_createObserverManipulator","_updateObserverManipulatorStyle","_onObserverLocationChange","_createVisualElements","_laserLineRendererDependencies","_updateLaserLineRenderer","addWhen","_shouldRenderTracker","_clearCursorTracker","_removeVisualElements","_set","active","hasGrabbedManipulators","_showTracker","activeTool","editable","internallyEditable","_doubleClickHandler","_keyDownHandler","_pointerMoveHandler","_clickHandler","_onComputationsCollectionChange","destroyed","declaredClass","warn","_createTargetManipulator","metadata","available","interactive","_getLineOfSightManipulatorStateDependencies","_updateManipulatorState","_onTargetLocationChange","_getTargetManipulator","manipulators","renderObjects","events","_manipulatorGrabChanged","_manipulatorClick","_createManipulator","_createTargetManipulatorDragPipeline","elevationAlignedLocation","forEach","manipulator","_createObserverManipulatorDragPipeline","getScreenPointIntersection","screenEnd","next","_screenToIntersection","_updateTargetDragStep","_cancelTargetDragStep","_updateObserverDragStep","_cancelObserverDragStep","_updateFromIntersection","action","laserlineVisualElement","grabbedManipulator","shouldRenderTracker","heightManifoldTarget","renderLocation","lineVerticalPlaneSegment","attached","style","button","_addPointFromClickEvent","stopPropagation","stop","key","pointerType","grabbing","dragging","length","laserLineVisualElement","visibleLineVisualElement","occludedLineVisualElement","undefinedLineVisualElement","targetVisualElement","_lineOfSightVisualElements","Array","addHandles","_createObserverVisualization","_observerVisualElement","disablePartialOcclusion","renderOccluded","visualizations","_configuration","width","splice","indexOf","interactiveAndEditable","transform","_createLineOfSightVisualization","_getLineOfSightVisualizationDependencies","_updateLineOfSightVisualization","_destroyLineOfSightVisualization","pixelSnappingEnabled","primitive","outlineSize","tool","_analysisController","_analysisVisualization","map","find","visualization","controller","nonNullable","disableDisplay","tools","onDeactivate","created","clear"],"sourceRoot":""}