"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[2346],{96669:function(e,t,n){function i(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function r(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i].size;"number"==typeof r&&(t+=r,n++)}return t/n}(e.stops):t}function o(e,t){if(!t)return e;var n=t.filter((function(e){return"size"===e.type})).map((function(t){var n=t.maxSize,i=t.minSize;return(r(n,e)+r(i,e))/2})),i=0,o=n.length;if(0===o)return e;for(var l=0;l<o;l++)i+=n[l];var a=Math.floor(i/o);return Math.max(a,e)}function l(e){var t=e&&e.renderer,n="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return n;var r="visualVariables"in t?o(n,t.visualVariables):n;if("simple"===t.type)return i(r,t.symbol);if("unique-value"===t.type){var l,a=r;return null!==(l=t.uniqueValueInfos)&&void 0!==l&&l.forEach((function(e){a=i(a,e.symbol)})),a}if("class-breaks"===t.type){var s=r;return t.classBreakInfos.forEach((function(e){s=i(s,e.symbol)})),s}return"dot-density"===t.type||t.type,r}n.d(t,{k:function(){return l}})},61574:function(e,t,n){n.d(t,{CJ:function(){return c},G:function(){return p},Rz:function(){return y},js:function(){return h},kD:function(){return v},mW:function(){return b},xA:function(){return u},z3:function(){return f}});n(93169);var i=n(92026),r=n(61459),o=n(16851),l=n(16072),a=n(58009),s=n(76115),u=l.Z.fromJSON(s.I4),c=o.Z.fromJSON(s.ET),f=r.Z.fromJSON(s.lF),y=a.Z.fromJSON(s.qP);function h(e){if((0,i.Wi)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return u;case"polyline":return c;case"polygon":case"extent":return f}return null}var p=l.Z.fromJSON(s.eG),b=o.Z.fromJSON(s.wW),v=r.Z.fromJSON(s.lj)},76115:function(e,t,n){n.d(t,{ET:function(){return l},I4:function(){return o},SQ:function(){return i},X1:function(){return r},eG:function(){return u},lF:function(){return a},lj:function(){return f},qP:function(){return s},wW:function(){return c}});var i=[252,146,31,255],r=[153,153,153,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},l={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},2346:function(e,t,n){n.d(t,{L:function(){return x}});var i=n(15671),r=n(43144),o=n(60136),l=n(92572),a=n(27366),s=n(85015),u=n(91505),c=n(92026),f=n(94172),y=n(17842),h=n(49861),p=(n(25243),n(63780),n(69912)),b=n(88396),v=n(11186),d=n(71353),m=n(79803),S=n(74509),g=n(61574),_=n(64575),C=n(90297),k=n(45008),x=function(e){(0,o.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).layer=null,r.interactive=!0,r.selectable=!1,r.grabbable=!0,r.dragging=!1,r.cursor=null,r.events=new u.Z.EventEmitter,r._circleCollisionCache=null,r._graphicSymbolChangedHandle=null,r._originalSymbol=null,r}return(0,r.Z)(n,[{key:"graphic",set:function(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}},{key:"elevationInfo",get:function(){var e=this.graphic.layer,t=e&&"elevationInfo"in e?e.elevationInfo:null,n=(0,S.vu)(this.graphic),i=t?t.offset:0;return new _.Z({mode:n,offset:i})}},{key:"focusedSymbol",set:function(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}},{key:"grabbableForEvent",value:function(){return!0}},{key:"grabbing",set:function(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}},{key:"hovering",set:function(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}},{key:"selected",set:function(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}},{key:"_focused",get:function(){return this._get("hovering")||this._get("grabbing")}},{key:"destroy",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}},{key:"intersectionDistance",value:function(e){var t=this.graphic;if(!1===t.visible)return null;var n=t.geometry;if((0,c.Wi)(n))return null;var i=this._get("focusedSymbol"),r=(0,c.pC)(i)?i:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,n,r):this._intersectDistance3D(this.view,e,t)}},{key:"attach",value:function(){this.attachSymbolChanged(),(0,c.pC)(this.layer)&&this.layer.add(this.graphic)}},{key:"detach",value:function(){this.detachSymbolChanged(),this._resetGraphicSymbol(),(0,c.pC)(this.layer)&&this.layer.remove(this.graphic)}},{key:"attachSymbolChanged",value:function(){var e=this;this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,f.YP)((function(){var t;return null===(t=e.graphic)||void 0===t?void 0:t.symbol}),(function(t){(0,c.pC)(t)&&t!==e.focusedSymbol&&t!==e._originalSymbol&&(e._originalSymbol=t,e._focused&&(0,c.pC)(e.focusedSymbol)&&(e.graphic.symbol=e.focusedSymbol))}),f.Z_)}},{key:"detachSymbolChanged",value:function(){(0,c.pC)(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}},{key:"onElevationChange",value:function(){}},{key:"onViewChange",value:function(){}},{key:"_updateGraphicSymbol",value:function(){this.graphic.symbol=this._focused&&(0,c.pC)(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}},{key:"_resetGraphicSymbol",value:function(){this.graphic.symbol=this._originalSymbol}},{key:"_intersectDistance2D",value:function(e,t,n,i){var r;if(i=i||(0,g.js)(n),(0,c.Wi)(i))return null;var o=this._circleCollisionCache;if("point"===n.type&&"cim"===i.type&&"CIMPointSymbol"===(null===(r=i.data.symbol)||void 0===r?void 0:r.type)&&i.data.symbol.symbolLayers){var l=(0,C.i)(i),a=l.offsetX,s=l.offsetY,u=l.size,f=(0,y.md)(t,w),h=u/2,p=e.toScreen(n),v=p.x+a,d=p.y+s;return(0,b.k)(f,[v,d])<h*h?1:null}if("point"!==n.type||"simple-marker"!==i.type)return(0,k.D)(t,n,e)?1:null;if((0,c.Wi)(o)||!o.originalPoint.equals(n)){var S=n,_=e.spatialReference;if((0,m.Up)(S.spatialReference,_)){var x=(0,m.iV)(S,_);o={originalPoint:S.clone(),mapPoint:x,radiusPx:(0,y.F2)(i.size)},this._circleCollisionCache=o}}if((0,c.pC)(o)){var M,z=(0,y.md)(t,w),Z=null===(M=e.toScreen)||void 0===M?void 0:M.call(e,o.mapPoint);if(!Z)return null;var P=o.radiusPx,F=Z.x+(0,y.F2)(i.xoffset),L=Z.y-(0,y.F2)(i.yoffset);return(0,b.k)(z,[F,L])<P*P?1:null}return null}},{key:"_intersectDistance3D",value:function(e,t,n){var i=e.toMap(t,{include:[n]});return i&&(0,m.KC)(i,M,e.renderSpatialReference)?(0,v.i)(M,e.state.camera.eye):null}}]),n}(s.Z);(0,a._)([(0,h.Cb)({constructOnly:!0,nonNullable:!0})],x.prototype,"graphic",null),(0,a._)([(0,h.Cb)()],x.prototype,"elevationInfo",null),(0,a._)([(0,h.Cb)({constructOnly:!0,nonNullable:!0})],x.prototype,"view",void 0),(0,a._)([(0,h.Cb)({value:null})],x.prototype,"focusedSymbol",null),(0,a._)([(0,h.Cb)({constructOnly:!0})],x.prototype,"layer",void 0),(0,a._)([(0,h.Cb)()],x.prototype,"interactive",void 0),(0,a._)([(0,h.Cb)()],x.prototype,"selectable",void 0),(0,a._)([(0,h.Cb)()],x.prototype,"grabbable",void 0),(0,a._)([(0,h.Cb)({value:!1})],x.prototype,"grabbing",null),(0,a._)([(0,h.Cb)()],x.prototype,"dragging",void 0),(0,a._)([(0,h.Cb)()],x.prototype,"hovering",null),(0,a._)([(0,h.Cb)({value:!1})],x.prototype,"selected",null),(0,a._)([(0,h.Cb)()],x.prototype,"cursor",void 0),x=(0,a._)([(0,p.j)("esri.views.interactive.GraphicManipulator")],x);var M=(0,d.c)(),w=(0,y.s1)()},90297:function(e,t,n){n.d(t,{i:function(){return o}});var i=n(92026),r=n(17842);function o(e){var t=0,n=0,o=0;return e?("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map((function(e){"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>n&&(n=e.anchorPoint.y),(0,i.pC)(e.size)&&e.size>o&&(o=e.size))})),t=(0,r.F2)(t),n=(0,r.F2)(n),o=(0,r.F2)(o),{offsetX:t,offsetY:n,size:o}):{offsetX:t,offsetY:n,size:o}}},45008:function(e,t,n){n.d(t,{D:function(){return s},K:function(){return a}});n(59486);var i=n(92026),r=n(68860),o=n(96669),l=n(53866);function a(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new l.Z,s=0;if("2d"===n.type)s=t*(null!==(o=n.resolution)&&void 0!==o?o:0);else if("3d"===n.type){var u=n.overlayPixelSizeInMapUnits(e),c=n.basemapSpatialReference;s=(0,i.pC)(c)&&!c.equals(n.spatialReference)?(0,r.c9)(c)/(0,r.c9)(n.spatialReference):t*u}var f=e.x-s,y=e.y-s,h=e.x+s,p=e.y+s,b=n.spatialReference;return a.xmin=Math.min(f,h),a.ymin=Math.min(y,p),a.xmax=Math.max(f,h),a.ymax=Math.max(y,p),a.spatialReference=b,a}function s(e,t,n){var r=n.toMap(e);return!(0,i.Wi)(r)&&a(r,(0,o.k)(),n,u).intersects(t)}var u=new l.Z}}]);
//# sourceMappingURL=2346.ad4c2124.chunk.js.map