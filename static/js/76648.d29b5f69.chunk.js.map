{"version":3,"file":"static/js/76648.d29b5f69.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/Heading.js","../node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/array.js","../node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/action-menu.js","../node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/focusTrapComponent.js","../node_modules/@arcgis/core/node_modules/@esri/calcite-components/dist/components/popover.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { h } from '@stencil/core/internal/client/index.js';\n\nfunction constrainHeadingLevel(level) {\n  return Math.min(Math.max(Math.ceil(level), 1), 6);\n}\nconst Heading = (props, children) => {\n  const HeadingTag = props.level ? `h${props.level}` : \"div\";\n  delete props.level;\n  return h(HeadingTag, { ...props }, children);\n};\n\nexport { Heading as H, constrainHeadingLevel as c };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nfunction getRoundRobinIndex(index, total) {\n  return (index + total) % total;\n}\n\nexport { getRoundRobinIndex as g };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { proxyCustomElement, HTMLElement, createEvent, h, Fragment } from '@stencil/core/internal/client/index.js';\nimport { g as getRoundRobinIndex } from './array.js';\nimport { t as toAriaBoolean, i as isPrimaryPointerButton, h as focusElement } from './dom.js';\nimport { g as guid } from './guid.js';\nimport { i as isActivationKey } from './key.js';\nimport { a as setUpLoadableComponent, s as setComponentLoaded, c as componentLoaded } from './loadable.js';\nimport { d as defineCustomElement$4 } from './action.js';\nimport { d as defineCustomElement$3 } from './icon.js';\nimport { d as defineCustomElement$2 } from './loader.js';\nimport { d as defineCustomElement$1 } from './popover.js';\n\nconst CSS = {\n  menu: \"menu\",\n  defaultTrigger: \"default-trigger\"\n};\nconst SLOTS = {\n  tooltip: \"tooltip\",\n  trigger: \"trigger\"\n};\nconst ICONS = {\n  menu: \"ellipsis\"\n};\n\nconst actionMenuCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{box-sizing:border-box;display:flex;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:flex;outline-color:transparent}.menu ::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{flex-direction:column;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}\";\n\nconst SUPPORTED_MENU_NAV_KEYS = [\"ArrowUp\", \"ArrowDown\", \"End\", \"Home\"];\nconst ActionMenu = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calciteActionMenuOpen = createEvent(this, \"calciteActionMenuOpen\", 6);\n    this.actionElements = [];\n    this.guid = `calcite-action-menu-${guid()}`;\n    this.menuId = `${this.guid}-menu`;\n    this.menuButtonId = `${this.guid}-menu-button`;\n    // --------------------------------------------------------------------------\n    //\n    //  Component Methods\n    //\n    // --------------------------------------------------------------------------\n    this.connectMenuButtonEl = () => {\n      const { menuButtonId, menuId, open, label } = this;\n      const menuButtonEl = this.slottedMenuButtonEl || this.defaultMenuButtonEl;\n      if (this.menuButtonEl === menuButtonEl) {\n        return;\n      }\n      this.disconnectMenuButtonEl();\n      this.menuButtonEl = menuButtonEl;\n      this.setTooltipReferenceElement();\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.active = open;\n      menuButtonEl.setAttribute(\"aria-controls\", menuId);\n      menuButtonEl.setAttribute(\"aria-expanded\", toAriaBoolean(open));\n      menuButtonEl.setAttribute(\"aria-haspopup\", \"true\");\n      if (!menuButtonEl.id) {\n        menuButtonEl.id = menuButtonId;\n      }\n      if (!menuButtonEl.label) {\n        menuButtonEl.label = label;\n      }\n      if (!menuButtonEl.text) {\n        menuButtonEl.text = label;\n      }\n      menuButtonEl.addEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.addEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.disconnectMenuButtonEl = () => {\n      const { menuButtonEl } = this;\n      if (!menuButtonEl) {\n        return;\n      }\n      menuButtonEl.removeEventListener(\"pointerdown\", this.menuButtonClick);\n      menuButtonEl.removeEventListener(\"keydown\", this.menuButtonKeyDown);\n    };\n    this.setMenuButtonEl = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-action\"));\n      this.slottedMenuButtonEl = actions[0];\n      this.connectMenuButtonEl();\n    };\n    this.setDefaultMenuButtonEl = (el) => {\n      this.defaultMenuButtonEl = el;\n      this.connectMenuButtonEl();\n    };\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.handleCalciteActionClick = () => {\n      this.open = false;\n      this.setFocus();\n    };\n    this.menuButtonClick = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      this.toggleOpen();\n    };\n    this.updateTooltip = (event) => {\n      const tooltips = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-tooltip\"));\n      this.tooltipEl = tooltips[0];\n      this.setTooltipReferenceElement();\n    };\n    this.setTooltipReferenceElement = () => {\n      const { tooltipEl, expanded, menuButtonEl, open } = this;\n      if (tooltipEl) {\n        tooltipEl.referenceElement = !expanded && !open ? menuButtonEl : null;\n      }\n    };\n    this.updateAction = (action, index) => {\n      const { guid, activeMenuItemIndex } = this;\n      const id = `${guid}-action-${index}`;\n      action.tabIndex = -1;\n      action.setAttribute(\"role\", \"menuitem\");\n      if (!action.id) {\n        action.id = id;\n      }\n      action.active = index === activeMenuItemIndex;\n    };\n    this.updateActions = (actions) => {\n      actions?.forEach(this.updateAction);\n    };\n    this.handleDefaultSlotChange = (event) => {\n      const actions = event.target\n        .assignedElements({\n        flatten: true\n      })\n        .filter((el) => el?.matches(\"calcite-action\"));\n      this.actionElements = actions;\n    };\n    this.menuButtonKeyDown = (event) => {\n      const { key } = event;\n      const { actionElements, activeMenuItemIndex, open } = this;\n      if (!actionElements.length) {\n        return;\n      }\n      if (isActivationKey(key)) {\n        event.preventDefault();\n        if (!open) {\n          this.toggleOpen();\n          return;\n        }\n        const action = actionElements[activeMenuItemIndex];\n        action ? action.click() : this.toggleOpen(false);\n      }\n      if (key === \"Tab\") {\n        this.open = false;\n        return;\n      }\n      if (key === \"Escape\") {\n        this.toggleOpen(false);\n        event.preventDefault();\n        return;\n      }\n      this.handleActionNavigation(event, key, actionElements);\n    };\n    this.handleActionNavigation = (event, key, actions) => {\n      if (!this.isValidKey(key, SUPPORTED_MENU_NAV_KEYS)) {\n        return;\n      }\n      event.preventDefault();\n      if (!this.open) {\n        this.toggleOpen();\n        if (key === \"Home\" || key === \"ArrowDown\") {\n          this.activeMenuItemIndex = 0;\n        }\n        if (key === \"End\" || key === \"ArrowUp\") {\n          this.activeMenuItemIndex = actions.length - 1;\n        }\n        return;\n      }\n      if (key === \"Home\") {\n        this.activeMenuItemIndex = 0;\n      }\n      if (key === \"End\") {\n        this.activeMenuItemIndex = actions.length - 1;\n      }\n      const currentIndex = this.activeMenuItemIndex;\n      if (key === \"ArrowUp\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(Math.max(currentIndex - 1, -1), actions.length);\n      }\n      if (key === \"ArrowDown\") {\n        this.activeMenuItemIndex = getRoundRobinIndex(currentIndex + 1, actions.length);\n      }\n    };\n    this.toggleOpenEnd = () => {\n      this.setFocus();\n      this.el.removeEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n    };\n    this.toggleOpen = (value = !this.open) => {\n      this.el.addEventListener(\"calcitePopoverOpen\", this.toggleOpenEnd);\n      this.open = value;\n    };\n    this.expanded = false;\n    this.flipPlacements = undefined;\n    this.label = undefined;\n    this.open = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = \"auto\";\n    this.scale = undefined;\n    this.menuButtonEl = undefined;\n    this.activeMenuItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  componentWillLoad() {\n    setUpLoadableComponent(this);\n  }\n  componentDidLoad() {\n    setComponentLoaded(this);\n  }\n  disconnectedCallback() {\n    this.disconnectMenuButtonEl();\n  }\n  expandedHandler() {\n    this.open = false;\n    this.setTooltipReferenceElement();\n  }\n  openHandler(open) {\n    this.activeMenuItemIndex = this.open ? 0 : -1;\n    if (this.menuButtonEl) {\n      this.menuButtonEl.active = open;\n    }\n    this.calciteActionMenuOpen.emit();\n    this.setTooltipReferenceElement();\n  }\n  closeCalciteActionMenuOnClick(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    const composedPath = event.composedPath();\n    if (composedPath.includes(this.el)) {\n      return;\n    }\n    this.open = false;\n  }\n  activeMenuItemIndexHandler() {\n    this.updateActions(this.actionElements);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    await componentLoaded(this);\n    focusElement(this.menuButtonEl);\n  }\n  renderMenuButton() {\n    const { label, scale, expanded } = this;\n    const menuButtonSlot = (h(\"slot\", { name: SLOTS.trigger, onSlotchange: this.setMenuButtonEl }, h(\"calcite-action\", { class: CSS.defaultTrigger, icon: ICONS.menu, ref: this.setDefaultMenuButtonEl, scale: scale, text: label, textEnabled: expanded })));\n    return menuButtonSlot;\n  }\n  renderMenuItems() {\n    const { actionElements, activeMenuItemIndex, open, menuId, menuButtonEl, label, placement, overlayPositioning, flipPlacements } = this;\n    const activeAction = actionElements[activeMenuItemIndex];\n    const activeDescendantId = activeAction?.id || null;\n    return (h(\"calcite-popover\", { flipPlacements: flipPlacements, focusTrapDisabled: true, label: label, offsetDistance: 0, open: open, overlayPositioning: overlayPositioning, placement: placement, pointerDisabled: true, referenceElement: menuButtonEl }, h(\"div\", { \"aria-activedescendant\": activeDescendantId, \"aria-labelledby\": menuButtonEl?.id, class: CSS.menu, id: menuId, onClick: this.handleCalciteActionClick, role: \"menu\", tabIndex: -1 }, h(\"slot\", { onSlotchange: this.handleDefaultSlotChange }))));\n  }\n  render() {\n    return (h(Fragment, null, this.renderMenuButton(), this.renderMenuItems(), h(\"slot\", { name: SLOTS.tooltip, onSlotchange: this.updateTooltip })));\n  }\n  isValidKey(key, supportedKeys) {\n    return !!supportedKeys.find((k) => k === key);\n  }\n  get el() { return this; }\n  static get watchers() { return {\n    \"expanded\": [\"expandedHandler\"],\n    \"open\": [\"openHandler\"],\n    \"activeMenuItemIndex\": [\"activeMenuItemIndexHandler\"]\n  }; }\n  static get style() { return actionMenuCss; }\n}, [1, \"calcite-action-menu\", {\n    \"expanded\": [516],\n    \"flipPlacements\": [16],\n    \"label\": [1],\n    \"open\": [1540],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"placement\": [513],\n    \"scale\": [513],\n    \"menuButtonEl\": [32],\n    \"activeMenuItemIndex\": [32],\n    \"setFocus\": [64]\n  }, [[9, \"pointerdown\", \"closeCalciteActionMenuOnClick\"]]]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-action-menu\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\", \"calcite-popover\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-action-menu\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, ActionMenu);\n      }\n      break;\n    case \"calcite-action\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$4();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$3();\n      }\n      break;\n    case \"calcite-loader\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-popover\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { ActionMenu as A, SLOTS as S, defineCustomElement as d };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { w as tabbable, x as focusable, y as isTabbable, z as isFocusable, h as focusElement, A as tabbableOptions } from './dom.js';\n\n/*!\n* focus-trap 7.2.0\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      // move this existing trap to the front of the queue\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\n// checks for TAB by default\nvar isKeyForward = function isKeyForward(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\n\n// checks for SHIFT+TAB by default\nvar isKeyBackward = function isKeyBackward(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n};\n\n// Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n\n  return idx;\n};\n\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\n// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this\n//  current instance use the same stack if `userOptions.trapStack` isn't specified\nvar internalTrapStack = [];\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward: isKeyForward,\n    isKeyBackward: isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n  var findContainerIndex = function findContainerIndex(element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n        tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) ||\n      // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      }\n      // else, empty string (invalid), null (invalid), 0 (invalid)\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus');\n\n    // false explicitly indicates we want no initialFocus at all\n    if (node === false) {\n      return false;\n    }\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n\n        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n\n      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    });\n\n    // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target, config.tabbableOptions)\n      });\n      return;\n    }\n\n    // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    }\n\n    // otherwise, prevent the click\n    e.preventDefault();\n  };\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target) >= 0;\n\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  };\n\n  // Hijack key nav events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  var checkKeyNav = function checkKeyNav(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var target = getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back into...\n        if (isBackward) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        // REVERSE\n\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        // FORWARD\n\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        } else if (!isTabEvent(event)) {\n          // user must have customized the nav keys so we have to move focus manually _within_\n          //  the active group: do this based on the order determined by tabbable()\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      // no groups available\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        // since tab natively moves focus, we wouldn't have a destination node unless we\n        //  were on the edge of a container and had to move to the next/previous edge, in\n        //  which case we want to prevent default to keep the browser from moving focus\n        //  to where it normally would\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n    // else, let the browser take care of [shift+]tab and move the focus\n  };\n\n  var checkKey = function checkKey(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n\n  //\n  // EVENT LISTENERS\n  //\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trapStack, trap);\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  };\n\n  //\n  // TRAP DEFINITION\n  //\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      if (onActivate) {\n        onActivate();\n      }\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n      if (onDeactivate) {\n        onDeactivate();\n      }\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      return this;\n    }\n  };\n\n  // initialize container elements\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nconst trapStack = [];\n/**\n * Helper to set up the FocusTrap component.\n *\n * @param {FocusTrapComponent} component The FocusTrap component.\n */\nfunction connectFocusTrap(component) {\n  const { focusTrapEl } = component;\n  if (!focusTrapEl) {\n    return;\n  }\n  if (focusTrapEl.tabIndex == null) {\n    focusTrapEl.tabIndex = -1;\n  }\n  const focusTrapOptions = {\n    clickOutsideDeactivates: true,\n    document: focusTrapEl.ownerDocument,\n    escapeDeactivates: false,\n    fallbackFocus: focusTrapEl,\n    setReturnFocus: (el) => {\n      focusElement(el);\n      return false;\n    },\n    tabbableOptions,\n    trapStack\n  };\n  component.focusTrap = createFocusTrap(focusTrapEl, focusTrapOptions);\n}\n/**\n * Helper to activate the FocusTrap component.\n *\n * @param {FocusTrapComponent} component The FocusTrap component.\n */\nfunction activateFocusTrap(component) {\n  if (!component.focusTrapDisabled) {\n    component.focusTrap?.activate();\n  }\n}\n/**\n * Helper to deactivate the FocusTrap component.\n *\n * @param {FocusTrapComponent} component The FocusTrap component.\n */\nfunction deactivateFocusTrap(component) {\n  component.focusTrap?.deactivate();\n}\n/**\n * Helper to update the element(s) that are used within the FocusTrap component.\n *\n * @param {FocusTrapComponent} component The FocusTrap component.\n * @example\n * const modal = document.querySelector(\"calcite-modal\");\n * const input = document.createElement(\"calcite-input\");\n * content.appendChild(input);\n * await input.componentOnReady();\n * await modal.updateFocusTrapElements();\n * requestAnimationFrame(() => input.setFocus());\n */\nfunction updateFocusTrapElements(component) {\n  component.focusTrap?.updateContainerElements(component.focusTrapEl);\n}\n\nexport { activateFocusTrap as a, connectFocusTrap as c, deactivateFocusTrap as d, updateFocusTrapElements as u };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.7\n */\nimport { proxyCustomElement, HTMLElement, createEvent, forceUpdate, h, Host } from '@stencil/core/internal/client/index.js';\nimport { f as filterComputedPlacements, c as connectFloatingUI, b as defaultOffsetDistance, u as updateAfterClose, a as disconnectFloatingUI, r as reposition, F as FloatingCSS } from './floating-ui.js';\nimport { c as connectFocusTrap, d as deactivateFocusTrap, a as activateFocusTrap, u as updateFocusTrapElements } from './focusTrapComponent.js';\nimport { i as isPrimaryPointerButton, t as toAriaBoolean, j as focusFirstTabbable, u as queryElementRoots } from './dom.js';\nimport { g as guid } from './guid.js';\nimport { c as connectOpenCloseComponent, d as disconnectOpenCloseComponent } from './openCloseComponent.js';\nimport { H as Heading } from './Heading.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale.js';\nimport { u as updateMessages, c as connectMessages, s as setUpMessages, d as disconnectMessages } from './t9n.js';\nimport { i as isActivationKey } from './key.js';\nimport { a as setUpLoadableComponent, s as setComponentLoaded, c as componentLoaded } from './loadable.js';\nimport { d as defineCustomElement$3 } from './action.js';\nimport { d as defineCustomElement$2 } from './icon.js';\nimport { d as defineCustomElement$1 } from './loader.js';\n\nconst CSS = {\n  container: \"container\",\n  arrow: \"arrow\",\n  imageContainer: \"image-container\",\n  closeButtonContainer: \"close-button-container\",\n  closeButton: \"close-button\",\n  content: \"content\",\n  hasHeader: \"has-header\",\n  header: \"header\",\n  headerContent: \"header-content\",\n  heading: \"heading\"\n};\nconst defaultPopoverPlacement = \"auto\";\nconst ARIA_CONTROLS = \"aria-controls\";\nconst ARIA_EXPANDED = \"aria-expanded\";\n\nclass PopoverManager {\n  constructor() {\n    // --------------------------------------------------------------------------\n    //\n    //  Private Properties\n    //\n    // --------------------------------------------------------------------------\n    this.registeredElements = new Map();\n    this.registeredElementCount = 0;\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.queryPopover = (composedPath) => {\n      const { registeredElements } = this;\n      const registeredElement = composedPath.find((pathEl) => registeredElements.has(pathEl));\n      return registeredElements.get(registeredElement);\n    };\n    this.togglePopovers = (event) => {\n      const composedPath = event.composedPath();\n      const togglePopover = this.queryPopover(composedPath);\n      if (togglePopover && !togglePopover.triggerDisabled) {\n        togglePopover.open = !togglePopover.open;\n      }\n      Array.from(this.registeredElements.values())\n        .filter((popover) => popover !== togglePopover && popover.autoClose && popover.open && !composedPath.includes(popover))\n        .forEach((popover) => (popover.open = false));\n    };\n    this.keyHandler = (event) => {\n      if (event.defaultPrevented) {\n        return;\n      }\n      if (event.key === \"Escape\") {\n        this.closeAllPopovers();\n      }\n      else if (isActivationKey(event.key)) {\n        this.togglePopovers(event);\n      }\n    };\n    this.clickHandler = (event) => {\n      if (isPrimaryPointerButton(event)) {\n        this.togglePopovers(event);\n      }\n    };\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  // --------------------------------------------------------------------------\n  registerElement(referenceEl, popover) {\n    this.registeredElementCount++;\n    this.registeredElements.set(referenceEl, popover);\n    if (this.registeredElementCount === 1) {\n      this.addListeners();\n    }\n  }\n  unregisterElement(referenceEl) {\n    if (this.registeredElements.delete(referenceEl)) {\n      this.registeredElementCount--;\n    }\n    if (this.registeredElementCount === 0) {\n      this.removeListeners();\n    }\n  }\n  closeAllPopovers() {\n    Array.from(this.registeredElements.values()).forEach((popover) => (popover.open = false));\n  }\n  addListeners() {\n    document.addEventListener(\"pointerdown\", this.clickHandler, { capture: true });\n    document.addEventListener(\"keydown\", this.keyHandler, { capture: true });\n  }\n  removeListeners() {\n    document.removeEventListener(\"pointerdown\", this.clickHandler, { capture: true });\n    document.removeEventListener(\"keydown\", this.keyHandler, { capture: true });\n  }\n}\n\nconst popoverCss = \"@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{--calcite-floating-ui-z-index:var(--calcite-popover-z-index, 900);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index)}.calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}:host([data-placement^=bottom]) .calcite-floating-ui-anim{transform:translateY(-5px)}:host([data-placement^=top]) .calcite-floating-ui-anim{transform:translateY(5px)}:host([data-placement^=left]) .calcite-floating-ui-anim{transform:translateX(5px)}:host([data-placement^=right]) .calcite-floating-ui-anim{transform:translateX(-5px)}:host([data-placement]) .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}.arrow,.arrow::before{position:absolute;inline-size:8px;block-size:8px;z-index:-1}.arrow::before{content:\\\"\\\";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-placement^=top]) .arrow{inset-block-end:-4px}:host([data-placement^=bottom]) .arrow{inset-block-start:-4px}:host([data-placement^=right]) .arrow,:host([data-placement^=left]) .arrow{direction:ltr;text-align:start}:host([data-placement^=left]) .arrow{inset-inline-end:-4px}:host([data-placement^=right]) .arrow{inset-inline-start:-4px}:host([scale=s]) .heading{padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding-inline:1rem;padding-block:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding-inline:1.25rem;padding-block:1rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-floating-ui-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-block-end-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);border-block-end-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:flex;block-size:100%;flex-direction:row;flex-wrap:nowrap;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1)}.container.has-header{flex-direction:column}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%}\";\n\nconst manager = new PopoverManager();\nconst Popover = /*@__PURE__*/ proxyCustomElement(class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.__attachShadow();\n    this.calcitePopoverBeforeClose = createEvent(this, \"calcitePopoverBeforeClose\", 6);\n    this.calcitePopoverClose = createEvent(this, \"calcitePopoverClose\", 6);\n    this.calcitePopoverBeforeOpen = createEvent(this, \"calcitePopoverBeforeOpen\", 6);\n    this.calcitePopoverOpen = createEvent(this, \"calcitePopoverOpen\", 6);\n    this.guid = `calcite-popover-${guid()}`;\n    this.openTransitionProp = \"opacity\";\n    this.hasLoaded = false;\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.setTransitionEl = (el) => {\n      this.transitionEl = el;\n      connectOpenCloseComponent(this);\n      this.focusTrapEl = el;\n      connectFocusTrap(this);\n    };\n    this.setFilteredPlacements = () => {\n      const { el, flipPlacements } = this;\n      this.filteredFlipPlacements = flipPlacements\n        ? filterComputedPlacements(flipPlacements, el)\n        : null;\n    };\n    this.setUpReferenceElement = (warn = true) => {\n      this.removeReferences();\n      this.effectiveReferenceElement = this.getReferenceElement();\n      connectFloatingUI(this, this.effectiveReferenceElement, this.el);\n      const { el, referenceElement, effectiveReferenceElement } = this;\n      if (warn && referenceElement && !effectiveReferenceElement) {\n        console.warn(`${el.tagName}: reference-element id \"${referenceElement}\" was not found.`, {\n          el\n        });\n      }\n      this.addReferences();\n    };\n    this.getId = () => {\n      return this.el.id || this.guid;\n    };\n    this.setExpandedAttr = () => {\n      const { effectiveReferenceElement, open } = this;\n      if (!effectiveReferenceElement) {\n        return;\n      }\n      if (\"setAttribute\" in effectiveReferenceElement) {\n        effectiveReferenceElement.setAttribute(ARIA_EXPANDED, toAriaBoolean(open));\n      }\n    };\n    this.addReferences = () => {\n      const { effectiveReferenceElement } = this;\n      if (!effectiveReferenceElement) {\n        return;\n      }\n      const id = this.getId();\n      if (\"setAttribute\" in effectiveReferenceElement) {\n        effectiveReferenceElement.setAttribute(ARIA_CONTROLS, id);\n      }\n      manager.registerElement(effectiveReferenceElement, this.el);\n      this.setExpandedAttr();\n    };\n    this.removeReferences = () => {\n      const { effectiveReferenceElement } = this;\n      if (!effectiveReferenceElement) {\n        return;\n      }\n      if (\"removeAttribute\" in effectiveReferenceElement) {\n        effectiveReferenceElement.removeAttribute(ARIA_CONTROLS);\n        effectiveReferenceElement.removeAttribute(ARIA_EXPANDED);\n      }\n      manager.unregisterElement(effectiveReferenceElement);\n    };\n    this.hide = () => {\n      this.open = false;\n    };\n    this.storeArrowEl = (el) => {\n      this.arrowEl = el;\n      this.reposition(true);\n    };\n    this.autoClose = false;\n    this.closable = false;\n    this.flipDisabled = false;\n    this.focusTrapDisabled = false;\n    this.pointerDisabled = false;\n    this.flipPlacements = undefined;\n    this.heading = undefined;\n    this.headingLevel = undefined;\n    this.label = undefined;\n    this.messageOverrides = undefined;\n    this.messages = undefined;\n    this.offsetDistance = defaultOffsetDistance;\n    this.offsetSkidding = 0;\n    this.open = false;\n    this.overlayPositioning = \"absolute\";\n    this.placement = defaultPopoverPlacement;\n    this.referenceElement = undefined;\n    this.scale = \"m\";\n    this.triggerDisabled = false;\n    this.effectiveLocale = \"\";\n    this.effectiveReferenceElement = undefined;\n    this.defaultMessages = undefined;\n  }\n  handlefocusTrapDisabled(focusTrapDisabled) {\n    if (!this.open) {\n      return;\n    }\n    focusTrapDisabled ? deactivateFocusTrap(this) : activateFocusTrap(this);\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  onMessagesChange() {\n    /* wired up by t9n util */\n  }\n  offsetDistanceOffsetHandler() {\n    this.reposition(true);\n  }\n  offsetSkiddingHandler() {\n    this.reposition(true);\n  }\n  openHandler(value) {\n    if (value) {\n      this.reposition(true);\n    }\n    else {\n      updateAfterClose(this.el);\n    }\n    this.setExpandedAttr();\n  }\n  overlayPositioningHandler() {\n    this.reposition(true);\n  }\n  placementHandler() {\n    this.reposition(true);\n  }\n  referenceElementHandler() {\n    this.setUpReferenceElement();\n    this.reposition(true);\n  }\n  effectiveLocaleChange() {\n    updateMessages(this, this.effectiveLocale);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    this.setFilteredPlacements();\n    connectLocalized(this);\n    connectMessages(this);\n    connectOpenCloseComponent(this);\n    this.setUpReferenceElement(this.hasLoaded);\n  }\n  async componentWillLoad() {\n    await setUpMessages(this);\n    setUpLoadableComponent(this);\n  }\n  componentDidLoad() {\n    setComponentLoaded(this);\n    if (this.referenceElement && !this.effectiveReferenceElement) {\n      this.setUpReferenceElement();\n    }\n    this.reposition();\n    this.hasLoaded = true;\n  }\n  disconnectedCallback() {\n    this.removeReferences();\n    disconnectLocalized(this);\n    disconnectMessages(this);\n    disconnectFloatingUI(this, this.effectiveReferenceElement, this.el);\n    disconnectOpenCloseComponent(this);\n    deactivateFocusTrap(this);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed\n   */\n  async reposition(delayed = false) {\n    const { el, effectiveReferenceElement, placement, overlayPositioning, flipDisabled, filteredFlipPlacements, offsetDistance, offsetSkidding, arrowEl } = this;\n    return reposition(this, {\n      floatingEl: el,\n      referenceEl: effectiveReferenceElement,\n      overlayPositioning,\n      placement,\n      flipDisabled,\n      flipPlacements: filteredFlipPlacements,\n      offsetDistance,\n      offsetSkidding,\n      includeArrow: !this.pointerDisabled,\n      arrowEl,\n      type: \"popover\"\n    }, delayed);\n  }\n  /**\n   * Sets focus on the component's first focusable element.\n   */\n  async setFocus() {\n    await componentLoaded(this);\n    forceUpdate(this.el);\n    focusFirstTabbable(this.focusTrapEl);\n  }\n  /**\n   * Updates the element(s) that are used within the focus-trap of the component.\n   */\n  async updateFocusTrapElements() {\n    updateFocusTrapElements(this);\n  }\n  getReferenceElement() {\n    const { referenceElement, el } = this;\n    return ((typeof referenceElement === \"string\"\n      ? queryElementRoots(el, { id: referenceElement })\n      : referenceElement) || null);\n  }\n  onBeforeOpen() {\n    this.calcitePopoverBeforeOpen.emit();\n  }\n  onOpen() {\n    this.calcitePopoverOpen.emit();\n    activateFocusTrap(this);\n  }\n  onBeforeClose() {\n    this.calcitePopoverBeforeClose.emit();\n  }\n  onClose() {\n    this.calcitePopoverClose.emit();\n    deactivateFocusTrap(this);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n  renderCloseButton() {\n    const { messages, closable } = this;\n    return closable ? (h(\"div\", { class: CSS.closeButtonContainer, key: CSS.closeButtonContainer }, h(\"calcite-action\", { class: CSS.closeButton, onClick: this.hide, ref: (closeButtonEl) => (this.closeButtonEl = closeButtonEl), scale: this.scale, text: messages.close }, h(\"calcite-icon\", { icon: \"x\", scale: this.scale === \"l\" ? \"m\" : this.scale })))) : null;\n  }\n  renderHeader() {\n    const { heading, headingLevel } = this;\n    const headingNode = heading ? (h(Heading, { class: CSS.heading, level: headingLevel }, heading)) : null;\n    return headingNode ? (h(\"div\", { class: CSS.header, key: CSS.header }, headingNode, this.renderCloseButton())) : null;\n  }\n  render() {\n    const { effectiveReferenceElement, heading, label, open, pointerDisabled } = this;\n    const displayed = effectiveReferenceElement && open;\n    const hidden = !displayed;\n    const arrowNode = !pointerDisabled ? h(\"div\", { class: CSS.arrow, ref: this.storeArrowEl }) : null;\n    return (h(Host, { \"aria-hidden\": toAriaBoolean(hidden), \"aria-label\": label, \"aria-live\": \"polite\", \"calcite-hydrated-hidden\": hidden, id: this.getId(), role: \"dialog\" }, h(\"div\", { class: {\n        [FloatingCSS.animation]: true,\n        [FloatingCSS.animationActive]: displayed\n      }, ref: this.setTransitionEl }, arrowNode, h(\"div\", { class: {\n        [CSS.hasHeader]: !!heading,\n        [CSS.container]: true\n      } }, this.renderHeader(), h(\"div\", { class: CSS.content }, h(\"slot\", null)), !heading ? this.renderCloseButton() : null))));\n  }\n  static get assetsDirs() { return [\"assets\"]; }\n  get el() { return this; }\n  static get watchers() { return {\n    \"focusTrapDisabled\": [\"handlefocusTrapDisabled\"],\n    \"flipPlacements\": [\"flipPlacementsHandler\"],\n    \"messageOverrides\": [\"onMessagesChange\"],\n    \"offsetDistance\": [\"offsetDistanceOffsetHandler\"],\n    \"offsetSkidding\": [\"offsetSkiddingHandler\"],\n    \"open\": [\"openHandler\"],\n    \"overlayPositioning\": [\"overlayPositioningHandler\"],\n    \"placement\": [\"placementHandler\"],\n    \"referenceElement\": [\"referenceElementHandler\"],\n    \"effectiveLocale\": [\"effectiveLocaleChange\"]\n  }; }\n  static get style() { return popoverCss; }\n}, [1, \"calcite-popover\", {\n    \"autoClose\": [516, \"auto-close\"],\n    \"closable\": [1540],\n    \"flipDisabled\": [516, \"flip-disabled\"],\n    \"focusTrapDisabled\": [516, \"focus-trap-disabled\"],\n    \"pointerDisabled\": [516, \"pointer-disabled\"],\n    \"flipPlacements\": [16],\n    \"heading\": [1],\n    \"headingLevel\": [514, \"heading-level\"],\n    \"label\": [1],\n    \"messageOverrides\": [1040],\n    \"messages\": [1040],\n    \"offsetDistance\": [514, \"offset-distance\"],\n    \"offsetSkidding\": [514, \"offset-skidding\"],\n    \"open\": [1540],\n    \"overlayPositioning\": [513, \"overlay-positioning\"],\n    \"placement\": [513],\n    \"referenceElement\": [1, \"reference-element\"],\n    \"scale\": [513],\n    \"triggerDisabled\": [516, \"trigger-disabled\"],\n    \"effectiveLocale\": [32],\n    \"effectiveReferenceElement\": [32],\n    \"defaultMessages\": [32],\n    \"reposition\": [64],\n    \"setFocus\": [64],\n    \"updateFocusTrapElements\": [64]\n  }]);\nfunction defineCustomElement() {\n  if (typeof customElements === \"undefined\") {\n    return;\n  }\n  const components = [\"calcite-popover\", \"calcite-action\", \"calcite-icon\", \"calcite-loader\"];\n  components.forEach(tagName => { switch (tagName) {\n    case \"calcite-popover\":\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, Popover);\n      }\n      break;\n    case \"calcite-action\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$3();\n      }\n      break;\n    case \"calcite-icon\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$2();\n      }\n      break;\n    case \"calcite-loader\":\n      if (!customElements.get(tagName)) {\n        defineCustomElement$1();\n      }\n      break;\n  } });\n}\ndefineCustomElement();\n\nexport { Popover as P, defineCustomElement as d };\n"],"names":["Heading","props","children","HeadingTag","level","h","getRoundRobinIndex","index","total","CSS","SLOTS","tooltip","trigger","ICONS","SUPPORTED_MENU_NAV_KEYS","ActionMenu","proxyCustomElement","__registerHost","__attachShadow","calciteActionMenuOpen","createEvent","actionElements","guid","menuId","menuButtonId","connectMenuButtonEl","open","label","menuButtonEl","slottedMenuButtonEl","defaultMenuButtonEl","disconnectMenuButtonEl","setTooltipReferenceElement","active","setAttribute","toAriaBoolean","id","text","addEventListener","menuButtonClick","menuButtonKeyDown","removeEventListener","setMenuButtonEl","event","actions","target","assignedElements","flatten","filter","el","matches","setDefaultMenuButtonEl","handleCalciteActionClick","setFocus","isPrimaryPointerButton","toggleOpen","updateTooltip","tooltips","tooltipEl","expanded","referenceElement","updateAction","action","activeMenuItemIndex","tabIndex","updateActions","forEach","handleDefaultSlotChange","key","length","isActivationKey","preventDefault","click","handleActionNavigation","isValidKey","currentIndex","Math","max","toggleOpenEnd","value","flipPlacements","undefined","overlayPositioning","placement","scale","setUpLoadableComponent","this","setComponentLoaded","emit","composedPath","includes","componentLoaded","focusElement","name","onSlotchange","class","icon","ref","textEnabled","activeAction","activeDescendantId","focusTrapDisabled","offsetDistance","pointerDisabled","onClick","role","Fragment","renderMenuButton","renderMenuItems","supportedKeys","find","k","HTMLElement","defineCustomElement","customElements","tagName","get","define","defineCustomElement$4","defineCustomElement$3","defineCustomElement$2","defineCustomElement$1","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","arg","input","hint","prim","Symbol","toPrimitive","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","configurable","writable","activeFocusTraps","trapStack","trap","activeTrap","pause","trapIndex","indexOf","splice","unpause","isTabEvent","e","keyCode","isKeyForward","shiftKey","isKeyBackward","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","params","Array","_key","getActualTarget","shadowRoot","internalTrapStack","createFocusTrap","elements","userOptions","doc","document","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containers","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","element","_ref","container","tabbableNodes","contains","node","getNodeForOption","optionValue","_len2","_key2","Error","concat","querySelector","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","map","tabbable","tabbableOptions","focusableNodes","focusable","lastTabbableNode","nextTabbableNode","forward","nodeIdx","n","slice","isTabbable","reverse","group","tryFocus","focus","preventScroll","toLowerCase","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","isFocusable","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","isBackward","destinationNode","containerIndex","containerGroup","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkKeyNav","checkClick","addListeners","capture","passive","removeListeners","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","options","onDeactivate","onPostDeactivate","checkCanReturnFocus","clearTimeout","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","activateFocusTrap","component","focusTrap","deactivateFocusTrap","updateFocusTrapElements","focusTrapEl","ARIA_CONTROLS","ARIA_EXPANDED","manager","registeredElements","Map","registeredElementCount","queryPopover","registeredElement","pathEl","has","togglePopovers","togglePopover","triggerDisabled","from","values","popover","autoClose","keyHandler","defaultPrevented","closeAllPopovers","clickHandler","referenceEl","set","delete","Popover","calcitePopoverBeforeClose","calcitePopoverClose","calcitePopoverBeforeOpen","calcitePopoverOpen","openTransitionProp","hasLoaded","setTransitionEl","transitionEl","connectOpenCloseComponent","focusTrapOptions","ownerDocument","fallbackFocus","setReturnFocus","connectFocusTrap","setFilteredPlacements","filteredFlipPlacements","filterComputedPlacements","setUpReferenceElement","warn","removeReferences","effectiveReferenceElement","getReferenceElement","connectFloatingUI","console","addReferences","getId","setExpandedAttr","registerElement","removeAttribute","unregisterElement","hide","storeArrowEl","arrowEl","reposition","closable","flipDisabled","heading","headingLevel","messageOverrides","messages","defaultOffsetDistance","offsetSkidding","effectiveLocale","defaultMessages","updateAfterClose","updateMessages","connectLocalized","connectMessages","setUpMessages","disconnectLocalized","disconnectMessages","disconnectFloatingUI","disconnectOpenCloseComponent","delayed","floatingEl","includeArrow","type","forceUpdate","focusFirstTabbable","queryElementRoots","closeButtonEl","close","headingNode","renderCloseButton","displayed","hidden","arrowNode","Host","FloatingCSS","renderHeader"],"sourceRoot":""}