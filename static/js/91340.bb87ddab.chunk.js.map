{"version":3,"file":"static/js/91340.bb87ddab.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/geometryService/cut.js","../node_modules/@arcgis/core/rest/geometryService/simplify.js","../node_modules/@arcgis/core/geometry/support/normalizeUtils.js","../node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","../node_modules/@arcgis/core/rest/geometryService/utils.js","../node_modules/@arcgis/core/rest/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import{parseUrl as s}from\"../utils.js\";async function o(o,i,n,m){const a=s(o),p=i[0].spatialReference,u={...m,query:{...a.query,f:\"json\",sr:JSON.stringify(p),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await e(a.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=p,t}))}}export{o as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as i}from\"../../geometry/support/jsonUtils.js\";import{encodeGeometries as s,decodeGeometries as e}from\"./utils.js\";async function o(o,m,f){const n=\"string\"==typeof o?t(o):o,p=m[0].spatialReference,a=i(m[0]),u={...f,query:{...n.query,f:\"json\",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(m))}},{data:y}=await r(n.path+\"/simplify\",u);return e(y.geometries,a,p)}export{o as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import r from\"../Polygon.js\";import i from\"../Polyline.js\";import{getGeometryParts as l,cutParams as f,offsetMagnitude as c,updatePolyGeometry as p}from\"./normalizeUtilsCommon.js\";import{getInfo as u}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as a,webMercatorToGeographic as h}from\"./webMercatorUtils.js\";import{cut as m}from\"../../rest/geometryService/cut.js\";import{simplify as g}from\"../../rest/geometryService/simplify.js\";const y=n.getLogger(\"esri.geometry.support.normalizeUtils\");function x(e){return\"polygon\"===e.type}function d(e){return\"polygon\"===e[0].type}function w(e){return\"polyline\"===e[0].type}function j(e){const t=[];let n=0,o=0;for(let s=0;s<e.length;s++){const r=e[s];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&t.push([(n+o)/2,0])}return t}function M(e,n){if(!(e instanceof i||e instanceof r)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw y.error(e),new t(e)}const o=l(e),s=[];for(const t of o){const e=[];s.push(e),e.push([t[0][0],t[0][1]]);for(let o=0;o<t.length-1;o++){const s=t[o][0],r=t[o][1],i=t[o+1][0],l=t[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const t=l*n,o=p*t+s,i=c*t+r;e.push([o,i])}const t=(f+Math.floor(u-1)*n)/2,o=p*t+s,i=c*t+r;e.push([o,i])}e.push([i,l])}}return x(e)?new r({rings:s,spatialReference:e.spatialReference}):new i({paths:s,spatialReference:e.spatialReference})}function R(e,t,n){if(t){const t=M(e,1e6);e=h(t,!0)}return n&&(e=p(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const o=e[0];if(o>t){const n=c(o,t);e[0]=o+n*(-2*t)}else if(o<n){const t=c(o,n);e[0]=o+t*(-2*n)}}else{const o=e.x;if(o>t){const n=c(o,t);e=e.clone().offset(n*(-2*t),0)}else if(o<n){const t=c(o,n);e=e.clone().offset(t*(-2*n),0)}}return e}function P(e,t){let n=-1;for(let o=0;o<t.cutIndexes.length;o++){const s=t.cutIndexes[o],r=t.geometries[o],i=l(r);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const o=t[e][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*c(n,180);for(let s=0;s<t.length;s++){const t=r.getPoint(e,s);r.setPoint(e,s,t.clone().offset(o,0))}return!0}}))}if(s===n){if(d(e))for(const t of l(r))e[s]=e[s].addRing(t);else if(w(e))for(const t of l(r))e[s]=e[s].addPath(t)}else n=s,e[s]=r}return e}async function v(t,n,l){if(!Array.isArray(t))return v([t],n);n&&\"string\"!=typeof n&&y.warn(\"normalizeCentralMeridian()\",\"The url object is deprecated, use the url string instead\");const h=\"string\"==typeof n?n:n?.url??e.geometryServiceUrl;let x,d,w,j,M,L,U,z,A=0;const S=[],k=[];for(const e of t)if(o(e))k.push(e);else if(x||(x=e.spatialReference,d=u(x),w=x.isWebMercator,L=w?102100:4326,j=f[L].maxX,M=f[L].minX,U=f[L].plus180Line,z=f[L].minus180Line),d)if(\"mesh\"===e.type)k.push(e);else if(\"point\"===e.type)k.push(b(e.clone(),j,M));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>b(e,j,M))),k.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,d);k.push(t.rings?new r(t):t)}else if(e.extent){const t=e.extent,n=c(t.xmin,M)*(2*j);let o=0===n?e.clone():p(e.clone(),n);t.offset(n,0),t.intersects(U)&&t.xmax!==j?(A=t.xmax>A?t.xmax:A,o=R(o,w),S.push(o),k.push(\"cut\")):t.intersects(z)&&t.xmin!==M?(A=t.xmax*(2*j)>A?t.xmax*(2*j):A,o=R(o,w,360),S.push(o),k.push(\"cut\")):k.push(o)}else k.push(e.clone());else k.push(e);let C=c(A,j),I=-90;const X=C,q=new i;for(;C>0;){const e=360*C-180;q.addPath([[e,I],[e,-1*I]]),I*=-1,C--}if(S.length>0&&X>0){const e=P(S,await m(h,S,q,l)),n=[],o=[];for(let l=0;l<k.length;l++){const r=k[l];if(\"cut\"!==r)o.push(r);else{const r=e.shift(),i=t[l];s(i)&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&r.rings.length>=i.rings.length?(n.push(r),o.push(\"simplify\")):o.push(w?a(r):r)}}if(!n.length)return o;const r=await g(h,n,l),i=[];for(let t=0;t<o.length;t++){const e=o[t];\"simplify\"!==e?i.push(e):i.push(w?a(r.shift()):r.shift())}return i}const D=[];for(let e=0;e<k.length;e++){const t=k[e];if(\"cut\"!==t)D.push(t);else{const e=S.shift();D.push(!0===w?a(e):e)}}return D}function L(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&u(e.spatialReference);if(!n)return t;const[o,s]=n.valid,r=2*s,{width:i}=t;let l,{xmin:f,xmax:c}=t;if([f,c]=[c,f],\"extent\"===e.type||0===i||i<=s||i>r||f<o||c>s)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=j(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=j(e.paths);break;case\"multipoint\":l=e.points}const p=t.clone();for(let u=0;u<l.length;u++){let e=l[u][0];e<0?(e+=s,c=Math.max(e,c)):(e-=s,f=Math.min(e,f))}return p.xmin=f,p.xmax=c,p.width<i?(p.xmin-=s,p.xmax-=s,p):t}function U(e,t){const n=u(t);if(n){const[t,o]=n.valid,s=o-t;if(e<t)for(;e<t;)e+=s;if(e>o)for(;e>o;)e-=s}return e}export{L as getDenormalizedExtent,v as normalizeCentralMeridian,U as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function s(e,n){const t=o(e);for(const r of t)for(const e of r)e[0]+=n;return e}function o(e){return t(e)?e.rings:e.paths}export{r as cutParams,o as getGeometryParts,i as offsetMagnitude,s as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{getJsonType as e,getGeometryType as t}from\"../../geometry/support/jsonUtils.js\";function r(t){return{geometryType:e(t[0]),geometries:t.map((e=>e.toJSON()))}}function o(e,r,o){const n=t(r);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=o,t}))}export{o as decodeGeometries,r as encodeGeometries};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport r from\"../config.js\";import{id as t}from\"../kernel.js\";import{clone as o}from\"../core/lang.js\";import{urlToObject as e}from\"../core/urlUtils.js\";import{supportsApiKey as n}from\"../support/apiKeyUtils.js\";function i(r,t){return t?{...t,query:{...r??{},...t.query}}:{query:r}}function f(r){return\"string\"==typeof r?e(r):o(r)}function s(r,t,o){const e={};for(const n in r){if(\"declaredClass\"===n)continue;const i=r[n];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i)){e[n]=[];for(let r=0;r<i.length;r++)e[n][r]=s(i[r])}else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(o&&o[n]);e[n]=t?r:JSON.stringify(r)}else e[n]=t?i:JSON.stringify(i);else e[n]=i}return e}function u(o,e){return n(o)&&(e||r.apiKey)?e||r.apiKey:t?.findCredential(o)?.token}export{i as asValidOptions,s as encode,u as getToken,f as parseUrl};\n"],"names":["o","i","n","m","a","s","p","spatialReference","u","query","f","sr","JSON","stringify","target","geometryType","t","geometries","cutter","e","path","c","data","cutIndexes","g","map","r","wkid","y","R","error","l","push","length","Math","sqrt","floor","type","x","rings","paths","M","h","b","Array","isArray","clone","offset","P","some","Number","toFixed","getPoint","setPoint","d","addRing","w","addPath","v","warn","url","A","S","k","isWebMercator","L","j","maxX","minX","U","plus180Line","z","minus180Line","points","_normalize","extent","xmin","intersects","xmax","C","I","X","q","shift","D","valid","ceil","toJSON","fromJSON"],"sourceRoot":""}