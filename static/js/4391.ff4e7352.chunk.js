"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[4391],{44925:function(e,t,i){function n(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}i.d(t,{Z:function(){return n}})},84397:function(e,t,i){i.d(t,{c:function(){return n},g:function(){return r}});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},18759:function(e,t,i){i.d(t,{WJ:function(){return d},Xq:function(){return f},an:function(){return h},lN:function(){return n}});var n,r,s=i(29439),a=i(37762),u=i(15671),o=i(43144),l=i(92026),c=i(27546),h=-3;(r=n||(n={}))[r.ALL=0]="ALL",r[r.SOME=1]="SOME";var f=function(){function e(t,i,n){(0,u.Z)(this,e),this._namespace=t,this._storage=i,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}return(0,o.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}},{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,i,n)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,i){this._storage.updateSize(this._namespace+e,t,i)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,u.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new c.Z,this._users=new c.Z}return(0,o.Z)(e,[{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,i,r){var s=this._db.get(e);if(s&&(this._size-=s.size,this._db.delete(e),s.entry!==t&&this._notifyRemove(e,s.entry,n.ALL)),i>this._maxSize)this._notifyRemove(e,t,n.ALL);else if(void 0!==t)if(!i||i<0)console.warn("Refusing to cache entry with invalid size "+i);else{var a=1+Math.max(r,h)-h;this._db.set(e,{entry:t,size:i,lifetime:a,lives:a}),this._size+=i,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,i){var r=this._db.get(e);if(r&&r.entry===t){for(this._size-=r.size;i>this._maxSize;){var s=this._notifyRemove(e,t,n.SOME);if(!((0,l.pC)(s)&&s>0))return void this._db.delete(e);i=s}r.size=i,this._size+=i,this._checkSizeLimit()}}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},n=new Array;this._db.forEach((function(t,r){var s=t.lifetime;n[s]=(n[s]||0)+t.size,e._users.forAll((function(e){var n=e.namespace;if(r.startsWith(n)){var s=i[n]||0;i[n]=s+t.size}}))}));var r={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var n=i[t]||0;i[t]=n,r[t]=Math.round(100*e.hitRate)+"%"}else r[t]="0%"}));var s=Object.keys(i);s.sort((function(e,t){return i[t]-i[e]})),s.forEach((function(e){return t[e]=Math.round(i[e]/Math.pow(2,20))+"MB / "+r[e]}));for(var a=n.length-1;a>=0;--a){var u=n[a];u&&(t["Priority "+(a+h-1)]=Math.round(u/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(i,r){r.startsWith(e)&&(t._size-=i.size,t._db.delete(r),t._notifyRemove(r,i.entry,n.ALL))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,i){return e._notifyRemove(i,t.entry,n.ALL)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,i){var n;return this._removeFuncs.some((function(r){if(e.startsWith(r[0])){var s=r[1](t,i);return"number"==typeof s&&(n=s),!0}return!1})),n}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=(0,a.Z)(this._db);try{for(t.s();!(e=t.n()).done;){var i=(0,s.Z)(e.value,2),r=i[0],u=i[1];if(this._db.delete(r),u.lives<=1){this._size-=u.size;var o=this._notifyRemove(r,u.entry,n.SOME);(0,l.pC)(o)&&o>0&&(this._size+=o,u.lives=u.lifetime,u.size=o,this._db.set(r,u))}else--u.lives,this._db.set(r,u);if(this._size<=.9*this.maxSize)return}}catch(c){t.e(c)}finally{t.f()}}}}]),e}()},47615:function(e,t,i){i.d(t,{O3:function(){return x},lG:function(){return Z},my:function(){return M},q9:function(){return d}});var n=i(29439),r=i(74165),s=i(37762),a=i(10064),u=i(3182),o=i(80457),l=i(80031),c=(0,r.Z)().mark(v),h=(0,r.Z)().mark(y),f={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function d(e){return f[e]}function v(e){var t,i,n;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e.type,r.next="Feature"===r.t0?3:"FeatureCollection"===r.t0?6:25;break;case 3:return r.next=5,e;case 5:return r.abrupt("break",25);case 6:t=(0,s.Z)(e.features),r.prev=7,t.s();case 9:if((i=t.n()).done){r.next=17;break}if(n=i.value,r.t1=n,!r.t1){r.next=15;break}return r.next=15,n;case 15:r.next=9;break;case 17:r.next=22;break;case 19:r.prev=19,r.t2=r.catch(7),t.e(r.t2);case 22:return r.prev=22,t.f(),r.finish(22);case 25:case"end":return r.stop()}}),c,null,[[7,19,22,25]])}function y(e){var t,i,n,a,u,o,l,c,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=57;break}r.t0=e.type,r.next="Point"===r.t0?4:"LineString"===r.t0||"MultiPoint"===r.t0?7:"MultiLineString"===r.t0||"Polygon"===r.t0?9:"MultiPolygon"===r.t0?26:57;break;case 4:return r.next=6,e.coordinates;case 6:return r.abrupt("break",57);case 7:return r.delegateYield(e.coordinates,"t1",8);case 8:return r.abrupt("break",57);case 9:t=(0,s.Z)(e.coordinates),r.prev=10,t.s();case 12:if((i=t.n()).done){r.next=17;break}return n=i.value,r.delegateYield(n,"t2",15);case 15:r.next=12;break;case 17:r.next=22;break;case 19:r.prev=19,r.t3=r.catch(10),t.e(r.t3);case 22:return r.prev=22,t.f(),r.finish(22);case 25:return r.abrupt("break",57);case 26:a=(0,s.Z)(e.coordinates),r.prev=27,a.s();case 29:if((u=a.n()).done){r.next=49;break}o=u.value,l=(0,s.Z)(o),r.prev=32,l.s();case 34:if((c=l.n()).done){r.next=39;break}return f=c.value,r.delegateYield(f,"t4",37);case 37:r.next=34;break;case 39:r.next=44;break;case 41:r.prev=41,r.t5=r.catch(32),l.e(r.t5);case 44:return r.prev=44,l.f(),r.finish(44);case 47:r.next=29;break;case 49:r.next=54;break;case 51:r.prev=51,r.t6=r.catch(27),a.e(r.t6);case 54:return r.prev=54,a.f(),r.finish(54);case 57:case"end":return r.stop()}}),h,null,[[10,19,22,25],[27,51,54,57],[32,41,44,47]])}function p(e){var t,i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){if(t.value.length>2)return!0}}catch(n){i.e(n)}finally{i.f()}return!1}function _(e){for(var t=0,i=0;i<e.length;i++){var n=e[i],r=e[(i+1)%e.length];t+=n[0]*r[1]-r[0]*n[1]}return t<=0}function g(e){var t=e[0],i=e[e.length-1];return t[0]===i[0]&&t[1]===i[1]&&t[2]===i[2]||e.push(t),e}function m(e,t,i){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,i){return F(e,t.coordinates,i),e}(e,t,i);case"MultiLineString":return function(e,t,i){var n,r=(0,s.Z)(t.coordinates);try{for(r.s();!(n=r.n()).done;){F(e,n.value,i)}}catch(a){r.e(a)}finally{r.f()}return e}(e,t,i);case"MultiPolygon":return function(e,t,i){var n,r=(0,s.Z)(t.coordinates);try{for(r.s();!(n=r.n()).done;){var a=n.value;b(e,a[0],i);for(var u=1;u<a.length;u++)k(e,a[u],i)}}catch(o){r.e(o)}finally{r.f()}return e}(e,t,i);case"Point":return function(e,t,i){return z(e,t.coordinates,i),e}(e,t,i);case"Polygon":return function(e,t,i){var n=t.coordinates;b(e,n[0],i);for(var r=1;r<n.length;r++)k(e,n[r],i);return e}(e,t,i)}}function b(e,t,i){var n=g(t);!function(e){return!_(e)}(n)?F(e,n,i):S(e,n,i)}function k(e,t,i){var n=g(t);!function(e){return _(e)}(n)?F(e,n,i):S(e,n,i)}function F(e,t,i){var n,r=(0,s.Z)(t);try{for(r.s();!(n=r.n()).done;){z(e,n.value,i)}}catch(a){r.e(a)}finally{r.f()}e.lengths.push(t.length)}function S(e,t,i){for(var n=t.length-1;n>=0;n--)z(e,t[n],i);e.lengths.push(t.length)}function z(e,t,i){var r=(0,n.Z)(t,3),s=r[0],a=r[1],u=r[2];e.coords.push(s,a),i.hasZ&&e.coords.push(u||0)}function w(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function x(e){if(!e)throw new a.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new a.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var i="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!i||!n.test(i))throw new a.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function M(e){var t,i,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[],o=new Set,c=new Set,h=!1,f=null,_=!1,g=a.geometryType,m=void 0===g?null:g,b=!1,k=(0,s.Z)(v(e));try{var F=function(){var e=r.value,t=e.geometry,i=e.properties,s=e.id;if((!t||(m||(m=d(t.type)),d(t.type)===m))&&(h||(h=p(y(t))),_||(_=null!=s)&&(n=typeof s,i&&(f=Object.keys(i).filter((function(e){return i[e]===s})))),i&&f&&_&&null!=s&&(f.length>1?f=f.filter((function(e){return i[e]===s})):1===f.length&&(f=i[f[0]]===s?f:[])),!b&&i)){var a=!0;for(var v in i)if(!o.has(v)){var g=i[v];if(null!=g){var k=w(g);if("unknown"!==k){c.delete(v),o.add(v);var F=(0,l.q6)(v);F&&u.push({name:F,alias:v,type:k})}else c.add(v)}else a=!1,c.add(v)}b=a}};for(k.s();!(r=k.n()).done;)F()}catch(Z){k.e(Z)}finally{k.f()}var S=null!==(t=(0,l.q6)(1===(null===(i=f)||void 0===i?void 0:i.length)&&f[0]||null))&&void 0!==t?t:void 0;if(S){var z,x=(0,s.Z)(u);try{for(x.s();!(z=x.n()).done;){var M=z.value;if(M.name===S&&(0,l.H7)(M)){M.type="esriFieldTypeOID";break}}}catch(Z){x.e(Z)}finally{x.f()}}return{fields:u,geometryType:m,hasZ:h,objectIdFieldName:S,objectIdFieldType:n,unknownFields:Array.from(c)}}function Z(e,t){return Array.from(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)().mark((function i(){var n,a,l,c,h,f,v,y,p,_,g,b;return(0,r.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=t.geometryType,a=t.objectIdField,l=(0,s.Z)(e),i.prev=2,l.s();case 4:if((c=l.n()).done){i.next=17;break}if(f=c.value,v=f.geometry,y=f.properties,p=f.id,!v||d(v.type)===n){i.next=9;break}return i.abrupt("continue",15);case 9:return _=y||{},g=void 0,a&&(g=_[a],null==p||g||(_[a]=g=p)),b=new u.u_(v?m(new o.Z,v,t):null,_,null,null!==(h=g)&&void 0!==h?h:void 0),i.next=15,b;case 15:i.next=4;break;case 17:i.next=22;break;case 19:i.prev=19,i.t0=i.catch(2),l.e(i.t0);case 22:return i.prev=22,l.f(),i.finish(22);case 25:case"end":return i.stop()}}),i,null,[[2,19,22,25]])}))()}(v(e),t))}},52410:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(37762),r=i(15671),s=i(43144),a=i(80031);function u(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function o(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function l(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,r.Z)(this,e),this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){this.fields=t;var i,s=[],c=(0,n.Z)(t);try{for(c.s();!(i=c.n()).done;){var d=i.value,v=null===d||void 0===d?void 0:d.name,y=f(null===d||void 0===d?void 0:d.name);if(v&&y){var p=h(v);this._fieldsMap.set(v,d),this._fieldsMap.set(p,d),this._normalizedFieldsMap.set(y,d),s.push(p),u(d)?(this.dateFields.push(d),this._dateFieldsSet.add(d)):(0,a.H7)(d)&&(this._numericFieldsSet.add(d),this.numericFields.push(d)),o(d)||l(d)||(d.editable=null==d.editable||!!d.editable,d.nullable=null==d.nullable||!!d.nullable)}}}catch(_){c.e(_)}finally{c.f()}s.sort(),this.uid=s.join(",")}}return(0,s.Z)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e,t=(0,n.Z)(this.fields);try{for(t.s();!(e=t.n()).done;){var i=e.value;o(i)||l(i)||i.nullable||void 0!==(0,a.os)(i)||this._requiredFields.push(i)}}catch(r){t.e(r)}finally{t.f()}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){var t;if(e){var i=this._fieldsMap.get(e);return i||((i=null!==(t=this._fieldsMap.get(h(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)))&&this._fieldsMap.set(e,i),i)}}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t,i=this.get(e);if(i)return null!==(t=i.name)&&void 0!==t?t:void 0}}]),e}();function h(e){return e.trim().toLowerCase()}function f(e){var t,i;return null!==(t=null===(i=(0,a.q6)(e))||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:""}},85249:function(e,t,i){i.d(t,{v:function(){return n}});var n=new(i(43404).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})}}]);
//# sourceMappingURL=4391.ff4e7352.chunk.js.map