{"version":3,"file":"static/js/83639.9a217549.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../core/maybe.js\";import{O as r}from\"./vec2f64.js\";import{ShaderOutput as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{defaultMaskAlphaCutoff as s}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{FloatPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as c}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{TransparencyPassType as m}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as v}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(f){const w=new c,{vertex:h,fragment:b}=w;return l(h,f),w.include(a,f),w.attributes.add(v.POSITION,\"vec3\"),w.attributes.add(v.UV0,\"vec2\"),w.varyings.add(\"vpos\",\"vec3\"),f.hasMultipassTerrain&&w.varyings.add(\"depth\",\"float\"),h.uniforms.add(new n(\"textureCoordinateScaleFactor\",(o=>e(o.texture)&&e(o.texture.descriptor.textureCoordinateScaleFactor)?o.texture.descriptor.textureCoordinateScaleFactor:r))),h.code.add(p`\n    void main(void) {\n      vpos = position;\n      ${f.hasMultipassTerrain?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n      vTexCoord = uv0 * textureCoordinateScaleFactor;\n      gl_Position = transformPosition(proj, view, vpos);\n    }\n  `),w.include(i,f),w.include(t,f),b.uniforms.add([new u(\"tex\",(e=>e.texture)),new g(\"opacity\",(e=>e.opacity))]),w.varyings.add(\"vTexCoord\",\"vec2\"),f.output===o.Alpha?b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n      float alpha = texture2D(tex, vTexCoord).a * opacity;\n      if (alpha  < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = vec4(alpha);\n    }\n    `):(b.include(d),b.code.add(p`\n    void main() {\n      discardBySlice(vpos);\n      ${f.hasMultipassTerrain?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      gl_FragColor = texture2D(tex, vTexCoord) * opacity;\n\n      if (gl_FragColor.a < ${p.float(s)}) {\n        discard;\n      }\n\n      gl_FragColor = highlightSlice(gl_FragColor, vpos);\n      ${f.transparencyPassType===m.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n    `)),w}const w=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{w as I,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec4f64.js\";import{ScreenSizeScaling as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{ShaderOutput as r}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{multipassTerrainTest as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{ColorConversion as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as s,addViewNormal as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float3PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{glsl as m}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as v}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{TransparencyPassType as u}from\"../views/3d/webgl-engine/lib/TransparencyPassType.js\";import{VertexAttribute as p}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function f(e){const f=new v,b=e.hasMultipassTerrain&&(e.output===r.Color||e.output===r.Alpha);f.include(a,e),f.include(o,e),f.include(i,e);const{vertex:h,fragment:C}=f;return C.include(n),s(h,e),C.uniforms.add(new g(\"uColor\",(e=>e.color))),f.attributes.add(p.POSITION,\"vec3\"),f.varyings.add(\"vWorldPosition\",\"vec3\"),b&&f.varyings.add(\"depth\",\"float\"),e.screenSizeEnabled&&f.attributes.add(p.OFFSET,\"vec3\"),e.shadingEnabled&&(t(h),f.attributes.add(p.NORMAL,\"vec3\"),f.varyings.add(\"vViewNormal\",\"vec3\")),h.code.add(m`\n    void main(void) {\n      vWorldPosition = ${e.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),e.shadingEnabled&&h.code.add(m`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(m`\n    ${b?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),b&&f.include(l,e),C.code.add(m`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${b?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),e.shadingEnabled?(C.uniforms.add(new c(\"shadingDirection\",(e=>e.shadingDirection))),C.uniforms.add(new g(\"shadedColor\",(e=>w(e.shadingTint,e.color)))),C.code.add(m`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(m`vec4 finalColor = uColor;`),C.code.add(m`\n      ${e.output===r.ObjectAndLayerIdColor?m`finalColor.a = 1.0;`:\"\"}\n      if (finalColor.a < ${m.float(d)}) {\n        discard;\n      }\n      ${e.output===r.Alpha?m`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${e.output===r.Color?m`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===u.Color?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),f}function w(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=e(),h=Object.freeze(Object.defineProperty({__proto__:null,build:f},Symbol.toStringTag,{value:\"Module\"}));export{h as S,f as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as n,unwrap as r}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as _}from\"../../../chunks/mat3.js\";import{c as u}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as b}from\"../../../chunks/mat4f64.js\";import{k as v}from\"../../../chunks/vec2.js\";import{a as y,t as j,m as L,g as S,c as R,d as w,s as O,b as T}from\"../../../chunks/vec3.js\";import{c as A,Z as E}from\"../../../chunks/vec3f64.js\";import{getReferenceEllipsoid as D}from\"../../../geometry/ellipsoidUtils.js\";import{canProjectWithoutEngine as F,projectPoint as k,sphericalPCPFtoLonLatElevation as z,computeENUToSphericalPCPFLocalRotation as P}from\"../../../geometry/projection.js\";import{containsPointObject as C}from\"../../../geometry/support/aaBoundingRect.js\";import{create as I,distance2 as M,fromPoints as x,closestRayDistance2 as U}from\"../../../geometry/support/lineSegment.js\";import{create as B,fromPositionAndNormal as W,intersectRay as N}from\"../../../geometry/support/plane.js\";import{create as H}from\"../../../geometry/support/ray.js\";import{sv3d as V}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as G,hydratedSpatialReference as Y}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as Z}from\"../support/ElevationProvider.js\";import{fromScreen as q}from\"../support/geometryUtils/ray.js\";import{Camera as J}from\"../webgl-engine/lib/Camera.js\";import{Object3D as K}from\"../webgl-engine/lib/Object3D.js\";import{UpdatePolicy as Q}from\"../webgl-engine/lib/UpdatePolicy.js\";import{WebGLLayer as X}from\"../webgl-engine/lib/WebGLLayer.js\";import{ManipulatorStateCustomFlags as $,ManipulatorStateFlags as ee}from\"../../interactive/interfaces.js\";import te from\"../../../geometry/Point.js\";class ie{constructor(e){this.metadata=void 0,this._camera=new J,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=b(),this._worldFrame=null,this._renderLocation=A(),this._renderLocationDirty=!0,this._location=new te({x:0,y:0,z:0}),this._elevationAlignedLocation=new te,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=$.None,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];const i=this.view.state?.camera;i&&this._camera.copyFrom(i)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){se(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=b()),oe(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=Y(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(se(this._modelTransform)){const t=this._calculateModelTransformOffset(pe);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,ne),n=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(v(this.screenLocation.screenPointArray,s)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,he),a=n*this.screenLocation.pixelSize,c=q(this._camera,s,ae);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],i);for(let t=1;t<s.length;t++){const o=L(ue,s[t],i),n=U(x(e,o,re),c);if(null!=n&&n<a*a){const t=y(V.get(),e,o);S(t,t,.5);const i=h(V.get());return this._camera.projectToRenderScreen(t,i),i[2]+r}R(e,o)}}break}case\"disc\":{const e=this.collisionType.direction,t=this.collisionType.offset??E,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=n*this.screenLocation.pixelSize,l=q(this._camera,s,ae);if(o(l))return null;const h=_(ce,a),d=j(me,e,h),u=L(fe,t,a);W(u,d,de);const g=ge;if(N(de,l,g)&&w(g,u)<c*c)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,he),c=n*this._camera.computeScreenPixelSizeAt(this.renderLocation),l=q(this._camera,s,ae);if(o(l))return null;const d=_(ce,a),u=j(me,t,d),g=this._calculateModelTransformPosition(fe);W(g,u,de);const m=ge;if(!N(de,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(_e,s[0],a);for(let t=1;t<s.length;t++){const i=L(ue,s[t],a),o=M(x(e,i,re),m);if(null!=o&&o<c*c){const t=y(V.get(),e,i);S(t,t,.5);const s=h(V.get());return this._camera.projectToRenderScreen(t,s),s[2]+r}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){const t=this._stage;if(!t)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new X({pickable:!1,updatePolicy:Q.SYNC});t.add(e),i.engineLayerId=e.id,this._engineLayer=e}else t?.getObject&&(this._engineLayer=t.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),F(this._location.spatialReference,this.view.spatialReference)||(this.location=new te({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){k(this.location,be,e.spatialReference)&&C(e.extent,be)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(o(this.elevationInfo))return;let e=null,t=0;const i=n(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":e=n(Z(this.view.elevationProvider,this.location,\"ground\"),0);break;case\"relative-to-ground\":t=n(Z(this.view.elevationProvider,this.location,\"ground\"),0)+i;break;case\"relative-to-scene\":t=n(Z(this.view.elevationProvider,this.location,\"scene\"),0)+i;break;case\"absolute-height\":t=i}return t!==this._elevation.offset||e!==this._elevation.override?(this._elevation.offset=t,void(this._elevation.override=e)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=he;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?ee.Focused:ee.Unfocused)|(this.selected?ee.Selected:ee.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.visible=!1;continue}const e=(n&ee.All)!==ee.None,i=(n&$.All)!==$.None,a=!e||(s&n)==(n&ee.All),c=!i||(this.state&n)==(n&$.All);if(a&&c)for(const s of r)s.visible=!0,s.transformation=t;else for(const t of r)t.visible=!1}}_ensureEngineResources(){if(o(this._engineResources)){const e=r(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({geometry:{material:e}})=>{i.has(e)||(t.push(e),i.add(e))}));const s=new Map;this._renderObjects.forEach((e=>{const t=new K({castShadow:!1,geometries:[e.geometry]}),i=s.get(e.stateMask)||[];i.push(t),s.set(e.stateMask,i)}));const o=[];s.forEach(((e,t)=>o.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:o,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const e=this._stage;if(this._engineResourcesAddedToStage||o(this._engineResources)||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;s.forEach((t=>{const i=r(this._materialIdReferences),s=i.get(t.id)||0;0===s&&e.add(t),i.set(t.id,s+1)})),t.forEach((({objects:t})=>{i.addMany(t),e.addMany(t)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){const t=this._stage;if(!this._engineResourcesAddedToStage||o(this._engineResources)||!t)return;const{objectsByState:i,layer:s,materials:n}=this._engineResources;i.forEach((({objects:e})=>{s.removeMany(e),t.removeMany(e)})),n.forEach((e=>{const i=r(this._materialIdReferences),s=i.get(e.id);1===s?(t.remove(e),i.delete(e.id)):i.set(e.id,s-1)})),e&&t.remove(s),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,le);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.visible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function se(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function oe(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=D(e.renderCoordsHelper.spatialReference);return z(t,0,_e,0,o.radius),P(i(_e[0]),i(_e[1]),s),!0}}}const ne=a(),re=I(),ae=H(),ce=u(),le=b(),he=b(),de=B(),_e=A(),ue=A(),ge=A(),me=A(),fe=A(),pe=A(),be=new te({x:0,y:0,z:0,spatialReference:null});export{ie as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ManipulatorStateFlags as t}from\"../../interactive/interfaces.js\";class e{constructor(e,s=t.None){this.geometry=e,this.stateMask=s}}export{e as RenderObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{b as n,f as o,m as i,n as a}from\"../../../chunks/vec3.js\";import{f as c}from\"../../../chunks/vec3f64.js\";import{f as l}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as u}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as d}from\"./Manipulator3D.js\";import{RenderObject as p}from\"./RenderObject.js\";import{computeCentroid as f}from\"../layers/graphics/graphicUtils.js\";import{Attribute as g}from\"../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as w}from\"../webgl-engine/lib/basicInterfaces.js\";import{Geometry as b}from\"../webgl-engine/lib/Geometry.js\";import{createPolylineGeometry as j,createSphereGeometry as h}from\"../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as O}from\"../webgl-engine/lib/Material.js\";import{VertexAttribute as y}from\"../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as M}from\"../webgl-engine/materials/ColorMaterial.js\";import{ImageMaterial as v}from\"../webgl-engine/materials/ImageMaterial.js\";import{NativeLineMaterial as S}from\"../webgl-engine/materials/NativeLineMaterial.js\";import{RibbonLineMaterial as k}from\"../webgl-engine/materials/RibbonLineMaterial.js\";import{ShadedColorMaterial as A}from\"../webgl-engine/materials/ShadedColorMaterial.js\";import{ManipulatorStateCustomFlags as F,ManipulatorStateFlags as I}from\"../../interactive/interfaces.js\";function R(e,t=O.OccludeAndTransparent,r=!0){const n=l(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new A({color:n,transparent:o,writeDepth:!0,cullFace:w.Back,renderOccluded:t}):new M({color:n,transparent:o,writeDepth:!0,cullFace:w.Back,renderOccluded:t})}function L(e,t=O.OccludeAndTransparent){const r=l(e[0],e[1],e[2],4===e.length?e[3]:1);return new M({color:r,transparent:!0,writeDepth:!0,cullFace:w.Front,renderOccluded:t})}const T=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1,calloutColor:c(1,.5,0)});function U(e,t){const r=new d({view:e,autoScaleRenderObjects:!1,collisionPriority:1,metadata:t.metadata});return D(r,t),r}function D(e,t){const r=t.material??new v({transparent:!0,writeDepth:!1,textureId:t.texture?.id,renderOccluded:O.Opaque}),n=t.focusMultiplier??T.focusMultiplier,o=t.calloutLength??T.calloutLength,i=T.discRadius*(t.discScale??1),a=i*n,c=(e,t)=>{const r=[0,1,2,2,3,0];return new b(t,[[y.POSITION,new g([o-e,-e,0,o+e,-e,0,o+e,e,0,o-e,e,0],3,!0)],[y.UV0,new g([0,0,1,0,1,1,0,1],2,!0)]],[[y.POSITION,r],[y.UV0,r]])},s=T.calloutColor,u=t.calloutWidth??T.calloutWidth,m=new(u>1?k:S)({width:u,color:l(s[0],s[1],s[2],t.calloutOpacity??1),renderOccluded:O.OccludeAndTransparent}),d=j(m,[[0,0,0],[o-i,0,0]]),f=j(m,[[0,0,0],[o-a,0,0]]),w=t.customStateMask??F.None;e.collisionType={type:\"disc\",direction:[0,0,1],offset:[o,0,0]},e.focusMultiplier=n,e.metadata=t.metadata,e.radius=i,e.renderObjects=[new p(c(i,r),I.Unfocused|w),new p(d,I.Unfocused|w),new p(c(a,r),I.Focused|w),new p(f,I.Focused|w)]}function N(e,t,r=1,n=F.None){const o=R(l(t[0],t[1],t[2],null!=r?r:1)),i=[new p(h(o,1,32,32),n)];return new d({view:e,renderObjects:i})}const x=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function C(e,t,a,c){const l=n(s.get(),e,a),m=V(l,o(s.get(),c,l),a,u.get());r(m,m);const d=i(s.get(),t,m);return Math.atan2(d[1],d[0])}function V(e,t,r,n){const i=a(s.get(),e),c=a(s.get(),t),l=o(s.get(),i,c);return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=0,n[4]=c[0],n[5]=c[1],n[6]=c[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function z(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function G(t,r,n){const o=z(t,n);e(o)?r.elevationAlignedLocation=o:P(r,n.geometry)}function P(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:f(r);t(n)||(e.location=m(n))}export{C as calculateInputRotationTransform,V as calculateTranslateRotateFromBases,R as createManipulatorMaterial,L as createManipulatorOutlineMaterial,U as createRotateManipulator,N as createSphereManipulator,z as getGraphicAttachmentOrigin,G as placeAtGraphic,D as updateRotateManipulator,x as worldScaledManipulatorSettings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addCameraPosition as e}from\"./util/View.glsl.js\";import{FloatPassUniform as i}from\"../shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function o(o,n){if(!n.screenSizeEnabled)return;const c=o.vertex;e(c,n),c.uniforms.add(new i(\"perScreenPixelRatio\",((e,i)=>i.camera.perScreenPixelRatio))),c.uniforms.add(new i(\"screenSizeScale\",(e=>e.screenSizeScale))),c.code.add(r`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));\nreturn viewDirectionDistance * perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}export{o as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as a}from\"../lib/basicInterfaces.js\";import{Default3D as n}from\"../lib/DefaultVertexAttributeLocations.js\";import{oitBlending as l,oitDepthTest as p,oitDepthWrite as c,getOITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{Program as h}from\"../lib/Program.js\";import{stencilWriteMaskOn as d,stencilToolMaskBaseParams as m,stencilBaseAllZerosParams as f}from\"../lib/StencilUtils.js\";import{TransparencyPassType as y}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as b}from\"../materials/DefaultTechniqueConfiguration.js\";import{I as g}from\"../../../../chunks/ImageMaterial.glsl.js\";import{BlendFactor as T}from\"../../../webgl/enums.js\";import{simpleBlendingParams as P,makePipelineState as j,cullingParams as O,defaultDepthWriteParams as S,defaultColorWriteParams as v}from\"../../../webgl/renderState.js\";class N extends r{}class _ extends s{initializeProgram(e){return new h(e.rctx,_.shader.get().build(this.configuration),n)}_setPipelineState(e,r){const i=this.configuration,s=e===y.NONE,o=e===y.FrontFace;return j({blending:i.output!==t.Color&&i.output!==t.Alpha||!i.transparent?null:s?C:l(e),culling:O(i.cullFace),depthTest:{func:p(e)},depthWrite:s?i.writeDepth?S:null:c(e),colorWrite:v,stencilWrite:i.hasOccludees?d:null,stencilTest:i.hasOccludees?r?m:f:null,polygonOffset:s||o?null:u(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}_.shader=new i(g,(()=>import(\"./ImageMaterial.glsl.js\")));const C=P(T.ONE,T.ONE_MINUS_SRC_ALPHA);class w extends b{constructor(){super(...arguments),this.output=t.Color,this.cullFace=a.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=y.NONE,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([o({count:t.COUNT})],w.prototype,\"output\",void 0),e([o({count:a.COUNT})],w.prototype,\"cullFace\",void 0),e([o()],w.prototype,\"hasSlicePlane\",void 0),e([o()],w.prototype,\"transparent\",void 0),e([o()],w.prototype,\"enableOffset\",void 0),e([o()],w.prototype,\"writeDepth\",void 0),e([o()],w.prototype,\"hasOccludees\",void 0),e([o({count:y.COUNT})],w.prototype,\"transparencyPassType\",void 0),e([o()],w.prototype,\"hasMultipassTerrain\",void 0),e([o()],w.prototype,\"cullAboveGround\",void 0);export{N as ImageMaterialPassParameters,_ as ImageMaterialTechnique,w as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as t}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as r}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as s}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as i}from\"../lib/RenderSlot.js\";import{DefaultBufferWriter as n}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as u}from\"./DefaultLayouts.js\";import{TriangleMaterial as o}from\"./TriangleMaterial.js\";import{ImageMaterialTechniqueConfiguration as h,ImageMaterialTechnique as l}from\"../shaders/ImageMaterialTechnique.js\";class c extends o{constructor(e){super(e,new m),this.supportsEdges=!0,this._configuration=new h}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<s,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}requiresSlot(t,r){if(r===e.Color||r===e.Alpha||r===e.Highlight){if(t===i.DRAPED_MATERIAL)return!0;if(r===e.Highlight)return t===i.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?i.TRANSPARENT_MATERIAL:i.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:i.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new p(e)}createBufferWriter(){return new n(u)}}class p extends r{constructor(e){super({...e,...e.material.parameters})}_updateParameters(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(l,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:e.hasOccludees}),this._updateParameters(e))}beginSlot(t){return this._output!==e.Color&&this._output!==e.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class m extends a{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=t.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0}}export{c as ImageMaterial,m as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as s}from\"../lib/basicInterfaces.js\";import{blendingDefault as n,oitBlending as a,oitDepthWrite as p,OITPolygonOffset as l}from\"../lib/OrderIndependentTransparency.js\";import{Program as u}from\"../lib/Program.js\";import{TransparencyPassType as c}from\"../lib/TransparencyPassType.js\";import{VertexAttribute as h}from\"../lib/VertexAttribute.js\";import{DefaultTechniqueConfiguration as d}from\"../materials/DefaultTechniqueConfiguration.js\";import{S as m}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{CompareFunction as f}from\"../../../webgl/enums.js\";import{makePipelineState as b,cullingParams as y,defaultDepthWriteParams as S,defaultColorWriteParams as T}from\"../../../webgl/renderState.js\";class g extends o{initializeProgram(e){return new u(e.rctx,g.shader.get().build(this.configuration),v)}_setPipelineState(e){const r=this.configuration,o=e===c.NONE,i=e===c.FrontFace;return b({blending:r.output!==t.Color&&r.output!==t.Alpha||!r.transparent?null:o?n:a(e),culling:y(r.cullFace),depthTest:{func:i?f.LESS:r.shadingEnabled?f.LEQUAL:f.LESS},depthWrite:o?r.writeDepth?S:null:p(e),colorWrite:T,polygonOffset:o||i?null:l})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}g.shader=new r(m,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=t.Color,this.cullFace=s.None,this.transparencyPassType=c.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1}}e([i({count:t.COUNT})],j.prototype,\"output\",void 0),e([i({count:s.COUNT})],j.prototype,\"cullFace\",void 0),e([i({count:c.COUNT})],j.prototype,\"transparencyPassType\",void 0),e([i()],j.prototype,\"hasSlicePlane\",void 0),e([i()],j.prototype,\"transparent\",void 0),e([i()],j.prototype,\"writeDepth\",void 0),e([i()],j.prototype,\"screenSizeEnabled\",void 0),e([i()],j.prototype,\"shadingEnabled\",void 0),e([i()],j.prototype,\"hasMultipassTerrain\",void 0),e([i()],j.prototype,\"cullAboveGround\",void 0);const v=new Map([[h.POSITION,0],[h.NORMAL,1],[h.OFFSET,2]]);export{g as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,v as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,g as r,a as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{f as a}from\"../../../../chunks/vec4f64.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as c}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as l}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as u}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as h}from\"../lib/basicInterfaces.js\";import p from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as m}from\"../lib/Material.js\";import{RenderSlot as d}from\"../lib/RenderSlot.js\";import{assert as S}from\"../lib/Util.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as E,writePosition as g}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as A}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as T,vertexAttributeLocations as _,ShadedColorMaterialTechnique as F}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends f{constructor(e){super(e,new x),this.supportsEdges=!0,this._configuration=new T,this._vertexAttributeLocations=_}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,u){if(this.parameters.screenSizeEnabled){const s=e.vertexAttributes.get(b.OFFSET),h={applyToVertex:(e,n,o,c)=>{const l=t(L,s.data[3*c+0],s.data[3*c+1],s.data[3*c+2]),u=t(w,e,n,o);return r(l,l,this.parameters.screenSizeScale*a.camera.computeRenderPixelSizeAt(l)),i(u,u,l),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=n(e,L);return o(e,this.parameters.screenSizeScale*a.camera.computeRenderPixelSizeAt(t))}};A(e,a,c,l,h,u)}else A(e,a,c,l,void 0,u)}requiresSlot(e,t){if(t===u.Highlight)return e===d.OPAQUE_MATERIAL;if(t===u.Color||t===u.Alpha||t===u.ObjectAndLayerIdColor){let t=d.OPAQUE_MATERIAL;return this.parameters.transparent&&(t=this.parameters.writeDepth?d.TRANSPARENT_MATERIAL:d.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===d.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new j(e)}createBufferWriter(){return new O(this.parameters.screenSizeEnabled)}}class j extends p{beginSlot(e){return this.ensureTechnique(F,e)}}class x extends m{constructor(){super(...arguments),this.color=a(1,1,1,1),this.shadingTint=a(0,0,0,.25),this.shadingDirection=e(s(),[.5,-.5,-.5]),this.screenSizeScale=14,this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=h.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class O{constructor(e){this.screenSizeEnabled=e;const t=l().vec3f(b.POSITION).vec3f(b.NORMAL);this.screenSizeEnabled&&t.vec3f(b.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(b.POSITION).length}write(e,t,r,i,s){if(E(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.vertexAttributes.has(b.OFFSET))throw new Error(`${b.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.vertexAttributes.get(b.OFFSET),a=r.indices.get(b.OFFSET);S(3===e.size);const n=i.getField(b.OFFSET,c);if(!n)throw new Error(\"unable to acquire view for \"+b.OFFSET);g(a,e.data,t,n,s)}}}}const L=s(),w=s();export{v as ShadedColorMaterial,x as ShadedColorMaterialParameters};\n"],"names":["f","w","c","h","vertex","b","fragment","l","include","a","attributes","add","v","varyings","hasMultipassTerrain","uniforms","n","o","e","texture","descriptor","textureCoordinateScaleFactor","r","code","p","i","t","u","g","opacity","output","s","d","transparencyPassType","m","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","C","color","screenSizeEnabled","shadingEnabled","shadingDirection","shadingTint","ie","this","metadata","_camera","J","_elevation","offset","override","collisionType","type","collisionPriority","_renderObjects","Array","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","A","_renderLocationDirty","_location","te","x","y","z","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","grabCursor","_grabbing","dragging","_hovering","_selected","_state","$","_focused","events","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_engineResourcesAddedToStage","_attached","spatialReference","view","state","camera","copyFrom","_removeResourcesFromStage","_engineResources","get","_stage","_elevationInfo","set","_updateEngineObject","slice","remove","se","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","D","_e","radius","P","oe","fromRenderCoords","G","_notifyLocationChanged","emit","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","Y","_setFocused","action","_ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","pe","projectToRenderScreen","renderToScreen","_applyObjectTransform","available","ne","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","he","q","ae","length","L","ue","U","re","V","S","R","direction","E","_","ce","j","me","fe","W","de","ge","N","_calculateModelTransformPosition","M","manipulator3D","engineLayerId","X","pickable","updatePolicy","Q","id","_engineLayer","getObject","engineLayerReferences","_materialIdReferences","materialIdReferences","Map","F","k","be","extent","elevationInfo","mode","Z","elevationProvider","_getFocusedSize","focused","_ensureEngineResources","objectsByState","ee","selected","stateMask","objects","visible","transformation","Set","renderObjects","forEach","geometry","material","has","push","K","castShadow","geometries","layer","materials","_addResourcesToStage","addMany","removeMany","delete","le","O","T","areAnyResourcesVisible","I","H","B","transparent","writeDepth","cullFace","renderOccluded","calloutLength","calloutWidth","discRadius","calloutColor","textureId","discScale","width","calloutOpacity","customStateMask","worldSized","Math","atan2","getViewForGraphic","computeAttachmentOrigin","anchor","perScreenPixelRatio","screenSizeScale","rctx","shader","configuration","blending","culling","depthTest","func","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","polygonOffset","enableOffset","_occludeePipelineState","_setPipelineState","arguments","hasSlicePlane","cullAboveGround","count","prototype","supportsEdges","_configuration","parameters","relativeElevation","multipassTerrain","enabled","updateTexture","_material","setParameters","textureBindParameters","ensureTechnique","_updateParameters","_output","_updateOccludeeState","initTextureTransparent","_vertexAttributeLocations","vertexAttributes","applyToVertex","data","computeRenderPixelSizeAt","applyToAabb","vec3f","vertexBufferLayout","createBuffer","indices","Error","size","getField"],"sourceRoot":""}