"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[93507],{96664:function(e,t,n){n.d(t,{O:function(){return s},s:function(){return l}});var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC",i="data:image/png;base64,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",o=n(1487),a={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function s(e){return e.fromData(r,(function(){return new o.x(r,a)}))}function l(e){return e.fromData(i,(function(){return new o.x(i,a)}))}},79311:function(e,t,n){n.d(t,{_:function(){return X}});var r=n(15671),i=n(43144),o=n(60136),a=n(92572),s=n(51995),l=(n(93169),n(42537)),u=n(92026),c=n(11186),d=n(71353),h=n(79803),f=n(74509),p=n(97411),v=n(37762),g=n(29439),_=n(94172),y=n(17842),D=n(88396),m=n(6394),A=n(90045),w=n(151),O=n(65618),k=n(62921),C=n(19384),b=n(70619),R=n(56529),G=n(39077),S=n(4760),x=n(58901),E=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._location=(0,d.c)(),i._direction=(0,d.f)(1,0,0),i._width=1,i._offset=1,i._length=18,i._color=(0,w.f)(1,0,1,1),i._renderOccluded=R.yD.OccludeAndTransparent,i.applyProps(e),i}return(0,i.Z)(n,[{key:"createObject3DResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(e){return t._createObject3DResources(e)},destroyResources:function(e){return t._destroyObject3DResources(e)},recreateGeometry:function(e,n){return t._recreateObject3DGeometry(e,n)},cameraChanged:function(){return t._updateGeometry()}}}},{key:"createDrapedResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(){return t._createDrapedResources()},destroyResources:function(e){return t._destroyDrapedResources(e)},recreateGeometry:function(e){return t._recreateDrapedGeometry(e)}}}},{key:"location",get:function(){return this._location},set:function(e){(0,c.k)(this._location,e)||((0,c.c)(this._location,e),this._updateGeometry())}},{key:"direction",get:function(){return this._direction},set:function(e){(0,c.k)(this._direction,e)||((0,c.c)(this._direction,e),this._updateGeometry())}},{key:"setDirectionFromPoints",value:function(e,t){(0,c.n)(this._direction,(0,c.b)(this._direction,t,e)),this._updateGeometry()}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this._updateMaterial())}},{key:"offset",get:function(){return this._offset},set:function(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}},{key:"length",get:function(){return this._length},set:function(e){e!==this._length&&(this._length=e,this._updateGeometry())}},{key:"color",get:function(){return this._color},set:function(e){(0,A.g)(e,this._color)||((0,A.c)(this._color,e),this._updateMaterial())}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}},{key:"_createObject3DResources",value:function(e){var t=new x.U(this.materialParameters),n=new Array;return this._createObject3DGeometry(t,e,n),{material:t,geometries:n,forEach:function(e){e(t),n.forEach(e)}}}},{key:"_destroyObject3DResources",value:function(e){e.geometries.length=0,e.material.dispose()}},{key:"_recreateObject3DGeometry",value:function(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}},{key:"_createObject3DGeometry",value:function(e,t,n){var r=this._createGeometries(e),i=(0,g.Z)(r,2),o=i[0],a=i[1];t.addGeometry(o),t.addGeometry(a),n.push(o),n.push(a),this._updateVerticesObject3D(t)}},{key:"_createDrapedResources",value:function(){var e=this,t=new x.U(this.materialParameters),n=(0,_.YP)((function(){return e.view.state.contentPixelRatio}),(function(){e.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:n}}},{key:"_destroyDrapedResources",value:function(e){e.pixelRatioHandle.remove(),e.geometries=[],e.material.dispose()}},{key:"_recreateDrapedGeometry",value:function(e){e.geometries=this._createDrapedGeometry(e.material)}},{key:"_createDrapedGeometry",value:function(e){var t=this._createGeometries(e);this._updateVerticesDraped(t);var n,r=t.map((function(e){return new G.z(e,{boundingInfo:e.boundingInfo})})),i=(0,v.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.computeBoundingSphere(o.transformation,o.boundingSphere)}}catch(a){i.e(a)}finally{i.f()}return r}},{key:"_createGeometries",value:function(e){return[(0,b.rh)(e,[(0,d.c)(),(0,d.c)()]),(0,b.rh)(e,[(0,d.c)(),(0,d.c)()])]}},{key:"_updateMaterial",value:function(){var e,t,n=this.materialParameters;null!==(e=(0,u.WG)(this.object3dResources.resources))&&void 0!==e&&e.material.setParameters(n),null===(t=(0,u.WG)(this.drapedResources.resources))||void 0===t||t.material.setParameters(n)}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}},{key:"_updateGeometry",value:function(){if(this.isDraped)this.drapedResources.recreateGeometry();else{var e=(0,u.WG)(this.object3dResources.object);e&&this._updateVerticesObject3D(e)}}},{key:"_updateVerticesObject3D",value:function(e){var t=this.view.state.camera;t.projectToScreen(this.location,T),(0,c.a)(P,this.location,this.direction),t.projectToScreen(P,W),(0,D.f)(W,(0,D.a)(W,W,T)),this._updateVertexAttributesObject3D(t,e,0,T,W,1),this._updateVertexAttributesObject3D(t,e,1,T,W,-1)}},{key:"_updateVertexAttributesObject3D",value:function(e,t,n,r,i,o){var a,s=t.geometries[n],l=null===(a=s.getMutableAttribute(S.T.POSITION))||void 0===a?void 0:a.data;if(l){var u=this._computeStartEnd(i,r,o,this.offset,this.width,this.length),c=u.start,d=u.end;e.unprojectFromScreen((0,y.c$)(c),P),l[0]=P[0],l[1]=P[1],l[2]=P[2],e.unprojectFromScreen((0,y.c$)(d),P),l[3]=P[0],l[4]=P[1],l[5]=P[2],t.geometryVertexAttrsUpdated(s)}}},{key:"_updateVerticesDraped",value:function(e){var t=this.view,n=t.basemapTerrain.overlayManager,r=t.state.contentPixelRatio,i=this.location,o=this.width,a=this.length,s=this.offset,l=I;l.spatialReference=(0,u.Wg)(n.renderer.spatialReference),l.x=i[0],l.y=i[1];var c=n.overlayPixelSizeInMapUnits(l)*r,d=o*c,h=a*c,f=s*c;this._updateVertexAttributesDraped(e[0],d,h,f,-1),this._updateVertexAttributesDraped(e[1],d,h,f,1)}},{key:"_updateVertexAttributesDraped",value:function(e,t,n,r,i){var o,a=null===(o=e.getMutableAttribute(S.T.POSITION))||void 0===o?void 0:o.data;if(a){var s=this.location,l=this.direction,u=this._computeStartEnd(l,s,i,r,t,n),c=u.start,d=u.end;a[0]=c[0],a[1]=c[1],a[2]=C.Rn,a[3]=d[0],a[4]=d[1],a[5]=C.Rn,e.invalidateBoundingInfo()}}},{key:"_computeStartEnd",value:function(e,t,n,r,i,o){var a=(0,D.b)(Z,(0,D.s)(Z,e[1]*n,e[0]*-n),r+i/2),s=(0,D.j)(z,(0,D.j)(z,(0,D.j)(z,t,(0,D.b)(z,e,o/2)),a),a);return{start:s,end:(0,D.j)(M,s,(0,D.b)(M,e,-o))}}}]),n}(k.i),P=(0,d.c)(),Z=(0,m.a)(),z=(0,m.a)(),M=(0,m.a)(),T=(0,y.s1)(),W=(0,y.s1)(),I=(0,O.Tx)(0,0,void 0,null),H=n(66730),U=n(98917),V=n(26279),j=n(76014),L=n(80371),Q=n(1700),F=n(64674),N=n(38561),B=n(53397),q=n(11208),X=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"sortUniqueHints",value:function(e){return e.sort((function(e,t){return(t instanceof B.w?t.length:0)-(e instanceof B.w?e.length:0)}))}},{key:"visualizeIntersectionPoint",value:function(e,t){var n=t.spatialReference,r=t.view;return(0,l.ed)(new H.L({view:r,primitive:"circle",geometry:(0,Q.SH)(e.intersectionPoint,n),elevationInfo:e.isDraped?f.tR:f.jG,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:s.Z.toUnitRGBA(j.c.orange),pixelSnappingEnabled:!1}))}},{key:"visualizePoint",value:function(e,t){var n=t.view,r=t.spatialReference,i=this._alignPoint(e.point,e.domain,t);return(0,l.ed)(new H.L({view:n,primitive:"circle",geometry:(0,Q.SH)(i,r),elevationInfo:this._hintElevationInfo(e,t),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:s.Z.toUnitRGBA(j.c.orange),pixelSnappingEnabled:!1}))}},{key:"visualizeLine",value:function(e,t){var n=t.view,r=t.spatialReference,i=this._alignPoint(e.lineStart,e.domain,t),o=this._alignPoint(e.lineEnd,e.domain,t);return(0,l.ed)(this._createLineSegmentHint(e.type,i,o,r,this._hintElevationInfo(e,t),n,e.isDraped,e.fadeLeft,e.fadeRight))}},{key:"visualizeParallelSign",value:function(e,t){var n=t.view,r=t.spatialReference,i=e.isDraped,o=this._hintElevationInfo(e,t),a=this._alignPoint(e.lineStart,e.domain,t),u=this._alignPoint(e.lineEnd,e.domain,t),d=Y(a,r,o,n,i),h=Y(u,r,o,n,i),f=(0,c.h)(h,d,h,.5),p=new E({view:n,attached:!1,offset:j.c.parallelLineHintOffset,length:j.c.parallelLineHintLength,width:j.c.parallelLineHintWidth,color:s.Z.toUnitRGBA(j.c.orange),location:f,renderOccluded:i?R.yD.OccludeAndTransparent:R.yD.Opaque,isDraped:i,renderGroup:V.eZ.SnappingHint});return p.setDirectionFromPoints(d,f),p.attached=!0,(0,l.ed)(p)}},{key:"visualizeRightAngleQuad",value:function(e,t){var n=t.view,r=t.spatialReference,i=this._hintElevationInfo(e,t),o=e.isDraped,a=this._alignPoint(e.previousVertex,e.domain,t),u=this._alignPoint(e.centerVertex,e.domain,t),c=this._alignPoint(e.nextVertex,e.domain,t),d=Y(a,r,i,n,o),h=Y(u,r,i,n,o),f=Y(c,r,i,n,o);return(0,l.ed)(new U.R({view:n,attached:!0,color:o?s.Z.toUnitRGBA(j.c.orangeTransparent):s.Z.toUnitRGBA(j.c.orange),renderOccluded:o?R.yD.OccludeAndTransparent:R.yD.Transparent,outlineRenderOccluded:o?R.yD.OccludeAndTransparent:R.yD.Opaque,outlineColor:s.Z.toUnitRGBA(j.c.orange),outlineSize:j.c.rightAngleHintOutlineSize,size:j.c.rightAngleHintSize,isDraped:o,geometry:{previous:d,center:h,next:f},renderGroup:V.eZ.SnappingHint}))}},{key:"_createLineSegmentHint",value:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],u=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],c=Y(t,r,i,o,a),d=Y(n,r,i,o,a),h=new p.V({view:o,extensionType:p.n.FADED,start:c,end:d,isDraped:a,color:s.Z.toUnitRGBA(j.c.orange),renderOccluded:a?R.yD.OccludeAndTransparent:R.yD.Opaque,renderGroup:V.eZ.SnappingHint});switch(e){case F.ze.TARGET:h.width=j.c.lineHintWidthTarget,h.fadedExtensions={start:0,end:j.c.lineHintFadedExtensions};break;case F.ze.REFERENCE_EXTENSION:h.width=j.c.lineHintWidthReference,h.fadedExtensions={start:0,end:0};break;case F.ze.REFERENCE:h.width=j.c.lineHintWidthReference,h.fadedExtensions={start:l?j.c.lineHintFadedExtensions:0,end:u?j.c.lineHintFadedExtensions:0}}return h.attached=!0,h}},{key:"_alignPoint",value:function(e,t,n){var r=this._getSelfSnappingZ(t,n);return(0,u.Wi)(r)?e:(0,Q.$G)(e[0],e[1],r)}},{key:"_hintElevationInfo",value:function(e,t){return(0,u.pC)(this._getSelfSnappingZ(e.domain,t))?(0,u.Wg)(t.selfSnappingZ).elevationInfo:e.isDraped?f.tR:f.jG}},{key:"_getSelfSnappingZ",value:function(e,t){var n=t.selfSnappingZ;return e===L.B.SELF&&(0,u.pC)(n)?n.value:null}}]),n}(N.a);function Y(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,d.c)();if(i){var a=r.basemapTerrain.overlayManager.renderer.spatialReference;(0,h.SH)(e,t,o,a)}else(0,q.RS)(e,t,n,r,o);return o}},51328:function(e,t,n){n.d(t,{G:function(){return C},J4:function(){return x},Sp:function(){return G},VG:function(){return b},_N:function(){return A},_y:function(){return R},bB:function(){return w},gv:function(){return E},zP:function(){return S}});var r,i,o=n(1413),a=n(92026),s=n(17842),l=n(11186),u=n(71353),c=n(79803),d=n(55652),h=n(40885),f=n(40927),p=n(51378),v=n(74509),g=n(81703),_=n(88153),y=n(54463),D=n(76783),m=n(74229);function A(e,t){return O(e,(function(){return t}))}function w(e){return O(e,(function(e){return e.plane}))}function O(e,t){var n=(0,u.c)(),r=(0,u.c)(),i=!1;return function(l){var u=t(l);if("start"===l.action){var c=(0,s.md)(l.screenStart,(0,s.c$)(p.qW.get())),h=(0,g.u4)(e.state.camera,c,z);(0,a.pC)(h)&&(i=(0,d.BR)(u,h,n))}if(!i)return null;var f=(0,s.md)(l.screenEnd,(0,s.c$)(p.qW.get())),v=(0,g.u4)(e.state.camera,f,z);return(0,a.Wi)(v)?null:(0,d.BR)(u,v,r)?(0,o.Z)((0,o.Z)({},l),{},{renderStart:n,renderEnd:r,plane:u,ray:v}):null}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=null;return function(u){if("start"===u.action&&(l=e.sceneIntersectionHelper.intersectElevationFromScreen((0,s.s1)(u.screenStart.x,u.screenStart.y),t,n,i),(0,a.pC)(l)&&(0,a.pC)(r)&&!(0,c.nF)(l,l,r)))return null;if((0,a.Wi)(l))return null;var d=e.sceneIntersectionHelper.intersectElevationFromScreen((0,s.s1)(u.screenEnd.x,u.screenEnd.y),t,n,i);return(0,a.pC)(d)?(0,a.pC)(r)&&!(0,c.nF)(d,d,r)?null:(0,o.Z)((0,o.Z)({},u),{},{mapStart:l,mapEnd:d}):null}}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return k(e,n,(0,v.Ou)(t,e,n),r,i)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return C(e,n,(0,v.RL)(t),r,i)}function R(e,t,n,r){var i=t.toMap(e.screenStart,{include:[n]});return(0,a.pC)(i)?b(t,n,i,r):null}function G(e,t,n){var r=null,i=new m.hM;return i.next(A(e,function(e,t){var n=P,r=Z,i=(0,d.Ue)();e.renderCoordsHelper.worldUpAtPosition(t,n);var o=(0,l.f)(i,n,(0,l.b)(r,t,e.state.camera.eye));return(0,l.f)(o,o,n),(0,d.Yq)(t,o,i)}(e,t))).next(function(e,t){var n=(0,u.c)(),r=(0,l.l)(t);e.renderCoordsHelper.worldUpAtPosition(t,n);var i=(0,u.c)(),o=(0,u.c)(),a=function(i){return(0,l.b)(i,i,t),(0,f.nF)(n,i,i),"global"===e.viewingMode&&(0,l.l)(i)*Math.sign((0,l.e)(n,i))<.001-r&&(0,l.b)(i,(0,l.g)(i,n,.001),t),(0,l.a)(i,i,t),i};return function(e){return e.renderStart=a((0,l.c)(i,e.renderStart)),e.renderEnd=a((0,l.c)(o,e.renderEnd)),e}}(e,t)).next(S(e,n)).next((function(e){e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,r=e})),function(e){return r=null,i.execute(e),r}}function S(e,t){var n=e.renderCoordsHelper;return function(e){var r=n.fromRenderCoords(e.renderStart,t),i=n.fromRenderCoords(e.renderEnd,t);return(0,a.pC)(r)&&(0,a.pC)(i)?(0,o.Z)((0,o.Z)({},e),{},{mapStart:r,mapEnd:i}):null}}function x(e){var t=null;return function(n){switch(n.action){case"start":t=e.disableDisplay();break;case"end":case"cancel":(0,a.pC)(t)&&(t.remove(),t=null)}return n}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,_.Z8)(e.state.viewingMode);n.options.selectionMode=!0,n.options.store=y.eC.MIN,n.options.hud=!1;var i,l=(0,s.s1)(),c={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},d=(0,u.c)(),h=(0,a.Pt)(t,e.spatialReference),f=function(t){e.map.ground&&e.map.ground.opacity<1?c.exclude.add(D.cy):c.exclude.delete(D.cy),e.sceneIntersectionHelper.intersectIntersectorScreen((0,s.md)(t,l),n,c);var i,o=n.results.min;if(o.getIntersectionPoint(d))i=o.intersector===y.q7.TERRAIN?r.GROUND:r.OTHER;else{if(!n.results.ground.getIntersectionPoint(d))return null;i=r.GROUND}return{location:e.renderCoordsHelper.fromRenderCoords(d,h),surfaceType:i}};return function(e){if("start"===e.action){var t=f(e.screenStart);i=(0,a.pC)(t)?t.location:null}if((0,a.Wi)(i))return null;var n=f(e.screenEnd);return(0,a.pC)(n)&&(0,a.pC)(n.location)?(0,o.Z)((0,o.Z)({},e),{},{mapStart:i,mapEnd:n.location,surfaceType:n.surfaceType}):null}}(i=r||(r={}))[i.GROUND=0]="GROUND",i[i.OTHER=1]="OTHER";var P=(0,u.c)(),Z=(0,u.c)(),z=(0,h.Ue)()},99047:function(e,t,n){n.d(t,{O9:function(){return p},Xd:function(){return E}});var r=n(97326),i=n(60136),o=n(92572),a=n(43144),s=n(15671),l=n(51995),u=n(86950),c=n(67077),d=n(97411),h=n(56529),f=n(86700),p={main:new l.Z([255,127,0]),selected:new l.Z([255,255,255]),staged:new l.Z([12,207,255]),outline:new l.Z([0,0,0,.5]),selectedOutline:new l.Z([255,255,255])},v=.3;function g(e,t){var n=e.clone();return n.a*=t,n}function _(e,t){var n=e.clone(),r=(0,u._Y)(n);r.s*=t;var i=(0,u.xr)(r);return n.r=i.r,n.g=i.g,n.b=i.b,n}function y(e,t){if(t)for(var n in t)e[n]=t[n]}var D=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.color=p.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=h.yD.Opaque,y(this,t)})),m=function(){function e(t){(0,s.Z)(this,e),this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=p.main,this.outlineColor=p.outline,this.renderOccluded=h.yD.Opaque,this.hoverOutlineColor=p.selectedOutline,y(this,t)}return(0,a.Z)(e,[{key:"apply",value:function(e,t){var n=this[e];t.setParameters({color:x(n),transparent:"color"!==e||n.a<1,renderOccluded:this.renderOccluded})}}]),e}(),A=function(){function e(t){(0,s.Z)(this,e),this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=g(p.main,.5),this.hoverColor=p.main,this.renderOccluded=h.yD.Transparent,this.minSquaredEdgeLength=900,y(this,t)}return(0,a.Z)(e,[{key:"apply",value:function(e,t){var n=this[e];t.setParameters({color:x(n),transparent:n.a<1,renderOccluded:this.renderOccluded})}}]),e}(),w=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.vertex=new m({color:p.main,outlineColor:p.outline}),this.edge=new m({color:_(g(p.main,2/3),.5),outlineColor:g(p.outline,.5),size:8,collisionPadding:8}),this.selected=new m({color:p.selected,outlineColor:p.outline}),this.edgeOffset=new A,y(this,t)})),O=function(){function e(t){(0,s.Z)(this,e),this.color=p.selected,this.width=1.5,this.stipplePattern=(0,f.z5)(5),this.stippleOffColor=p.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=p.selected,this.renderOccluded=h.yD.OccludeAndTransparent,y(this,t)}return(0,a.Z)(e,[{key:"apply",value:function(e){e.color=x(this.color),e.width=this.width,e.stipplePattern=this.stipplePattern,e.stippleOffColor=x(this.stippleOffColor),e.falloff=this.falloff,e.innerWidth=this.innerWidth,e.innerColor=x(this.innerColor),e.renderOccluded=this.renderOccluded}}]),e}(),k=function(){function e(t){(0,s.Z)(this,e),this.color=p.selected,this.size=4,this.outlineSize=1,this.outlineColor=p.outline,this.shape="square",y(this,t)}return(0,a.Z)(e,[{key:"apply",value:function(e){e.color=x(this.color),e.size=this.size,e.outlineSize=this.outlineSize,e.outlineColor=x(this.outlineColor),e.primitive=this.shape}}]),e}(),C=function(){function e(t){(0,s.Z)(this,e),this.innerColor=p.selected,this.innerWidth=1,this.glowColor=p.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=v,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=p.main,y(this,t)}return(0,a.Z)(e,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={glowColor:l.Z.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:l.Z.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*t,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=n:e.laserlineStyle=n}}]),e}(),b=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.outline=new O({color:p.outline,renderOccluded:h.yD.OccludeAndTransparentStencil,stippleOffColor:p.selected,stipplePattern:(0,f.z5)(5),width:1.5,innerWidth:0}),this.staged=new O({color:p.selected,renderOccluded:h.yD.OccludeAndTransparentStencil,innerColor:p.staged,stippleOffColor:p.outline,stipplePattern:(0,f.z5)(5),width:1.5}),this.shadowStyle=new C({globalAlpha:v,glowColor:p.main,glowFalloff:8,glowWidth:8,innerColor:p.selected,innerWidth:1}),y(this,t)})),R=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.outline=new k({color:p.selected,outlineColor:p.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new C({globalAlpha:v,glowColor:p.main,glowFalloff:1.5,glowWidth:6,innerColor:p.selected,innerWidth:1,radius:2}),y(this,t)})),G=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this)).extensionType=d.n.GROUND_RAY,y((0,r.Z)(i),e),i}return(0,a.Z)(n)}(O),S=(0,a.Z)((function e(t){(0,s.Z)(this,e),this.lineGraphics=new b,this.pointGraphics=new R,this.heightPlane=new C({globalAlpha:v,glowColor:p.main,glowFalloff:8,glowWidth:8,innerColor:p.selected,innerWidth:1}),this.heightBox=new C({globalAlpha:v,glowColor:p.main,glowFalloff:8,glowWidth:8,innerColor:p.selected,innerWidth:0,heightFillColor:p.main}),this.zVerticalLine=new G({color:g(p.main,.5),falloff:2,innerColor:g(p.selected,0),renderOccluded:h.yD.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:d.n.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,y(this,t)}));function x(e){return(0,c.b)(l.Z.toUnitRGBA(e))}var E=new(function(){function e(t){(0,s.Z)(this,e),this.visualElements=new S,this.reshapeManipulators=new w,this.zManipulator=new D,y(this,t)}return(0,a.Z)(e,[{key:"colorToVec4",value:function(e){return x(e)}}]),e}())},97411:function(e,t,n){n.d(t,{V:function(){return x},n:function(){return r}});var r,i,o=n(74165),a=n(37762),s=n(15671),l=n(43144),u=n(11752),c=n(61120),d=n(60136),h=n(92572),f=(n(93169),n(92026)),p=n(11186),v=n(71353),g=n(90045),_=n(151),y=n(70444),D=n(95773),m=n(85981),A=n(40885),w=n(62921),O=n(62389),k=n(19384),C=n(70619),b=n(56529),R=n(39077),G=n(4760),S=n(58901),x=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._ray=(0,A.Ue)(),i._isWorldDown=!1,i._start=(0,v.c)(),i._end=(0,v.f)(1,0,0),i._width=1,i._color=(0,_.f)(1,0,1,1),i._polygonOffset=!1,i._writeDepthEnabled=!0,i._innerWidth=0,i._innerColor=(0,_.f)(1,1,1,1),i._stipplePattern=null,i._stippleOffColor=null,i._stipplePreferContinuous=!0,i._falloff=0,i._extensionType=r.LINE,i._laserlineStyle=null,i._laserlineEnabled=!1,i._renderOccluded=b.yD.OccludeAndTransparent,i._fadedExtensions=T,i._laserline=new O.W({view:i.view}),i.applyProps(e),i}return(0,l.Z)(n,[{key:"destroy",value:function(){this._laserline.destroy(),(0,u.Z)((0,c.Z)(n.prototype),"destroy",this).call(this)}},{key:"createObject3DResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(e){return t._createObject3DResources(e)},destroyResources:function(e){return t._destroyExternalResources(e)},recreateGeometry:function(e,n){return t._recreateObject3DGeometry(e,n)},cameraChanged:function(){return t._updateGeometry()}}}},{key:"createDrapedResourceFactory",value:function(e){var t=this;return{view:e,createResources:function(){return t._createDrapedResources()},destroyResources:function(e){return t._destroyExternalResources(e)},recreateGeometry:function(e){return t._recreateDrapedGeometry(e)}}}},{key:"updateVisibility",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"updateVisibility",this).call(this,e),this._laserline.visible=e}},{key:"onAttachedChange",value:function(){this._laserline.attached=this._laserlineAttached}},{key:"setStartEndFromWorldDownAtLocation",value:function(e){this._isWorldDown=!0,(0,p.c)(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),(0,p.b)(this._end,e,this._end),(0,A.zk)(this._start,this._end,this._ray),this._updateGeometry()}},{key:"start",get:function(){return this._start},set:function(e){this._isWorldDown=!1,(0,p.k)(this._start,e)||((0,p.c)(this._start,e),(0,A.zk)(this._start,this._end,this._ray),this._updateGeometry())}},{key:"end",get:function(){return this._end},set:function(e){this._isWorldDown=!1,(0,p.k)(this._end,e)||((0,p.c)(this._end,e),(0,A.zk)(this._start,this._end,this._ray),this._updateGeometry())}},{key:"width",get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,this._updateMaterial())}},{key:"color",get:function(){return this._color},set:function(e){(0,g.g)(e,this._color)||((0,g.c)(this._color,e),this._updateMaterial())}},{key:"polygonOffset",get:function(){return this._polygonOffset},set:function(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}},{key:"writeDepthEnabled",get:function(){return this._writeDepthEnabled},set:function(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}},{key:"innerWidth",get:function(){return this._innerWidth},set:function(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}},{key:"innerColor",get:function(){return this._innerColor},set:function(e){(0,g.g)(e,this._innerColor)||((0,g.c)(this._innerColor,e),this._updateMaterial())}},{key:"stipplePattern",get:function(){return this._stipplePattern},set:function(e){var t=(0,f.pC)(e)!==(0,f.pC)(this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}},{key:"stippleOffColor",get:function(){return this._stippleOffColor},set:function(e){((0,f.Wi)(e)||(0,f.Wi)(this._stippleOffColor)||!(0,g.g)(e,this._stippleOffColor))&&(this._stippleOffColor=(0,f.pC)(e)?(0,_.c)(e):null,this._updateMaterial())}},{key:"stipplePreferContinuous",get:function(){return this._stipplePreferContinuous},set:function(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}},{key:"falloff",get:function(){return this._falloff},set:function(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}},{key:"extensionType",get:function(){return this._extensionType},set:function(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}},{key:"_laserlineAttached",get:function(){return this._laserlineEnabled&&(0,f.pC)(this._laserlineStyle)&&this.attached&&!this.isDraped}},{key:"laserlineStyle",get:function(){return this._laserlineStyle},set:function(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,(0,f.pC)(e)&&(this._laserline.style=e)}},{key:"laserlineEnabled",get:function(){return this._laserlineEnabled},set:function(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}},{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}},{key:"_normalizedRenderOccluded",get:function(){return this.isDraped&&this._renderOccluded===b.yD.OccludeAndTransparentStencil?b.yD.OccludeAndTransparent:this._renderOccluded}},{key:"fadedExtensions",get:function(){return this._fadedExtensions},set:function(e){this._fadedExtensions=(0,f.Pt)(e,T),this.recreateGeometry()}},{key:"_updateMaterial",value:function(){var e,t,n=this.materialParameters;null!==(e=(0,f.WG)(this.object3dResources.resources))&&void 0!==e&&e.material.setParameters(n),null===(t=(0,f.WG)(this.drapedResources.resources))||void 0===t||t.material.setParameters(n)}},{key:"materialParameters",get:function(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,writeDepth:this._writeDepthEnabled}}},{key:"_createObject3DResources",value:function(e){var t=new S.U(this.materialParameters),n=new Array;return this._createObject3DGeometry(t,e,n),{material:t,geometries:n,forEach:function(e){e(t),n.forEach(e)}}}},{key:"_destroyExternalResources",value:function(e){e.geometries=[],e.material.dispose()}},{key:"_recreateObject3DGeometry",value:function(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}},{key:"_createObject3DGeometry",value:function(e,t,n){var r=this._createGeometry(e);n.push(r),t.addGeometry(r),this._updateVerticesObject3D(t)}},{key:"_createDrapedResources",value:function(){var e=new S.U(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}},{key:"_recreateDrapedGeometry",value:function(e){e.geometries=[this._createDrapedGeometry(e.material)]}},{key:"_createDrapedGeometry",value:function(e){var t=this._createGeometry(e);this._updateVerticesDraped(t);var n=new R.z(t,{boundingInfo:t.boundingInfo});return n.computeBoundingSphere(n.transformation,n.boundingSphere),n}},{key:"_createGeometry",value:function(e){var t=this.extensionType===r.FADED,n=t?[(0,v.c)(),(0,v.c)(),(0,v.c)(),(0,v.c)()]:[(0,v.c)(),(0,v.c)()];return(0,C.rh)(e,n,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}},{key:"_updateGeometry",value:function(){if(this.isDraped)this.drapedResources.recreateGeometry();else{var e=(0,f.WG)(this.object3dResources.object);e&&this._updateVerticesObject3D(e)}}},{key:"_updateVerticesObject3D",value:function(e){var t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}},{key:"_updateVerticesDraped",value:function(e){this._updateVertexAttributesDraped(e,this._lineSegment)}},{key:"_lineSegment",get:function(){return this._extensionType===r.FADED?this._updateLineSegmentFinite(z):this._updateLineSegmentInfinite(this._extensionType,z)}},{key:"_updateLineSegmentFinite",value:function(e){return(0,m.zk)(this._start,this._end,e)}},{key:"_updateLineSegmentInfinite",value:function(e,t){var n=this.view.state.camera;switch((0,y.iL)(this._ray,E),e){case r.LINE:E.c0=-Number.MAX_VALUE;break;case r.RAY:case r.GROUND_RAY:var i=this._ray.origin,o=(0,f.Pt)(this.view.elevationProvider.getElevation(i[0],i[1],i[2],this.view.renderCoordsHelper.spatialReference,"ground"),0),a=this.view.renderCoordsHelper.getAltitude(i);this._isWorldDown&&a<o&&(0,p.o)(E.ray.direction,E.ray.direction),this._extensionType===r.GROUND_RAY&&null!=o&&(E.c1=Math.abs(a-o))}if(!(0,D.zq)(n.frustum,E))return this._updateLineSegmentFinite(t);var s=(0,y.Ws)(E,P),l=(0,y.S$)(E,Z);return(0,m.zk)(s,l,t)}},{key:"_updateVertexAttributesObject3D",value:function(e,t){var n,r=null===(n=e.geometries[0].getMutableAttribute(G.T.POSITION))||void 0===n?void 0:n.data;if(r){var i,o=0,s=(0,a.Z)(this._lineVertices(t));try{for(s.s();!(i=s.n()).done;){var l=i.value;r[o++]=l[0],r[o++]=l[1],r[o++]=l[2]}}catch(u){s.e(u)}finally{s.f()}e.geometryVertexAttrsUpdated(e.geometries[0])}}},{key:"_updateVertexAttributesDraped",value:function(e,t){var n,r=null===(n=e.getMutableAttribute(G.T.POSITION))||void 0===n?void 0:n.data;if(r){var i,o=0,s=(0,a.Z)(this._lineVertices(t));try{for(s.s();!(i=s.n()).done;){var l=i.value;r[o++]=l[0],r[o++]=l[1],r[o++]=k.Rn}}catch(u){s.e(u)}finally{s.f()}e.invalidateBoundingInfo()}}},{key:"_lineVertices",value:(0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.extensionType!==r.FADED){e.next=11;break}return e.next=3,(0,m.KU)(t,-this.fadedExtensions.start,P);case 3:return e.next=5,(0,m.KU)(t,0,P);case 5:return e.next=7,(0,m.KU)(t,1,P);case 7:return e.next=9,(0,m.KU)(t,1+this.fadedExtensions.end,P);case 9:e.next=15;break;case 11:return e.next=13,(0,m.KU)(t,0,P);case 13:return e.next=15,(0,m.KU)(t,1,P);case 15:case"end":return e.stop()}}),e,this)}))}]),n}(w.i),E=(0,y.Ue)(),P=(0,v.c)(),Z=(0,v.c)(),z=(0,m.Ue)();(i=r||(r={}))[i.LINE=0]="LINE",i[i.RAY=1]="RAY",i[i.GROUND_RAY=2]="GROUND_RAY",i[i.FADED=3]="FADED";var M=1/3,T={start:M,end:M}},27676:function(e,t,n){n.d(t,{j:function(){return w}});var r=n(1413),i=n(37762),o=n(15671),a=n(43144),s=n(60136),l=n(92572),u=n(92026),c=n(11186),d=n(71353),h=n(90045),f=n(99047),p=n(52168),v=n(78935),g=n(69691),_=n(88699);var y=n(68401),D=n(70619),m=n(56529),A=n(11606),w=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).view=null,r._renderOccluded=m.yD.OccludeAndTransparent,r._vertices=null,r._spatialReference=null,r._color=f.Xd.colorToVec4(f.Xd.reshapeManipulators.vertex.color),r._size=f.Xd.reshapeManipulators.vertex.size,r._outlineColor=f.Xd.colorToVec4(f.Xd.reshapeManipulators.vertex.outlineColor),r._outlineSize=f.Xd.reshapeManipulators.vertex.outlineSize,r._elevationInfo=null,r.applyProps(e),r}return(0,a.Z)(n,[{key:"renderOccluded",get:function(){return this._renderOccluded},set:function(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}},{key:"vertices",get:function(){return this._vertices},set:function(e){this._vertices=e,this.recreateGeometry()}},{key:"spatialReference",get:function(){return this._spatialReference},set:function(e){this._spatialReference=e,this.recreateGeometry()}},{key:"color",get:function(){return this._color},set:function(e){(0,h.g)(e,this._color)||((0,h.c)(this._color,e),this._updateMaterial())}},{key:"size",get:function(){return this._size},set:function(e){e!==this._size&&(this._size=e,this._updateMaterial())}},{key:"outlineColor",get:function(){return this._outlineColor},set:function(e){(0,h.g)(e,this._outlineColor)||((0,h.c)(this._outlineColor,e),this._updateOutlineMaterial())}},{key:"outlineSize",get:function(){return this._outlineSize},set:function(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}},{key:"elevationInfo",get:function(){return this._elevationInfo},set:function(e){this._elevationInfo=e,this.recreateGeometry()}},{key:"_vertexMaterialParameters",get:function(){return{color:this._color,transparent:this._color[3]<1,screenSizeScale:this.size,renderOccluded:this._renderOccluded}}},{key:"_vertexOutlineMaterialParameters",get:function(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}},{key:"_updateMaterial",value:function(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}},{key:"_updateOutlineMaterial",value:function(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}},{key:"_createRenderGeometries",value:function(){var e=this.vertices;if((0,u.Wi)(e)||0===e.length)return[];for(var t=function(e,t,n,r,i){var o=(0,_.bg)(3*e.length),a=(0,_.bg)(o.length);e.forEach((function(e,t){o[3*t+0]=e[0],o[3*t+1]=e[1],o[3*t+2]=e.length>2?e[2]:0}));var s=(0,g.rR)(o,t,0,a,0,o,0,o.length/3,n,r,i),l=null!=s;return{numVertices:e.length,position:o,mapPositions:a,projectionSuccess:l,sampledElevation:s}}(e,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,v.o.fromElevationInfo(this.elevationInfo)),n=[],r=t.numVertices,i=t.position,o=0;o<r;++o){var a=(0,c.s)(O,i[3*o+0],i[3*o+1],i[3*o+2]),s=k(this._vertexMaterial,.5,a),l=k(this._vertexOutlineMaterial,.5,a);n.push({vertexGeometry:s,vertexOutlineGeometry:l})}return n}},{key:"createGeometries",value:function(e){var t,n=this._createRenderGeometries(),r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=o.vertexGeometry,s=o.vertexOutlineGeometry;e.addGeometry(a),e.addGeometry(s)}}catch(l){r.e(l)}finally{r.f()}}},{key:"createExternalResources",value:function(){this._vertexMaterial=new A.Q((0,r.Z)((0,r.Z)({},this._vertexMaterialParameters),{},{writeDepth:!0,cullFace:y.Vr.Back,screenSizeEnabled:!0})),this._vertexOutlineMaterial=new A.Q((0,r.Z)((0,r.Z)({},this._vertexOutlineMaterialParameters),{},{transparent:!0,writeDepth:!0,cullFace:y.Vr.Front,screenSizeEnabled:!0,shadingEnabled:!1}))}},{key:"destroyExternalResources",value:function(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}},{key:"forEachExternalMaterial",value:function(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}]),n}(p._),O=(0,d.c)();function k(e,t,n){return(0,D.PI)(e,t,16,16,{offset:n})}}}]);
//# sourceMappingURL=93507.49179dca.chunk.js.map