"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[6200],{6200:function(t,e,n){n.d(e,{h:function(){return Mt}});var r=n(74165),a=n(93433),i=n(29439),c=n(15861),o=n(66287),u=n(25434),s=n(34802),p=n(62254),l=n(67258),f=n(21010),d=n(94062),h=n(59002),m=n(47493),g=n(82842),y=n(91466),v=n(9618),b=n(9882),w=n(84744),k=n(25831),O=n(90251),x=n(84354);function Z(t){return(0,O.g)(t,"group")}function S(t,e){var n=(0,w.g)(e);return"".concat(n,"/home/group.html?id=").concat(t)}function q(t,e){var n=(0,w.g)(e);return"".concat(n,"/home/user.html?user=").concat(t)}function A(t,e,n){return D.apply(this,arguments)}function D(){return(D=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,o,s,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,tags:e.tags,typeKeywords:e.typeKeywords,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:(0,f.g)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,a.Z)(n)).filter(u.u),o=n.map(h.p),s=(0,m.m)("enrichment",o).filter(u.u),l={},!s.length){t.next=10;break}return t.next=9,(0,d.f)(e,s,i);case 9:l=t.sent;case 10:return o.forEach((function(t){c[t.prop]=(0,p.g)(l,t.path)})),c.links.thumbnail=(0,g.a)(e,i),c.links.self=(0,f.n)(c.id,i),c.links.siteRelative=(0,f.m)(c.type,c.id,e.typeKeywords),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=function(t,e,n){var r=e.data,a=e.stack,i=e.requestOptions;return a.finish(n,{error:t}),{data:Object.assign(Object.assign({},r),{errors:(0,d.g)(t,r.errors)}),stack:a,requestOptions:i}},E={membershipSummary:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichGroupContentCount"),i=Object.assign({num:3},r);return(0,x.s)(e.group.id,i).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{membershipSummary:{total:t.total,users:t.users}}),stack:n,requestOptions:r}})).catch((function(e){return j(e,t,a)}))},contentCount:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichGroupContentCount");return function(t){return(0,O.g)(t,"groupContent")}(Object.assign({groupId:e.group.id,num:1},r)).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{contentCount:t.total}),stack:n,requestOptions:r}})).catch((function(e){return j(e,t,a)}))}};function N(t,e,n){var r=e.reduce((function(t,e){var n=E[e];return n&&t.push(n),t}),[]);return(0,d.c)(r)({data:{group:t},stack:new d.O,requestOptions:n}).then((function(t){return t.data}))}function I(t){var e={},n=["created","modified","lastlogin"],r=["filterType","categoriesAsParam","categoryFilter","term","searchUserAccess","isopendata","searchUserName"],a=[].concat(n,r);return Object.entries(t).forEach((function(c){var o=(0,i.Z)(c,2),f=o[0],d=o[1];if(a.includes(f)||(0,l.s)(f,(0,s.v)(d),e),n.includes(f)){var h=(0,u.c)((0,p.g)(t,f));"relative-date"===(0,p.g)(t,"".concat(f,".type"))?(0,l.s)(f,(0,s.r)(h),e):(0,l.s)(f,h,e)}r.includes(f)&&t.hasOwnProperty(f)&&(0,l.s)(f,d,e)})),e}function T(t){return P(t.filters.map(G).filter(M),"AND")}function M(t){return!("undefined"===typeof t||null===t||""===t)}function P(t,e){return t.reduce((function(t,n){return Object.entries(n).forEach((function(n){var r=(0,i.Z)(n,2),a=r[0],c=r[1];t[a]&&""!==c?t[a]="".concat(t[a]," ").concat(e," ").concat(c):""!==c&&(t[a]=c)})),t}),{q:""})}function G(t){var e=t.operation||"AND",n=t.predicates.map(I),r=P(n.map(F).filter((function(t){return void 0!==t&&null!==t})),e);return n.length>1&&(r.q="(".concat(r.q,")")),r}function F(t){var e=["created","modified"],n=["isopendata"],r=["searchUserAccess","searchUserName","categoriesAsParam","categoryFilter"],a=["filterType","term"].concat(e,n,r),c=["access","capabilities","created","categories","categoriesAsParam","categoryFilter","description","disabled","email","emailstatus","firstname","fullname","group","id","isInvitationOnly","isopendata","joined","lastlogin","lastname","memberType","modified","name","orgid","orgIds","owner","provider","role","searchUserAccess","searchUserName","snippet","tags","term","title","type","typekeywords","userlicensetype","username"],o=Object.entries(t).map((function(t){var o=(0,i.Z)(t,2),u=o[0],s=o[1];if(c.includes(u)){var p={q:""};return a.includes(u)||"term"===u||(p.q=function(t,e){var n="";e.any&&(n="".concat(R("OR",t,e.any)));e.all&&(n=(n?n+" AND ":"")+"".concat(R("AND",t,e.all)));e.not&&(n=(n?n+" AND ":"")+"".concat(R("OR","-".concat(t),e.not)));return n}(u,s)),e.includes(u)&&(p.q=function(t,e){return"".concat(t,":[").concat(e.from," TO ").concat(e.to,"]")}(u,s)),n.includes(u)&&(p.q="".concat(u,":").concat(s)),r.includes(u)&&(p[u]=s),"term"===u&&(p.q=s),p}})).filter(M);if(o.length){var u=P(o,"AND");return u.q&&(u.q="(".concat(u.q,")")),u}return null}function R(t,e,n){var r="";return Array.isArray(n)?(r="".concat(e,':"').concat(n.join('" '.concat(t," ").concat(e,':"')),'"'),n.length>1&&(r="(".concat(r,")"))):r="".concat(e,':"').concat(n,'"'),r}function H(t,e,n){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,o,s,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:(0,f.g)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,a.Z)(n)).filter(u.u),o=n.map(h.p),s=(0,m.m)("enrichment",o).filter(u.u),l={},!s.length){t.next=10;break}return t.next=9,(0,d.f)(e,s,i);case 9:l=t.sent;case 10:return o.forEach((function(t){c[t.prop]=(0,p.g)(l,t.path)})),c.links.thumbnail=(0,g.a)(e,i),c.links.self=(0,f.n)(c.id,i),c.links.siteRelative=(0,f.m)(c.type,c.id,e.typeKeywords),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){var e;return(null===(e=t.aggregations)||void 0===e?void 0:e.counts)?t.aggregations.counts.map((function(t){return{mode:"terms",field:t.fieldName,values:t.fieldValues}})):[]}function U(t,e){return $.apply(this,arguments)}function $(){return($=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new o.H("portalSearchItems","options.requestOptions is required.");case 2:return(i=z(e)).filters=i.filters.map((function(t){return t.predicates=t.predicates.map(I),t})),c=T(i),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(c[t]=n[t])})),n.requestOptions.authentication?c.authentication=n.requestOptions.authentication:c.portal=n.requestOptions.portal,(null===(a=n.aggFields)||void 0===a?void 0:a.length)&&(c.countFields=n.aggFields.join(","),c.countSize=n.aggLimit||10),t.abrupt("return",L(c));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.s)(e);case 2:return n=t.sent,a=function(t){return K(t,e.includes,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,c=C(n),t.abrupt("return",{total:n.total,results:i,aggregations:c,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,L)});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t){return Q.apply(this,arguments)}function Q(){return Q=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i,c=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:[],a=c.length>2?c[2]:void 0,i=A,t.t0=e.type,t.next="Hub Site Application"===t.t0||"Site Application"===t.t0?6:"Hub Page"===t.t0||"Site Page"===t.t0?8:"Hub Project"===t.t0?10:"Web Mapping Application"===t.t0?12:14;break;case 6:return i=h.e,t.abrupt("break",14);case 8:return i=H,t.abrupt("break",14);case 10:return i=h.b,t.abrupt("break",14);case 12:return e.typeKeywords.includes("hubSite")&&(i=h.e),t.abrupt("break",14);case 14:return t.abrupt("return",i(e,n,a));case 15:case"end":return t.stop()}}),t)}))),Q.apply(this,arguments)}var _={$application:[{type:{any:["Web Mapping Application","Application","Insights","Web Experience"],not:["Insights Theme","Insights Model"]},typekeywords:{not:["hubSite","Story Map"]}},{type:"Web Mapping Experience",typekeywords:"EXB Experience"}],$dashboard:[{type:{any:["Dashboard"],not:["Operation View"]},typekeywords:{not:["Extension","ArcGIS Operation View"]}}],$dataset:[{type:{any:["Scene Service","Feature Collection","Route Layer","Layer","Explorer Layer","Tile Package","Vector Tile Package","Scene Package","Layer Package","Feature Service","Stream Service","Map Service","Vector Tile Service","Image Service","WMS","WFS","WMTS","KML","KML Collection","Globe Service","CSV","Shapefile","GeoJson","Service Definition","File Geodatabase","CAD Drawing","Relational Database Connection"],not:["Web Mapping Application","Geodata Service"]}},{typekeywords:["OGC","Geodata Service"]}],$document:[{type:["PDF","Microsoft Excel","Microsoft Word","Microsoft Powerpoint","iWork Keynote","iWork Pages","iWork Numbers","Visio Document","Document Link"]}],$initiative:[{type:"Hub Initiative"}],$experience:[{type:"Web Experience"}],$feedback:[{type:"Form"}],$page:[{typekeywords:"hubPage"}],$site:[{type:["Hub Site Application","Site Application"]}],$storymap:[{type:"Storymap"},{type:"Web Mapping Application",typekeywords:"Story Map"}],$template:[{type:["Web Mapping Application","Hub Initiative","Hub Initiative Template","Solution"],typekeywords:{any:["hubInitiativeTemplate","hubSolutionTemplate","Template"],not:"Deployed"}}],$webmap:[{type:{any:["Web Map","Web Scene"],not:"Web Mapping Application"}}]};function z(t){var e=(0,u.c)(t);return e.filters=e.filters.map((function(t){var e=!1;return t.predicates=t.predicates.reduce((function(t,n){if(function(t){var e=!1;"string"===typeof t&&(e=t in _);return e}(n.type)){var r=(i=n.type,_[i]);t=[].concat((0,a.Z)(t),(0,a.Z)(r)),e=!0}else t.push(n);var i;return t}),[]),e&&(t.operation="OR"),t})),e}function B(t){return{total:0,results:[],hasNext:!1,next:function(){return null},aggregations:t.aggregations.aggregations.map((function(t){return{mode:"terms",field:t.field,values:t.aggregations.map((function(t){return{value:t.label,count:t.value}}))}}))}}function X(t,e){return{aggregations:"terms(fields=(".concat(e.aggFields.join(),"))"),token:(0,p.g)(e,"requestOptions.authentication.token")}}function J(t){var e=Object.entries(t).filter((function(t){var e=(0,i.Z)(t,2);e[0];return!!e[1]})).map((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)})).join("&");return e&&"?".concat(e)}function Y(t,e,n){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.Z)((0,r.Z)().mark((function t(e,n,a){var i,c,o,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(null===(i=a.requestOptions)||void 0===i?void 0:i.fetch)||fetch,o=e+J(n),t.next=4,c(o,{method:"GET"});case 4:if((u=t.sent).ok){t.next=7;break}throw new k.R(u.statusText,o,u.status);case 7:return t.abrupt("return",u.json());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t,e){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.api,i="".concat(a.url,"/aggregations"),c=X(0,n),t.next=5,Y(i,c,n);case 5:return o=t.sent,t.abrupt("return",B(o));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t,e,n){var r=t.links.find((function(t){return"next"===t.rel})),a=function(){return null};return r&&(a=function(){var t=+new URL(r.href).searchParams.get("startindex"),a=Object.assign(Object.assign({},n),{start:t});return dt(e,a)}),a}function at(t,e,n){return K(t.properties,e,n)}function it(t,e,n){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)((0,r.Z)().mark((function t(e,n,a){var i,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.features.map((function(t){return at(t,a.include,a.requestOptions)})));case 2:return i=t.sent,c=rt(e,n,a),o=e.links.find((function(t){return"next"===t.rel})),t.abrupt("return",{total:e.numberMatched,results:i,hasNext:!!o,next:c});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ot(t){var e=t.operation||"OR",n=t.predicates.map(ut).filter((function(t){return"()"!==t})).join(" ".concat(e," "));return"(".concat(n,")")}function ut(t){var e=Object.entries(t).filter((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return"term"!==n&&!!r})).reduce((function(t,e){var n,r,a=(0,i.Z)(e,2),c=a[0],o=a[1];return"string"===typeof o?n=st(c,o):Array.isArray(o)?n=function(t,e){var n=e.map(pt);return"".concat(t," IN (").concat(n.join(", "),")")}(c,o):(r=o,n=Number.isInteger(r.from)&&Number.isInteger(r.to)?function(t,e){return"".concat(t," BETWEEN ").concat(e.from," AND ").concat(e.to)}(c,o):function(t,e){var n=function(t,e){var n;if(Array.isArray(e)){var r=e.map(pt);n="".concat(t," IN (").concat(r.join(", "),")")}else e&&(n=st(t,e));return n}(t,e.any),r=function(t,e){var n;Array.isArray(e)?n=e.map((function(e){return st(t,e)})).join(" AND "):e&&(n=st(t,e));return n}(t,e.all),a=function(t,e){var n;if(e){var r=(Array.isArray(e)?e:[e]).map(pt);n="".concat(t," NOT IN (").concat(r.join(", "),")")}return n}(t,e.not);return[n,r,a].filter((function(t){return!!t})).join(" AND ")}(c,o)),t.push(n),t}),[]).join(" AND ");return"(".concat(e,")")}function st(t,e){return"".concat(t,"=").concat(pt(e))}function pt(t){return/\s/.test(t)?"'".concat(t,"'"):t}function lt(t){var e=function(t){var e;if(t.length>1)throw new Error("IQuery can only have 1 IFilter with a 'term' predicate but ".concat(t.length," were detected"));if(t.length){var n=t[0],r=n.predicates.filter((function(t){return!!t.term}));if(r.length>1)throw new Error("IQuery can only have 1 'term' predicate but ".concat(r.length," were detected"));if("AND"!==n.operation&&n.predicates.length>1)throw new Error("'term' predicates cannot be OR'd to other predicates");var a=r[0];if("string"!==typeof a.term)throw new Error("'term' predicate must have a string value, string[] and IMatchOptions are not allowed.");e=a}return e}(t.filters.filter((function(t){return t.predicates.find((function(t){return!!t.term}))})));return null===e||void 0===e?void 0:e.term}function ft(t,e){var n=function(t){return t.filters.map(ot).filter((function(t){return"()"!==t})).join(" AND ")}(t);return{filter:n,token:(0,p.g)(e,"requestOptions.authentication.token"),limit:e.num,startindex:e.start,q:lt(t)}}function dt(t,e){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.api,i="".concat(a.url,"/items"),c=ft(e,n),t.next=5,Y(i,c,n);case 5:return o=t.sent,t.abrupt("return",it(o,e,n));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mt(t,e){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.useBeta){t.next=2;break}throw new Error("Not implemented");case 2:return t.abrupt("return",(null===(a=n.aggFields)||void 0===a?void 0:a.length)?et(e,n):dt(e,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t,e){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new o.H("portalSearchGroups","options.requestOptions is required.");case 2:return e.filters=e.filters.map((function(t){return t.predicates=t.predicates.map(I),t})),a=T(e),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(a[t]=n[t])})),n.requestOptions.authentication?a.authentication=n.requestOptions.authentication:a.portal=n.requestOptions.portal,t.abrupt("return",bt(a));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(t){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e);case 2:return n=t.sent,a=function(t){return kt(t,e.include,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,t.abrupt("return",{total:n.total,results:i,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,bt)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(t){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2?i[2]:void 0,t.abrupt("return",Gt(e,n,a));case 3:case"end":return t.stop()}}),t)}))),Ot.apply(this,arguments)}var xt=function(t,e,n){var r=e.data,a=e.stack,i=e.requestOptions;return a.finish(n,{error:t}),{data:Object.assign(Object.assign({},r),{errors:(0,d.g)(t,r.errors)}),stack:a,requestOptions:i}},Zt={org:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichUserOrg"),i=Object.assign(Object.assign({},r),{portal:"".concat((0,b.g)(r.portal),"/sharing/rest")});return(0,d.a)(e.user.orgId,i).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{org:t}),stack:n,requestOptions:r}})).catch((function(e){return xt(e,t,a)}))}};function St(t,e,n){var r=e.reduce((function(t,e){var n=Zt[e];return n&&t.push(n),t}),[]);return(0,d.c)(r)({data:{user:t},stack:new d.O,requestOptions:n}).then((function(t){return t.data}))}function qt(t,e,n){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,o,l,f,d;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.username,type:"User",name:e.fullName,owner:e.username,summary:e.description,createdDate:new Date(e.created),createdDateSource:"user.created",updatedDate:new Date(e.modified),updatedDateSource:"user.modified",family:"people",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat(["org.name AS orgName"],(0,a.Z)(n)).filter(u.u),o=n.map(h.p),l=(0,m.m)("enrichment",o).filter(u.u),f={},!l.length){t.next=10;break}return t.next=9,St(e,l,i);case 9:f=t.sent;case 10:return o.forEach((function(t){c[t.prop]=(0,p.g)(f,t.path)})),d=i.authentication.token,c.links.thumbnail=(0,s.a)(i.portal,e,d),c.links.self=q(c.id,i),c.links.siteRelative="/people/".concat(c.id),t.abrupt("return",c);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Dt(t,e){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new o.H("portalSearchUsers","requestOptions: IHubRequestOptions is required.");case 2:if(n.requestOptions.authentication){t.next=4;break}throw new o.H("portalSearchUsers","requestOptions must pass authentication.");case 4:return e.filters=e.filters.map((function(t){return t.predicates=t.predicates.map(I),t})),a=T(e),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(a[t]=n[t])})),a.authentication=n.requestOptions.authentication,t.abrupt("return",Et(a));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.s)(e);case 2:return n=t.sent,a=function(t){return It(t,e.include,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,t.abrupt("return",{total:n.total,results:i,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,Et)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function It(t){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2?i[2]:void 0,t.abrupt("return",qt(e,n,a));case 3:case"end":return t.stop()}}),t)}))),Tt.apply(this,arguments)}function Mt(t,e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new o.H("hubSearch","Query is required.");case 2:if(e.filters&&e.filters.length){t.next=4;break}throw new o.H("hubSearch","Query must contain at least one Filter.");case 4:if(n.requestOptions){t.next=6;break}throw new o.H("hubSearch","requestOptions: IHubRequestOptions is required.");case 6:if(n.include||(n.include=[]),a=e.targetEntity,i=(0,s.e)(n.api||"arcgis").type,c={arcgis:{item:U,group:yt,user:Dt},"arcgis-hub":{item:mt}},l=(0,p.g)(c,"".concat(i,".").concat(a))){t.next=13;break}throw new o.H("hubSearch",'Search via "'.concat(a,'" filter against "').concat(i,'" api is not implemented. Please ensure "targetEntity" is defined on the query.'));case 13:return t.abrupt("return",l((0,u.c)(e),n));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gt(t,e,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,o,l,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c={access:e.access,id:e.id,type:"Group",name:e.title,owner:e.owner,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"group.created",updatedDate:new Date(e.modified),updatedDateSource:"group.modified",family:"team",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}}).isSharedUpdate=(e.capabilities||[]).includes("updateitemcontrol"),c.membershipAccess=e.membershipAccess,c.isOpenData=!!e.isOpenData,n=[].concat([],(0,a.Z)(n)).filter(u.u),o=n.map(h.p),l=(0,m.m)("enrichment",o).filter(u.u),f={},!l.length){t.next=13;break}return t.next=12,N(e,l,i);case 12:f=t.sent;case 13:return o.forEach((function(t){c[t.prop]=(0,p.g)(f,t.path)})),c.links.thumbnail=(0,s.g)(i.portal,e),c.links.self=S(c.id,i),c.links.siteRelative="/teams/".concat(c.id),t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},84354:function(t,e,n){n.d(e,{a:function(){return u},g:function(){return o},s:function(){return s}});var r=n(63613),a=n(98825),i=n(77843),c=n(80046);function o(t,e){var n=(0,a.g)(e)+"/community/groups/"+t,c=(0,r._)({httpMethod:"GET"},e);return(0,i.r)(n,c)}function u(t,e){var n=(0,a.g)(e)+"/community/groups/"+t+"/users",c=(0,r._)({httpMethod:"GET"},e);return(0,i.r)(n,c)}function s(t,e){var n=(0,a.g)(e)+"/community/groups/"+t+"/userlist",r=(0,c.a)(e||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return(0,i.r)(n,r)}},25831:function(t,e,n){n.d(e,{R:function(){return p},b:function(){return s},h:function(){return l}});var r=n(43144),a=n(15671),i=n(60136),c=n(92572),o=n(28664),u=n(45704);function s(t){var e=t.host,n=t.path,r=t.query,a=e.endsWith("/")?e:"".concat(e,"/"),i=new URL(n,a);return i.search=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t).filter((function(e){return void 0!==t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{});return new URLSearchParams(e).toString()}(r),i.toString()}var p=function(t){(0,i.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var c;return(0,a.Z)(this,n),(c=e.call(this,t)).status=i,c.url=r,c}return(0,r.Z)(n)}((0,o.Z)(Error));function l(t,e){var n,r,a=Object.assign({httpMethod:"GET"},e),i=a.fetch||fetch,c=Object.assign({"Content-Type":"application/json"},a.headers);"GET"===a.httpMethod?n=a.params:r=JSON.stringify(a.params);var o=s({host:(0,u.g)(a),path:"/api/v3/".concat(t).replace(/\/\//g,"/"),query:n});return i(o,{method:a.httpMethod,headers:c,body:r}).then((function(t){if(t.ok)return t.json();throw new p(t.statusText,o,t.status)}))}},9618:function(t,e,n){n.d(e,{s:function(){return a}});var r=n(90251);function a(t){return(0,r.g)(t,"user")}},34802:function(t,e,n){n.d(e,{a:function(){return l},b:function(){return s},e:function(){return c},g:function(){return p},r:function(){return u},v:function(){return o}});var r=n(25434),a=n(36106),i={arcgis:{label:"ArcGIS Online",url:"https://www.arcgis.com",type:"arcgis"},arcgisQA:{label:"ArcGIS Online QAEXT",url:"https://qaext.arcgis.com",type:"arcgis"},arcgisDEV:{label:"ArcGIS Online DEVEXT",url:"https://devext.arcgis.com",type:"arcgis"},hub:{label:"ArcGIS Hub",url:"https://hub.arcgis.com/api",type:"arcgis-hub"},hubDEV:{label:"ArcGIS Hub DEV",url:"https://hubdev.arcgis.com/api",type:"arcgis-hub"},hubQA:{label:"ArcGIS Hub QA",url:"https://hubqa.arcgis.com/api",type:"arcgis-hub"}};function c(t){return"string"===typeof t&&t in i?i[t]:t}function o(t){var e={};return Array.isArray(t)?e={any:t}:("string"===typeof t&&(e={any:[t]}),"object"===typeof t&&(e=t)),e}function u(t){var e=new Date,n={type:"date-range",from:e.getTime(),to:e.getTime()};switch(t.unit){case"hours":case"days":case"weeks":n.from=n.to-{min:6e4,hours:36e5,days:864e5,weeks:6048e5}[t.unit]*t.num;break;case"months":e.setMonth(e.getMonth()-t.num),n.from=e.getTime();break;case"years":e.setFullYear(e.getFullYear()-t.num),n.from=e.getTime()}return n}function s(t,e,n,i){var c=(0,r.c)(t);return t.authentication&&(c.authentication=a.U.deserialize(t.authentication.serialize())),c.start=e>-1?e:n+1,function(t){return t&&(c.authentication=t),i(c)}}function p(t,e,n){var r=null;return e.thumbnail&&(r="".concat(t,"/community/groups/").concat(e.id,"/info/").concat(e.thumbnail),n&&"public"!==e.access&&(r="".concat(r,"?token=").concat(n))),r}function l(t,e,n){var r=null;return e.thumbnail&&(r="".concat(t,"/community/users/").concat(e.username,"/info/").concat(e.thumbnail),n&&"public"!==e.access&&(r="".concat(r,"?token=").concat(n))),r}}}]);
//# sourceMappingURL=6200.0be0fb87.chunk.js.map