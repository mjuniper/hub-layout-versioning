"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[29748],{29748:function(e,t,i){i.r(t),i.d(t,{arcgis_hub_project_view:function(){return h}});var n=i(74165),r=i(15861),a=i(15671),c=i(43144),s=i(72585),o=i(12868),l=i(96728),u=i(49799),h=(i(84371),i(77843),function(){function e(t){(0,a.Z)(this,e),(0,s.r)(this,t),this.symbol={color:[93,173,221,.1],outline:{color:[255,255,255,1],width:1,type:"simple-line",style:"solid"},type:"simple-fill",style:"solid"},this.stats=[{cardTitle:"Completed Meetings",trailingText:"(Meetings)",value:6,textAlign:"center"},{cardTitle:"Remaining Meetings",trailingText:"(Meetings)",value:1,textAlign:"center"},{cardTitle:"Team Survey Responses",trailingText:"(Responses)",value:51,textAlign:"center"}],this.teams=[{name:"Planning Core Team",members:["Patric Roberts + 2 others"]},{name:"Outreach and Engagement Team",members:["Mary Crawley + 5 others"]},{name:"Review Board",members:["Joe DePietro + 1 other"]}],this.tags=["Road Work","Construction","Ward 5","Public Works","Planning","Transportation"],this.audience=[{thumbnail:"",name:"Marianne Lee"},{thumbnail:"",name:"Jess Stanley"},{thumbnail:"",name:"Ruthie Quinn"}],this.events=[{name:"November 2021 Final Design Virtual Public Meeting",description:"Online event",icon:"video"},{name:"Review Board meeting",description:"Online event",icon:"video"},{name:"Ground Breaking",description:"Florida Ave./New York Ave. Intersection",icon:"pin-tear"}]}return(0,c.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTimeline",value:function(){var e=this.project.view.timeline;return(0,s.h)("arcgis-hub-timeline",{canCollapse:e.canCollapse,description:e.description,stages:e.stages,timelineTitle:e.title})}},{key:"renderStatCard",value:function(e){return(0,s.h)("arcgis-stat-card",{"card-title":e.cardTitle,"text-align":e.textAlign,"trailing-text":e.trailingText,value:e.value})}},{key:"renderRelatedContent",value:function(e){return(0,s.h)("arcgis-hub-content-view",{entity:e,layout:"card","show-thumbnail":"true"})}},{key:"renderAudience",value:function(e){return(0,s.h)("calcite-button",{appearance:"outline",color:"neutral",scale:"l",type:"button",width:"full"},(0,s.h)("calcite-icon",{icon:"user"}),e.name)}},{key:"renderTeam",value:function(e){return(0,s.h)("calcite-card",null,(0,s.h)("div",{class:"flex-center",slot:"title"},(0,s.h)("calcite-icon",{icon:"conference-room"}),(0,s.h)("strong",null,e.name)),(0,s.h)("div",{class:"flex-center"},(0,s.h)("calcite-icon",{icon:"user"}),(0,s.h)("span",null,e.members[0])))}},{key:"metadata",get:function(){var e=this,t=this.project,i=t.access,n=t.createdDate,r=t.updatedDate,a=function(t){return e.intl.formatDate(t,{month:"short",day:"numeric",year:"numeric"})};return[{icon:"public"===i?"globe":"org"===i?"organization":"shared"===i?"users":"user",title:this.intl.t("metadata.sharing.labels.".concat(i)),description:this.intl.t("metadata.sharing.".concat(i))},{icon:"clock",title:a(r),description:this.intl.t("metadata.dateUpdated")},{icon:"calendar",title:a(n),description:this.intl.t("metadata.dateCreated")}]}},{key:"featuredContentQuery",get:function(){var e;return null===(e=this.project.view)||void 0===e?void 0:e.featuredContentIds.map((function(e){return"(id:".concat(e,")")})).join(" OR ")}},{key:"renderProjectMetadata",value:function(e){return(0,s.h)("div",{class:"entity-view-side-bar__metadata-item flex-center"},(0,s.h)("calcite-icon",{icon:e.icon,scale:"l"}),(0,s.h)("div",null,(0,s.h)("strong",null,e.title),(0,s.h)("div",null,e.description)))}},{key:"renderEvents",value:function(e){return(0,s.h)("div",null,(0,s.h)("strong",null,e.name),(0,s.h)("div",{class:"flex-center entity-view-side-bar__upcoming-event"},(0,s.h)("calcite-icon",{icon:e.icon,scale:"l"}),(0,s.h)("div",null,e.description)))}},{key:"render",value:function(){var e,t,i,n,r,a,c,o,h,d=this;return(0,s.h)(s.H,{class:"entity-view"},(0,s.h)("div",{class:"entity-view-header"},(0,s.h)("arcgis-hub-content-hero",{extent:(null===(e=this.project.extent)||void 0===e?void 0:e.length)&&(0,u.b)(this.project.extent),graphics:(null===(t=this.project.extent)||void 0===t?void 0:t.length)&&[{symbol:this.symbol,geometry:Object.assign({type:"extent"},(0,u.b)(this.project.extent))}],"hero-title":this.project.name,showMap:null===(i=this.project.view)||void 0===i?void 0:i.showMap,thumbnailUrl:(null===(n=this.project.extent)||void 0===n?void 0:n.length)&&(null===(r=this.project.view)||void 0===r?void 0:r.showMap)?null:this.project.thumbnailUrl})),(0,s.h)("div",{class:"entity-view-body entity-view-main"},this.project.summary&&(0,s.h)("div",{class:"entity-view-main__summary"},(0,s.h)("h3",null,this.intl.t("purpose")),(0,s.h)("p",null,this.project.summary)),this.project.description&&(0,s.h)("div",{class:"entity-view-main__description"},(0,s.h)("h3",null,this.intl.t("description")),(0,s.h)("p",null,this.project.description)),(null===(a=this.project.view)||void 0===a?void 0:a.featuredImageUrl)&&(0,s.h)("div",{class:"entity-view-main__featured-image"},(0,s.h)("arcgis-hub-image",{alt:this.intl.t("featuredImageAlt"),corners:l.C.round,src:this.project.view.featuredImageUrl})),!!this.stats.length&&(0,s.h)("div",{class:"entity-view-main__metrics"},(0,s.h)("h3",null,this.intl.t("trackProgress")),(0,s.h)("div",{class:"entity-view-main__metrics-items"},this.stats.map((function(e){return d.renderStatCard(e)})))),!!(null===(o=null===(c=this.project.view)||void 0===c?void 0:c.featuredContentIds)||void 0===o?void 0:o.length)&&(0,s.h)("div",null,(0,s.h)("h3",null,this.intl.t("featuredContent")),(0,s.h)("arcgis-hub-gallery",{context:this.context,layout:"grid",limit:4,query:this.featuredContentQuery,sortByIds:null===(h=this.project.view)||void 0===h?void 0:h.featuredContentIds})),!!this.teams.length&&(0,s.h)("div",{class:"entity-view-main__teams"},(0,s.h)("h3",null,this.intl.t("participatingGroups")),this.teams.map((function(e){return d.renderTeam(e)})))),(0,s.h)("div",{class:"entity-view-body entity-view-side-bar"},(0,s.h)("div",{class:"entity-view-side-bar__project-status"},(0,s.h)("h3",null,this.intl.t("status.label")),(0,s.h)("calcite-chip",{icon:"complete"===this.project.status?"check":"",scale:"l",value:this.project.status},this.intl.t("status.".concat(this.project.status)))),(0,s.h)("div",{class:"entity-view-main__timeline"},this.project.view.timeline&&this.renderTimeline()),!!this.metadata.length&&(0,s.h)("div",{class:"entity-view-side-bar__metadata"},(0,s.h)("h3",null,this.intl.t("details")),this.metadata.map((function(e){return d.renderProjectMetadata(e)}))),!!this.audience.length&&(0,s.h)("div",{class:"entity-view-side-bar__audience"},(0,s.h)("h3",null,this.intl.t("whosInvolved")),this.audience.map((function(e){return d.renderAudience(e)})))))}},{key:"element",get:function(){return(0,s.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}());h.style='.sc-arcgis-hub-project-view-h{display:grid;-moz-column-gap:4rem;column-gap:4rem;grid-template-columns:2fr 1fr;grid-template-areas:"header header"\n    "main sideBar"}.flex-center.sc-arcgis-hub-project-view{display:flex;align-items:center}.entity-view-header.sc-arcgis-hub-project-view{grid-area:header;margin-bottom:1.5rem}.entity-view-body.sc-arcgis-hub-project-view{margin-top:1.5rem}.entity-view-body.sc-arcgis-hub-project-view>div.sc-arcgis-hub-project-view:not(:last-child){margin-bottom:2.5rem}calcite-icon.sc-arcgis-hub-project-view{margin-right:0.75rem}.entity-view-main.sc-arcgis-hub-project-view{grid-area:main}.entity-view-main__metrics-items.sc-arcgis-hub-project-view{-moz-column-gap:10px;column-gap:10px;display:flex;justify-content:space-between}arcgis-stat-card.sc-arcgis-hub-project-view,arcgis-hub-content-view.sc-arcgis-hub-project-view{flex-basis:33%}arcgis-stat-card.sc-arcgis-hub-project-view{text-align:center}calcite-chip.sc-arcgis-hub-project-view{margin-right:0.5rem}.entity-view-main__teams.sc-arcgis-hub-project-view calcite-card.sc-arcgis-hub-project-view{margin-bottom:0.5rem}.entity-view-side-bar.sc-arcgis-hub-project-view{grid-area:sideBar}.entity-view-side-bar__project-status.sc-arcgis-hub-project-view calcite-icon.sc-arcgis-hub-project-view,.entity-view-side-bar__project-status.sc-arcgis-hub-project-view h4.sc-arcgis-hub-project-view{color:green}.entity-view-side-bar__actions.sc-arcgis-hub-project-view calcite-button.sc-arcgis-hub-project-view,.entity-view-side-bar__audience.sc-arcgis-hub-project-view calcite-button.sc-arcgis-hub-project-view{margin-bottom:0.75rem}.entity-view-side-bar__upcoming-event.sc-arcgis-hub-project-view{margin-top:0.5rem;margin-bottom:0.5rem}.entity-view-side-bar__metadata-item.sc-arcgis-hub-project-view{margin-bottom:0.5rem}@media only screen and (max-width: 768px){.sc-arcgis-hub-project-view-h{display:block}.entity-view-body.sc-arcgis-hub-project-view{margin:0px}.entity-view-side-bar.sc-arcgis-hub-project-view{margin-top:2.5rem}}'},49799:function(e,t,i){i.d(t,{a:function(){return o},b:function(){return c},c:function(){return u},d:function(){return s},e:function(){return d},g:function(){return m},i:function(){return h}});var n=i(29439),r=i(62254),a=i(77843),c=function(e){var t=(0,n.Z)(e,2),i=(0,n.Z)(t[0],2),r=i[0],a=i[1],c=(0,n.Z)(t[1],2);return function(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4326;return{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:{wkid:r}}}(r,a,c[0],c[1])},s=function(e){return e.map((function(e){return e.join(", ")})).join(", ")};function o(e){return[[e.xmin,e.ymin],[e.xmax,e.ymax]]}var l={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:{wkid:4326}};function u(e){var t=e.portalSelf,i=t.defaultExtent,n=(0,r.g)(t,"helperServices.geometry.url");if(!n)return Promise.resolve(l);if(!i)return Promise.resolve(l);var c="".concat(n,"/project"),s={geometryType:"esriGeometryEnvelope",geometries:[i]},o={httpMethod:"POST",params:{geometries:JSON.stringify(s),transformForward:!1,transformation:"",inSR:i.spatialReference.wkid,outSR:4326,f:"json"}};return e.authentication&&(o.authentication=e.authentication),(0,a.r)(c,o).then((function(e){var t=e.geometries[0];return{xmin:t.xmin,ymin:t.ymin,xmax:t.xmax,ymax:t.ymax,spatialReference:{wkid:4326}}})).catch((function(e){return l}))}var h=function(e){return Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[1])},d=function(e){var t=e.xmin,i=e.ymin,n=e.xmax,r=e.ymax;return{rings:[[[t,r],[n,r],[n,i],[t,i],[t,r]]],spatialReference:e.spatialReference}},m=function(e){var t=e.xmin,i=e.ymin;return{x:(e.xmax-t)/2+t,y:(e.ymax-i)/2+i,spatialReference:e.spatialReference}}},62254:function(e,t,i){function n(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}i.d(t,{g:function(){return n}})},96728:function(e,t,i){var n,r,a,c,s,o,l;i.d(t,{A:function(){return n},C:function(){return r},D:function(){return a},I:function(){return l},L:function(){return c},U:function(){return s},V:function(){return o}}),function(e){e.start="start",e.center="center",e.end="end"}(n||(n={})),function(e){e.square="square",e.round="round"}(r||(r={})),function(e){e.none="none",e.low="low",e.medium="medium",e.heavy="heavy"}(a||(a={})),function(e){e.simple="simple",e.dataViz="dataViz",e.moreInfo="moreInfo"}(c||(c={})),function(e){e.before="before",e.after="after",e.below="below"}(s||(s={})),function(e){e.none="none",e.sparkline="sparkline",e.icon="icon",e.logo="logo"}(o||(o={})),function(e){e.thumbnail="thumbnail",e.icon="icon"}(l||(l={}))}}]);
//# sourceMappingURL=29748.790a4e6a.chunk.js.map