"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[31295,16354],{36231:function(e,t,i){i.d(t,{q:function(){return l}});var n,r,a,o={},s={get exports(){return o},set exports(e){o=e}};n=s,r=function(){function e(i,n,r,a,o){for(;a>r;){if(a-r>600){var s=a-r+1,l=n-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(i,n,Math.max(r,Math.floor(n-l*c/s+h)),Math.min(a,Math.floor(n+(s-l)*c/s+h)),o)}var d=i[n],f=r,m=a;for(t(i,r,n),o(i[a],d)>0&&t(i,r,a);f<m;){for(t(i,f,m),f++,m--;o(i[f],d)<0;)f++;for(;o(i[m],d)>0;)m--}0===o(i[r],d)?t(i,r,m):t(i,++m,a),m<=n&&(r=m+1),n<=m&&(a=m-1)}}function t(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function i(e,t){return e<t?-1:e>t?1:0}return function(t,n,r,a,o){e(t,n,r||0,a||t.length-1,o||i)}},void 0!==(a=r())&&(n.exports=a);var l=o},31581:function(e,t,i){i.d(t,{r:function(){return r}});var n=i(36231);function r(e,t){if(!(this instanceof r))return new r(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function a(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function o(e,t){s(e,0,e.children.length,t,e)}function s(e,t,i,n,r){r||(r=y(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,o=t;o<i;o++)a=e.children[o],l(r,e.leaf?n(a):a);return r}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function m(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,a-n)}function v(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function p(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,i,r,a){for(var o,s=[t,i];s.length;)(i=s.pop())-(t=s.pop())<=r||(o=t+Math.ceil((i-t)/r/2)*r,(0,n.q)(e,o,t,i,a),s.push(t,o,o,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!p(e,t))return i;for(var r,a,o,s,l=[];t;){for(r=0,a=t.children.length;r<a;r++)o=t.children[r],p(e,s=t.leaf?n(o):o)&&(t.leaf?i.push(o):v(e,s)?this._all(o,i):l.push(o));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!p(e,t))return!1;for(var n,r,a,o,s=[];t;){for(n=0,r=t.children.length;n<r;n++)if(a=t.children[n],p(e,o=t.leaf?i(a):a)){if(t.leaf||v(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,o,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],i=c.pop(),o=!0),s.leaf&&-1!==(r=a(e,s.children,t)))return s.children.splice(r,1),u.push(s),this._condense(u),this;o||s.leaf||!v(s,l)?n?(i++,s=n.children[i],o=!1):s=null:(u.push(s),c.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,a=i-t+1,s=this._maxEntries;if(a<=s)return o(r=y(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(r=y([])).leaf=!1,r.height=n;var l,u,c,h,d=Math.ceil(a/s),f=d*Math.ceil(Math.sqrt(s));for(g(e,t,i,f,this.compareMinX),l=t;l<=i;l+=f)for(g(e,l,c=Math.min(l+f-1,i),d,this.compareMinY),u=l;u<=c;u+=d)h=Math.min(u+d-1,c),r.children.push(this._build(e,u,h,n-1));return o(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,a,o,s,l,u,c,d;n.push(t),!t.leaf&&n.length-1!==i;){for(c=d=1/0,r=0,a=t.children.length;r<a;r++)l=h(o=t.children[r]),(u=f(e,o)-l)<d?(d=u,c=l<c?l:c,s=o):u===d&&l<c&&(c=l,s=o);t=s||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),a=[],o=this._chooseSubtree(r,this.data,t,a);for(o.children.push(e),l(o,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),s=y(i.children.splice(a,i.children.length-a));s.height=i.height,s.leaf=i.leaf,o(i,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,a,o,l,u,c,d;for(u=c=1/0,n=t;n<=i-t;n++)o=m(r=s(e,0,n,this.toBBox),a=s(e,n,i,this.toBBox)),l=h(r)+h(a),o<u?(u=o,d=n,c=l<c?l:c):o===u&&l<c&&(c=l,d=n);return d},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:u,r=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,a,o=this.toBBox,u=s(e,0,t,o),c=s(e,i-t,i,o),h=d(u)+d(c);for(r=t;r<i-t;r++)a=e.children[r],l(u,e.leaf?o(a):a),h+=d(u);for(r=i-t-1;r>=t;r--)a=e.children[r],l(c,e.leaf?o(a):a),h+=d(c);return h},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)l(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():o(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},93963:function(e,t,i){i.d(t,{f:function(){return s}});var n=i(15671),r=i(43144),a=i(39052),o=i(56885),s=function(){function e(t){(0,n.Z)(this,e),this._observable=new o.s,this._value=t}return(0,r.Z)(e,[{key:"get",value:function(){return(0,a.it)(this._observable),this._value}},{key:"set",value:function(e){e!==this._value&&(this._value=e,this._observable.notify())}}]),e}()},9114:function(e,t,i){i.d(t,{u:function(){return d}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=i(46784),c=i(49861),h=(i(25243),i(63780),i(69912)),d=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).name=null,n.code=null,n}return(0,a.Z)(i,[{key:"clone",value:function(){return new n({name:this.name,code:this.code})}}]),i}(u.wq);(0,l._)([(0,c.Cb)({type:String,json:{write:!0}})],d.prototype,"name",void 0),(0,l._)([(0,c.Cb)({type:[String,Number],json:{write:!0}})],d.prototype,"code",void 0),d=n=(0,l._)([(0,h.j)("esri.layers.support.CodedValue")],d)},52175:function(e,t,i){i.d(t,{Z:function(){return p}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=i(84652),c=i(49861),h=(i(25243),i(27135)),d=i(69912),f=i(9114),m=i(64538),v=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).codedValues=null,n.type="coded-value",n}return(0,a.Z)(i,[{key:"getName",value:function(e){var t=null;if(this.codedValues){var i=String(e);this.codedValues.some((function(e){return String(e.code)===i&&(t=e.name),!!t}))}return t}},{key:"clone",value:function(){return new n({codedValues:(0,u.d9)(this.codedValues),name:this.name})}}]),i}(m.Z);(0,l._)([(0,c.Cb)({type:[f.u],json:{write:!0}})],v.prototype,"codedValues",void 0),(0,l._)([(0,h.J)({codedValue:"coded-value"})],v.prototype,"type",void 0);var p=v=n=(0,l._)([(0,d.j)("esri.layers.support.CodedValueDomain")],v)},64538:function(e,t,i){i.d(t,{Z:function(){return v}});var n=i(43144),r=i(15671),a=i(60136),o=i(92572),s=i(27366),l=i(43404),u=i(46784),c=i(49861),h=(i(25243),i(63780),i(27135)),d=i(69912),f=new l.X({inherited:"inherited",codedValue:"coded-value",range:"range"}),m=function(e){(0,a.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).name=null,n.type=null,n}return(0,n.Z)(i)}(u.wq);(0,s._)([(0,c.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,s._)([(0,h.J)(f)],m.prototype,"type",void 0);var v=m=(0,s._)([(0,d.j)("esri.layers.support.Domain")],m)},83040:function(e,t,i){i.d(t,{Z:function(){return T}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=i(43404),c=i(46784),h=i(49861),d=i(25243),f=(i(63780),i(27135)),m=i(38511),v=i(69912),p=i(67755),y=i(85249),g=new u.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),S=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).alias=null,n.defaultValue=void 0,n.description=null,n.domain=null,n.editable=!0,n.length=-1,n.name=null,n.nullable=!0,n.type=null,n.valueType=null,n.visible=!0,n}return(0,a.Z)(i,[{key:"readDescription",value:function(e,t){var i,n,r=t.description,a=null;try{a=r?JSON.parse(r):null}catch(o){}return null!==(i=null===(n=a)||void 0===n?void 0:n.value)&&void 0!==i?i:null}},{key:"readValueType",value:function(e,t){var i=t.description,n=null;try{n=i?JSON.parse(i):null}catch(r){}return n?g.fromJSON(n.fieldValueType):null}},{key:"clone",value:function(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}}]),i}(c.wq);(0,l._)([(0,h.Cb)({type:String,json:{write:!0}})],S.prototype,"alias",void 0),(0,l._)([(0,h.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],S.prototype,"defaultValue",void 0),(0,l._)([(0,h.Cb)()],S.prototype,"description",void 0),(0,l._)([(0,m.r)("description")],S.prototype,"readDescription",null),(0,l._)([(0,h.Cb)({types:p.V5,json:{read:{reader:p.im},write:!0}})],S.prototype,"domain",void 0),(0,l._)([(0,h.Cb)({type:Boolean,json:{write:!0}})],S.prototype,"editable",void 0),(0,l._)([(0,h.Cb)({type:d.z8,json:{write:!0}})],S.prototype,"length",void 0),(0,l._)([(0,h.Cb)({type:String,json:{write:!0}})],S.prototype,"name",void 0),(0,l._)([(0,h.Cb)({type:Boolean,json:{write:!0}})],S.prototype,"nullable",void 0),(0,l._)([(0,f.J)(y.v)],S.prototype,"type",void 0),(0,l._)([(0,h.Cb)()],S.prototype,"valueType",void 0),(0,l._)([(0,m.r)("valueType",["description"])],S.prototype,"readValueType",null),(0,l._)([(0,h.Cb)({type:Boolean,json:{read:!1}})],S.prototype,"visible",void 0);var T=S=n=(0,l._)([(0,v.j)("esri.layers.support.Field")],S)},56754:function(e,t,i){i.d(t,{Z:function(){return f}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=(i(32718),i(25243),i(63780),i(10064),i(93169),i(27135)),c=i(69912),h=i(64538),d=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).type="inherited",n}return(0,a.Z)(i,[{key:"clone",value:function(){return new n}}]),i}(h.Z);(0,l._)([(0,u.J)({inherited:"inherited"})],d.prototype,"type",void 0);var f=d=n=(0,l._)([(0,c.j)("esri.layers.support.InheritedDomain")],d)},59068:function(e,t,i){i.d(t,{Z:function(){return m}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=i(46784),c=i(49861),h=i(25243),d=(i(63780),i(69912)),f=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).cols=null,n.level=0,n.levelValue=null,n.origin=null,n.resolution=0,n.rows=null,n.scale=0,n}return(0,a.Z)(i,[{key:"clone",value:function(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}}]),i}(u.wq);(0,l._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],f.prototype,"cols",void 0),(0,l._)([(0,c.Cb)({type:h.z8,json:{write:!0}})],f.prototype,"level",void 0),(0,l._)([(0,c.Cb)({type:String,json:{write:!0}})],f.prototype,"levelValue",void 0),(0,l._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],f.prototype,"origin",void 0),(0,l._)([(0,c.Cb)({type:Number,json:{write:!0}})],f.prototype,"resolution",void 0),(0,l._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],f.prototype,"rows",void 0),(0,l._)([(0,c.Cb)({type:Number,json:{write:!0}})],f.prototype,"scale",void 0);var m=f=n=(0,l._)([(0,d.j)("esri.layers.support.LOD")],f)},30539:function(e,t,i){i.d(t,{Z:function(){return m}});var n,r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(27366),u=i(49861),c=(i(25243),i(63780),i(27135)),h=i(69912),d=i(64538),f=n=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).maxValue=null,n.minValue=null,n.type="range",n}return(0,a.Z)(i,[{key:"clone",value:function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}}]),i}(d.Z);(0,l._)([(0,u.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(e,t,i){t[i]=[this.minValue||0,e]}}}})],f.prototype,"maxValue",void 0),(0,l._)([(0,u.Cb)({type:Number,json:{type:[Number],read:{source:"range",reader:function(e,t){return t.range&&t.range[0]}},write:{target:"range",writer:function(e,t,i){t[i]=[e,this.maxValue||0]}}}})],f.prototype,"minValue",void 0),(0,l._)([(0,c.J)({range:"range"})],f.prototype,"type",void 0);var m=f=n=(0,l._)([(0,h.j)("esri.layers.support.RangeDomain")],f)},22824:function(e,t,i){i.d(t,{Z:function(){return M}});var n,r=i(1413),a=i(15671),o=i(43144),s=i(60136),l=i(92572),u=i(27366),c=i(43404),h=i(46784),d=i(92026),f=i(68860),m=i(49861),v=i(25243),p=(i(63780),i(38511)),y=i(69912),g=i(31201),S=i(585),T=i(78952),_=i(65156),w=i(92975),x=i(81753),k=i(59068),C=i(87960),A=new c.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),b=n=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).dpi=96,n.format=null,n.origin=null,n.minScale=0,n.maxScale=0,n.size=null,n.spatialReference=null,n}return(0,o.Z)(i,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var i=(0,w.C5)(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}},{key:"readOrigin",value:function(e,t){return S.Z.fromJSON((0,r.Z)({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=0,i=0,n=[],r=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach((function(e){n.push(e.scale),t=e.scale>t?e.scale:t,i=e.scale<i?e.scale:i,r[e.level]=e}))),this._set("scales",n),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[1]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];var i=Math.floor(e),n=i+1;return t[i]/Math.pow(t[i]/t[n],e-i)}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,i=t.length-1,n=0;n<i;n++){var r=t[n],a=t[n+1];if(r<=e)return n;if(a===e)return n+1;if(r>e&&a<e)return n+Math.log(r/e)/Math.log(r/a)}return n}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}},{key:"tileAt",value:function(e,t,i,n){var r,a,o=this.lodAt(e);if(!o)return null;if("number"==typeof t)r=t,a=i;else if((0,w.fS)(t.spatialReference,this.spatialReference))r=t.x,a=t.y,n=i;else{var s=(0,x.iV)(t,this.spatialReference);if((0,d.Wi)(s))return null;r=s.x,a=s.y,n=i}var l=o.resolution*this.size[0],u=o.resolution*this.size[1];return n||(n=new C.f(null,0,0,0,(0,_.Ue)())),n.level=e,n.row=Math.floor((this.origin.y-a)/u+.001),n.col=Math.floor((r-this.origin.x)/l+.001),this.updateTileInfo(n),n}},{key:"updateTileInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.ExtrapolateOptions.NONE,i=this.lodAt(e.level);if(!i&&t===n.ExtrapolateOptions.POWER_OF_TWO){var r=this.lods[this.lods.length-1];r.level<e.level&&(i=r)}if(i){var a=e.level-i.level,o=i.resolution*this.size[0]/Math.pow(2,a),s=i.resolution*this.size[1]/Math.pow(2,a);e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=(0,_.Ue)()),e.extent[0]=this.origin.x+e.col*o,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+o,e.extent[3]=e.extent[1]+s}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}},{key:"getTileBounds",value:function(e,t){var i=this.lodAt(t.level);if(null==i)return null;var n=i.resolution,r=n*this.size[0],a=n*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*a,e[2]=e[0]+r,e[3]=e[1]+a,e}},{key:"lodAt",value:function(e){var t,i;return null!==(t=null===(i=this._levelToLOD)||void 0===i?void 0:i[e])&&void 0!==t?t:null}},{key:"clone",value:function(){return n.fromJSON(this.write({}))}},{key:"getOrCreateCompatible",value:function(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;for(var i=[],r=this.lods.length,a=0;a<r;a++){var o=this.lods[a],s=o.resolution*t;i.push(new k.Z({level:o.level,scale:o.scale,resolution:s}))}return new n({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,i=0;i<e.length;i++){var n=e[i];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolutionFactor,i=void 0===t?1:t,r=e.scales,a=e.size,o=void 0===a?256:a,s=e.spatialReference,l=void 0===s?T.Z.WebMercator:s,u=e.numLODs,c=void 0===u?24:u;if(!(0,w.JY)(l)){var h=[];if(r)for(var d=0;d<r.length;d++){var m=r[d];h.push(new k.Z({level:d,scale:m,resolution:m}))}else for(var v=5e-4,p=c-1;p>=0;p--)h.unshift(new k.Z({level:p,scale:v,resolution:v})),v*=2;return new n({dpi:96,lods:h,origin:new S.Z(0,0,l),size:[o,o],spatialReference:l})}var y=(0,w.C5)(l),g=e.origin?new S.Z({x:e.origin.x,y:e.origin.y,spatialReference:l}):new S.Z(y?{x:y.origin[0],y:y.origin[1],spatialReference:l}:{x:0,y:0,spatialReference:l}),_=96,x=1/(39.37*(0,f.c9)(l)*_),C=[];if(r)for(var A=0;A<r.length;A++){var b=r[A],M=b*x;C.push(new k.Z({level:A,scale:b,resolution:M}))}else{var Z=(0,w.sT)(l)?512/o*591657527.5917094:256/o*591657527.591555,E=Math.ceil(c/i);C.push(new k.Z({level:0,scale:Z,resolution:Z*x}));for(var B=1;B<E;B++){var R=Z/Math.pow(2,i),F=R*x;C.push(new k.Z({level:B,scale:R,resolution:F})),Z=R}}return new n({dpi:_,lods:C,origin:g,size:[o,o],spatialReference:l})}}]),i}(h.wq);(0,u._)([(0,m.Cb)({type:Number,json:{write:!0}})],b.prototype,"compressionQuality",void 0),(0,u._)([(0,m.Cb)({type:Number,json:{write:!0}})],b.prototype,"dpi",void 0),(0,u._)([(0,m.Cb)({type:String,json:{read:A.read,write:A.write,origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"format",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],b.prototype,"isWrappable",null),(0,u._)([(0,m.Cb)({type:S.Z,json:{write:!0}})],b.prototype,"origin",void 0),(0,u._)([(0,p.r)("origin")],b.prototype,"readOrigin",null),(0,u._)([(0,m.Cb)({type:[k.Z],value:null,json:{write:!0}})],b.prototype,"lods",null),(0,u._)([(0,m.Cb)({readOnly:!0})],b.prototype,"minScale",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],b.prototype,"maxScale",void 0),(0,u._)([(0,m.Cb)({readOnly:!0})],b.prototype,"scales",void 0),(0,u._)([(0,m.Cb)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],b.prototype,"size",void 0),(0,u._)([(0,p.r)("size",["rows","cols"])],b.prototype,"readSize",null),(0,u._)([(0,g.c)("size",{cols:{type:v.z8},rows:{type:v.z8}})],b.prototype,"writeSize",null),(0,u._)([(0,m.Cb)({type:T.Z,json:{write:!0}})],b.prototype,"spatialReference",void 0),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}((b=n=(0,u._)([(0,y.j)("esri.layers.support.TileInfo")],b))||(b={}));var M=b},87960:function(e,t,i){i.d(t,{f:function(){return a}});var n=i(43144),r=i(15671),a=(0,n.Z)((function e(t,i,n,a,o){(0,r.Z)(this,e),this.id=t,this.level=i,this.row=n,this.col=a,this.extent=o}))},25899:function(e,t,i){i.d(t,{B5:function(){return d},DR:function(){return m},G:function(){return _},M8:function(){return y},Nm:function(){return g},Qc:function(){return f},XG:function(){return S},a7:function(){return p},h3:function(){return w},ld:function(){return v},wH:function(){return T}});var n=i(29439),r=i(92026),a=i(35995),o=i(53283),s={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},l=Object.values(s),u=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(l.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),c=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(l.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),h=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function d(e){return!!u.test(e)}function f(e){if((0,r.Wi)(e))return null;var t=(0,a.mN)(e),i=t.path.match(u)||t.path.match(c);if(!i)return null;var o=(0,n.Z)(i,5),l=o[1],h=o[2],d=o[3],f=o[4],m=h.indexOf("/");return{title:v(-1!==m?h.slice(m+1):h),serverType:s[d.toLowerCase()],sublayer:null!=f&&""!==f?parseInt(f,10):null,url:{path:l}}}function m(e){var t=(0,a.mN)(e).path.match(h);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function p(e,t){var i=[];if(e){var n=f(e);(0,r.pC)(n)&&n.title&&i.push(n.title)}if(t){var a=v(t);i.push(a)}if(2===i.length){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function y(e){if(!e)return!1;var t=(e=e.toLowerCase()).includes(".arcgis.com/"),i=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return t&&i}function g(e,t){return e?(0,a.Qj)((0,a.Hu)(e,t)):e}function S(e){var t=e.url;if(!t)return{url:t};t=(0,a.Hu)(t,e.logger);var i,n=(0,a.mN)(t),o=f(n.path);if((0,r.pC)(o))null!=o.sublayer&&null==e.layer.layerId&&(i=o.sublayer),t=o.url.path;else if(e.nonStandardUrlAllowed){var s=m(n.path);(0,r.pC)(s)&&(t=s.serviceUrl,i=s.sublayerId)}return{url:(0,a.Qj)(t),layerId:i}}function T(e,t,i,n,r){(0,o.w)(t,n,"url",r),n.url&&null!=e.layerId&&(n.url=(0,a.v_)(n.url,i,e.layerId.toString()))}function _(e){if(!e)return!1;var t=e.toLowerCase(),i=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),r=t.includes("/imageserver/wmsserver"),a=t.includes("/wmsserver");return i&&(n||r||a)}function w(e){var t;if(!e)return!1;var i=null===(t=new a.R9((0,a.hF)(e)).authority)||void 0===t?void 0:t.toLowerCase();return"server.arcgisonline.com"===i||"services.arcgisonline.com"===i}},67755:function(e,t,i){i.d(t,{V5:function(){return s},im:function(){return l}});i(93169);var n=i(52175),r=i(64538),a=i(56754),o=i(30539),s={key:"type",base:r.Z,typeMap:{range:o.Z,"coded-value":n.Z,inherited:a.Z}};function l(e){if(!e||!e.type)return null;switch(e.type){case"range":return o.Z.fromJSON(e);case"codedValue":return n.Z.fromJSON(e);case"inherited":return a.Z.fromJSON(e)}return null}},22585:function(e,t,i){function n(e){var t={};for(var i in e)if("declaredClass"!==i){var r=e[i];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){t[i]=[];for(var a=0;a<r.length;a++)t[i][a]=n(r[a])}else"object"==typeof r?r.toJSON&&(t[i]=JSON.stringify(r)):t[i]=r}return t}i.d(t,{A:function(){return n}})},5192:function(e,t,i){i.d(t,{Ev:function(){return _},JT:function(){return p},Vn:function(){return k},Vr:function(){return x},hH:function(){return w},n7:function(){return T},qp:function(){return g}});var n=i(74165),r=i(1413),a=i(15861),o=i(76200),s=i(92026),l=i(35995),u=i(77981),c=i(91340),h=i(22585),d=i(27607),f=i(68620),m="Layer does not support extent calculation.";function v(e,t){var i=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;var r,a,o,l=n;if((0,s.pC)(i)&&(a=i.spatialReference,o=i.spatialReference.wkid||JSON.stringify(i.spatialReference),l.geometryType=(0,u.Ji)(i),l.geometry=function(e,t){if(t&&"extent"===e.type)return"".concat(e.xmin,",").concat(e.ymin,",").concat(e.xmax,",").concat(e.ymax);if(t&&"point"===e.type)return"".concat(e.x,",").concat(e.y);var i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}(i,e.compactGeometryEnabled),l.inSR=o),n.groupByFieldsForStatistics&&(l.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(l.objectIds=n.objectIds.join(",")),n.orderByFields&&(l.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(null!==t&&void 0!==t&&t.returnCountOnly||null!==t&&void 0!==t&&t.returnExtentOnly||null!==t&&void 0!==t&&t.returnIdsOnly)?delete l.outFields:n.outFields.includes("*")?l.outFields="*":l.outFields=n.outFields.join(","),n.outSR?(l.outSR=n.outSR.wkid||JSON.stringify(n.outSR),r=e.outSpatialReference):i&&(n.returnGeometry||n.returnCentroid)&&(l.outSR=l.inSR,r=a),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(l.outStatistics=JSON.stringify(n.outStatistics)),n.fullText&&(l.fullText=JSON.stringify(n.fullText)),n.pixelSize&&(l.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&(0,s.pC)(a)&&(0,s.pC)(e.quantizationParameters)&&(0,s.pC)(e.quantizationParameters.extent)&&a.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,l.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(l.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(l.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(l.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){var c=n.timeExtent,h=c.start,d=c.end;null==h&&null==d||(l.time=h===d?h:"".concat(null!==h&&void 0!==h?h:"null",",").concat(null!==d&&void 0!==d?d:"null")),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&(0,s.pC)(a)&&(0,s.pC)(r)&&a.equals(r)&&(l.defaultSR=l.inSR,delete l.inSR,delete l.outSR),l}function p(e,t,i,n){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,n.Z)().mark((function e(t,i,r,a){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.pC)(i.timeExtent)||!i.timeExtent.isEmpty){e.next=4;break}e.t0={data:{features:[]}},e.next=7;break;case 4:return e.next=6,k(t,i,"json",a);case 6:e.t0=e.sent;case 7:return o=e.t0,e.abrupt("return",((0,f.p)(i,r,o.data),o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,i,n){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)((0,n.Z)().mark((function e(t,i,r,a){var o,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.pC)(i.timeExtent)||!i.timeExtent.isEmpty){e.next=2;break}return e.abrupt("return",{data:r.createFeatureResult()});case 2:return e.next=4,T(t,i,a);case 4:return o=e.sent,l=o,e.abrupt("return",(l.data=(0,d.C)(o.data,r),l));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,i){return k(e,t,"pbf",i)}function _(e,t,i){return(0,s.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):k(e,t,"json",i,{returnIdsOnly:!0})}function w(e,t,i){return(0,s.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):k(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function x(e,t,i){return(0,s.pC)(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):k(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then((function(e){var t=e.data;if(t.hasOwnProperty("extent"))return e;if(t.features)throw new Error(m);if(t.hasOwnProperty("count"))throw new Error(m);return e}))}function k(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u="string"==typeof e?(0,l.mN)(e):e,d=t.geometry?[t.geometry]:[];return n.responseType="pbf"===i?"array-buffer":"json",(0,c.aX)(d,null,n).then((function(e){var c=e&&e[0];(0,s.pC)(c)&&((t=t.clone()).geometry=c);var d=(0,h.A)((0,r.Z)((0,r.Z)((0,r.Z)({},u.query),{},{f:i},a),v(t,a)));return(0,o.default)((0,l.v_)(u.path,"query"),(0,r.Z)((0,r.Z)({},n),{},{query:(0,r.Z)((0,r.Z)({},d),n.query)}))}))}},68620:function(e,t,i){i.d(t,{p:function(){return o}});var n=i(37762),r=i(92026),a=i(93501);function o(e,t,i){if(i&&i.features&&i.hasZ){var o=(0,a.k)(i.geometryType,t,e.outSpatialReference);if(!(0,r.Wi)(o)){var s,l=(0,n.Z)(i.features);try{for(l.s();!(s=l.n()).done;){o(s.value.geometry)}}catch(u){l.e(u)}finally{l.f()}}}}},76115:function(e,t,i){i.d(t,{ET:function(){return o},I4:function(){return a},SQ:function(){return n},X1:function(){return r},eG:function(){return u},lF:function(){return s},lj:function(){return h},qP:function(){return l},wW:function(){return c}});var n=[252,146,31,255],r=[153,153,153,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},h={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},16354:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(15671),r=i(43144),a=i(60136),o=i(92572),s=i(27366),l=i(11582),u=i(46784),c=i(92026),h=i(49861),d=(i(25243),i(63780),i(38511)),f=i(69912),m=i(31201),v=i(44218),p=function(e){(0,a.Z)(i,e);var t=(0,o.Z)(i);function i(e){var r;return(0,n.Z)(this,i),(r=t.call(this,e)).legacy=null,r.timeZone="system",r}return(0,r.Z)(i,[{key:"readLegacy",value:function(e,t){return{timeZone:t.timeZone,respectsDaylightSaving:t.respectsDaylightSaving}}},{key:"readTimeZone",value:function(e,t){return"timeZoneIANA"in t?t.timeZoneIANA:(0,v.G)(t)}},{key:"writeTimeZone",value:function(e,t){t.timeZoneIANA=e}},{key:"equals",value:function(e){return!((0,c.Wi)(e)||(0,c.Wi)(this.timeZone)||(0,c.Wi)(e.timeZone))&&this.timeZone===e.timeZone}}]),i}((0,l.J)(u.wq));(0,s._)([(0,h.Cb)()],p.prototype,"legacy",void 0),(0,s._)([(0,d.r)("legacy",["timeZone"])],p.prototype,"readLegacy",null),(0,s._)([(0,h.Cb)({type:String,nonNullable:!0})],p.prototype,"timeZone",void 0),(0,s._)([(0,d.r)("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],p.prototype,"readTimeZone",null),(0,s._)([(0,m.c)("timeZone")],p.prototype,"writeTimeZone",null);var y=p=(0,s._)([(0,f.j)("esri.time.TimeReference")],p)},44218:function(e,t,i){i.d(t,{G:function(){return a}});var n=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Chihuahua"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),r=i(99779);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"system";if(!e||!n.has(e.timeZone))return t;var i=n.get(e.timeZone);return s(e.timeZone)||e.respectsDaylightSaving?i:o(i)}function o(e){var t=r.ou.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===i?"Etc/UTC":"Etc/GMT".concat(r.Qf.instance(-i).formatOffset(0,"narrow"))}function s(e){return e.startsWith("UTC")}},15960:function(e,t,i){i.d(t,{Z:function(){return _}});var n=i(37762),r=i(15671),a=i(43144),o=i(60136),s=i(92572),l=i(91505),u=i(93169),c=i(31581),h=i(22213),d=i(53866),f=i(65156),m=i(94618),v=i(73828),p=function(){function e(t,i){(0,r.Z)(this,e),this.key=new v.Z(0,0,0,0),this.bounds=(0,f.Ue)(),this.objectIds=new Set,this.key.set(i);var n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}return(0,a.Z)(e,[{key:"id",get:function(){return this.key.id}},{key:"extent",get:function(){return d.Z.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}},{key:"transform",get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}},{key:"createChildTiles",value:function(){for(var t=this.key.getChildKeys(),i=h.Z.acquire(),n=0;n<t.length;n++)i[n]=new e(this.tileInfoView,t[n]);return i}},{key:"getQuantizationParameters",value:function(){return m.Z.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}]),e}(),y=i(48790),g={added:[],removed:[]},S=new Set,T=new v.Z(0,0,0,0),_=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this))._tiles=new Map,n._index=(0,c.r)(9,(0,u.Z)("esri-csp-restrictions")?function(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}:[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),n.tiles=[],n.tileScheme=e,n}return(0,a.Z)(i,[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}},{key:"has",value:function(e){return this._tiles.has(e)}},{key:"get",value:function(e){return this._tiles.get(e)}},{key:"boundsIntersections",value:function(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}},{key:"updateTiles",value:function(e){var t,i=this,r={added:[],removed:[]},a=(0,n.Z)(e.added);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(!this.has(o)){var s=new p(this.tileScheme,o);this._tiles.set(o,s),this._index.insert(s),r.added.push(s)}}}catch(d){a.e(d)}finally{a.f()}var l,u=(0,n.Z)(e.removed);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(this.has(c)){var h=this.get(c);this._tiles.delete(c),this._index.remove(h),r.removed.push(h)}}}catch(d){u.e(d)}finally{u.f()}this.tiles.length=0,this._tiles.forEach((function(e){return i.tiles.push(e)})),(r.added.length||r.removed.length)&&this.emit("update",r)}},{key:"setViewState",value:function(e){var t=this.tileScheme.getTileCoverage(e,0);if(t){var i=t.spans,r=t.lodInfo,a=r.level;if(i.length>0){var o,s=(0,n.Z)(i);try{for(s.s();!(o=s.n()).done;)for(var l=o.value,u=l.row,c=l.colFrom,h=l.colTo,d=c;d<=h;d++){var f=T.set(a,u,r.normalizeCol(d),r.getWorldForColumn(d)).id;if(S.add(f),!this.has(f)){var m=new p(this.tileScheme,f);this._tiles.set(f,m),this._index.insert(m),this.tiles.push(m),g.added.push(m)}}}catch(w){s.e(w)}finally{s.f()}}for(var v=this.tiles.length-1;v>=0;v--){var _=this.tiles[v];S.has(_.id)||(this._tiles.delete(_.id),this.tiles.splice(v,1),this._index.remove(_),g.removed.push(_))}(g.added.length||g.removed.length)&&this.emit("update",g),y.Z.pool.release(t),S.clear(),g.added.length=0,g.removed.length=0}}}]),i}(l.Z)},48790:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(37762),r=i(15671),a=i(43144),o=i(13005),s=function(){function e(){(0,r.Z)(this,e),this.spans=[]}return(0,a.Z)(e,[{key:"acquire",value:function(e){this.lodInfo=e}},{key:"release",value:function(){this.lodInfo=null,this.spans.length=0}},{key:"forEach",value:function(e,t){var i=this.spans,r=this.lodInfo,a=r.level;if(0!==i.length){var o,s=(0,n.Z)(i);try{for(s.s();!(o=s.n()).done;)for(var l=o.value,u=l.row,c=l.colFrom,h=l.colTo,d=c;d<=h;d++)e.call(t,a,u,r.normalizeCol(d),r.getWorldForColumn(d))}catch(f){s.e(f)}finally{s.f()}}}}]),e}();s.pool=new o.Z(s)},37995:function(e,t,i){i.d(t,{Z:function(){return T}});var n=i(37762),r=i(29439),a=i(15671),o=i(43144),s=i(92975),l=i(92026),u=i(73828);function c(e,t){return[e,t]}function h(e,t,i){return e[0]=t,e[1]=i,e}function d(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}var f=new u.Z("0/0/0/0"),m=function(){function e(t,i,n,r,o,s,l,u,c,h,d,f){(0,a.Z)(this,e),this.level=t,this.resolution=i,this.scale=n,this.origin=r,this.first=o,this.last=s,this.size=l,this.norm=u,this.worldStart=c,this.worldEnd=h,this.worldSize=d,this.wrap=f}return(0,o.Z)(e,[{key:"normalizeCol",value:function(e){if(!this.wrap)return e;var t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}},{key:"denormalizeCol",value:function(e,t){return this.wrap?this.worldSize[0]*t+e:e}},{key:"getWorldForColumn",value:function(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}},{key:"getFirstColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]}},{key:"getLastColumnForWorld",value:function(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}},{key:"getColumnForX",value:function(e){return(e-this.origin[0])/this.norm[0]}},{key:"getXForColumn",value:function(e){return this.origin[0]+e*this.norm[0]}},{key:"getRowForY",value:function(e){return(this.origin[1]-e)/this.norm[1]}},{key:"getYForRow",value:function(e){return this.origin[1]-e*this.norm[1]}},{key:"getTileBounds",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=i?f.col:this.denormalizeCol(f.col,f.world),r=f.row;return d(e,this.getXForColumn(n),this.getYForRow(r+1),this.getXForColumn(n+1),this.getYForRow(r)),e}},{key:"getTileCoords",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.set(t);var n=i?f.col:this.denormalizeCol(f.col,f.world);return Array.isArray(e)?h(e,this.getXForColumn(n),this.getYForRow(f.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(f.row)),e}}],[{key:"create",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,s.C5)(t.spatialReference),a=i.origin||c(t.origin.x,t.origin.y),o=c(t.size[0]*i.resolution,t.size[1]*i.resolution),u=c(-1/0,-1/0),d=c(1/0,1/0),f=c(1/0,1/0);(0,l.pC)(n)&&(h(u,Math.max(0,Math.floor((n.xmin-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymax)/o[1]))),h(d,Math.max(0,Math.floor((n.xmax-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymin)/o[1]))),h(f,d[0]-u[0]+1,d[1]-u[1]+1));var m,v,p,y,g=i.cols,S=i.rows;return!n&&g&&S&&(h(u,g[0],S[0]),h(d,g[1],S[1]),h(f,g[1]-g[0]+1,S[1]-S[0]+1)),t.isWrappable?(m=c(Math.ceil(Math.round((r.valid[1]-r.valid[0])/i.resolution)/t.size[0]),f[1]),v=c(Math.floor((r.origin[0]-a[0])/o[0]),u[1]),p=c(m[0]+v[0]-1,d[1]),y=!0):(v=u,p=d,m=f,y=!1),new e(i.level,i.resolution,i.scale,a,u,d,f,o,v,p,m,y)}}]),e}(),v=i(48790),p=(0,o.Z)((function e(t,i,n){(0,a.Z)(this,e),this.row=t,this.colFrom=i,this.colTo=n})),y=new u.Z("0/0/0/0"),g=function(){function e(t,i,n,r,o,s,l,u){(0,a.Z)(this,e),this.x=t,this.ymin=i,this.ymax=n,this.invM=r,this.leftAdjust=o,this.rightAdjust=s,this.leftBound=l,this.rightBound=u}return(0,o.Z)(e,[{key:"incrRow",value:function(){this.x+=this.invM}},{key:"getLeftCol",value:function(){return Math.max(this.x+this.leftAdjust,this.leftBound)}},{key:"getRightCol",value:function(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}],[{key:"create",value:function(t,i){var n;t[1]>i[1]&&(t=(n=[i,t])[0],i=n[1]);var a=t,o=(0,r.Z)(a,2),s=o[0],l=o[1],u=i,c=(0,r.Z)(u,2),h=c[0],d=c[1],f=h-s,m=d-l,v=0!==m?f/m:0,p=(Math.ceil(l)-l)*v,y=(Math.floor(l)-l)*v;return new e(s,Math.floor(l),Math.ceil(d),v,f<0?p:y,f<0?y:p,f<0?h:s,f<0?s:h)}}]),e}(),S=[[0,0],[0,0],[0,0],[0,0]],T=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,a.Z)(this,e),this.tileInfo=t,this.fullExtent=n,this.scales=[],this._infoByScale={},this._infoByLevel={};var r=t.lods.slice();r.sort((function(e,t){return t.scale-e.scale}));var o=this._lodInfos=r.map((function(e){return m.create(t,e,n)}));r.forEach((function(e,t){i._infoByLevel[e.level]=o[t],i._infoByScale[e.scale]=o[t],i.scales[t]=e.scale}),this),this._wrap=t.isWrappable}return(0,o.Z)(e,[{key:"spatialReference",get:function(){return this.tileInfo.spatialReference}},{key:"getLODInfoAt",value:function(e){return this._infoByLevel["number"==typeof e?e:e.level]}},{key:"getTileBounds",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y.set(t);var n=this._infoByLevel[y.level];return n?n.getTileBounds(e,y,i):e}},{key:"getTileCoords",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y.set(t);var n=this._infoByLevel[y.level];return n?n.getTileCoords(e,y,i):e}},{key:"getTileCoverage",value:function(e){var t,i,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:192,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"closest",s="closest"===o?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),l=v.Z.pool.acquire(s),u=this._wrap,c=1/0,h=-1/0,d=l.spans;S[0][0]=S[0][1]=S[1][1]=S[3][0]=-a,S[1][0]=S[2][0]=e.size[0]+a,S[2][1]=S[3][1]=e.size[1]+a;var f,m=(0,n.Z)(S);try{for(m.s();!(f=m.n()).done;){var y=f.value;e.toMap(y,y),y[0]=s.getColumnForX(y[0]),y[1]=s.getRowForY(y[1])}}catch(B){m.e(B)}finally{m.f()}for(var T=[],_=3,w=0;w<4;w++)if(S[w][1]!==S[_][1]){var x=g.create(S[w],S[_]);c=Math.min(x.ymin,c),h=Math.max(x.ymax,h),void 0===T[x.ymin]&&(T[x.ymin]=[]),T[x.ymin].push(x),_=w}else _=w;if(null==c||null==h||h-c>100)return null;var k=[];for(t=c;t<h;){null!=T[t]&&(k=k.concat(T[t])),i=1/0,r=-1/0;for(var C=k.length-1;C>=0;C--){var A=k[C];i=Math.min(i,A.getLeftCol()),r=Math.max(r,A.getRightCol())}if(i=Math.floor(i),r=Math.floor(r),t>=s.first[1]&&t<=s.last[1])if(u)if(s.size[0]<s.worldSize[0])for(var b=Math.floor(r/s.worldSize[0]),M=Math.floor(i/s.worldSize[0]);M<=b;M++)d.push(new p(t,Math.max(s.getFirstColumnForWorld(M),i),Math.min(s.getLastColumnForWorld(M),r)));else d.push(new p(t,i,r));else i>s.last[0]||r<s.first[0]||(i=Math.max(i,s.first[0]),r=Math.min(r,s.last[0]),d.push(new p(t,i,r)));t+=1;for(var Z=k.length-1;Z>=0;Z--){var E=k[Z];E.ymax>=t?E.incrRow():k.splice(Z,1)}}return l}},{key:"getTileParentId",value:function(e){y.set(e);var t=this._infoByLevel[y.level],i=this._lodInfos.indexOf(t)-1;return i<0?null:(this._getTileIdAtLOD(y,this._lodInfos[i],y),y.id)}},{key:"getTileResolution",value:function(e){var t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}},{key:"getTileScale",value:function(e){var t=this._infoByLevel[e.level];return t?t.scale:-1}},{key:"intersects",value:function(e,t){y.set(t);var i=this._infoByLevel[y.level],a=e.lodInfo;if(a.resolution>i.resolution){this._getTileIdAtLOD(y,a,y);var o,s=a.denormalizeCol(y.col,y.world),l=(0,n.Z)(e.spans);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.row===y.row&&u.colFrom<=s&&u.colTo>=s)return!0}}catch(x){l.e(x)}finally{l.f()}}if(a.resolution<i.resolution){var c=e.spans.reduce((function(e,t){return e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e}),[1/0,-1/0,1/0,-1/0]),h=(0,r.Z)(c,4),d=h[0],f=h[1],m=h[2],v=h[3],p=i.denormalizeCol(y.col,y.world),g=a.getColumnForX(i.getXForColumn(p)),S=a.getRowForY(i.getYForRow(y.row)),T=a.getColumnForX(i.getXForColumn(p+1))-1,_=a.getRowForY(i.getYForRow(y.row+1))-1;return!(g>v||T<m||S>f||_<d)}var w=a.denormalizeCol(y.col,y.world);return e.spans.some((function(e){return e.row===y.row&&e.colFrom<=w&&e.colTo>=w}))}},{key:"normalizeBounds",value:function(e,t,i){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){var n=(0,s.C5)(this.tileInfo.spatialReference),r=-i*(n.valid[1]-n.valid[0]);e[0]+=r,e[2]+=r}return e}},{key:"getSmallestInfoForScale",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(var i=1;i<t.length-1;i++)if(e>t[i]+1e-6)return this._infoByScale[t[i-1]];return this._infoByScale[t[t.length-1]]}},{key:"getClosestInfoForScale",value:function(e){var t=this.scales;return this._infoByScale[e]||(e=t.reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}),t[0])),this._infoByScale[e]}},{key:"scaleToLevel",value:function(e){var t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(var i=t.length-1;i>=0;i--)if(e<t[i])return i===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[i]].level+(t[i]-e)/(t[i]-t[i+1]);return this._infoByScale[t[0]].level}},{key:"scaleToZoom",value:function(e){return this.tileInfo.scaleToZoom(e)}},{key:"_getTileIdAtLOD",value:function(e,t,i){var n=this._infoByLevel[i.level];return e.set(i),t.resolution<n.resolution?null:(t.resolution===n.resolution||(e.level=t.level,e.col=Math.floor(i.col*n.resolution/t.resolution+.01),e.row=Math.floor(i.row*n.resolution/t.resolution+.01)),e)}}]),e}()},73828:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(29439),r=i(15671),a=i(43144),o=i(13005),s=function(){function e(t,i,n,a){(0,r.Z)(this,e),this.set(t,i,n,a)}return(0,a.Z)(e,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(e){this.set(e)}},{key:"hash",get:function(){var e=4095&this.row,t=4095&this.col,i=63&this.level;return(3&this.world)<<30|t<<22|e<<8|i}},{key:"acquire",value:function(e,t,i,n){this.set(e,t,i,n)}},{key:"contains",value:function(e){var t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}},{key:"equals",value:function(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}},{key:"clone",value:function(){return new e(this)}},{key:"release",value:function(){this.level=0,this.row=0,this.col=0,this.world=0}},{key:"set",value:function(e,t,i,r){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){var a=e.split("/"),o=(0,n.Z)(a,4),s=o[0],l=o[1],u=o[2],c=o[3];this.level=parseFloat(s),this.row=parseFloat(l),this.col=parseFloat(u),this.world=parseFloat(c)}else this.level=+e,this.row=+t,this.col=+i,this.world=+r||0;return this}},{key:"toString",value:function(){return"".concat(this.level,"/").concat(this.row,"/").concat(this.col,"/").concat(this.world)}},{key:"getParentKey",value:function(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}},{key:"getChildKeys",value:function(){var t=this.level+1,i=this.row<<1,n=this.col<<1,r=this.world;return[new e(t,i,n,r),new e(t,i,n+1,r),new e(t,i+1,n,r),new e(t,i+1,n+1,r)]}},{key:"compareRowMajor",value:function(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}],[{key:"getId",value:function(e,t,i,n){return"object"==typeof e?"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.world):"".concat(e,"/").concat(t,"/").concat(i,"/").concat(n)}}]),e}();s.pool=new o.Z(s,null,null,25,50)},38164:function(e,t,i){i.d(t,{e:function(){return c}});var n=i(43144),r=i(15671),a=i(92026),o=i(66978),s=i(43e3),l=i(99346),u=(0,n.Z)((function e(t,i){(0,r.Z)(this,e),this.item=t,this.controller=i,this.promise=null})),c=function(){function e(t){(0,r.Z)(this,e),this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new s.Z(t.peeker),this.process=t.process;var i=t.scheduler;t.priority&&(0,a.pC)(i)&&(this._task=i.registerTask(t.priority,this))}return(0,n.Z)(e,[{key:"destroy",value:function(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}},{key:"length",get:function(){return this._processingItems.size+this._queue.length}},{key:"abort",value:function(e){var t=this._controllers.get(e);t&&t.abort()}},{key:"clear",value:function(){this._queue.clear();var e=[];this._controllers.forEach((function(t){return e.push(t)})),this._controllers.clear(),e.forEach((function(e){return e.abort()})),this._processingItems.clear(),this._cancelNext()}},{key:"forEach",value:function(e){this._deferreds.forEach((function(t,i){return e(i)}))}},{key:"get",value:function(e){var t=this._deferreds.get(e);return t?t.promise:void 0}},{key:"isOngoing",value:function(e){return this._processingItems.has(e)}},{key:"has",value:function(e){return this._deferreds.has(e)}},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this._cancelNext())}},{key:"push",value:function(e,t){var i=this,n=this.get(e);if(n)return n;var r=new AbortController,s=null;t&&(s=(0,o.fu)(t,(function(){return r.abort()})));var l=function(){u.remove(),(0,a.pC)(s)&&s.remove(),i._deferreds.delete(e),i._controllers.delete(e),i._queue.remove(e),i._processingItems.delete(e),i._scheduleNext()},u=(0,o.$F)(r.signal,(function(){var t=i._processingItems.get(e);t&&t.controller.abort(),l(),c.reject((0,o.zE)())})),c=(0,o.dD)();return this._deferreds.set(e,c),this._controllers.set(e,r),c.promise.then(l,l),this._queue.push(e),this._scheduleNext(),c.promise}},{key:"last",value:function(){return this._queue.last()}},{key:"peek",value:function(){return this._queue.peek()}},{key:"popLast",value:function(){return this._queue.popLast()}},{key:"reset",value:function(){var e=[];this._processingItems.forEach((function(t){return e.push(t)})),this._processingItems.clear();for(var t=0,i=e;t<i.length;t++){var n=i[t];this._queue.push(n.item),n.controller.abort()}this._scheduleNext()}},{key:"resume",value:function(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}},{key:"takeAll",value:function(){for(var e=[];this._queue.length;)e.push(this._queue.pop());return this.clear(),e}},{key:"running",get:function(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}},{key:"runTask",value:function(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}},{key:"_scheduleNext",value:function(){var e=this;this._task||this._isPaused||this._schedule||(this._schedule=(0,l.Os)((function(){e._schedule=null,e._next()})))}},{key:"_next",value:function(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}},{key:"_cancelNext",value:function(){this._schedule&&(this._schedule.remove(),this._schedule=null)}},{key:"_processResult",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}},{key:"_processError",value:function(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}},{key:"_canProcessFulfillment",value:function(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}},{key:"_process",value:function(e){var t=this;if(!(0,a.Wi)(e)){var i,n=new AbortController,r=new u(e,n);this._processingItems.set(e,r);try{i=this.process(e,n.signal)}catch(s){this._processError(r,s)}(0,o.y8)(i)?(r.promise=i,i.then((function(e){return t._processResult(r,e)}),(function(e){return t._processError(r,e)}))):this._processResult(r,i)}}},{key:"test",get:function(){var e=this;return{update:function(t){return e.runTask(t)}}}}]),e}()}}]);
//# sourceMappingURL=31295.752574aa.chunk.js.map