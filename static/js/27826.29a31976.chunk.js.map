{"version":3,"file":"static/js/27826.29a31976.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/arcade/functions/hash.js","../node_modules/@arcgis/core/chunks/Heatmap.glsl.js","../node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/support/elevationInfoUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js","../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push(\"NaN\"):n===1/0?s.push(\"Infinity\"):n===-1/0?s.push(\"-Infinity\"):0===n?s.push(\"0\"):s.push(n.toString(16));this.update(h(s.join(\"\")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r+0]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t+0]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}export{i as XXH};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{DiscardOrAdjustAlphaBlend as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/DiscardOrAdjustAlphaBlend.glsl.js\";import{FloatPassUniform as s}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{Texture2DPassUniform as n}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";function t(t){const a=new o;a.include(e),a.include(r);const{usesHalfFloat:d}=t;return a.fragment.uniforms.add([new n(\"densityMap\",(e=>e.densityMap)),new n(\"tex\",(e=>e.colorRamp)),new s(\"densityNormalizer\",(e=>1/(e.maxDensity-e.minDensity))),new s(\"minDensity\",(e=>e.minDensity))]),a.fragment.uniforms.add(new s(\"densityMultiplier\",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)))),d&&a.constants.add(\"compressionFactor\",\"float\",4),a.fragment.code.add(i`\n    void main() {\n      float density = texture2D(densityMap, uv).r * densityMultiplier${d?i` * compressionFactor`:\"\"};\n      float densityRatio = (density - minDensity) * densityNormalizer;\n\n      vec4 color = texture2D(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));\n\n      discardOrAdjustAlpha(color);\n      gl_FragColor = color;\n    }\n  `),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{a as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as o}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{VertexAttribute as t}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";function a(a){const s=new r,{vertex:d,fragment:u}=s;e(d,a);const{isAttributeDriven:n,usesHalfFloat:l}=a;return s.attributes.add(t.POSITION,\"vec3\"),s.attributes.add(t.UV0,\"vec2\"),n&&(s.attributes.add(t.FEATUREATTRIBUTE,\"float\"),s.varyings.add(\"attributeValue\",\"float\")),l&&s.constants.add(\"compressionFactor\",\"float\",.25),s.varyings.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new i(\"radius\",(({resolutionForScale:e,searchRadius:i},{camera:o,screenToWorldRatio:r})=>2*i*(0===e?1:e/r)*o.pixelRatio/o.fullViewport[2]))),d.code.add(o`\n    void main() {\n      unitCirclePos = uv0;\n\n      vec4 posProj = proj * (view * vec4(${t.POSITION}, 1.0));\n      vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n      ${n?o`attributeValue = ${t.FEATUREATTRIBUTE};`:\"\"}\n      gl_Position = posProj + quadOffset;\n    }\n  `),u.code.add(o`\n    void main() {\n      float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n      if (radiusRatioSquared > 1.0) {\n        discard;\n      }\n\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${n?o` * attributeValue`:\"\"} ${l?o` * compressionFactor`:\"\"};\n      gl_FragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:a},Symbol.toStringTag,{value:\"Module\"}));export{s as H,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{isNone as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/Polygon.js\";import s from\"../../../../symbols/FillSymbol3DLayer.js\";import a from\"../../../../symbols/PointSymbol3D.js\";import o from\"../../../../symbols/PolygonSymbol3D.js\";import r from\"../../../../symbols/TextSymbol3DLayer.js\";import{TilingScheme as h}from\"../../terrain/TilingScheme.js\";const l=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class n{constructor(e,t,i){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._dataExtentGraphic=null,this._enabled=!0,this._tileFetcher=e,this._view=i,this._tilingScheme=new h(t),this._loadedSymbols=l.map((e=>new o(new s({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})))),this._loadingSymbols=[new o(new s({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))],this._pendingSymbols=[new o(new s({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}}))],this._dataExtentSymbol=new o(new s({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}}))}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(s){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),t(s))return;const a=i.fromExtent(s);this._dataExtentGraphic=new e({geometry:a,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(t,i){const s=[];t.forEach(((e,t)=>{const a=this._tileFetcher.test.getFeatureTileById(t);a&&i.filter(a)||(this._view.graphics.removeMany(e),s.push(t))})),s.forEach((e=>t.delete(e))),this._tileFetcher.test.forEachFeatureTile((s=>{if(i.filter(s)&&!t.has(s.id)){const[o,h,l]=s.descriptor.lij;this._tilingScheme.ensureMaxLod(o);const n=this._tilingScheme.getExtentGeometry(o,h,l),c=[new e({geometry:n,symbol:i.symbols[o%i.symbols.length]}),new e({geometry:n.center,symbol:new a({verticalOffset:{screenLength:40/.75},callout:{type:\"line\",color:\"white\",border:{color:\"black\"}},symbolLayers:[new r({text:`${o}/${h}/${l}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})]})})];t.set(s.id,c),this._view.graphics.addMany(c)}}))}}export{n as FeatureTileFetcher3DDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import\"../../../core/has.js\";import s from\"../../../core/Error.js\";import a from\"../../../core/Handles.js\";import{clone as o}from\"../../../core/lang.js\";import n from\"../../../core/Logger.js\";import{isSome as l,destroyMaybe as h,removeMaybe as c,abortMaybe as u,isNone as d}from\"../../../core/maybe.js\";import{EsriPromiseMixin as m}from\"../../../core/Promise.js\";import{createAbortError as p,isAbortError as _,eachAlways as f}from\"../../../core/promiseUtils.js\";import{initial as y,whenOnce as g,watch as x,syncAndInitial as F,sync as v}from\"../../../core/reactiveUtils.js\";import{property as T}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as E}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as w}from\"../../../core/support/WatchUpdatingTracking.js\";import{isHostedAgolService as C}from\"../../support/arcgisLayerUrl.js\";import{getEffectiveLayerCapabilities as D}from\"../../support/layerUtils.js\";import{projectGeometry as b}from\"../../../portal/support/geometryServiceUtils.js\";import S from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileFetcher3D as O}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as I}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import V from\"../../../views/3d/support/debugFlags.js\";let U=class extends(m(t)){set extent(e){if(l(e)&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void n.getLogger(this.declaredClass).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(l(t)&&e&&t.equals(e))return;const i=l(e)?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(l(this._tileFetcher)&&this._tileFetcher.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles&&this.layerView.view.featureTiles.updating||this._watchUpdatingTracking&&this._watchUpdatingTracking.updating)}get updatingTotal(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&l(this._tileFetcher)?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return l(this._tileFetcher)?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(!l(this._tileFetcher)||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return l(this.displayFeatureLimit)?this.displayFeatureLimit.maximumNumberOfFeatures:0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&l(e.infoFor3D))return\"snapshot\";if(!1===this.layerView.view.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===j.NO_SERVICE_DATA_COUNT||this.vertexLimitExceeded)return\"tiles\";const t=this.layerView.view,i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>j.MAX_SNAPSHOT_MIN_SCALE_FACTOR)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&l(this._tileFetcher)&&this._tileFetcher.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){return\"snapshot\"===this.mode?new r([{id:\"dummy-tile-full-extent\",lij:[0,0,0]}]):this.layerView.view.featureTiles?this.layerView.view.featureTiles.tiles:new r}get test(){return{fetchDataInfoPromise:this._fetchDataInfoPromise,tileFetcher:this._tileFetcher}}constructor(e){super(e),this.type=\"feature-tile-3d\",this._watchUpdatingTracking=new w,this.serviceDataExtent=null,this.serviceDataCount=j.NO_SERVICE_DATA_COUNT,this.vertexLimitExceeded=!1,this.displayFeatureLimit=null,this._suspended=!1,this._tileFetcher=null,this._handles=new a,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._watchUpdatingTracking.add((()=>this.vertexLimitInfo),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal)))),this._watchUpdatingTracking.add((()=>this.mode),(()=>this._modeChanged()),y),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(\"ogc-feature\"!==e.type&&!D(e)?.operations.supportsQuery)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=h(this._tileFetcher),this._handles=h(this._handles),this._tilesHandle=c(this._tilesHandle),this._lifeCycleAbortController=u(this._lifeCycleAbortController),this._watchUpdatingTracking.destroy(),this._set(\"watchUpdatingTracking\",null)}suspend(){this._suspended||(this._suspended=!0,l(this._tileFetcher)&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,l(this._tileFetcher)&&this._tileFetcher.resume())}restart(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.restart()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){const e=()=>{l(this._tileFetcher)&&this._tileFetcher.refetch()};this._watchUpdatingTracking.addPromise(this._fetchServiceDataInfo().then(e,e))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=g((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._watchUpdatingTracking.addPromise(t),t.then((()=>{const{layerView:t,tileDescriptors:i}=this,r=t.layer,s=new O({context:this.context,filterExtent:this.extent,tileDescriptors:i,features:this.graphics});this._tileFetcher=s,this._suspended?this._tileFetcher.suspend():this._tileFetcher.resume();const a=this.layerView.view.resourceController;a&&this._handles.add(x((()=>a.memoryController.memoryFactor),(e=>s.memoryFactor=e),F));const o=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;o&&this._handles.add(x((()=>this.layerView.view?.qualitySettings?.graphics3D?.[o]),(e=>s.lodFactor=e||1),y));const n=e=>{s.maximumNumberOfFeatures=e,s.useTileCount=this.serviceDataCount>e},l=e=>s.useTileCount=e>this.maximumNumberOfFeatures;\"ogc-feature\"!==r.type&&this._watchUpdatingTracking.add((()=>r.createQueryVersion),(()=>this._dataFilterChanged())),this._watchUpdatingTracking.add((()=>t.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._watchUpdatingTracking.add((()=>t.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),this._handles.add([r.on(\"apply-edits\",(e=>this._applyEdits(e))),x((()=>this.extent),(e=>s.filterExtent=e),v),x((()=>this.tileDescriptors),(e=>s.tileDescriptors=e),v),x((()=>this.maximumNumberOfFeatures),n,F),x((()=>this.serviceDataCount),l,F),x((()=>V.FEATURE_TILE_FETCH_SHOW_TILES),(t=>{t&&s&&!s.debugger?(s.debugger=new I(s,e.featureTiles.tilingScheme.toTileInfo(),e),s.debugger.update()):!t&&this._tileFetcher&&s.debugger&&(s.debugger.destroy(),s.debugger=null)}),F)]),this._supportsExceedsLimitQuery||this._watchUpdatingTracking.add((()=>this.maxTotalSnapshotVertices),(()=>this._watchUpdatingTracking.addPromise(this._updateVertexLimitExceeded(null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:n.getLogger(this.declaredClass).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":l(this._tilesHandle)&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this.refetch()}_applyEdits(e){d(this._tileFetcher)||this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw p();(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._watchUpdatingTracking.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!_(e))throw e}))}_availableFieldsChanged(e,t){l(this._tileFetcher)&&R(this._tileFetcher.availableFields,t)&&this.refetch()}_requiredFieldsChanged(e,t){l(this._tileFetcher)&&R(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.outStatistics=[new S({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=e.createQuery();return t.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(t.cacheHint=!0),t}_fullExtentIsAccurate(){const e=this.layerView.layer;if(e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"oriented-imagery\":return C(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){_(t)||this._set(\"serviceDataExtent\",o(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=o(t.fullExtentInLocalViewSpatialReference),a=i.fullExtent,n=this._fullExtentIsAccurate(),h=this.serviceDataCount;if(r&&h<=j.MAX_FEATURE_COUNT_FOR_EXTENT&&(!s||!n)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:j.QUERY_EXTENT_TIMEOUT,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(l(a)){const r=\"portalItem\"in i?i.portalItem:null,s=await b(a,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t))return void this._set(\"serviceDataCount\",j.NO_SERVICE_DATA_COUNT);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:j.QUERY_STATISTICS_TIMEOUT,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(_(r.error))throw r.error;this._set(\"serviceDataCount\",j.NO_SERVICE_DATA_COUNT)}}get vertexLimitInfo(){if(d(this.displayFeatureLimit)||d(this.displayFeatureLimit.averageSymbolComplexity))return null;const{averageSymbolComplexity:e,maximumTotalNumberOfPrimitives:t}=this.displayFeatureLimit,{primitivesPerCoordinate:i,primitivesPerFeature:r}=e,s=this._get(\"vertexLimitInfo\");return d(s)||s.maximumTotalNumberOfPrimitives!==t||s.primitivesPerCoordinate!==i||s.primitivesPerFeature!==r?{primitivesPerCoordinate:i,primitivesPerFeature:r,maximumTotalNumberOfPrimitives:t}:s}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateVertexLimitExceeded(e,t){const r=this.vertexLimitInfo;if(d(r))return void this._set(\"vertexLimitExceeded\",!1);const s=r.primitivesPerFeature<=0,a=this._minimumNumberOfVerticesForGeometry>1;if(!s&&!a)return void this._set(\"vertexLimitExceeded\",!1);const{primitivesPerFeature:o,primitivesPerCoordinate:n,maximumTotalNumberOfPrimitives:h}=r;let c;0!==o&&l(e)&&await e;const u=this.serviceDataCount,m=u!==j.NO_SERVICE_DATA_COUNT;if(c=m?Math.ceil((h-u*o)/(n||1)):Math.ceil(h/(n||1)),a&&(c=Math.min(c,P)),m&&this._minimumNumberOfVerticesForGeometry*u>c)return void this._set(\"vertexLimitExceeded\",!0);if(!this._supportsExceedsLimitQuery)return void this._set(\"vertexLimitExceeded\",this.maxTotalSnapshotVertices>c);const p=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(c),{timeout:j.QUERY_STATISTICS_TIMEOUT,signal:t}));if(!1===p.ok){if(_(p.error))throw p.error;return void this._set(\"vertexLimitExceeded\",!1)}const f=p.value.features[0];f&&f.attributes?this._set(\"vertexLimitExceeded\",!!f.attributes.exceedslimit):this._set(\"vertexLimitExceeded\",!1)}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo();let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=f([i,this._updateVertexLimitExceeded(i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{_(e)||n.getLogger(this.declaredClass).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get debug(){return{storedFeatures:l(this._tileFetcher)?this._tileFetcher.storedFeatures:0,totalFeatures:l(this._tileFetcher)?this._tileFetcher.totalFeatures:0,totalVertices:l(this._tileFetcher)?this._tileFetcher.totalVertices:0,missingTiles:l(this._tileFetcher)?this._tileFetcher.missingTiles:0}}};e([T({readOnly:!0})],U.prototype,\"type\",void 0),e([T({constructOnly:!0})],U.prototype,\"graphics\",void 0),e([T({constructOnly:!0})],U.prototype,\"layerView\",void 0),e([T({constructOnly:!0})],U.prototype,\"context\",void 0),e([T()],U.prototype,\"extent\",null),e([T()],U.prototype,\"updating\",null),e([T({readOnly:!0})],U.prototype,\"_watchUpdatingTracking\",void 0),e([T()],U.prototype,\"updatingTotal\",null),e([T()],U.prototype,\"updatingRemaining\",null),e([T()],U.prototype,\"expectedFeatureDiff\",null),e([T()],U.prototype,\"memoryForUnusedFeatures\",null),e([T()],U.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([T({readOnly:!0})],U.prototype,\"serviceDataExtent\",void 0),e([T({readOnly:!0})],U.prototype,\"serviceDataCount\",void 0),e([T({readOnly:!0})],U.prototype,\"vertexLimitExceeded\",void 0),e([T()],U.prototype,\"displayFeatureLimit\",void 0),e([T({type:Number})],U.prototype,\"maximumNumberOfFeatures\",null),e([T({readOnly:!0})],U.prototype,\"mode\",null),e([T({readOnly:!0})],U.prototype,\"maxTotalSnapshotVertices\",null),e([T({readOnly:!0,dependsOn:[\"mode\"]})],U.prototype,\"tileDescriptors\",null),e([T()],U.prototype,\"_tileFetcher\",void 0),e([T()],U.prototype,\"_fetchDataInfoPromise\",void 0),e([T({readOnly:!0})],U.prototype,\"vertexLimitInfo\",null),U=e([E(\"esri.layers.graphics.controllers.FeatureTileController3D\")],U);const A=1e4,N=12e3,L=1e4,P=5e6;function R(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var j;!function(e){function t(){e.MAX_FEATURE_COUNT_FOR_EXTENT=A,e.QUERY_STATISTICS_TIMEOUT=N,e.QUERY_EXTENT_TIMEOUT=L}e.NO_SERVICE_DATA_COUNT=1/0,e.MAX_SNAPSHOT_MIN_SCALE_FACTOR=5,e.reset=t}(j||(j={})),j.reset();export{U as FeatureTileController3D,j as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t,unwrapOr as n}from\"../core/maybe.js\";import{getMetersPerUnit as o}from\"../symbols/support/unitConversionUtils.js\";function r(e){return e?E:Z}function u(t,n){return e(n)||!n.mode?r(t).mode:n.mode}function s(e,n){return t(n)?n:r(e)}function i(e,n){return u(!!t(e)&&e.hasZ,n)}function a(e,n){return s(!!t(e)&&!!e.hasZ,n)}function l(e){const t=v(e);return i(e.geometry,t)}function f(e){const r=v(e),u=i(e.geometry,r);return{mode:u,offset:t(r)&&\"on-the-ground\"!==u?n(r.offset,0)*o(n(r.unit,\"meters\")):0}}function c(e){if(\"on-the-ground\"===l(e))return!1;const n=v(e),o=t(n)&&n.featureExpressionInfo?n.featureExpressionInfo.expression:null;return!(!o||\"0\"===o)}function v(e){return e.layer&&\"elevationInfo\"in e.layer?e.layer.elevationInfo:null}function d(o,r,u){if(e(u)||!u.mode)return;const s=o.hasZ?o.z:0,i=t(u.offset)?u.offset:0;switch(u.mode){case\"absolute-height\":return s-i;case\"on-the-ground\":return 0;case\"relative-to-ground\":return s-(n(r.elevationProvider.getElevation(o.x,o.y,s,o.spatialReference,\"ground\"),0)+i);case\"relative-to-scene\":return s-(n(r.elevationProvider.getElevation(o.x,o.y,s,o.spatialReference,\"scene\"),0)+i)}}function g(e,t,n,o=null){return m(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,o)}function h(e,t,n,o,r=null){return m(e,t[0],t[1],t.length>2?t[2]:0,n,o,r)}function m(n,o,r,u,s,i,a=null){if(e(i))return;const l=t(a)?a.mode:\"absolute-height\";if(\"on-the-ground\"===l)return 0;const{absoluteZ:f}=b(o,r,u,s,n,i);return p(f,o,r,u,s,n,a,l)}function b(e,o,r,u,s,i){const a=t(i.offset)?i.offset:0;switch(i.mode){case\"absolute-height\":return{absoluteZ:r+a,elevation:0};case\"on-the-ground\":{const t=n(s.elevationProvider.getElevation(e,o,0,u,\"ground\"),0);return{absoluteZ:t,elevation:t}}case\"relative-to-ground\":{const t=n(s.elevationProvider.getElevation(e,o,r,u,\"ground\"),0);return{absoluteZ:r+t+a,elevation:t}}case\"relative-to-scene\":{const t=n(s.elevationProvider.getElevation(e,o,r,u,\"scene\"),0);return{absoluteZ:r+t+a,elevation:t}}}}function p(e,o,r,u,s,i,a,l){const f=t(a)&&t(a.offset)?a.offset:0;switch(l){case\"absolute-height\":return e-f;case\"relative-to-ground\":return e-(n(i.elevationProvider.getElevation(o,r,u,s,\"ground\"),0)+f);case\"relative-to-scene\":return e-(n(i.elevationProvider.getElevation(o,r,u,s,\"scene\"),0)+f)}}function y(n,o){if(e(o))return!1;const{mode:r}=o;return t(r)&&(\"scene\"===n&&\"relative-to-scene\"===r||\"ground\"===n&&\"absolute-height\"!==r)}const E={mode:\"absolute-height\",offset:0},Z={mode:\"on-the-ground\",offset:null};function x(e,n){return e===n||t(e)&&t(n)&&e.mode===n.mode&&e.offset===n.offset}export{E as absoluteHeightElevationInfo,y as elevationContextAffectsAlignment,x as elevationInfoLikeEquals,g as getConvertedElevation,h as getConvertedElevationFromVector,s as getEffectiveElevationInfo,u as getEffectiveElevationMode,a as getGeometryEffectiveElevationInfo,i as getGeometryEffectiveElevationMode,f as getGraphicEffectiveElevationInfo,l as getGraphicEffectiveElevationMode,d as getZForElevationMode,c as hasGraphicFeatureExpressionInfo,Z as onTheGroundElevationInfo,b as zValueInAbsoluteHeightMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{NoParameters as r}from\"../core/shaderModules/interfaces.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as o}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as n}from\"../lib/OrderIndependentTransparency.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as m}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as u}from\"../../../webgl/enums.js\";import{makePipelineState as p,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class h extends r{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class d extends s{constructor(e,r){super(e,r,(()=>this.destroy()))}initializeProgram(e){return new a(e.rctx,d.shader.get().build(this.configuration),o)}initializePipeline(){return p({blending:n,colorWrite:c,depthTest:null,depthWrite:null})}get primitiveType(){return u.TRIANGLE_STRIP}}d.shader=new t(m,(()=>import(\"./Heatmap.glsl.js\")));class f extends l{constructor(){super(...arguments),this.usesHalfFloat=!1}}e([i()],f.prototype,\"usesHalfFloat\",void 0);export{h as HeatmapPassParameters,d as HeatmapTechnique,f as HeatmapTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{releaseMaybe as e,disposeMaybe as r,isSome as a}from\"../../../../core/maybe.js\";import{watch as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ViewingMode as h}from\"../../../ViewingMode.js\";import{createQuadVAO as n}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as p}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as m,HeatmapTechniqueConfiguration as l,HeatmapTechnique as c}from\"../shaders/HeatmapTechnique.js\";import{TargetType as d,DepthStencilTargetType as u,TextureType as y,TextureWrapMode as _,PixelFormat as g,PixelType as R,TextureSamplingMode as x,ClearBufferBit as f}from\"../../../webgl/enums.js\";import{FramebufferObject as D}from\"../../../webgl/FramebufferObject.js\";import{Texture as T}from\"../../../webgl/Texture.js\";import{vertexCount as w}from\"../../../webgl/Util.js\";let b=class extends p{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new m}initialize(){const t={colorTarget:d.TEXTURE,depthStencilTarget:u.NONE,width:0,height:0},e={target:y.TEXTURE_2D,pixelFormat:this.pixelFormat,internalFormat:this.internalFormat,dataType:this.dataType,samplingMode:this.samplingMode,wrapMode:_.CLAMP_TO_EDGE,width:0,height:0};this._densityMap=new D(this.rctx,t,e),this._quad=n(this.rctx);const r=this._colorRampData,a={target:y.TEXTURE_2D,pixelFormat:g.RGBA,dataType:R.UNSIGNED_BYTE,samplingMode:x.LINEAR,wrapMode:_.CLAMP_TO_EDGE,width:r.length/4,height:1};this._colorRamp=new T(this.rctx,a,r);const s=new l;s.usesHalfFloat=this.dataType!==R.FLOAT,this._technique=new c({rctx:this.rctx,viewingMode:h.Local},s),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles(i((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._technique=e(this._technique),this._densityMap=r(this._densityMap),this._quad=r(this._quad),this._colorRamp=r(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(a(e)&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccluded(){return!1}render(t){const e=this._sortedMaterialRenderers;if(e.length<1)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),i=t.bindParameters,{pixelRatio:s}=this,o=Math.ceil(a.width*s),h=Math.ceil(a.height*s);this._densityMap.resize(o,h),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,o,h),this.rctx.clear(f.COLOR_BUFFER_BIT);let n=!1;e.forAll((e=>{e.material.shouldRender(t)&&(n=e.render(t.output,i)||n)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),n&&(this.rctx.bindVAO(this._quad),this.rctx.bindTechnique(this._technique,this._heatmapParameters,t.bindParameters),this.rctx.drawArrays(this._technique.primitiveType,0,w(this._quad,\"geometry\")))}};t([s()],b.prototype,\"searchRadius\",null),t([s()],b.prototype,\"minDensity\",null),t([s()],b.prototype,\"maxDensity\",null),t([s()],b.prototype,\"fieldTotal\",null),t([s()],b.prototype,\"pixelRatio\",void 0),t([s()],b.prototype,\"colorRampData\",null),t([s({constructOnly:!0})],b.prototype,\"dataType\",void 0),t([s({constructOnly:!0})],b.prototype,\"samplingMode\",void 0),t([s({constructOnly:!0})],b.prototype,\"pixelFormat\",void 0),t([s({constructOnly:!0})],b.prototype,\"internalFormat\",void 0),t([s()],b.prototype,\"_colorRampData\",void 0),b=t([o(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],b);export{b as DrapedHeatmapRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import{MaterialParameters as o}from\"../lib/Material.js\";import{Program as a}from\"../lib/Program.js\";import{DefaultTechniqueConfiguration as n}from\"../materials/DefaultTechniqueConfiguration.js\";import{H as l}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{BlendOperation as u,BlendFactor as m}from\"../../../webgl/enums.js\";import{makePipelineState as p,simpleBlendingParams as c,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class d extends o{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class f extends t{initializeProgram(e){return new a(e.rctx,f.shader.get().build(this.configuration),s)}initializePipeline(){return p({blending:c(m.ONE,m.ONE,u.ADD),colorWrite:h,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}f.shader=new r(l,(()=>import(\"./HeatmapDensity.glsl.js\")));class b extends n{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}e([i()],b.prototype,\"isAttributeDriven\",void 0),e([i()],b.prototype,\"usesHalfFloat\",void 0);export{d as HeatmapDensityPassParameters,f as HeatmapDensityTechnique,b as HeatmapDensityTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{s as t,k as e}from\"../../../../chunks/vec2.js\";import{a as r}from\"../../../../chunks/vec2f64.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import a from\"../lib/GLMaterial.js\";import{Material as o}from\"../lib/Material.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as c}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as f,HeatmapDensityTechniqueConfiguration as m,HeatmapDensityTechnique as T}from\"../shaders/HeatmapDensityTechnique.js\";const h=2;class p extends f{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class d extends o{constructor(t){super(t,new p),this._configuration=new m}requiresSlot(t,e){return t===n.DRAPED_MATERIAL&&e===i.Color}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}createGLMaterial(t){return new A(t)}intersect(){}intersectDraped(r,s,i,a,o,n){const l=r.vertexAttributes.get(u.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,T=f*m+h*m,p=T*T,d=l.data.length/l.size;for(let u=0;u<d;u++){const r=u*l.size,s=t(E,l.data[r],l.data[r+1]);e(s,a)<p&&o(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new I(this.parameters.isAttributeDriven?g:b)}}class A extends a{beginSlot(t){return this.ensureTechnique(T,t)}}class I{constructor(t){this.vertexBufferLayout=t}allocate(t){return this.vertexBufferLayout.createBuffer(t)}elementCount(t){return t.indices.get(u.POSITION).length*v}write(t,e,r,s,i){l(r.indices.get(u.POSITION),r.vertexAttributes.get(u.POSITION).data,t,s.position,i,v);const a=r.indices.get(u.POSITION).length,o=s.uv0;let n=i;for(let u=0;u<a;++u)o.setValues(n++,-1,-1),o.setValues(n++,1,-1),o.setValues(n++,1,1),o.setValues(n++,1,1),o.setValues(n++,-1,1),o.setValues(n++,-1,-1);const f=u.FEATUREATTRIBUTE in s?s.featureAttribute:null;f&&c(r.indices.get(u.FEATUREATTRIBUTE),r.vertexAttributes.get(u.FEATUREATTRIBUTE).data,f,i,v)}}const b=s().vec3f(u.POSITION).vec2f(u.UV0),g=b.clone().f32(u.FEATUREATTRIBUTE),v=6,E=r();export{d as HeatmapDensityMaterial,p as HeatmapDensityMaterialParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{estimateAttributesObjectSize as t,estimateFixedArraySize as r,estimateNumberByteSize as i}from\"../../../../core/byteSizeEstimations.js\";import{HandleOwner as a}from\"../../../../core/HandleOwner.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import o from\"../../../../core/Logger.js\";import{isSome as n,disposeMaybe as l,isNone as p,unwrap as d,applySome as m,mapSome as u}from\"../../../../core/maybe.js\";import{initial as h,sync as c,watch as y}from\"../../../../core/reactiveUtils.js\";import{pt2px as _}from\"../../../../core/screenUtils.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as g}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{c as F}from\"../../../../chunks/vec3.js\";import{c as R}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as b}from\"../../../../geometry/projection.js\";import{getResolutionForScale as v}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as S}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as w}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as P}from\"../../../../layers/graphics/OptimizedFeature.js\";import j from\"../../../../layers/graphics/OptimizedGeometry.js\";import T from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as V}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as x}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as G}from\"../interfaces.js\";import{FeatureVisibilityFilter as M}from\"./FeatureVisibilityFilter.js\";import{DRAPED_Z as I}from\"../../terrain/OverlayRenderer.js\";import{Attribute as N}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as O}from\"../../webgl-engine/lib/ContentObjectType.js\";import{DrapedHeatmapRenderer as A}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as U}from\"../../webgl-engine/lib/Geometry.js\";import{DirtyOperation as C,DirtyState as E}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as H}from\"../../webgl-engine/lib/RenderGeometry.js\";import{UpdatePolicy as D}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as L}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as W}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";import{scaleBoundsPredicate as B,isScaleRangeActive as Z}from\"../../../support/layerViewUtils.js\";import{PixelType as z,PixelFormat as $}from\"../../../webgl/enums.js\";import{loadHeatmapTextureConfiguration as k}from\"../../../webgl/heatmapTextureUtils.js\";const q=\"esri.views.3d.layers.support.HeatmapFeatureProcessor\",Y=o.getLogger(q),J=112;let K=class extends a{constructor(e){super(e),this.type=\"heatmap\",this.preferredUpdatePolicy=D.ASYNC,this.dataExtent=null,this.drapeSourceType=G.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=z.HALF_FLOAT,this._pixelFormat=$.RGBA,this.initializePromise=Promise.resolve()}initialize(){this._featureStore=new T({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM});const{dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}=k(this._renderView.renderingContext,Y);this._dataType=e,this._pixelFormat=r;const a=e!==z.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,A,{...this._rendererParameters,dataType:e,samplingMode:t,pixelFormat:r,internalFormat:i}),this._material=new W({usesHalfFloats:a}),this._materialWithField=new W({usesHalfFloats:a,isAttributeDriven:!0}),this._filterVisibility=new M({context:{layerView:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this.updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),h),this.updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),h),this.updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this.updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),c),this.updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(n(e)&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),h),this.handles.add([y((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&Y.warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),y((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{n(e)&&!t&&Y.warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),s((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=l(this._material),this._materialWithField=l(this._materialWithField),this._featureStore.clear(),this._featureStore=null}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this.updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return{minimumTotalNumberOfFeatures:0,maximumTotalNumberOfFeatures:r,maximumTotalNumberOfPrimitives:r*2,maximumNumberOfFeatures:r}}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!B(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===$.RED?1:4,r=this._dataType===z.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(p(e))return 0;const a=t(e),s=i(),o=6;return o*r([0,0,0],s)+o*r([0,0],s)+(this._heatmapRendererFieldIsNumeric?o*s:0)+a}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return{core:{visible:this._visibleFeatures,missing:0,pending:0},elevationUpdating:!1,visibilityFrustum:!0,visibilityScale:!0}}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return d(this._overlayRenderer.spatialReference)}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(p(e))return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){return m(this._heatmapRenderer,(({radius:e})=>({searchRadius:_(this._clampSearchRadius(e))})))}get _resolutionForScaleParameter(){return m(this._heatmapRenderer,(({referenceScale:e})=>({resolutionForScale:0===e?0:v(e,this.view.spatialReference)})))}get _colorRampParameter(){return m(this._heatmapRenderer,(e=>({colorRampData:x(e.colorStops)})))}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){const e=this.owner?.view?.resourceController?.memoryController?.memoryFactor??1;return(this.owner?.view?.qualitySettings.heatmap.pixelRatio??1)*Math.sqrt(e)}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return m(this._heatmapRenderer,(e=>e.field))}get _heatmapRendererField(){return m(this._heatmapRendererFieldName,(e=>this.layer.fieldsIndex.get(e)))}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return!p(e)&&V(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!(\"effectiveScaleRange\"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return Z(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return Q}maskOccludee(){return Q}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:t}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>S(e,t)))),this._featureStore.addMany(e.added.map((e=>{const r=new P(w(new j,e.geometry),e.attributes,m(e.centroid,(e=>w(new j,e))),S(e,t));return r.displayId=e.uid,r})));const r=e.added,i=e.removed;this._fieldTotal+=this._computeFieldTotalChange(r,i);const a=u(i,(({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})),s=r.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));a.length>0&&this._drapeSourceRenderer.removeGeometries(a,C.REMOVE),s.length>0&&this._drapeSourceRenderer.addGeometries(s,C.ADD),(s.length>0||a.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=n(t)?this._materialWithField:this._material,i=R();b(e.geometry,i,this._overlaySpatialReference),i[2]=I;const a=[[L.POSITION,new N(i,i.length)]],s=this._heatmapRendererFieldIsNumeric;n(t)&&a.push([L.FEATUREATTRIBUTE,new N([s?e.attributes[t]??0:0],1)]);const o=new H(new U(r,a,null,null,O.Point),{layerUid:this.layer.uid,graphicUid:e.uid});return F(o.boundingSphere,i),o.visible=this.filterVisibility.defaultVisibility,o}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(p(this._heatmapRendererFieldName)||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>J&&Y.warnOnce(`SceneView supports a maximum radius of ${J} pt for HeatmapRenderer.`),Math.min(e,J)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,E.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,E.VISIBILITY)}get test(){return{visibleFeatureCount:this._visibleFeatures}}};e([f()],K.prototype,\"type\",void 0),e([f({constructOnly:!0})],K.prototype,\"owner\",void 0),e([f()],K.prototype,\"layer\",null),e([f()],K.prototype,\"featureStore\",null),e([f()],K.prototype,\"updating\",null),e([f()],K.prototype,\"updatingRemaining\",null),e([f()],K.prototype,\"suspendInfo\",null),e([f()],K.prototype,\"legendEnabled\",null),e([f()],K.prototype,\"filterVisibility\",null),e([f()],K.prototype,\"displayFeatureLimit\",null),e([f()],K.prototype,\"preferredUpdatePolicy\",void 0),e([f()],K.prototype,\"hasZ\",null),e([f()],K.prototype,\"hasM\",null),e([f()],K.prototype,\"dataExtent\",void 0),e([f()],K.prototype,\"view\",null),e([f()],K.prototype,\"fullOpacity\",null),e([f()],K.prototype,\"updatePolicy\",null),e([f()],K.prototype,\"drapeSourceType\",void 0),e([f()],K.prototype,\"scaleVisibilitySuspended\",null),e([f()],K.prototype,\"renderer\",null),e([f()],K.prototype,\"_featureStore\",void 0),e([f()],K.prototype,\"_filterVisibility\",void 0),e([f()],K.prototype,\"_overlayRenderer\",null),e([f()],K.prototype,\"_overlaySpatialReference\",null),e([f()],K.prototype,\"_rendererParameters\",null),e([f()],K.prototype,\"_materialParameters\",null),e([f()],K.prototype,\"_densityParameters\",null),e([f()],K.prototype,\"_radiusParameter\",null),e([f()],K.prototype,\"_resolutionForScaleParameter\",null),e([f()],K.prototype,\"_colorRampParameter\",null),e([f()],K.prototype,\"_pixelRatioParameter\",null),e([f()],K.prototype,\"_densityMapPixelRatio\",null),e([f()],K.prototype,\"_renderGeometries\",void 0),e([f()],K.prototype,\"_material\",void 0),e([f()],K.prototype,\"_materialWithField\",void 0),e([f()],K.prototype,\"_renderView\",null),e([f()],K.prototype,\"_featuresArePoints\",null),e([f()],K.prototype,\"_loadedPointGraphics\",null),e([f()],K.prototype,\"_heatmapRenderer\",null),e([f()],K.prototype,\"_heatmapRendererFieldName\",null),e([f()],K.prototype,\"_heatmapRendererField\",null),e([f()],K.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([f()],K.prototype,\"_fieldTotal\",void 0),e([f()],K.prototype,\"_drapeSourceRenderer\",void 0),e([f()],K.prototype,\"_isScaleRangeActive\",null),K=e([g(q)],K);const Q=s();export{K as HeatmapFeatureProcessor,J as MAX_RADIUS_PT};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as t,isNone as s,get as o}from\"../../../core/maybe.js\";import{initial as i,whenOnce as n}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as p}from\"../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../layers/graphics/controllers/FeatureTileController3D.js\";import u from\"../../../rest/support/Query.js\";import{symbolHasExtrudeSymbolLayer as h}from\"../../../symbols/support/utils.js\";import{elevationAlignPointsInFeatures as d}from\"./graphics/elevationAlignPointsInFeatures.js\";import y from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as g}from\"./graphics/QueryEngine.js\";import{queryForSymbologySnapping as m}from\"./graphics/queryForSymbologySnapping.js\";import{HeatmapFeatureProcessor as f}from\"./support/HeatmapFeatureProcessor.js\";import{toViewIfLocal as b}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as E}from\"../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as v}from\"../../support/Scheduler.js\";const w=w=>{let _=class extends w{constructor(){super(...arguments),this.controller=null,this.updatePolicy=E.SYNC,this.suspendResumeExtentMode=\"computed\",this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.suspendResumeExtent=null,this._controllerCreated=!1,this.supportsHeightUnitConversion=!0,this._pendingController=null,this.queryEngine=null}initialize(){const e=this.layer;if(\"isTable\"in e&&e.isTable)return void this.addResolvingPromise(Promise.reject(new r(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e})));this.addResolvingPromise(this._validateGeometryType()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),i),this.addResolvingPromise((async()=>{const e=await b(this);this.fullExtentInLocalViewSpatialReference=e,await this._initializeController()})()),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const t=()=>this.processor.featureStore;this.queryEngine=new g({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return t()},hasZ:this.hasZ,hasM:this.hasM},priority:v.FEATURE_QUERY_ENGINE}),this.notifyChange(\"updating\")}destroy(){this._destroyPendingController(),this.controller=t(this.controller),this._set(\"processor\",t(this.processor)),this.queryEngine=t(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=t(this._pendingController)}get legendEnabled(){return this.canResume()&&this.processor?.legendEnabled}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}get symbologySnappingSupported(){const e=this.layer?.renderer?.getSymbols();return e?.some(h)??!1}getHit(e){let r;return this.loadedGraphics?.forEach((t=>{t.uid===e&&(r=p(t,this.layer))})),r?{type:\"graphic\",graphic:r,layer:r.layer}:null}whenGraphicBounds(e,r){return this.processor?.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}async elevationAlignPointsInFeatures(e,t){const o=this.graphics3DProcessor;if(s(o))throw new r(\"featurelayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return d(this.view,this.layer,(e=>o.getGraphics3DGraphicByObjectId(e)),e,t)}async queryForSymbologySnapping(e,r){return this.symbologySnappingSupported?m(this.graphics3DProcessor,e,r):{candidates:[],sourceCandidateIndices:[]}}queryFeatures(e,r){return this.queryEngine.executeQuery(this._ensureQuery(e),o(r,\"signal\"))}queryObjectIds(e,r){return this.queryEngine.executeQueryForIds(this._ensureQuery(e),o(r,\"signal\"))}queryFeatureCount(e,r){return this.queryEngine.executeQueryForCount(this._ensureQuery(e),o(r,\"signal\"))}queryExtent(e,r){return this.queryEngine.executeQueryForExtent(this._ensureQuery(e),o(r,\"signal\"))}_ensureQuery(e){return s(e)?this.createQuery():u.from(e)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}maskOccludee(e){return this.processor.maskOccludee(e)}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return this.processor?{...e,...this.processor.suspendInfo}:e}isUpdating(){return!(!this.processor||this.processor.destroyed)&&!(this._controllerCreated&&!this.controller?.updating&&this.view?.basemapTerrain?.ready&&!this.processor.updating)}async _initializeController(){const e=this.createController();this._pendingController=e,await e.when(),this._setControllerWhenInitialized(e)}async _setControllerWhenInitialized(e){try{await this.when()}catch(r){}this._controllerCreated=!0,this.notifyChange(\"updating\"),this.isResolved()&&!this.destroyed?(await n((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics,this.notifyChange(\"updating\")):this._destroyPendingController()}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new r(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}_recreateProcessor(e){const r=\"heatmap\"===e?.type,t=\"heatmap\"===this.processor?.type,s=this.processor;if(s&&r===t)return;const o=r?new f({owner:this}):new y({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this._set(\"processor\",o),s?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(o.initializePromise)}_getResourceInfo(){const e=this.controller instanceof c?this.controller:null;return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:e?.maximumNumberOfFeatures??-1,totalNumberOfFeatures:e?.serviceDataCount??-1,nodes:0,...this.processor.performanceInfo}}get performanceInfo(){return this._getResourceInfo()}};return e([a()],_.prototype,\"loadedGraphics\",void 0),e([a()],_.prototype,\"suspended\",void 0),e([a({readOnly:!0})],_.prototype,\"legendEnabled\",null),e([a()],_.prototype,\"updating\",void 0),e([a()],_.prototype,\"controller\",void 0),e([a()],_.prototype,\"processor\",void 0),e([a({readOnly:!0})],_.prototype,\"updatePolicy\",void 0),e([a({readOnly:!0})],_.prototype,\"suspendResumeExtentMode\",void 0),e([a({type:Boolean})],_.prototype,\"slicePlaneEnabled\",void 0),e([a({readOnly:!0})],_.prototype,\"suspendInfo\",void 0),e([a()],_.prototype,\"graphics3DProcessor\",null),e([a()],_.prototype,\"heatmapProcessor\",null),e([a()],_.prototype,\"symbologySnappingSupported\",null),_=e([l(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],_),_};export{w as FeatureLikeLayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{XXH as i}from\"../../../../arcade/functions/hash.js\";import{neverReached as s}from\"../../../../core/compilerUtils.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import{destroyMaybe as n,isSome as a,isNone as o,unwrap as l}from\"../../../../core/maybe.js\";import{logOnError as p}from\"../../../../core/promiseUtils.js\";import{watch as u,initial as d,when as h}from\"../../../../core/reactiveUtils.js\";import{property as c}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as y}from\"../../../../core/accessorSupport/diffUtils.js\";import{canProject as g,project as b}from\"../../../../geometry/support/webMercatorUtils.js\";import{matchRandomRotationExpression as f}from\"../../../../renderers/support/randomRotationExpression.js\";import{getRenderingInfo as E,getRenderingInfoAsync as C}from\"../../../../renderers/support/renderingInfoUtils.js\";import x from\"../../../../rest/support/Query.js\";import{DrapeSourceType as v}from\"../interfaces.js\";import{SUSPEND_RESUME_EXTENT_OPTIMISM as w}from\"./constants.js\";import{Graphics3DCore as V}from\"./Graphics3DCore.js\";import j from\"./Graphics3DElevationAlignment.js\";import S from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as R}from\"./Graphics3DObjectStates.js\";import O from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as I}from\"./graphicUtils.js\";import{attributeLookup as G}from\"../support/attributeUtils.js\";import{FeatureVisibilityFilter as _}from\"../support/FeatureVisibilityFilter.js\";import{Object3DState as A}from\"../../webgl-engine/lib/basicInterfaces.js\";import{UpdatePolicy as P}from\"../../webgl-engine/lib/UpdatePolicy.js\";let U=class extends r{constructor(e){super(e),this.type=\"graphics-3d\",this._randomRotationRenderers=null,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=v.Features,this.preferredUpdatePolicy=P.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,i=new V({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new j({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new O({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new _({context:{layerView:e,...t}}):null,objectStates:e=>new R(e)}});this._set(\"graphicsCore\",i),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new S({graphicsCoreOwner:this})),this.elevationAlignment&&this.updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{y(e,t)&&this.updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this.updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this.updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{y(e,t)&&this.graphicsCore.updateLabelingInfo()})),this.updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this._set(\"initializePromise\",this._initializeAsync()),this.updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){await p(this.graphicsCore.initializePromise);const e=this.owner;this.updatingHandles.add((()=>this.renderer),(e=>this.updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this.updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this.updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await p(this.graphicsCore.updateLabelingInfo())}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set(\"frustumVisibility\",n(this.frustumVisibility)),this._set(\"graphicsCore\",n(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>\"rotation\"===e.type&&null!=e.valueExpression&&f(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType));if(i<0)return e;const s=e.clone();return s.visualVariables.splice(i,1),this._randomRotationRenderers||(this._randomRotationRenderers=new WeakMap),this._randomRotationRenderers.set(s,t),s}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get suspendResumeExtentMode(){return\"suspendResumeExtentMode\"in this.owner?this.owner.suspendResumeExtentMode:\"computed\"}get scaleVisibilitySuspended(){return a(this.scaleVisibility)&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return o(this.frustumVisibility)||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),a(this.frustumVisibility)&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||a(this.frustumVisibility)&&this.frustumVisibility.updating||this.updatingHandles?.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.resourceController.memoryController.memoryFactor,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e),s=Math.ceil(t.maximumTotalNumberOfFeatures*e),r=Math.ceil(t.minimumTotalNumberOfFeatures*e);return{...t,maximumNumberOfFeatures:i,maximumTotalNumberOfFeatures:s,minimumTotalNumberOfFeatures:r}}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return{core:this.graphicsCore.performanceInfo,elevationUpdating:this.elevationAlignment.updating,visibilityFrustum:o(this.frustumVisibility)||!this.frustumVisibility.suspended,visibilityScale:!this.scaleVisibilitySuspended}}maskOccludee(e){const{set:t,handle:i}=this.objectStates.acquireSet(A.MaskOccludee,null);return this.objectStates.setUid(t,e.uid),i}highlight(e,i){if(e instanceof x){const{set:t,handle:s}=this.objectStates.acquireSet(A.Highlight,i);return this.owner.queryObjectIds(e).then((e=>this.objectStates.setObjectIds(t,e))),s}if(\"number\"==typeof e||\"string\"==typeof e)return this.highlight([e],i);if(e instanceof t)return this.highlight([e],i);if(\"toArray\"in e&&(e=e.toArray()),Array.isArray(e)&&e.length>0){if(e[0]instanceof t){const t=e;if(null==G(this.layer.fieldsIndex,t[0].attributes,i)){const e=t.map((e=>e.uid)),{set:i,handle:s}=this.objectStates.acquireSet(A.Highlight,null);return this.objectStates.setUids(i,e),s}e=t.map((e=>G(this.layer.fieldsIndex,e.attributes,i)))}if(\"number\"==typeof e[0]||\"string\"==typeof e[0]){const t=e,{set:s,handle:r}=this.objectStates.acquireSet(A.Highlight,i);return this.objectStates.setObjectIds(s,t),r}}return T}resetObjectStates(){this.objectStates.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,s){const r=E(e,{renderer:t,arcade:s});if(a(r)&&r.color){const e=r.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(a(r)&&a(t)&&this._randomRotationRenderers?.has(t)){const s=this._randomRotationRenderers.get(t),n=e.attributes[s],a=new i(0);a.updateFloatArray([n]),a.updateUint8Array([173]),r.heading=8.381e-8*a.digest()}return r}getRenderingInfoAsync(e,t,i,s){return C(e,{renderer:t,arcade:i,...s})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){a(this.filterVisibility)&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.handles.add(u((()=>this.suspendResumeExtentMode),(()=>{switch(this.handles.remove(M),this.suspendResumeExtentMode){case\"computed\":this.handles.add([u((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],M);break;case\"data\":this.handles.add([h((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),d),u((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(l(this.dataExtent))))],M);break;default:s(this.suspendResumeExtentMode)}}),d))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!g(e,i))return;e=b(e,i)}return I(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){a(this.frustumVisibility)&&this.frustumVisibility.setExtent(e),a(this.scaleVisibility)&&this.scaleVisibility.setExtent(e)}};e([c()],U.prototype,\"type\",void 0),e([c({constructOnly:!0})],U.prototype,\"owner\",void 0),e([c()],U.prototype,\"layer\",null),e([c()],U.prototype,\"renderer\",null),e([c({constructOnly:!0})],U.prototype,\"updateClippingExtent\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"graphicsCore\",void 0),e([c({constructOnly:!0})],U.prototype,\"scaleVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"filterVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"frustumVisibilityEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"elevationAlignmentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"timeExtentEnabled\",void 0),e([c({constructOnly:!0})],U.prototype,\"setUidToIdOnAdd\",void 0),e([c()],U.prototype,\"scaleVisibility\",null),e([c()],U.prototype,\"filterVisibility\",null),e([c()],U.prototype,\"elevationAlignment\",null),e([c({constructOnly:!0})],U.prototype,\"frustumVisibility\",void 0),e([c()],U.prototype,\"objectStates\",null),e([c()],U.prototype,\"initializePromise\",void 0),e([c()],U.prototype,\"suspendResumeExtentMode\",null),e([c()],U.prototype,\"dataExtent\",void 0),e([c()],U.prototype,\"scaleVisibilitySuspended\",null),e([c()],U.prototype,\"suspended\",null),e([c()],U.prototype,\"legendEnabled\",null),e([c()],U.prototype,\"suspendInfo\",null),e([c()],U.prototype,\"updating\",null),e([c()],U.prototype,\"updatingRemaining\",null),e([c()],U.prototype,\"featureStore\",null),e([c()],U.prototype,\"view\",null),e([c()],U.prototype,\"loadedGraphics\",null),e([c()],U.prototype,\"fullOpacity\",null),e([c()],U.prototype,\"filter\",null),e([c()],U.prototype,\"slicePlaneEnabled\",null),e([c()],U.prototype,\"drapeSourceType\",void 0),e([c()],U.prototype,\"updatePolicy\",null),e([c()],U.prototype,\"preferredUpdatePolicy\",void 0),e([c()],U.prototype,\"displayFeatureLimit\",null),U=e([m(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],U);const F=U,M=\"suspendResumeExtentMode\",T={remove(){},pause(){},resume(){}};export{F as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../geometry.js\";import t from\"../../../../core/Accessor.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../../geometry/Extent.js\";import{QueryEngine as o}from\"../../../../layers/graphics/data/QueryEngine.js\";import i from\"../../../../rest/support/FeatureSet.js\";import u from\"../../../../rest/support/Query.js\";import{featureGeometryTypeKebabDictionary as y}from\"../../../../geometry/support/typeUtils.js\";const c=o;let p=class extends t{get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new u({outSpatialReference:this.spatialReference}).toJSON()}get _dataQueryEngine(){return this._ensureDataQueryEngine()}constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:s}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:a.fromJSON(s)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),s=i.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),s=i.fromJSON(r);return s.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),s}_ensureQueryJSON(e,t){let s=this.defaultQueryJSON;if(r(e)&&(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),s=e.toJSON()),r(t)){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));s={...s,sceneFilter:{...t,geometry:e}}}return s}_ensureDataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const e=\"timeInfo\"in this.layer&&this.layer.timeInfo&&this.layer.timeInfo.toJSON()||null,t=this.layer.objectIdField,r=y.toJSON(this._queryGeometryType),s=this.layer.fields?.map((e=>e.toJSON()))??[],n=this.priority,a=this.spatialReference.toJSON(),{hasZ:o,hasM:i,featureStore:u,scheduler:p}=this.context;return this._dataQueryEngineInstance=new c({hasZ:o,hasM:i,geometryType:r,fields:s,timeInfo:e,spatialReference:a,objectIdField:t,featureStore:u,scheduler:p,priority:n}),this._dataQueryEngineInstance}};e([s({constructOnly:!0})],p.prototype,\"context\",void 0),e([s({constructOnly:!0})],p.prototype,\"priority\",void 0),e([s()],p.prototype,\"layer\",null),e([s()],p.prototype,\"spatialReference\",null),e([s()],p.prototype,\"_queryGeometryType\",null),e([s()],p.prototype,\"defaultQueryJSON\",null),p=e([n(\"esri.views.3d.layers.graphics.QueryEngine\")],p);export{p as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{unwrapOr as e,isNone as s,isSome as i}from\"../../../../core/maybe.js\";import{create as r,fromExtent as u,intersects as a,copy as h,POSITIVE_INFINITY as n,intersection as f}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as _,estimateSize as d,getObjectId as m}from\"../../../../layers/graphics/dehydratedFeatures.js\";const l=16438,F=new Set;class E{get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){return!this.filtered&&(this.featuresMissing||this.features&&this.featureLimit!==this.features.length)}get features(){return this._features}get featureLimit(){return this._featureLimit}set featureLimit(t){this._featureLimit!==t&&(this._featureLimit=t,this._estimatedUnusedSizeDirty=!0)}get availableFields(){return this._availableFields}setFeatures(t,s,i){this._availableFields=e(i,F),this._features=t,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,t&&t.length>0?(this._emptyFeatureRatio=s/(t.length+s),this._numVertices=t.reduce(((t,e)=>t+_(e.geometry)),0)):(this._emptyFeatureRatio=0,this._numVertices=0)}get emptyFeatureRatio(){return this._emptyFeatureRatio}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>c}get needsFeatureCount(){return this._numFeatures===c}get numVertices(){return this._numVertices}constructor(t){this.descriptor=t,this.fetchStatus=o.FETCH_NEEDED,this._features=null,this._numVertices=0,this._featureLimit=0,this.featuresMissing=!0,this._shuffled=!1,this._numFeatures=c,this._emptyFeatureRatio=0,this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._availableFields=F,this._displayingFeatures=null,this.alive=!0,this.filtered=!1}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=d(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=d(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===o.FETCHING||this.fetchStatus===o.REFETCHING}get isRefetching(){return this.fetchStatus===o.REFETCHING}get needsFetching(){return this.fetchStatus===o.FETCH_NEEDED||this.fetchStatus===o.REFETCH_NEEDED}get needsRefetching(){return this.fetchStatus===o.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===o.DONE||this.fetchStatus===o.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===o.REFETCHING?o.REFETCH_NEEDED:o.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return!(!s(t)&&this.descriptor.extent)||(u(t,D),a(this.descriptor.extent,D))}intersectionIncludingBorrowed(t,e){const s=i(this.extentIncludingBorrowedFeatures)?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||s?(i(t)?(u(t,e),f(e,s,e)):h(e,s),e):(h(e,n),e)}_shuffle(e){this._features.sort(((t,s)=>m(t,e)-m(s,e))),t(this._features,l),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===o.DONE&&this._features.length>0&&(this.fetchStatus=o.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this.featuresMissing=!0,this.fetchStatus===o.FULL&&(this.fetchStatus=o.DONE)),i}get cache(){return{availableFields:this._availableFields,features:this._features,numFeatures:this._numFeatures,emptyFeatureRatio:this._emptyFeatureRatio,fetchStatus:this.fetchStatus,featuresMissing:this.featuresMissing}}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._numFeatures=t.numFeatures,this._emptyFeatureRatio=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const c=-1,g=-2;var o;function S(t,e,i){if(s(e)||s(t)||i!==e.length||i>t.length)return!1;for(let s=0;s<i;++s)if(t[s]!==e[s])return!1;return!0}!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(o||(o={}));const D=r();export{g as FAILED_FEATURE_COUNT,E as FeatureTile,o as FetchStatus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../../../core/byteSizeEstimations.js\";import\"../../../../core/has.js\";import\"../../../../geometry/SpatialReference.js\";import\"../../../../geometry/support/aaBoundingBox.js\";import\"../../../../core/mathUtils.js\";import\"../../../../geometry/Extent.js\";import\"../../../../geometry/Geometry.js\";import\"../../../../geometry/Multipoint.js\";import\"../../../../geometry/Point.js\";import\"../../../../geometry/Polygon.js\";import\"../../../../geometry/Polyline.js\";import\"../../../../geometry/support/typeUtils.js\";import\"../../../../layers/support/Field.js\";import{equals as e}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class t{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(t,s){const r=this.feature;i.oldVersion=r,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0});for(const n of this.versions)if(n.resolution===s){n.refCount++;const s=this._highestResolutionVersion===n&&!e(t,n.feature);return(s||this._highestResolutionVersion!==n)&&(n.feature=t),i.newVersion=s?t:r,i}const o={feature:t,resolution:s,refCount:1};return this.versions.push(o),!this._highestResolutionVersion||s<this._highestResolutionVersion.resolution?(i.newVersion=t,this._highestResolutionVersion=o):i.newVersion=r,i}unref(e){for(let t=0;t<this.versions.length;t++){const s=this.versions[t];if(s.resolution===e)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(this.versions[t]=this.versions[this.versions.length-1],this.versions.length--,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}return null}get feature(){return this._highestResolutionVersion?this._highestResolutionVersion.feature:null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const s=this.versions[t];s.resolution<e.resolution&&(e=s)}this._highestResolutionVersion=e}}class s{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(t){return++this._refCount,i.oldVersion=this._feature,this.feature&&Object.defineProperty(t,\"uid\",{value:this.feature.uid,configurable:!0}),e(this._feature,t)||(this._feature=t),i.newVersion=this._feature,i}unref(){return i.oldVersion=this._feature,this._refCount>0&&(this._refCount--,!this.isReferenced)?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null};export{t as MultiFeatureReference,s as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import i from\"../../../../core/Logger.js\";import{someMap as r}from\"../../../../core/MapUtils.js\";import{isSome as a,destroyMaybe as n,isNone as o,unwrap as u}from\"../../../../core/maybe.js\";import{isAbortError as l,eachAlways as h,throwIfAborted as c}from\"../../../../core/promiseUtils.js\";import{on as d}from\"../../../../core/reactiveUtils.js\";import{schedule as p}from\"../../../../core/scheduling.js\";import{property as f}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,equals as g,clone as F,expand as y,toExtent as T}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as x,hasVertices as E}from\"../../../../layers/graphics/dehydratedFeatures.js\";import C from\"../../../../rest/support/QuantizationParameters.js\";import R from\"../../../../rest/support/Query.js\";import{ViewingMode as b}from\"../../../ViewingMode.js\";import{MultiFeatureReference as v,SingleFeatureReference as M}from\"./featureReference.js\";import{FAILED_FEATURE_COUNT as w,FetchStatus as D,FeatureTile as O}from\"./FeatureTile.js\";import{tilesAreRelated as j}from\"../../terrain/tileUtils.js\";import{ImmediateTask as P,TaskPriority as N}from\"../../../support/Scheduler.js\";const U=\"esri.views.3d.layers.support.FeatureTileFetcher3D\",I=i.getLogger(U);let A=class extends t{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&a(this.context.query.queryFeatureCount)}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}set filterExtent(e){if(a(e)&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void I.error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||a(t)&&e&&t.equals(e))return;const s=a(e)?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}constructor(e){super(e),this._useTileCount=!1,this.updating=!1,this.running=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this.maximumNumberOfFeaturesExceededThrottle=1e3,this._fullRatio=1,this._farRatio=1,this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._handles=new s,this._frameTask=P,this._dirty=!1,this._featureTiles=new Map,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._suspended=!0,this._pendingEdits=null}initialize(){this._handles.add(d((()=>this.tileDescriptors),\"change\",(()=>this._setDirty()),{onListenerAdd:()=>this._setDirty()})),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?v:M;const e=this.context.scheduler;a(e)&&(this._frameTask=e.registerTask(N.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._handles=n(this._handles),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||(this._setDirty(),this._updated())}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{o(t.displayingFeatures)||0===t.displayingFeatures.length||(o(e)?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields.has(s)||u(e).delete(s)})))})),a(e)?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(l(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),a(this.context.memoryCache)&&this.context.memoryCache.clear(),this._unpause(),this._updated()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),i=new Set,r=this._objectIdField;e.forEach((({objectId:e,globalId:a})=>{if((!e||e<0)&&t){s||I.errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`);const e=this.features.find((e=>e.attributes&&e.attributes[t]===a));e&&i.add(x(e,r))}else i.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!i.has(x(e,this._objectIdField))));t.length!==e.features.length&&(e.setFeatures(t,0,e.availableFields),this._invalidateCounts())}))}async _applyEditsAddUpdateFeatures(e,t,s){const i=[],r=new Set;if(e.forEach((e=>i.push(e.objectId))),t.forEach((e=>{i.push(e.objectId),r.add(e.objectId)})),0===i.length)return;const a=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,i,r,s);t&&a.push(t)})),await h(a)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=t;const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(x(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),e.setFeatures(n,0,k(e.availableFields,a.fields)),this._invalidateCounts())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:X})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){if(this._frameTask.processQueue(e),!this._dirty||!this.initialized)return;this._dirty=!1;const t=this._getListOfTiles();if(this._markTilesNotAlive(t),!e.run((()=>this._addTiles(t,e)))||!e.run((()=>this._filterExtentTiles(t,e)))||!e.run((()=>this._removeTiles(t,e)))||e.done)return void this._setDirty();const s=this._sortTiles(t);e.run((()=>this._showTiles(s,e)))&&e.run((()=>this._fetchTiles(s,e)))&&e.run((()=>this._updateMemoryEstimates(s,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!this._suspended&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>(e.descriptor.loadPriority??0)-(t.descriptor.loadPriority??0))),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;return e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty(),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetching)continue;const e=a(this.context.memoryCache)?this.context.memoryCache.pop(i.id):null;if(a(e))i.cache=e,this._setDirty(),this._scheduleUpdated(),t.madeProgress();else{if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=w)),s=!0,t.madeProgress()}if(t.done)return!0}}if(s)return t.hasProgressed;for(const i of e)if(i.needsFetching){const e=new AbortController,s=this._fetchTile(i,e.signal);if(this._handleRequest(i,s,e,(e=>{i.setFeatures([],0,null),this._invalidateCounts(),i.featuresMissing=!1,this.context.logFetchError(I,e)})),t.madeProgress())return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{o(i.displayingFeatures)||0===i.displayingFeatures.length||(i.intersectionIncludingBorrowed(t,B),i.intersectionIncludingBorrowed(e,G),g(B,G)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(!o(i.displayingFeatures))for(const e of i.displayingFeatures){const i=x(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0));const t=this._dirty||!!this._pendingEdits||e>0;if(this._set(\"running\",this._dirty),this._set(\"updating\",t),t){let t=0,s=0,i=0,r=0,n=0;const o=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=a(e.displayingFeatures)?e.displayingFeatures.length*o:0;n+=t-s}e.needsFetching?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let u=0,l=0;t?(l=t,u=Math.min(r*t/i,t)):(l=s,u=r),n=Math.min(this.maximumNumberOfFeatures-this.features.length,n),this._set(\"updatingTotal\",l),this._set(\"updatingRemaining\",u),this._set(\"expectedFeatureDiff\",n)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){const e=r(this._featureTiles,(e=>e.perTileMaximumNumberOfFeaturesExceeded));this._set(\"maximumNumberOfFeaturesExceeded\",e)}_updateRatio(e){const t=S(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===D.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new O(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.descriptor.resolution;this._featureTiles.forEach((s=>{if(!(o(s.displayingFeatures)||e===s||e.descriptor.lij&&s.descriptor.lij&&!j(e.descriptor.lij,s.descriptor.lij))){o(e.displayingFeatures)&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(o(e.extentIncludingBorrowedFeatures)&&(e.extentIncludingBorrowedFeatures=F(e.descriptor.extent)),y(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get(x(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=a(e.displayingFeatures)?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetching&&(e.fetchStatus=D.DONE):e.fetchStatus=D.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;a(t)&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===D.REFETCHING?D.REFETCH_NEEDED:D.FETCH_NEEDED}async _fetchTile(e,t){const s=this._maximumFeaturesForTile(e);if(s<=0)return V(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(q(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>R.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=Math.ceil(s/i),e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:n,exceededTransferLimit:o,fields:u}=await this._queryFeatures(a,t),l=o?a.maxRecordCountFactor>=R.MAX_MAX_RECORD_COUNT_FACTOR?D.FULL:D.DONE:D.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=n.length<e.numFeatures||!!o;const t=this._removeEmptyFeatures(n);e.setFeatures(n,t,H(u))}),t),c(t),this._invalidateCounts(),l}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,n=this._maximumFeaturesForTile(e)-a;const o=this._getMaxRecordCount(e);let l=null;for(;;){const h=this._createQuery(e),d=this._setPagingParameters(h,i,n,o),{features:p,exceededTransferLimit:f,fields:m}=await this._queryFeatures(h,t);if(await this._frameTask.schedule((()=>{d&&(i+=u(h.num)),a+=p.length,r+=this._removeEmptyFeatures(p),e.featuresMissing=i<e.numFeatures||!!f,s=s?s.concat(p):p,l=k(l,m),e.setFeatures(s,r,l)}),t),c(t),this._invalidateCounts(),this._setDirty(),n=this._maximumFeaturesForTile(e)-a,!d||!f||n<=0)return f?D.DONE:D.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=e.descriptor.extent;if(s){const e=this.context.tilingScheme.spatialReference;t.geometry=T(s,e)}return this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(null==e.descriptor.resolution)return null;const t=this.context.viewingMode===b.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.descriptor.resolution,t)/this.lodFactor}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){if(!this._supportsResolution)return;const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new C({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;for(let s=0;s<e.length;){const t=e[s];E(t.geometry)?++s:(e[s]=e[e.length-1],--e.length)}return t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!q(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&a(t)&&t>0&&this.context.capabilities.supportsResultType?t:a(s)&&s>0?s:z}_useTileQuery(e){return(!q(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetching?D.REFETCHING:D.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=D.DONE),l(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this._handles&&!this._handles.has(\"scheduleUpdated\")&&this._handles.add(p((()=>{this._handles.remove(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(a(e.displayingFeatures)&&!e.needsDisplayUpdate)return!1;const t=e.features;if(0===e.featureLimit||!t){const t=a(e.displayingFeatures)&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.descriptor.resolution,i=this._changes.updates,r=this._changes.adds,n=Math.min(e.featureLimit,t.length);e.featureLimit=n;for(let a=0;a<n;++a){const e=t[a],n=x(e,this._objectIdField),o=this._displayingFeatureReferences.get(n);if(o){const t=o.ref(e,s);t.oldVersion!==t.newVersion&&(t.oldVersion&&i.removes.push(t.oldVersion),t.newVersion&&i.adds.push(t.newVersion))}else this._displayingFeatureReferences.set(n,new this.FeatureReferenceClass(e,s)),r.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),this._applyChanges(),e.displayingFeatures=t.slice(0,n),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(o(e.displayingFeatures))return;const t=this._changes.updates,s=this._changes.removes;for(const i of e.displayingFeatures){const r=x(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const n=a.unref(e.descriptor.resolution);this._numDisplayingFeatureReferences--,n?n.oldVersion!==n.newVersion&&(null==n.newVersion?(this._displayingFeatureReferences.delete(r),n.oldVersion&&s.push(n.oldVersion)):(t.adds.push(n.newVersion),n.oldVersion&&t.removes.push(n.oldVersion))):console.error(\"Hiding unreferenced feature\")}this._applyChanges(),e.displayingFeatures=null}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+$,i);this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&this.features.addMany(0===r?t:t.slice(r)),s.length>i&&this.features.removeMany(0===r?s:s.slice(r)),t.length=0,s.length=0}_clearTile(e){if(this._hideTile(e),e.features&&a(this.context.memoryCache)){const t=16+e.estimatedSize;this.context.memoryCache.put(e.id,e.cache,t)}e.setFeatures(null,0,null),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetching||t.isFetching?1:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){return{process:e=>this.runTask(e),getFeatureTileById:e=>this._featureTiles.get(e),forEachFeatureTile:e=>this._featureTiles.forEach(e)}}};function q(e){return\"dummy-tile-full-extent\"===e.id}function S(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function L(e){const t=e.capabilities.query;return{supportsMultipleResolutions:Q(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function Q(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}function V(e){return e.setFeatures([],0,null),e.featuresMissing=!1,D.DONE}function H(e){return o(e)?new Set:new Set(e.map((e=>e.name)))}function k(e,t){if(o(e)||o(t))return H(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}e([f({constructOnly:!0})],A.prototype,\"features\",void 0),e([f()],A.prototype,\"tileDescriptors\",void 0),e([f({value:1/0})],A.prototype,\"maximumNumberOfFeatures\",null),e([f({value:1})],A.prototype,\"memoryFactor\",null),e([f({value:1})],A.prototype,\"lodFactor\",null),e([f()],A.prototype,\"useTileCount\",null),e([f({readOnly:!0})],A.prototype,\"updating\",void 0),e([f({readOnly:!0})],A.prototype,\"running\",void 0),e([f({readOnly:!0})],A.prototype,\"updatingTotal\",void 0),e([f({readOnly:!0})],A.prototype,\"updatingRemaining\",void 0),e([f({readOnly:!0})],A.prototype,\"expectedFeatureDiff\",void 0),e([f({readOnly:!0})],A.prototype,\"memoryForUnusedFeatures\",null),e([f({readOnly:!0})],A.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([f({constructOnly:!0})],A.prototype,\"maximumNumberOfFeaturesExceededThrottle\",void 0),e([f({readOnly:!0})],A.prototype,\"totalVertices\",null),e([f({readOnly:!0})],A.prototype,\"totalFeatures\",null),e([f()],A.prototype,\"filterExtent\",null),e([f({constructOnly:!0})],A.prototype,\"context\",void 0),A=e([m(U)],A);const z=2e3,B=_(),G=_(),X=6e5,$=200;export{A as FeatureTileFetcher3D,L as contextCapabilitiesFromLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import{HandleOwner as r}from\"../../../../core/HandleOwner.js\";import i from\"../../../../core/Logger.js\";import{isNone as s,abortMaybe as a,removeMaybe as l,destroyMaybe as o,isSome as u}from\"../../../../core/maybe.js\";import{throwIfAbortError as n}from\"../../../../core/promiseUtils.js\";import{initial as p}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import _ from\"../../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as d}from\"../../../../layers/support/floorFilterUtils.js\";import{QueryEngine as y}from\"../graphics/QueryEngine.js\";import{TaskPriority as m}from\"../../../support/Scheduler.js\";let f=class extends r{constructor(e){super(e),this._updateTask=null,this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updateVisibility=async e=>{if(s(this._compositedFeatureFilter)&&s(this._sceneFilter)||0===this.context.getFeatureCount())return this._frameTask.schedule((()=>this.clear()),e);try{const t=await this._queryEngine.executeQueryForIdSet(this._compositedFeatureFilter,this._sceneFilter,e);return this._frameTask.schedule((()=>{this.context.updateFeatureVisibilities((e=>t.has(e)))}),e)}catch(t){return n(t),i.getLogger(this.declaredClass).warn(`FeatureFilter query failed: ${t}`,{error:t}),this._frameTask.schedule((()=>{this.context.setAllFeaturesVisibility(!0)}),e)}}}initialize(){const e=m.FILTER_VISIBILITY,{layer:t,view:r}=this._layerView,{featureStore:i}=this.context,s=\"hasZ\"in this._layerView&&this._layerView.hasZ,a=\"hasM\"in this._layerView&&this._layerView.hasM;this._queryEngine=new y({context:{spatialReference:r.spatialReference,layer:t,scheduler:r.resourceController.scheduler,featureStore:i,hasM:a,hasZ:s},priority:e}),this._frameTask=this._layerView.view.resourceController.scheduler.registerTask(e,this),this.updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this.reapply()),p)}destroy(){this._updateRequested=!1,this.handles.removeAll(),this.updatingHandles.removeAll(),this.clear(),this._updateTask=a(this._updateTask),this._frameTask=l(this._frameTask),this._queryEngine=o(this._queryEngine),this._set(\"context\",null)}get updating(){return this.running||this.updatingHandles.updating||u(this._updateTask)&&!this._updateTask.finished}get running(){return this._updateRequested||this._frameTask.updating}get defaultVisibility(){return s(this._compositedFeatureFilter)&&s(this._sceneFilter)}get _featureFilter(){return\"filter\"in this._layerView?this._layerView.filter:null}get _sceneFilter(){return\"layerFilter\"in this._layerView?this._layerView.layerFilter:null}get _floorFilter(){return d(this._layerView)}get _timeExtent(){return\"timeExtent\"in this._layerView?this._layerView.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_timeExtent:t,_floorFilter:r}=this;if(s(t)&&s(r))return e;const i=u(e)?e.clone():new _;if(u(t)&&(i.timeExtent=u(i.timeExtent)?i.timeExtent.intersection(t):t),u(r)){const e=s(i.where)||\"\"===i.where;i.where=e?r:`(${i.where}) AND (${r})`}return i}get _layerView(){return this.context.layerView}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}runTask(e){this._updateRequested&&(this._updateTask=a(this._updateTask),this._updateTask=t(this._updateVisibility),this._updateRequested=!1,e.madeProgress()),this._frameTask.processQueue(e)}};e([h({constructOnly:!0})],f.prototype,\"context\",void 0),e([h()],f.prototype,\"updating\",null),e([h()],f.prototype,\"running\",null),e([h()],f.prototype,\"defaultVisibility\",null),e([h()],f.prototype,\"_featureFilter\",null),e([h()],f.prototype,\"_sceneFilter\",null),e([h()],f.prototype,\"_floorFilter\",null),e([h()],f.prototype,\"_timeExtent\",null),e([h()],f.prototype,\"_compositedFeatureFilter\",null),e([h()],f.prototype,\"_layerView\",null),e([h()],f.prototype,\"_updateTask\",void 0),e([h()],f.prototype,\"_updateRequested\",void 0),f=e([c(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")],f);export{f as FeatureVisibilityFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{someSet as s}from\"../../../core/SetUtils.js\";class r extends e{constructor(){super(...arguments),this._set=new Set}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._set.size}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return[...this._set]}find(e){let t;return s(this._set,(s=>!!e(s)&&(t=s,!0))),t}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{unwrapOrThrow as t}from\"../../core/maybe.js\";import{PixelType as r,TextureSamplingMode as a,PixelFormat as o,SizedPixelFormat as l}from\"./enums.js\";function n(n,i){const{textureFloat:f,colorBufferFloat:s}=n.capabilities,u=f?.textureFloat,m=f?.textureFloatLinear,_=f?.textureHalfFloat,p=f?.textureHalfFloatLinear,d=f?.HALF_FLOAT,x=s?.textureFloat,b=s?.textureHalfFloat,c=s?.floatBlend,h=t(n.driverTest).floatBufferBlend.result;if(!u&&!_)throw new e(\"heatmap:missing-texture-float\",\"HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.\");if(!x&&!b)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(c&&h||b))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(h?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const E=u&&x&&c&&h,F=_&&b,R=m,L=p,T=!!s?.R32F,w=!!s?.R16F;if(E&&(R||!L))return R||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),{dataType:r.FLOAT,samplingMode:R?a.LINEAR:a.NEAREST,pixelFormat:T?o.RED:o.RGBA,internalFormat:T?l.R32F:o.RGBA};if(F)return L||i.warnOnce(\"Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced.\"),{dataType:d,samplingMode:L?a.LINEAR:a.NEAREST,pixelFormat:w?o.RED:o.RGBA,internalFormat:w?l.R16F:o.RGBA};throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}export{n as loadHeatmapTextureConfiguration};\n"],"names":["t","s","n","e","r","h","length","charCodeAt","push","Uint8Array","i","this","_seed","_totallen","_bufs","init","isNaN","toString","update","join","Int32Array","from","buffer","set","_xxHash32","o","u","a","l","f","p","include","d","usesHalfFloat","fragment","uniforms","add","densityMap","colorRamp","maxDensity","minDensity","searchRadius","Math","PI","constants","code","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","vertex","isAttributeDriven","attributes","varyings","resolutionForScale","camera","screenToWorldRatio","pixelRatio","fullViewport","_loadingGraphics","Map","_loadedGraphics","_pendingGraphics","_dataExtentGraphic","_enabled","_tileFetcher","_view","_tilingScheme","_loadedSymbols","map","material","color","outline","size","_loadingSymbols","_pendingSymbols","_dataExtentSymbol","enabled","get","_synchronizeMaps","filter","isFetching","symbols","showDataExtent","filterExtent","forEach","graphics","removeMany","clear","remove","geometry","symbol","test","getFeatureTileById","delete","forEachFeatureTile","has","id","descriptor","lij","ensureMaxLod","getExtentGeometry","c","center","verticalOffset","screenLength","callout","type","border","symbolLayers","text","halo","addMany","U","_watchUpdatingTracking","w","serviceDataExtent","serviceDataCount","j","NO_SERVICE_DATA_COUNT","vertexLimitExceeded","displayFeatureLimit","_suspended","_handles","_fetchDataInfoPromise","_fetchDataInfoAbortController","_lifeCycleAbortController","AbortController","spatialReference","equals","layerView","view","_get","clone","_set","declaredClass","error","updating","mode","featureTiles","updatingTotal","updatingRemaining","expectedFeatureDiff","memoryForUnusedFeatures","maximumNumberOfFeaturesExceeded","maximumNumberOfFeatures","_overrideIfSome","_isOverridden","layer","infoFor3D","qualitySettings","graphics3D","snapshotAvailable","tilingScheme","minScale","_approximateExtentSizeAtScale","width","height","MAX_SNAPSHOT_MIN_SCALE_FACTOR","totalVertices","max","ceil","pixelSize","levels","tileSize","scale","tiles","fetchDataInfoPromise","tileFetcher","vertexLimitInfo","addPromise","_updateVertexLimitExceeded","signal","_modeChanged","y","addResolvingPromise","Promise","resolve","then","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","D","operations","supportsQuery","_cancelFetchServiceDataInfo","_tilesHandle","destroy","suspend","resume","restart","refetch","g","tileDescriptors","O","context","extent","features","resourceController","x","memoryController","memoryFactor","F","geometryType","lodFactor","createQueryVersion","_dataFilterChanged","availableFields","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","on","_applyEdits","v","useTileCount","V","debugger","I","toTileInfo","_supportsExceedsLimitQuery","maxTotalSnapshotVertices","catch","addClient","warn","notifyChange","applyEdits","deletedFeatures","updatedFeatures","addedFeatures","_updateServiceDataExtent","_","R","createQuery","outStatistics","S","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","maxRecordCount","capabilities","query","supportsCacheHint","cacheHint","outSpatialReference","definitionExpression","C","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","fullExtent","_fullExtentIsAccurate","MAX_FEATURE_COUNT_FOR_EXTENT","_createDataInfoQuery","queryExtent","timeout","QUERY_EXTENT_TIMEOUT","portalItem","b","queryFeatureCount","QUERY_STATISTICS_TIMEOUT","ok","averageSymbolComplexity","maximumTotalNumberOfPrimitives","primitivesPerCoordinate","primitivesPerFeature","supportsExceedsLimitStatistics","_minimumNumberOfVerticesForGeometry","m","min","P","queryFeatures","_createVertexLimitExceededQuery","exceedslimit","_updateServiceDataCount","abort","storedFeatures","totalFeatures","missingTiles","T","readOnly","prototype","constructOnly","Number","dependsOn","E","reset","Z","hasZ","offset","unit","featureExpressionInfo","expression","elevationInfo","z","elevationProvider","getElevation","absoluteZ","elevation","arguments","fieldTotal","rctx","shader","configuration","blending","colorWrite","depthTest","depthWrite","_colorRampData","Uint8ClampedArray","_heatmapParameters","colorTarget","depthStencilTarget","target","pixelFormat","internalFormat","dataType","samplingMode","wrapMode","_densityMap","_quad","_colorRamp","_technique","viewingMode","colorTexture","addHandles","colorRampData","rendererContext","notifyContentChanged","resize","setData","_sortedMaterialRenderers","getBoundFramebufferObject","getViewport","bindParameters","bindFramebuffer","setViewport","forAll","shouldRender","render","output","bindVAO","bindTechnique","drawArrays","primitiveType","usesHalfFloats","_configuration","parameters","A","vertexAttributes","data","dist","normal","ensureTechnique","vertexBufferLayout","createBuffer","indices","position","uv0","setValues","featureAttribute","vec3f","vec2f","f32","q","Y","K","preferredUpdatePolicy","dataExtent","drapeSourceType","G","_renderGeometries","_fieldTotal","_drapeSourceRenderer","_dataType","_pixelFormat","$","initializePromise","_featureStore","hasM","k","_renderView","renderingContext","basemapTerrain","overlayManager","registerDrapeSource","_rendererParameters","_material","W","_materialWithField","_filterVisibility","M","owner","featureStore","getFeatureCount","_loadedPointGraphics","setAllFeaturesVisibility","_setAllFeaturesVisibility","clearFeaturesVisibility","updateFeatureVisibilities","_updateFeatureVisibilities","updatingHandles","addOnCollectionChange","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","numFeatures","handles","field","title","name","unregisterDrapeSource","filterVisibility","heatmap","maxTotalNumberOfFeatures","minimumTotalNumberOfFeatures","maximumTotalNumberOfFeatures","fullOpacity","updatePolicy","_isScaleRangeActive","effectiveScaleRange","maxScale","B","usedMemoryPerFeature","_overlayRenderer","overlays","resolution","_densityMapPixelRatio","find","core","visible","_visibleFeatures","missing","pending","elevationUpdating","visibilityFrustum","visibilityScale","_heatmapRenderer","renderer","_radiusParameter","_densityParameters","_colorRampParameter","_pixelRatioParameter","_resolutionForScaleParameter","radius","_clampSearchRadius","referenceScale","colorStops","sqrt","_stage","renderView","loadedGraphics","fieldsIndex","Q","reapply","_featuresArePoints","objectIdField","removeManyById","removed","added","centroid","displayId","uid","_computeFieldTotalChange","_pointGraphicToRenderGeometry","removeGeometries","addGeometries","requestRender","toArray","_overlaySpatialReference","L","N","H","layerUid","graphicUid","boundingSphere","defaultVisibility","reduce","warnOnce","objectId","modifyGeometries","values","visibleFeatureCount","controller","suspendResumeExtentMode","slicePlaneEnabled","suspendResumeExtent","_controllerCreated","supportsHeightUnitConversion","_pendingController","queryEngine","isTable","reject","_validateGeometryType","_recreateProcessor","_initializeController","processor","scheduler","priority","_destroyPendingController","canResume","legendEnabled","getSymbols","some","graphic","whenGraphicBounds","computeAttachmentOrigin","graphics3DProcessor","getGraphics3DGraphicByObjectId","symbologySnappingSupported","candidates","sourceCandidateIndices","executeQuery","_ensureQuery","executeQueryForIds","executeQueryForCount","executeQueryForExtent","highlight","maskOccludee","scaleVisibilitySuspended","suspendInfo","destroyed","ready","createController","when","_setControllerWhenInitialized","isResolved","beforeSetController","clippingExtent","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","updateClippingExtent","_updateClippingExtent","displayedNumberOfFeatures","totalNumberOfFeatures","nodes","performanceInfo","_getResourceInfo","Boolean","_randomRotationRenderers","setUidToIdOnAdd","_suspendResumeExtent","graphicSymbolSupported","componentFactories","deconflictor","addGraphicsOwner","labeler","elevationAlignment","graphicsCoreOwner","graphicsCore","queryGraphicUIDsInExtent","scaleVisibility","objectStates","elevationInfoChange","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","_initializeAsync","rendererChange","opacityChange","_setupSuspendResumeExtent","clippingArea","startCreateGraphics","labelsEnabled","removeAll","frustumVisibility","visualVariables","findIndex","valueExpression","axis","rotationType","splice","WeakMap","suspended","outsideScaleRange","outsideOfView","featureSpatialReference","graphics3DGraphics","graphics3DGraphicsByObjectID","symbolUpdateType","usedMemory","numberOfGraphics","usedMemoryPerGraphic","unprocessedMemoryEstimate","acquireSet","handle","setUid","queryObjectIds","setObjectIds","Array","isArray","setUids","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","arcade","updateFloatArray","updateUint8Array","heading","digest","getSymbolLayerSize","setObjectIdVisibility","setClippingExtent","recreateAllGraphics","computedExtent","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","setExtent","pause","_dataQueryEngineInstance","toJSON","_ensureDataQueryEngine","_dataQueryEngine","executeQueryForIdSet","_ensureQueryJSON","count","executeQueryForLatestObservations","sourceLayer","defaultQueryJSON","geometries","rings","concat","sceneFilter","timeInfo","_queryGeometryType","fields","_highestResolutionVersion","versions","ref","refCount","feature","oldVersion","configurable","newVersion","_recalculateHighestResolutionVersion","_feature","_refCount","isReferenced","Set","fetchStatus","FETCH_NEEDED","_features","_numVertices","_featureLimit","featuresMissing","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_availableFields","_displayingFeatures","alive","filtered","extentIncludingBorrowedFeatures","featureLimit","hasPreciseFeatureCount","updateMemoryEstimates","FETCHING","REFETCHING","REFETCH_NEEDED","DONE","FULL","displayingFeatures","sort","_shuffle","emptyFeatureRatio","requestController","_useTileCount","running","maximumNumberOfFeaturesExceededThrottle","_fullRatio","_farRatio","_changes","updates","adds","removes","_frameTask","_dirty","_featureTiles","_displayingFeatureReferences","_numDisplayingFeatureReferences","_pendingEdits","_maximumFeaturesUpdated","_setDirty","_supportsResolution","estimatedUnusedSize","numVertices","_reclip","onListenerAdd","_objectIdField","FeatureReferenceClass","supportsMultipleResolutions","registerTask","_cancelFetchTile","_removeTile","_clearTile","_resetFetchTile","memoryCache","_pause","_unpause","_paused","_updated","edits","result","_applyEditsDeleteFeatures","_applyEditsAddUpdateFeatures","globalIdField","globalId","errorOncePerTick","setFeatures","_invalidateCounts","_applyEditsAddUpdateTile","_createQuery","resultType","objectIds","_queryFeatures","slice","queryFeaturesDehydrated","X","processQueue","initialized","_getListOfTiles","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_showTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","madeProgress","hasProgressed","intersects","pop","loadPriority","_updateRatio","reduceFeatures","_showTile","needsFetching","cache","_scheduleUpdated","_needsNumFeatures","_fetchTileCount","_handleRequest","_fetchTile","logFetchError","intersectionIncludingBorrowed","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","perTileMaximumNumberOfFeaturesExceeded","_referenceDisplayingFeaturesFromRelatedTiles","resetFetching","_fetchCount","_getMaxRecordCount","supportsMaxRecordCountFactor","_fetchPagedTile","maxRecordCountFactor","isRefetching","exceededTransferLimit","schedule","_removeEmptyFeatures","_createFeatureCountQuery","_setPagingParameters","num","_setResolutionParams","_useTileQuery","supportsPagination","start","resolutionAtLevel","_getEffectiveTileResolution","supportsQuantization","quantizationParameters","originPosition","tolerance","maxAllowableOffset","needsFeatureCount","tileMaxRecordCount","supportsResultType","needsRefetching","needsDisplayUpdate","_hideTileFeatures","unref","console","_hideTile","estimatedSize","put","process","runTask","supportsQuantizationEditMode","supportsFormatPBF","_updateTask","_queryEngine","_updateRequested","_updateVisibility","_compositedFeatureFilter","_sceneFilter","_layerView","finished","layerFilter","timeExtent","_featureFilter","_timeExtent","_floorFilter","intersection","where","toLowerCase","emit","textureFloat","colorBufferFloat","textureFloatLinear","textureHalfFloat","textureHalfFloatLinear","HALF_FLOAT","floatBlend","driverTest","floatBufferBlend","R32F","R16F"],"sourceRoot":""}