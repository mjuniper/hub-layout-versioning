"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[44620],{44620:function(e,t,n){n.r(t),n.d(t,{arcgis_hub_access_level_controls:function(){return H},arcgis_hub_file_metadata_editor:function(){return U},arcgis_hub_file_select:function(){return V},arcgis_hub_groups_sharing:function(){return K},arcgis_hub_url_content_form:function(){return J}});var i=n(4942),r=n(93433),a=n(29439),o=n(74165),s=n(15671),c=n(43144),l=n(15861),u=n(5692),h=n(13129),p=n(54825),f=n(12969),d=n(68980),g=n(58669),v=n(2001),m=n(53031),y=(n(7597),n(67450),/(feature)server(\/|\/(\d+))?$/i),b=/\/[a-zA-Z]+server(\/|\/(\d+))?$/i;function k(e){return!["Feature Service","Document Link"].includes(e)}function x(e){var t;try{var n=new URL(e);t="/"!==n.pathname?n.pathname.split("/").pop():n.hostname}catch(i){throw new Error("Error getting file name from data url")}return t}function w(e){try{return!!new URL(e)}catch(t){return m.a.error("Error parsing URL"),!1}}function I(e){return y.test(e)}function D(e){return b.test(e)}function S(e){var t=e.match(y);return t&&!!t[3]}function Z(e,t){return{title:t.name,description:t.description,extent:t.extent,url:e}}function F(e,t){var n=t.serviceDescription||t.description,i=function(e){return e.match(/\/services\/(.+)\/(feature|map|image)server/i)[1]}(e);return{title:i,description:n,extent:t.fullExtent||t.initialExtent,url:e}}function E(e){return L.apply(this,arguments)}function L(){return(L=(0,l.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"HEAD"});case 2:return n=e.sent,e.abrupt("return",{ok:n.ok,headers:n.headers});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=(0,l.Z)((0,o.Z)().mark((function e(t){var n,i,r,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URL(t)).searchParams.set("f","json"),e.next=4,fetch(n.href);case 4:if((i=e.sent).ok){e.next=7;break}return e.abrupt("return",{ok:!1});case 7:return e.next=9,i.json();case 9:if(!(r=e.sent).error){e.next=12;break}return e.abrupt("return",{ok:!1});case 12:return a=S(t)?Z:F,s=a(t,r),e.abrupt("return",{ok:!0,item:s});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t,n=e.get("Content-Type");if(n)return"text/csv"===(n=n.split(";").shift())?t=d.I.CSV:"application/vnd.ms-excel"===n||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===n?t=d.I["Microsoft Excel"]:"application/pdf"===n?t=d.I.PDF:"image/jpeg"===n||"image/jpg"===n||"image/png"===n?t=d.I.Image:"application/geo+json"===n&&(t=d.I.GeoJson),t}function j(e){var t,n=e.toLowerCase().split(".").pop();return"csv"===n?t=d.I.CSV:"xls"===n||"xlsx"===n?t=d.I["Microsoft Excel"]:"pdf"===n?t=d.I.PDF:"jpeg"===n||"jpg"===n||"png"===n?t=d.I.Image:"geojson"===n&&(t=d.I.GeoJson),t}function _(e){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)((0,o.Z)().mark((function e(t){var n,i,r,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(t)){e.next=2;break}return e.abrupt("return",{pass:!1,error:"invalidFormat"});case 2:if(n=I(t),!D(t)||n){e.next=6;break}return e.abrupt("return",{pass:!1,error:"invalidFormat"});case 6:if(a={},e.prev=7,!n){e.next=14;break}return e.next=11,C(t);case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,E(t);case 16:e.t0=e.sent;case 17:if((a=e.t0).ok){e.next=20;break}return e.abrupt("return",{pass:!1,error:"invalidUrl"});case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),m.a.error("error requesting url");case 25:return r=a.item?a.item:{title:x(t),url:t},a.headers&&(i=O(a.headers)),n?i=d.I["Feature Service"]:i||(i=j(t)),i&&(r.type=i),r.type&&k(r.type)&&(r.dataUrl=r.url),e.abrupt("return",{pass:!0,type:i,item:r});case 31:case"end":return e.stop()}}),e,null,[[7,22]])})))).apply(this,arguments)}var z;!function(e){e.PUBLIC="public",e.ORG="org",e.PRIVATE="private"}(z||(z={}));var H=function(){function e(t){(0,s.Z)(this,e),(0,u.r)(this,t),this.arcgisHubItemAccessLevelChange=(0,u.c)(this,"arcgisHubItemAccessLevelChange",7)}return(0,c.Z)(e,[{key:"updateAccessLevel",value:function(e){e.stopPropagation(),this.accessLevel=e.detail,this.arcgisHubItemAccessLevelChange.emit(this.accessLevel)}},{key:"componentWillLoad",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.intl,t=this.itemType,n=this.orgName,i=this.accessLevel;return(0,u.h)("div",null,(0,u.h)("calcite-radio-button-group",{layout:"vertical",name:"sharing-level"},(0,u.h)("calcite-label",{layout:"inline"},(0,u.h)("calcite-radio-button",{checked:i===z.PUBLIC,value:"public"}),(0,u.h)("calcite-block",{heading:e.t("public"),summary:e.t("publicInfo",{itemType:t})},(0,u.h)("calcite-icon",{icon:"globe",scale:"s",slot:"icon"}))),(0,u.h)("calcite-label",{layout:"inline"},(0,u.h)("calcite-radio-button",{checked:i===z.ORG,value:"org"}),(0,u.h)("calcite-block",{heading:e.t("organization"),summary:e.t("organizationInfo",{orgName:n,itemType:t})},(0,u.h)("calcite-icon",{icon:"organization",scale:"s",slot:"icon"}))),(0,u.h)("calcite-label",{layout:"inline"},(0,u.h)("calcite-radio-button",{checked:i===z.PRIVATE,value:"shared"}),(0,u.h)("calcite-block",{heading:e.t("owner"),summary:e.t("ownerInfo",{itemType:t})},(0,u.h)("calcite-icon",{icon:"user",scale:"s",slot:"icon"})))))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();H.style="calcite-block{width:95%}header{font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium)}calcite-block{--calcite-font-size--1:16px;--calcite-font-size--2:14px}";var A={required:["title"],type:"object",properties:{title:{type:"string",minLength:1},snippet:{type:"string",maxLength:2048},tags:{type:"array",items:{type:"string"}}}},P={type:"Layout",elements:[{labelKey:"title",scope:"/properties/title",type:"Control"},{labelKey:"snippet",scope:"/properties/snippet",type:"Control",options:{control:"hub-field-input-input",type:"textarea"}},{labelKey:"tags",scope:"/properties/tags",type:"Control",options:{control:"hub-field-input-multiselect"}}]},U=function(){function e(t){(0,s.Z)(this,e),(0,u.r)(this,t),this.arcgisHubFileMetadataEditorChange=(0,u.c)(this,"arcgisHubFileMetadataEditorChange",7),this.values={},this._schema=(0,f.c)(A),this._uiSchema=(0,f.c)(P),(0,p.b)(this,"translationFunc")}return(0,c.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleValuesChanged",value:function(){this.internalValues=(0,f.c)(this.values)}},{key:"handleEditorChangeEvent",value:function(e){e.stopPropagation(),this.arcgisHubFileMetadataEditorChange.emit(e.detail)}},{key:"translationFunc",value:function(e,t,n){return this.intl.t(e,t,n)}},{key:"render",value:function(){return(0,u.h)("div",null,(0,u.h)("arcgis-configuration-editor",{schema:this._schema,t:this.translationFunc,uiSchema:this._uiSchema,values:this.internalValues}))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{values:["handleValuesChanged"]}}}]),e}();function M(e,t,n){var i,r=!1;if(e.length>1)i="multipleFilesError";else if(e[0].size>t)i="fileTooLargeError";else{var o=function(e,t){var n=Object.keys(d.a),i=[];return n.forEach((function(n){var r,a,o;(null===(r=d.a[n].fileExt)||void 0===r?void 0:r.indexOf(e))>=0&&(t?((null===(a=t.extensions)||void 0===a?void 0:a.indexOf(e))>=0||(null===(o=t.types)||void 0===o?void 0:o.indexOf(d.a[n].type))>=0)&&i.push(d.a[n]):i.push(d.a[n]))})),i}(function(e){var t=/(?:\.([^.]+))?$/,n=e.replace(/^.*(\\|\/|:)/,""),i=n&&t.exec(n)[1]?t.exec(n)[1].toLowerCase():"",r="";if(n.indexOf(".rft.")>-1){var o=n.split(".rft."),s=(0,a.Z)(o,2),c=s[0],l=s[1];i="rft.".concat(l),r=c}return n&&!r&&(r=-1===n.lastIndexOf(".")?n:n.substring(0,n.lastIndexOf("."))),{title:r=r.replace(/\.|-/g,"_"),fileName:n,extension:i}}(e[0].name).extension,n);o.length>0?r=!0:i="unsupportedFileTypeError"}return{success:r,errorMessage:i}}var R={"image/png":d.I.Image,"image/jpeg":d.I.Image,"image/tiff":d.I.Image,"image/tif":d.I.Image,"text/csv":d.I.CSV,"application/pdf":d.I.PDF,"application/geo+json":d.I.GeoJson,"application/vnd.ms-excel":d.I["Microsoft Excel"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":d.I["Microsoft Excel"],"application/msword":d.I["Microsoft Word"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":d.I["Microsoft Word"],"application/vnd.ms-powerpoint":d.I["Microsoft Powerpoint"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":d.I["Microsoft Powerpoint"]},B={month:"short",day:"numeric",year:"numeric"},V=function(){function e(t){(0,s.Z)(this,e),(0,u.r)(this,t),this.arcgisHubFileSelected=(0,u.c)(this,"arcgisHubFileSelected",7),this.arcgisHubDragOver=(0,u.c)(this,"arcgisHubDragOver",7),this.componentType="content",this.maxSize=200,(0,p.b)(this,"handleDragOver","handleDragLeave","handleDrop","setInputEl","onInputChange","buttonRef","onButtonClick")}return(0,c.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.el);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateFiles",value:function(){var e=this.files,t=this.allowedFileTypes,n=1e3*this.maxSize*1e3;if(e){var i=M(e,n,t),r=i.success,a=i.errorMessage;if(r){this.errorMessage=void 0;var o=e[0],s={owner:this.owner,extent:(0,g.a)(this.defaultExtent),spatialReference:this.defaultExtent.spatialReference,source:this.portalName,publishedDate:this.intl.formatDate(new Date,B),access:"private",title:this.trimExtension(o.name),type:R[o.type],modified:o.lastModified,file:o};this.arcgisHubFileSelected.emit(s)}else this.errorMessage=a}}},{key:"trimExtension",value:function(e){var t=e.split(".");return t.splice(0,t.length-1).join(".")}},{key:"focusMainInput",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mainInputRef.focus();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSelectedFile",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.files=void 0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fileExtensionsFromAllowedFileTypes",get:function(){var e,t,n=this.allowedFileTypes,i=[];return(null===(e=null===n||void 0===n?void 0:n.extensions)||void 0===e?void 0:e.length)&&(i=[].concat((0,r.Z)(i),(0,r.Z)(this.allowedFileTypes.extensions))),(null===(t=null===n||void 0===n?void 0:n.types)||void 0===t?void 0:t.length)&&(i=n.types.reduce((function(e,t){return d.a[t]&&d.a[t].fileExt?[].concat((0,r.Z)(e),(0,r.Z)(d.a[t].fileExt)):e}),i)),i=(0,r.Z)(new Set(i))}},{key:"isFileSelected",get:function(){return this.files&&!this.errorMessage}},{key:"handleDragOver",value:function(e){return e.dataTransfer.types.includes("Files")&&!this.isFileSelected&&(e.preventDefault(),this.isDragging=!0,this.arcgisHubDragOver.emit(this.isDragging)),!1}},{key:"handleDragLeave",value:function(){this.isDragging=!1}},{key:"handleDrop",value:function(e){e.preventDefault(),this.isDragging=!1,this.files=e.dataTransfer.files}},{key:"onInputChange",value:function(e){this.files=Object.assign({},e.target.files)}},{key:"setInputEl",value:function(e){this.inputElement=e}},{key:"inputAcceptList",get:function(){var e=this.fileExtensionsFromAllowedFileTypes;return e.length||(e=Object.keys(d.F)),".".concat(e.join(", ."))}},{key:"onButtonClick",value:function(){var e;this.isFileSelected?this.clearSelectedFile():null===(e=this.inputElement)||void 0===e||e.click()}},{key:"buttonRef",value:function(e){this.mainInputRef=e}},{key:"buttonIntl",get:function(){var e=this.isFileSelected,t=this.componentType,n="contentButton";return e?n="clearButton":"image"===t&&(n="imageButton"),n}},{key:"headingIntl",get:function(){var e=this.componentType,t=this.errorMessage,n=this.files,i="contentHeading";return t?i="errorHeading":n&&!t?i="selectedHeading":"image"===e&&(i="imageHeading"),i}},{key:"renderDetails",value:function(){var e,t=this.errorMessage,n=this.files,i=this.isFileSelected,r=this.maxSize,a=this.fileExtensionsFromAllowedFileTypes,o=this.intl,s=!a.length||a.length>15,c="maxSizeAndSupportedTypes";t?c=t:s&&(c="maxSize"),s&&!t||(e=a.join(", "));var l=o.t(c,{maxSize:r,fileTypes:e});t?l=o.t(c):i?l=n[0].name:s&&(l=o.t(c,{maxSize:r}));var h=(0,u.h)("p",null,l);return s&&!t&&(h=(0,u.h)("p",null,l,(0,u.h)("a",{href:""},o.t("linkText")))),h}},{key:"render",value:function(){var e;return(0,u.h)(u.H,{class:(e={},(0,i.Z)(e,"file-select-zone",!0),(0,i.Z)(e,"dragging",this.isDragging),(0,i.Z)(e,"error",!!this.errorMessage),(0,i.Z)(e,"success",this.isFileSelected),e),onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop},(0,u.h)("calcite-icon",{"aria-hidden":"true",icon:"".concat(this.isFileSelected?"check-circle":"upload"),scale:"l"}),(0,u.h)("header",null,this.intl.t(this.headingIntl)),this.renderDetails(),(0,u.h)("input",{accept:this.inputAcceptList,onChange:this.onInputChange,ref:this.setInputEl,tabIndex:-1,type:"file"}),(0,u.h)("calcite-button",{appearance:"outline",onClick:this.onButtonClick,ref:this.buttonRef},this.intl.t(this.buttonIntl)),(0,u.h)("slot",null))}},{key:"el",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{files:["validateFiles"]}}}]),e}();V.style=":host{box-sizing:border-box;display:block;width:100%;border-width:1px;border-style:dashed;padding-top:2rem;padding-bottom:2rem;text-align:center;transition:all 200ms ease-in-out;border-color:#828282;background-color:var(--calcite-ui-foreground-1)}:host(.dragging){border-color:var(--calcite-ui-brand);background-color:rgba(0, 121, 193, 0.05)}:host(.error){background-color:#FFF1EF;border-color:var(--calcite-ui-danger)}:host(.success){border-color:var(--calcite-ui-success);color:var(--calcite-ui-success)}header{margin-bottom:5px;font-size:var(--calcite-font-size-2);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}p{margin-top:5px;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}a{display:block}input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}";var K=function(){function e(t){(0,s.Z)(this,e),(0,u.r)(this,t),this.arcgisHubSelectedGroupsChange=(0,u.c)(this,"arcgisHubSelectedGroupsChange",7),this.groups=[],this.selectedGroups=[],this.internalSelectedGroups=[],this.internalDeselectedGroups=[],(0,p.b)(this,"updateSelectedGroups","_shouldGroupBeSelected")}return(0,c.Z)(e,[{key:"updateSelectedGroups",value:function(e){e.target.checked?(this.internalSelectedGroups.push(e.target.value),this.internalDeselectedGroups=this.internalDeselectedGroups.filter((function(t){return t!==e.target.value}))):(this.internalDeselectedGroups.push(e.target.value),this.internalSelectedGroups=this.internalSelectedGroups.filter((function(t){return t!==e.target.value}))),this.arcgisHubSelectedGroupsChange.emit({share:this.internalSelectedGroups,unshare:this.internalDeselectedGroups})}},{key:"componentWillLoad",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent,this.selectedGroups.length&&(this.internalSelectedGroups=this.internalSelectedGroups.concat(this.selectedGroups));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_shouldGroupBeSelected",value:function(e){return!!this.internalSelectedGroups.find((function(t){return t.id===e}))}},{key:"render",value:function(){var e=this;if(this.groups.length)return(0,u.h)("div",null,(0,u.h)("header",null,this.intl.t("heading")),this.groups.map((function(t){return(0,u.h)("calcite-label",{key:t.id,layout:"inline"},(0,u.h)("calcite-checkbox",{checked:e._shouldGroupBeSelected(t.id),name:t.title,onCalciteCheckboxChange:e.updateSelectedGroups,value:t}),t.title)})))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();K.style="header{font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);margin-bottom:0.375rem}calcite-label{--calcite-font-size--1:16px}";var W=function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},N={month:"short",day:"numeric",year:"numeric"},J=function(){function e(t){(0,s.Z)(this,e),(0,u.r)(this,t),this.arcgisHubUrlValidated=(0,u.c)(this,"arcgisHubUrlValidated",7),this.arcgisHubItemTypeSelected=(0,u.c)(this,"arcgisHubItemTypeSelected",7),this.showTypePicker=!1,this.types=[{intl:"doclink",type:"Document Link",active:!0},{intl:"csv",type:"CSV"},{intl:"shp",type:"Shapefile"},{intl:"geojson",type:"GeoJson"},{intl:"featureservice",type:"Feature Service"},{intl:"xls",type:"Microsoft Excel"},{intl:"pdf",type:"PDF"},{intl:"png",type:"Image"},{intl:"jpg",type:"Image"}],(0,p.b)(this,"setDropdownEl","setInputEl","handleOnInput","handleOnKeyDown")}return(0,c.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.el);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateDebounced",value:function(){this.validateUrl()}},{key:"handleItemTypeSelection",value:function(){var e=this.dropdownEl.selectedItems[0];if(e){var t=e.dataset.value;this.selectedTypeText=e.getAttribute("title"),this.validatedUrlItem&&(this.validatedUrlItem.type=t,this.mergedUrlItem.type=t,this.arcgisHubItemTypeSelected.emit(this.mergedUrlItem))}}},{key:"validateUrl",value:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var t,n,i,r,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.inputEl.value)){e.next=14;break}return e.next=4,_(t);case 4:n=e.sent,this.validatedUrlItem=n,i=n.item.extent||this.defaultExtent,"object"===typeof(r=Object.assign({owner:this.owner,extent:(0,g.a)(i),spatialReference:i.spatialReference,source:this.portalName,publishedDate:this.intl.formatDate(new Date,N),access:"private"},n.item)).extent&&(a=r.extent,r.extent=(0,g.a)(a)),this.mergedUrlItem=r,n.type||(this.showTypePicker=!0,this.validatedUrlItem.type="Document Link",this.mergedUrlItem.type="Document Link",this.selectedTypeText=this.intl.t("doclink")),this.arcgisHubUrlValidated.emit(this.mergedUrlItem),e.next=15;break;case 14:this.validatedUrlItem=void 0;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnInput",value:function(){this.validateDebounced()}},{key:"handleOnKeyDown",value:function(e){"Enter"===e.key&&this.validateDebounced()}},{key:"setDropdownEl",value:function(e){this.dropdownEl=e}},{key:"setInputEl",value:function(e){this.inputEl=e}},{key:"renderSubText",value:function(){var e=this,t=this.intl,n=this.showTypePicker,i=this.validatedUrlItem,r=(0,u.h)("span",null,t.t("subText"));if(i&&i.error)r=(0,u.h)("span",null,(0,u.h)("calcite-icon",{class:"error",icon:"x-octagon",scale:"s"}),t.t(i.error));else if(i&&i.pass&&n)r=(0,u.h)("span",null,(0,u.h)("calcite-icon",{class:i.type?"success":"error",icon:i.type?"check-circle":"x-octagon",scale:"s"}),i.type&&this.intl.t("recognizedType"),(0,u.h)("calcite-dropdown",{placement:"top",ref:this.setDropdownEl},(0,u.h)("calcite-button",{appearance:"transparent","icon-end":"caret-down",slot:"dropdown-trigger"},this.selectedTypeText||this.intl.t("fileTypeSelector")),(0,u.h)("calcite-dropdown-group",{"selection-mode":"single"},this.types.map((function(t){return(0,u.h)("calcite-dropdown-item",{active:t.active,"data-value":t.type,key:t.type,title:e.intl.t(t.intl)},e.intl.t(t.intl))})))));else if(i&&i.pass){var a=i.type.toLowerCase().split(" ").join("");r=(0,u.h)("span",null,(0,u.h)("calcite-icon",{class:"success",icon:"check-circle",scale:"s"}),this.intl.t(a))}return r}},{key:"render",value:function(){return(0,u.h)(u.H,null,(0,u.h)("header",null,this.intl.t("heading")),(0,u.h)("calcite-input",{onInput:this.handleOnInput,onKeyDown:this.handleOnKeyDown,ref:this.setInputEl}),this.renderSubText())}},{key:"el",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();W([(0,v.D)({timeout:300})],J.prototype,"validateDebounced",null),J.style=':host{display:flex;flex-direction:column;align-items:center}header{margin-bottom:5px;font-size:var(--calcite-font-size-2);line-height:1.5rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}calcite-input{width:100%}span{margin-top:5px;display:flex;align-items:center;justify-content:center;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}calcite-icon[class="error"]{color:var(--calcite-ui-danger)}calcite-icon[class="success"]{color:var(--calcite-ui-success)}calcite-icon{margin-right:0.625rem}'},2001:function(e,t,n){function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(i){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(i,a)}),n)}}function r(e){return function(t,n,r){var a=r.value,o="".concat(n.toString(),"Debounced");return Object.assign(Object.assign({},r),{value:function(){this[o]||Object.defineProperty(this,o,{value:i(a,e.timeout)});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this[o].apply(this,[this].concat(n))}})}}n.d(t,{D:function(){return r}})},13115:function(e,t,n){function i(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}n.d(t,{g:function(){return i}})},53031:function(e,t,n){n.d(t,{L:function(){return i},a:function(){return o}});var i,r=n(15671),a=n(43144);!function(e){e[e.all=0]="all",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.off=5]="off"}(i||(i={}));var o=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,null,[{key:"setLogLevel",value:function(e){this.logLevel=e}},{key:"log",value:function(e){if(this.isLevelPermitted(i.debug)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).log.apply(t,[e].concat(r))}}},{key:"debug",value:function(e){if(this.isLevelPermitted(i.debug)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).debug.apply(t,[e].concat(r))}}},{key:"info",value:function(e){if(this.isLevelPermitted(i.info)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).info.apply(t,[e].concat(r))}}},{key:"warn",value:function(e){if(this.isLevelPermitted(i.warn)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).warn.apply(t,[e].concat(r))}}},{key:"error",value:function(e){if(this.isLevelPermitted(i.error)){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).error.apply(t,[e].concat(r))}}},{key:"isLevelPermitted",value:function(e){return this.logLevel<=e}}]),e}();o.logLevel=i.off},12969:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return u},c:function(){return r},d:function(){return f},e:function(){return c},f:function(){return d},g:function(){return a},i:function(){return p},m:function(){return l},u:function(){return h},w:function(){return o}});var i=n(13115);function r(e){var t={};if(Array.isArray(e))t=e.map(r);else if("object"===typeof e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&"object"===typeof i?i instanceof Date?t[n]=new Date(i.getTime()):"undefined"!==typeof Blob&&i instanceof Blob?t[n]=new Blob([i],{type:i.type}):t[n]=r(i):t[n]=i}}else t=e;return t}function a(e,t,n){return e?e.reduce((function(e,r){return(0,i.g)(r,t)===n&&(e=r),e}),null):null}function o(e,t){return e.filter((function(e){return e!==t}))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"i";return"".concat(e).concat(Math.random().toString(36).substr(2,8))}function c(e,t,n){return null!==t&&void 0!==t&&((n=r(n))[e]=t),n}function l(e,t){return null!==e&&void 0!==e&&(t=r(t)).push(e),t}function u(e){return(e=(e=e.toLowerCase()).replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi," ")).replace(/(\-|\_|\.|\s)+(.)?/g,(function(e,t,n){return n?n.toUpperCase():""})).replace(/(^|\/)([A-Z])/g,(function(e,t,n){return e.toLowerCase()}))}function h(e,t,n){return n.indexOf(e)===t}var p=function(e){return null==e},f=function(e){var t=Array.from(e);return t[0]=t[0].toUpperCase(),t.join("")};function d(e){return e.reduce((function(e,t){return e.concat(t)}),[])}}}]);
//# sourceMappingURL=44620.b57c16d7.chunk.js.map