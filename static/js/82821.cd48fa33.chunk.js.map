{"version":3,"file":"static/js/82821.cd48fa33.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/layers/support/kmlUtils.js","../node_modules/@arcgis/core/views/2d/engine/Bitmap.js","../node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","../node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","../node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MaterialPrograms.js","../node_modules/@arcgis/core/views/support/imageReprojection.js","../node_modules/@arcgis/core/views/2d/layers/KMLLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js","../node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js","../node_modules/@arcgis/core/views/webgl/programUtils.js","../node_modules/@arcgis/core/views/webgl/rasterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}set(t,e,r){const s=this._outer.get(t);s?s.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{id as o}from\"../../kernel.js\";import t from\"../../PopupTemplate.js\";import r from\"../../request.js\";import{clone as s}from\"../../core/lang.js\";import{addQueryParameters as n}from\"../../core/urlUtils.js\";import i from\"../../geometry/SpatialReference.js\";import{create as f,NEGATIVE_INFINITY as a,expandWithAABB as l,equals as u}from\"../../geometry/support/aaBoundingBox.js\";import{getBoundsXYZ as p}from\"../../geometry/support/boundsUtils.js\";import{fromJSON as m}from\"../../renderers/support/jsonUtils.js\";import y from\"../../rest/support/FeatureSet.js\";const c={esriGeometryPoint:\"points\",esriGeometryPolyline:\"polylines\",esriGeometryPolygon:\"polygons\"};function d(e){const o=e.folders||[],t=o.slice(),r=new Map,n=new Map,i=new Map,f=new Map,a=new Map,l={esriGeometryPoint:n,esriGeometryPolyline:i,esriGeometryPolygon:f};(e.featureCollection&&e.featureCollection.layers||[]).forEach((e=>{const o=s(e);o.featureSet.features=[];const t=e.featureSet.geometryType;r.set(t,o);const a=e.layerDefinition.objectIdField;\"esriGeometryPoint\"===t?G(n,a,e.featureSet.features):\"esriGeometryPolyline\"===t?G(i,a,e.featureSet.features):\"esriGeometryPolygon\"===t&&G(f,a,e.featureSet.features)})),e.groundOverlays&&e.groundOverlays.forEach((e=>{a.set(e.id,e)})),o.forEach((o=>{o.networkLinkIds.forEach((r=>{const s=P(r,o.id,e.networkLinks);s&&t.push(s)}))})),t.forEach((e=>{if(e.featureInfos){e.points=s(r.get(\"esriGeometryPoint\")),e.polylines=s(r.get(\"esriGeometryPolyline\")),e.polygons=s(r.get(\"esriGeometryPolygon\")),e.mapImages=[];for(const o of e.featureInfos)switch(o.type){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":{const t=l[o.type].get(o.id);t&&e[c[o.type]].featureSet.features.push(t);break}case\"GroundOverlay\":{const t=a.get(o.id);t&&e.mapImages.push(t);break}}e.fullExtent=j([e])}}));const u=j(t);return{folders:o,sublayers:t,extent:u}}function g(t,s,i,f){const a=o&&o.findCredential(t);t=n(t,{token:a&&a.token});const l=e.kmlServiceUrl;return r(l,{query:{url:t,model:\"simple\",folders:\"\",refresh:0!==i||void 0,outSR:JSON.stringify(s)},responseType:\"json\",signal:f})}function S(e,o,t=null,r=[]){const s=[],n={},i=o.sublayers,f=o.folders.map((e=>e.id));return i.forEach((o=>{const i=new e;if(t?i.read(o,t):i.read(o),r.length&&f.includes(i.id)&&(i.visible=r.includes(i.id)),n[o.id]=i,null!=o.parentFolderId&&-1!==o.parentFolderId){const e=n[o.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers?.unshift(i)}else s.unshift(i)})),s}function G(e,o,t){t.forEach((t=>{e.set(t.attributes[o],t)}))}function h(e,o){let t;return o.some((o=>o.id===e&&(t=o,!0))),t}function P(e,o,t){const r=h(e,t);return r&&(r.parentFolderId=o,r.networkLink=r),r}async function b(e){const o=y.fromJSON(e.featureSet).features,r=e.layerDefinition,s=m(r.drawingInfo.renderer),n=t.fromJSON(e.popupInfo),i=[];for(const t of o){const e=await s.getSymbolAsync(t);t.symbol=e,t.popupTemplate=n,t.visible=!0,i.push(t)}return i}function j(e){const o=f(a),t=f(a);for(const r of e){if(r.polygons&&r.polygons.featureSet&&r.polygons.featureSet.features)for(const e of r.polygons.featureSet.features)p(o,e.geometry),l(t,o);if(r.polylines&&r.polylines.featureSet&&r.polylines.featureSet.features)for(const e of r.polylines.featureSet.features)p(o,e.geometry),l(t,o);if(r.points&&r.points.featureSet&&r.points.featureSet.features)for(const e of r.points.featureSet.features)p(o,e.geometry),l(t,o);if(r.mapImages)for(const e of r.mapImages)p(o,e.extent),l(t,o)}return u(t,a)?void 0:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5],spatialReference:i.WGS84}}export{j as computeExtent,g as fetchService,b as getGraphics,d as parseKML,S as sublayersFromJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as t,applySome as e}from\"../../../core/maybe.js\";import{createResolver as s,onAbortOrThrow as i,throwIfNotAbortError as r}from\"../../../core/promiseUtils.js\";import{g as h,h as o,r as u,k as a,m as n}from\"../../../chunks/mat3.js\";import{c as d}from\"../../../chunks/mat3f32.js\";import{f as l}from\"../../../chunks/vec2f32.js\";import{DisplayObject as c}from\"./DisplayObject.js\";import _ from\"./ImageryBitmapSource.js\";import{ContextType as m}from\"../../webgl/context-util.js\";import{TextureType as p,PixelFormat as g,SizedPixelFormat as x,PixelType as f,TextureWrapMode as b}from\"../../webgl/enums.js\";import{Texture as w}from\"../../webgl/Texture.js\";function T(t){return t&&\"render\"in t}function S(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function v(t){return T(t)?t instanceof _?e(t.getRenderedRasterPixels(),(t=>t.renderedRasterPixels)):S(t):t}class R extends c{constructor(t=null,e){super(),this.blendFunction=\"standard\",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this._texture=null,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e.immutable??!1,this.requestRenderOnSourceChangedEnabled=e.requestRenderOnSourceChangedEnabled??!0,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),t(this._uploadStatus)&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width),this.invalidateTexture())}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(e,r){t(this._uploadStatus)&&this._uploadStatus.controller.abort();const h=new AbortController,o=s();return i(r,(()=>h.abort())),i(h,(t=>o.reject(t))),this._uploadStatus={controller:h,resolver:o},this.source=e,o.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}updateTransitionProperties(t,e){t>=64&&(this.fadeTransitionEnabled=!1,this.inFadeTransition=!1),super.updateTransitionProperties(t,e)}setTransform(t){const e=h(this.transforms.dvs),[s,i]=t.toScreenNoRotation([0,0],[this.x,this.y]),r=this.resolution/this.pixelRatio/t.resolution,d=r*this.width,c=r*this.height,_=Math.PI*this.rotation/180;o(e,e,l(s,i)),o(e,e,l(d/2,c/2)),u(e,e,-_),o(e,e,l(-d/2,-c/2)),a(e,e,l(d,c)),n(this.transforms.dvs,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:e,painter:s}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(e)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const i=v(this.source);try{if(t(this._uploadStatus)){const{controller:t,resolver:e}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=s.textureUploadManager;await a.enqueueTextureUpdate({data:i,texture:u,width:h,height:o},r),e.resolve(),this._uploadStatus=null}else this._texture.setData(i);this.ready()}catch(h){r(h)}}onDetach(){this.destroy()}_createTransforms(){return{dvs:d()}}_createTexture(t){const e=this.immutable&&t.type===m.WEBGL2;return new w(t,{target:p.TEXTURE_2D,pixelFormat:g.RGBA,internalFormat:e?x.RGBA8:g.RGBA,dataType:f.UNSIGNED_BYTE,wrapMode:b.CLAMP_TO_EDGE,isImmutable:e,width:this._sourceWidth,height:this._sourceHeight})}}export{R as Bitmap,T as isImageSource,S as rasterize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as s}from\"./webgl/enums.js\";import r from\"./webgl/WGLContainer.js\";class a extends r{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}prepareRenderPasses(r){const a=r.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:s.MAP});return[...super.prepareRenderPasses(r),a]}_manageFade(){this.children.reduce(((e,s)=>e+(s.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{a as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";class l{constructor(e,t,l){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=l}get width(){return e(this.pixelBlock)?this.pixelBlock.width:0}get height(){return e(this.pixelBlock)?this.pixelBlock.height:0}render(e){const l=this.pixelBlock;if(t(l))return;const i=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??l});if(t(i.pixelBlock))return;i.pixelBlock.maskIsAlpha&&(i.pixelBlock.premultiplyAlpha=!0);const o=i.pixelBlock.getAsRGBA(),s=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);s.data.set(o),e.putImageData(s,0,0)}getRenderedRasterPixels(){const e=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return t(e.pixelBlock)?null:(e.pixelBlock.maskIsAlpha&&(e.pixelBlock.premultiplyAlpha=!0),{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)})}}export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{resolveIncludes as r}from\"./sources/resolver.js\";import{glslifyDefineMap as t}from\"../../../../webgl/programUtils.js\";const e=r=>{let t=\"\";t+=r[0].toUpperCase();for(let e=1;e<r.length;e++){const s=r[e];s===s.toUpperCase()?(t+=\"_\",t+=s):t+=s.toUpperCase()}return t},s=r=>{const s={};for(const t in r){s[e(t)]=r[t]}return t(s)},o=(t,e,o,n)=>{const a=t+t.substring(t.lastIndexOf(\"/\")),p=e+e.substring(e.lastIndexOf(\"/\")),f=s(n);return{attributes:o,shaders:{vertexShader:f+r(`${a}.vert`),fragmentShader:f+r(`${p}.frag`)}}};export{o as createProgramTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import e from\"../../geometry/Point.js\";import{project as r}from\"../../geometry/projection.js\";import{projectResolution as i,getProjectionOffsetGrid as a}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{isImageSource as s,rasterize as n}from\"../2d/engine/Bitmap.js\";import o from\"../2d/engine/webgl/VertexStream.js\";import{createProgramTemplate as m}from\"../2d/engine/webgl/shaders/MaterialPrograms.js\";import{PixelFormat as p,PixelType as h,TextureWrapMode as c,TextureSamplingMode as x,TargetType as d,DepthStencilTargetType as g,ColorAttachment as u}from\"../webgl/enums.js\";import{FramebufferObject as _}from\"../webgl/FramebufferObject.js\";import{createTransformTexture as f}from\"../webgl/rasterUtils.js\";import{RenderingContext as l}from\"../webgl/RenderingContext.js\";import{Texture as w}from\"../webgl/Texture.js\";class b{constructor(t){if(this._ownsRctx=!1,t)this._ownsRctx=!1,this._rctx=t;else{if(b._instance)return b._instanceRefCount++,b._instance;b._instanceRefCount=1,b._instance=this,this._ownsRctx=!0;const t=document.createElement(\"canvas\").getContext(\"webgl\");t.getExtension(\"OES_texture_float\"),this._rctx=new l(t,{})}const e={applyProjection:!0,bilinear:!1,bicubic:!1},r=m(\"raster/reproject\",\"raster/reproject\",new Map([[\"a_position\",0]]),e);this._program=this._rctx.programCache.acquire(r.shaders.vertexShader,r.shaders.fragmentShader,r.attributes),this._rctx.useProgram(this._program),this._program.setUniform1f(\"u_opacity\",1),this._program.setUniform1i(\"u_image\",0),this._program.setUniform1i(\"u_flipY\",0),this._program.setUniform1i(\"u_transformGrid\",1),this._quad=new o(this._rctx,[0,0,1,0,0,1,1,1])}reprojectTexture(t,s,n=!1){const o=r(t.extent,s),m=new e({x:(t.extent.xmax-t.extent.xmin)/t.texture.descriptor.width,y:(t.extent.ymax-t.extent.ymin)/t.texture.descriptor.height,spatialReference:t.extent.spatialReference}),{x:l,y:b}=i(m,s,t.extent);let T=(l+b)/2;const R=Math.round((o.xmax-o.xmin)/T),j=Math.round((o.ymax-o.ymin)/T);T=(o.width/R+o.height/j)/2;const E=new e({x:T,y:T,spatialReference:o.spatialReference}),D=a({projectedExtent:o,srcBufferExtent:t.extent,pixelSize:E,hasWrapAround:!0,spacing:[16,16]}),C=f(this._rctx,D),y=new w(this._rctx,{width:R,height:j,pixelFormat:p.RGBA,dataType:h.UNSIGNED_BYTE,wrapMode:c.CLAMP_TO_EDGE,samplingMode:x.LINEAR,hasMipmap:!1}),M=new _(this._rctx,{colorTarget:d.TEXTURE,depthStencilTarget:g.NONE,width:R,height:j},y);this._rctx.bindFramebuffer(M),this._rctx.setViewport(0,0,R,j),this._rctx.useProgram(this._program),this._rctx.bindTexture(t.texture,0),this._rctx.bindTexture(C,1),this._quad.bind();const{width:A=0,height:S=0}=t.texture.descriptor;if(this._program.setUniform2f(\"u_srcImageSize\",A,S),this._program.setUniform2fv(\"u_transformSpacing\",D.spacing),this._program.setUniform2fv(\"u_transformGridSize\",D.size),this._program.setUniform2f(\"u_targetImageSize\",R,j),this._quad.draw(),this._quad.unbind(),this._rctx.useProgram(null),this._rctx.bindFramebuffer(null),C.dispose(),n){const{width:t=0,height:e=0}=M.descriptor,r=new ImageData(t,e);return M.readPixels(0,0,t,e,p.RGBA,h.UNSIGNED_BYTE,r.data),M.detachColorTexture(u.COLOR_ATTACHMENT0),M.dispose(),{texture:y,extent:o,imageData:r}}return M.detachColorTexture(u.COLOR_ATTACHMENT0),M.dispose(),{texture:y,extent:o}}reprojectBitmapData(t,e){const r=s(t.bitmapData)?n(t.bitmapData):t.bitmapData,i=new w(this._rctx,{width:t.bitmapData.width,height:t.bitmapData.height,pixelFormat:p.RGBA,dataType:h.UNSIGNED_BYTE,wrapMode:c.CLAMP_TO_EDGE,samplingMode:x.LINEAR,hasMipmap:!1},r),a=this.reprojectTexture({texture:i,extent:t.extent},e,!0);a.texture.dispose();const o=document.createElement(\"canvas\"),m=a.imageData;o.width=m.width,o.height=m.height;return o.getContext(\"2d\").putImageData(m,0,0),{bitmapData:o,extent:a.extent}}async loadAndReprojectBitmapData(e,r,i){const a=(await t(e,{responseType:\"image\"})).data,s=document.createElement(\"canvas\");s.width=a.width,s.height=a.height;const n=s.getContext(\"2d\");n.drawImage(a,0,0);const o=n.getImageData(0,0,s.width,s.height);if(r.spatialReference.equals(i))return{bitmapData:o,extent:r};const m=this.reprojectBitmapData({bitmapData:o,extent:r},i);return{bitmapData:m.bitmapData,extent:m.extent}}destroy(){this._ownsRctx?(b._instanceRefCount--,0===b._instanceRefCount&&(this._quad.dispose(),this._program.dispose(),this._rctx.dispose(),b._instance=null)):(this._quad.dispose(),this._program.dispose())}}b._instanceRefCount=0;export{b as ImageReprojector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{version as i}from\"../../../kernel.js\";import t from\"../../../core/Collection.js\";import{abortMaybe as s,destroyMaybe as a,isSome as o,isNone as r}from\"../../../core/maybe.js\";import{watch as l}from\"../../../core/reactiveUtils.js\";import{queryToObject as n,objectToQuery as h}from\"../../../core/urlUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../geometry/Extent.js\";import{load as d,project as y}from\"../../../geometry/projection.js\";import g from\"../../../geometry/SpatialReference.js\";import{getGraphics as w,fetchService as u,parseKML as _}from\"../../../layers/support/kmlUtils.js\";import{parseUrl as b}from\"../../../rest/utils.js\";import{GraphicsCollection as V}from\"../../../support/GraphicsCollection.js\";import{Bitmap as f}from\"../engine/Bitmap.js\";import{BitmapContainer as v}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as S}from\"./LayerView2D.js\";import I from\"./graphics/GraphicContainer.js\";import x from\"./graphics/GraphicsView2D.js\";import C from\"../../layers/LayerView.js\";import{ImageReprojector as j}from\"../../support/imageReprojection.js\";class k{constructor(){this.allSublayers=new Map,this.allPoints=[],this.allPolylines=[],this.allPolygons=[],this.allMapImages=[]}}let P=class extends(S(C)){constructor(){super(...arguments),this._bitmapIndex=new Map,this._mapImageContainer=new v,this._kmlVisualData=new k,this._fetchController=null,this.allVisiblePoints=new V,this.allVisiblePolylines=new V,this.allVisiblePolygons=new V,this.allVisibleMapImages=new t}async hitTest(e,i){const t=this.layer;return[this._pointsView?.hitTest(e),this._polylinesView?.hitTest(e),this._polygonsView?.hitTest(e)].flat().filter(Boolean).map((i=>(i.layer=t,i.sourceLayer=t,{type:\"graphic\",graphic:i,layer:t,mapPoint:e})))}update(e){this._polygonsView&&this._polygonsView.processUpdate(e),this._polylinesView&&this._polylinesView.processUpdate(e),this._pointsView&&this._pointsView.processUpdate(e)}attach(){this._fetchController=new AbortController,this.container.addChild(this._mapImageContainer),this._polygonsView=new x({view:this.view,graphics:this.allVisiblePolygons,requestUpdateCallback:()=>this.requestUpdate(),container:new I(this.view.featuresTilingScheme)}),this.container.addChild(this._polygonsView.container),this._polylinesView=new x({view:this.view,graphics:this.allVisiblePolylines,requestUpdateCallback:()=>this.requestUpdate(),container:new I(this.view.featuresTilingScheme)}),this.container.addChild(this._polylinesView.container),this._pointsView=new x({view:this.view,graphics:this.allVisiblePoints,requestUpdateCallback:()=>this.requestUpdate(),container:new I(this.view.featuresTilingScheme)}),this.container.addChild(this._pointsView.container),this.addAttachHandles([this.allVisibleMapImages.on(\"change\",(e=>{e.added.forEach((e=>this._addMapImage(e))),e.removed.forEach((e=>this._removeMapImage(e)))})),l((()=>this.layer.visibleSublayers),(e=>{for(const[i,t]of this._kmlVisualData.allSublayers)t.visibility=0;for(const i of e){const e=this._kmlVisualData.allSublayers.get(i.id);e&&(e.visibility=1)}this._refreshCollections()}))]),this.updatingHandles.addPromise(this._fetchService(this._fetchController.signal)),this._imageReprojector=new j}detach(){this._fetchController=s(this._fetchController),this._mapImageContainer.removeAllChildren(),this.container.removeAllChildren(),this._bitmapIndex.clear(),this._polygonsView=a(this._polygonsView),this._polylinesView=a(this._polylinesView),this._pointsView=a(this._pointsView),this._imageReprojector=a(this._imageReprojector)}moveStart(){}viewChange(){this._polygonsView.viewChange(),this._polylinesView.viewChange(),this._pointsView.viewChange()}moveEnd(){}isUpdating(){return this._pointsView.updating||this._polygonsView.updating||this._polylinesView.updating}_addMapImage(e){(this.view.spatialReference?.isWGS84||this.view.spatialReference?.isWebMercator)&&this._imageReprojector.loadAndReprojectBitmapData(e.href,c.fromJSON(e.extent),this.view.spatialReference).then((i=>{const t=new f(i.bitmapData,{immutable:!1,requestRenderOnSourceChangedEnabled:!0});t.x=i.extent.xmin,t.y=i.extent.ymax,t.resolution=i.extent.width/i.bitmapData.width,t.rotation=e.rotation,this._mapImageContainer.addChild(t),this._bitmapIndex.set(e,t)}))}async _getViewDependentUrl(e,t){const{viewFormat:s,viewBoundScale:a,httpQuery:l}=e;if(o(s)){if(r(t))throw new Error(\"Loading this network link requires a view state.\");let p;if(await d(),o(a)&&1!==a){const e=new c(t.extent);e.expand(a),p=e}else p=t.extent;p=y(p,g.WGS84);const m=y(p,g.WebMercator),w=p.xmin,u=p.xmax,_=p.ymin,V=p.ymax,f=t.size[0]*t.pixelRatio,v=t.size[1]*t.pixelRatio,S=Math.max(m.width,m.height),I={\"[bboxWest]\":w.toString(),\"[bboxEast]\":u.toString(),\"[bboxSouth]\":_.toString(),\"[bboxNorth]\":V.toString(),\"[lookatLon]\":p.center.x.toString(),\"[lookatLat]\":p.center.y.toString(),\"[lookatRange]\":S.toString(),\"[lookatTilt]\":\"0\",\"[lookatHeading]\":t.rotation.toString(),\"[lookatTerrainLon]\":p.center.x.toString(),\"[lookatTerrainLat]\":p.center.y.toString(),\"[lookatTerrainAlt]\":\"0\",\"[cameraLon]\":p.center.x.toString(),\"[cameraLat]\":p.center.y.toString(),\"[cameraAlt]\":S.toString(),\"[horizFov]\":\"60\",\"[vertFov]\":\"60\",\"[horizPixels]\":f.toString(),\"[vertPixels]\":v.toString(),\"[terrainEnabled]\":\"0\",\"[clientVersion]\":i,\"[kmlVersion]\":\"2.2\",\"[clientName]\":\"ArcGIS API for JavaScript\",\"[language]\":\"en-US\"},x=e=>{for(const i in e)for(const t in I)e[i]=e[i].replace(t,I[t])},C=n(s);x(C);let j={};o(l)&&(j=n(l),x(j));const k=b(e.href);k.query={...k.query,...C,...j};return`${k.path}?${h(C)}`}return e.href}async _fetchService(e){const i=new k;await this._loadVisualData(this.layer.url,i,e),this._kmlVisualData=i,this._refreshCollections()}_refreshCollections(){this.allVisiblePoints.removeAll(),this.allVisiblePolylines.removeAll(),this.allVisiblePolygons.removeAll(),this.allVisibleMapImages.removeAll(),this.allVisiblePoints.addMany(this._kmlVisualData.allPoints.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisiblePolylines.addMany(this._kmlVisualData.allPolylines.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisiblePolygons.addMany(this._kmlVisualData.allPolygons.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e))),this.allVisibleMapImages.addMany(this._kmlVisualData.allMapImages.filter((e=>this._isSublayerVisible(e.sublayerId))).map((({item:e})=>e)))}_isSublayerVisible(e){const i=this._kmlVisualData.allSublayers.get(e);return!!i?.visibility&&(-1===i.parentFolderId||this._isSublayerVisible(i.parentFolderId))}_loadVisualData(e,i,t){return this._fetchParsedKML(e,t).then((async e=>{for(const s of e.sublayers){i.allSublayers.set(s.id,s);const e=s.points?await w(s.points):[],a=s.polylines?await w(s.polylines):[],o=s.polygons?await w(s.polygons):[],r=s.mapImages||[];if(i.allPoints.push(...e.map((e=>({item:e,sublayerId:s.id})))),i.allPolylines.push(...a.map((e=>({item:e,sublayerId:s.id})))),i.allPolygons.push(...o.map((e=>({item:e,sublayerId:s.id})))),i.allMapImages.push(...r.map((e=>({item:e,sublayerId:s.id})))),s.networkLink){const e=await this._getViewDependentUrl(s.networkLink,this.view.state);await this._loadVisualData(e,i,t)}}}))}_fetchParsedKML(e,i){return u(e,this.layer.spatialReference,this.layer.refreshInterval,i).then((e=>_(e.data)))}_removeMapImage(e){const i=this._bitmapIndex.get(e);i&&(this._mapImageContainer.removeChild(i),this._bitmapIndex.delete(e))}};e([p()],P.prototype,\"_pointsView\",void 0),e([p()],P.prototype,\"_polylinesView\",void 0),e([p()],P.prototype,\"_polygonsView\",void 0),e([p()],P.prototype,\"updating\",void 0),P=e([m(\"esri.views.2d.layers.KMLLayerView2D\")],P);const M=P;export{M as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"../../engine/webgl/enums.js\";import r from\"./BaseGraphicContainer.js\";class i extends r{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===e.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===e.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction t(t,n,o){for(let r=0;r<o;++r)n[2*r]=t[r],n[2*r+1]=t[r]-n[2*r]}function n(t,n,o){for(let r=0;r<o;++r)n[r]=t[2*r]+t[2*r+1]}function o(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],n[r]=e[0];return n}function r(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],e[1]=t[r]-e[0],n[r]=e[1];return n}const e=new Float32Array(2);export{n as decodeDoubleArray,t as encodeDoubleArray,o as encodeDoubleHi,r as encodeDoubleLo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction e(e){const{options:n,value:o}=e;return\"number\"==typeof n[o]}function n(n){let o=\"\";for(const t in n){const i=n[t];if(\"boolean\"==typeof i)i&&(o+=`#define ${t}\\n`);else if(\"number\"==typeof i)o+=`#define ${t} ${i.toFixed()}\\n`;else if(\"object\"==typeof i)if(e(i)){const{value:e,options:n,namespace:f}=i,s=f?`${f}_`:\"\";for(const t in n)o+=`#define ${s}${t} ${n[t].toFixed()}\\n`;o+=`#define ${t} ${s}${e}\\n`}else{const e=i.options;let n=0;for(const t in e)o+=`#define ${e[t]} ${(n++).toFixed()}\\n`;o+=`#define ${t} ${e[i.value]}\\n`}}return o}export{n as glslifyDefineMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../core/maybe.js\";import{Z as t}from\"../../chunks/vec2f64.js\";import{ContextType as n}from\"./context-util.js\";import{PixelType as a,TextureType as r,PixelFormat as i,SizedPixelFormat as o,TextureSamplingMode as s,TextureWrapMode as u,UniformType as f}from\"./enums.js\";import{Texture as m}from\"./Texture.js\";function c(e,t,f=\"nearest\",c=!1){const l=!(c&&\"u8\"===t.pixelType),_=l?a.FLOAT:a.UNSIGNED_BYTE,p=null==t.pixels||0===t.pixels.length?null:l?t.getAsRGBAFloat():t.getAsRGBA(),g=e.capabilities.textureFloat?.textureFloatLinear,T={width:t.width,height:t.height,target:r.TEXTURE_2D,pixelFormat:i.RGBA,internalFormat:e.type===n.WEBGL2&&l?o.RGBA32F:i.RGBA,samplingMode:!g||\"bilinear\"!==f&&\"cubic\"!==f?s.NEAREST:s.LINEAR,dataType:_,wrapMode:u.CLAMP_TO_EDGE,flipped:!1};return new m(e,T,p)}function l(e,t){const{spacing:f,offsets:c,coefficients:l,size:[_,p]}=t,g=f[0]>1,T={width:g?4*_:_,height:p,target:r.TEXTURE_2D,pixelFormat:i.RGBA,internalFormat:e.type===n.WEBGL2?o.RGBA32F:i.RGBA,dataType:a.FLOAT,samplingMode:s.NEAREST,wrapMode:u.CLAMP_TO_EDGE,flipped:!1},E=new Float32Array(g?_*p*16:2*c.length);if(g&&null!=l)for(let n=0,a=0;n<l.length;n++)E[a++]=l[n],n%3==2&&(E[a++]=1);else for(let n=0;n<p;n++)for(let e=0;e<_;e++){const t=4*(n*_+e),a=2*(e*p+n);E[t]=c[a],E[t+1]=c[a+1],E[t+3]=-1===c[a]?0:1}return new m(e,T,E)}function _(e,t){const n={width:t.length/4,height:1,target:r.TEXTURE_2D,pixelFormat:i.RGBA,internalFormat:i.RGBA,dataType:a.UNSIGNED_BYTE,samplingMode:s.NEAREST,wrapMode:u.CLAMP_TO_EDGE,flipped:!1};return new m(e,n,t)}function p(e,n,a,r=1,i=!0){return{u_flipY:i,u_applyTransform:!!e,u_opacity:r,u_transformSpacing:e?e.spacing:t,u_transformGridSize:e?e.size:t,u_targetImageSize:n,u_srcImageSize:a}}function g(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}}function T(e,t){return{u_scale:e,u_offset:t}}function E(e){return{u_bandCount:e.bandCount,u_minOutput:e.outMin,u_maxOutput:e.outMax,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}}function A(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}}function h(t,n){const a=t.gl,r=n.glName,i=new Map;if(e(r))return i;const o=a.getProgramParameter(r,a.ACTIVE_UNIFORMS);let s;for(let e=0;e<o;e++)s=a.getActiveUniform(r,e),s&&i.set(s.name,{location:a.getUniformLocation(r,s.name),info:s});return i}function O(e,t,n){Object.keys(n).forEach((a=>{const r=t.get(a)||t.get(a+\"[0]\");r&&x(e,a,n[a],r)}))}function d(e,t,n,a){n.length===a.length&&(a.some((e=>null==e))||n.some((e=>null==e))||n.forEach(((n,r)=>{t.setUniform1i(n,r),e.bindTexture(a[r],r)})))}function x(e,t,n,a){if(null===a||null==n)return!1;const{info:r}=a;switch(r.type){case f.FLOAT:r.size>1?e.setUniform1fv(t,n):e.setUniform1f(t,n);break;case f.FLOAT_VEC2:e.setUniform2fv(t,n);break;case f.FLOAT_VEC3:e.setUniform3fv(t,n);break;case f.FLOAT_VEC4:e.setUniform4fv(t,n);break;case f.FLOAT_MAT3:e.setUniformMatrix3fv(t,n);break;case f.FLOAT_MAT4:e.setUniformMatrix4fv(t,n);break;case f.INT:r.size>1?e.setUniform1iv(t,n):e.setUniform1i(t,n);break;case f.BOOL:e.setUniform1i(t,n?1:0);break;case f.INT_VEC2:case f.BOOL_VEC2:e.setUniform2iv(t,n);break;case f.INT_VEC3:case f.BOOL_VEC3:e.setUniform3iv(t,n);break;case f.INT_VEC4:case f.BOOL_VEC4:e.setUniform4iv(t,n);break;default:return!1}return!0}export{_ as createColormapTexture,c as createRasterTexture,l as createTransformTexture,T as getBasicGridUniforms,g as getColormapUniforms,p as getCommonUniforms,A as getShadedReliefUniforms,E as getStretchUniforms,h as getUniformLocationInfos,d as setTextures,O as setUniforms};\n"],"names":["t","this","_outer","Map","clear","get","size","e","r","s","set","delete","forEach","c","esriGeometryPoint","esriGeometryPolyline","esriGeometryPolygon","d","o","folders","slice","n","i","f","a","l","featureCollection","layers","featureSet","features","geometryType","layerDefinition","objectIdField","G","groundOverlays","id","networkLinkIds","some","h","parentFolderId","networkLink","P","networkLinks","push","featureInfos","points","polylines","polygons","mapImages","type","fullExtent","j","u","sublayers","extent","g","token","query","url","model","refresh","outSR","JSON","stringify","responseType","signal","S","map","read","length","includes","visible","unshift","attributes","b","y","m","drawingInfo","renderer","popupInfo","getSymbolAsync","symbol","popupTemplate","p","geometry","xmin","ymin","zmin","xmax","ymax","zmax","spatialReference","T","document","createElement","width","height","render","getContext","R","blendFunction","_sourceWidth","_sourceHeight","_textureInvalidated","_texture","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_width","x","immutable","requestRenderOnSourceChangedEnabled","source","requestRender","bind","dispose","_uploadStatus","controller","abort","HTMLImageElement","naturalHeight","naturalWidth","invalidateTexture","updateTexture","AbortController","reject","resolver","promise","fadeTransitionEnabled","inFadeTransition","transforms","dvs","toScreenNoRotation","_","Math","PI","displayViewMat3","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","context","painter","_createTexture","setData","resize","getRenderedRasterPixels","renderedRasterPixels","textureUploadManager","enqueueTextureUpdate","data","texture","resolve","ready","destroy","w","target","pixelFormat","internalFormat","dataType","wrapMode","isImmutable","arguments","_hasCrossfade","_manageFade","registerRenderPass","name","brushes","children","drawPhase","reduce","pixelBlock","originalPixelBlock","filter","maskIsAlpha","premultiplyAlpha","getAsRGBA","createImageData","putImageData","Uint8Array","buffer","toUpperCase","substring","lastIndexOf","shaders","vertexShader","fragmentShader","_ownsRctx","_rctx","_instance","_instanceRefCount","getExtension","applyProjection","bilinear","bicubic","_program","programCache","acquire","useProgram","setUniform1f","setUniform1i","_quad","round","E","D","projectedExtent","srcBufferExtent","pixelSize","hasWrapAround","spacing","C","M","colorTarget","depthStencilTarget","bindFramebuffer","setViewport","A","setUniform2f","setUniform2fv","draw","unbind","ImageData","readPixels","detachColorTexture","imageData","bitmapData","reprojectTexture","drawImage","getImageData","equals","reprojectBitmapData","k","allSublayers","allPoints","allPolylines","allPolygons","allMapImages","_bitmapIndex","_mapImageContainer","v","_kmlVisualData","_fetchController","allVisiblePoints","V","allVisiblePolylines","allVisiblePolygons","allVisibleMapImages","layer","_pointsView","hitTest","_polylinesView","_polygonsView","flat","Boolean","sourceLayer","graphic","mapPoint","processUpdate","container","addChild","view","graphics","requestUpdateCallback","requestUpdate","I","featuresTilingScheme","addAttachHandles","on","added","_addMapImage","removed","_removeMapImage","visibleSublayers","visibility","_refreshCollections","updatingHandles","addPromise","_fetchService","_imageReprojector","removeAllChildren","viewChange","updating","isWGS84","isWebMercator","loadAndReprojectBitmapData","href","then","viewFormat","viewBoundScale","httpQuery","Error","expand","max","toString","center","replace","path","_loadVisualData","removeAll","addMany","_isSublayerVisible","sublayerId","item","_fetchParsedKML","_getViewDependentUrl","state","refreshInterval","removeChild","prototype","attributeView","update","hasData","bindTextures","_renderChildren","hasHighlight","_renderHighlight","_boundsRenderer","doRender","effects","highlight","defines","Float32Array","options","value","toFixed","namespace","pixelType","pixels","getAsRGBAFloat","capabilities","textureFloat","textureFloatLinear","flipped","offsets","coefficients","u_flipY","u_applyTransform","u_opacity","u_transformSpacing","u_transformGridSize","u_targetImageSize","u_srcImageSize","u_colormapOffset","u_colormapMaxIndex","u_scale","u_offset","u_bandCount","bandCount","u_minOutput","outMin","u_maxOutput","outMax","u_minCutOff","minCutOff","u_maxCutOff","maxCutOff","u_factor","factor","u_useGamma","useGamma","u_gamma","gamma","u_gammaCorrection","gammaCorrection","u_hillshadeType","hillshadeType","u_sinZcosAs","sinZcosAs","u_sinZsinAs","sinZsinAs","u_cosZs","cosZs","u_weights","weights","u_minValue","minValue","u_maxValue","maxValue","gl","glName","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","location","getUniformLocation","info","O","Object","keys","setUniform1fv","setUniform3fv","setUniform4fv","setUniformMatrix3fv","setUniformMatrix4fv","setUniform1iv","setUniform2iv","setUniform3iv","setUniform4iv"],"sourceRoot":""}