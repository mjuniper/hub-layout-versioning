"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[60719],{70148:function(t,e,i){i.d(e,{RN:function(){return h},e9:function(){return c},hU:function(){return l},uu:function(){return u}});var n=i(51995),r=i(42265),o=i(28357);function s(t,e){var i=t.a*e;return(0,o.EX)(t)>225?new n.Z([0,0,0,i]):new n.Z([255,255,255,i])}function a(t,e){var i=new n.Z(t);return i.a*=e,i}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a(r.Z.analysisTheme.accentColor,t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s(c(),t)}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a(r.Z.analysisTheme.textColor,t)}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s(u(),t)}},77671:function(t,e,i){i.d(e,{Y:function(){return r}});var n=i(74177),r={readOnly:!0,get:function(){return(0,n.R)(this.view)}}},51817:function(t,e,i){var n;i.d(e,{e:function(){return n}}),function(t){t[t.Auto=0]="Auto",t[t.Euclidean=1]="Euclidean",t[t.Geodesic=2]="Geodesic"}(n||(n={}))},39409:function(t,e,i){i.d(e,{D:function(){return s}});var n=i(15671),r=i(43144),o=i(68860),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,n.Z)(this,t),this.spatialReference=e}return(0,r.Z)(t,[{key:"spatialReference",get:function(){return this._spatialReference},set:function(t){t!==this._spatialReference&&(this._spatialReference=t,this._updateNormalizationFactors())}},{key:"normalizeDistance",value:function(t){return t*this._metersPerDistanceUnit}},{key:"normalizeElevation",value:function(t){return t*this._metersPerElevationUnit}},{key:"normalizeArea",value:function(t){return t*this._squareMetersPerAreaUnit}},{key:"_updateNormalizationFactors",value:function(){this._metersPerDistanceUnit=(0,o.c9)(this._spatialReference,1),this._metersPerElevationUnit=(0,o.c9)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}]),t}()},26243:function(t,e,i){i.d(e,{H:function(){return s},c:function(){return a}});var n=i(17842),r=i(88396),o=i(11186);function s(t,e){if((0,o.s)(e,0,0,0),t.length>0){for(var i=0;i<t.length;++i)(0,o.a)(e,e,t[i]);(0,o.g)(e,e,1/t.length)}}function a(t,e,i,n){n.projectToRenderScreen(t,c),n.projectToRenderScreen(e,u),(0,r.a)(i,l,h),(0,r.f)(i,i)}var c=(0,n.J$)(),h=c,u=(0,n.J$)(),l=u},27210:function(t,e,i){i.d(e,{Kc:function(){return R},jB:function(){return I}});var n=i(15671),r=i(43144),o=i(60136),s=i(92572),a=i(51995),c=i(100),h=i(92026),u=i(94172),l=i(17842),d=i(88396),f=i(11186),_=i(71353),p=i(86244),v=i(11208),y=i(27366),m=i(31319),b=i(49861),g=(i(25243),i(63780),i(69912)),k=(i(42877),i(11422)),x=(i(88367),function(t){(0,o.Z)(i,t);var e=(0,s.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).startX=0,r.startY=0,r.endX=0,r.endY=0,r.width=1,r.color=[0,0,0,.5],r.visible=!0,r}return(0,r.Z)(i,[{key:"startPosition",get:function(){return[this.startX,this.startY]},set:function(t){this._set("startX",t[0]),this._set("startY",t[1])}},{key:"endPosition",get:function(){return[this.endX,this.endY]},set:function(t){this._set("endX",t[0]),this._set("endY",t[1])}},{key:"_strokeStyle",get:function(){var t=this.color;return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(t[3],")")}},{key:"_lineCap",get:function(){return"round"}},{key:"render",value:function(){var t=this._calculateCoordinates(w),e=t.height,i=t.left,n=t.top,r=t.width,o=t.x1,s=t.x2,a=t.y1,c=t.y2,h="stroke: ".concat(this._strokeStyle,"; stroke-width: ").concat(this.width,"; stroke-linecap: ").concat(this._lineCap,";");return(0,k.h)("div",{classes:{"esri-line-overlay-item":!0},styles:{left:i+"px",top:n+"px",width:r+"px",height:e+"px",visibility:this.visible?"visible":"hidden"}},[(0,k.h)("svg",{width:r,height:e},[(0,k.h)("line",{x1:o,y1:a,x2:s,y2:c,style:h})])])}},{key:"renderCanvas",value:function(t){if(this.visible){t.strokeStyle=this._strokeStyle,t.lineWidth=this.width,t.lineCap=this._lineCap;var e=this._calculateCoordinates(w);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}}},{key:"_calculateCoordinates",value:function(t){var e=Math.min(this.startX,this.endX),i=Math.max(this.startX,this.endX),n=Math.min(this.startY,this.endY),r=Math.max(this.startY,this.endY),o=this.width;return t.left=e-o,t.top=n-o,t.width=i-e+2*o,t.height=Math.max(20,r-n+2*o),t.x1=this.startX-e+o,t.y1=this.startY-n+o,t.x2=this.endX-e+o,t.y2=this.endY-n+o,t}}]),i}(m.Z));(0,y._)([(0,b.Cb)()],x.prototype,"startX",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"startY",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"endX",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"endY",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"startPosition",null),(0,y._)([(0,b.Cb)()],x.prototype,"endPosition",null),(0,y._)([(0,b.Cb)()],x.prototype,"width",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"color",void 0),(0,y._)([(0,b.Cb)()],x.prototype,"visible",void 0),(0,y._)([(0,b.Cb)({readOnly:!0})],x.prototype,"_strokeStyle",null),x=(0,y._)([(0,g.j)("esri.views.overlay.LineOverlayItem")],x);var w={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},S=x,C=i(36444),R=function(t){(0,o.Z)(i,t);var e=(0,s.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t.view))._handles=new c.Z,r._textItem=null,r._calloutItem=null,r._showCallout=!0,r._showText=!0,r._geometry=null,r._text="-",r._fontSize=14,r._backgroundColor=new a.Z([0,0,0,.6]),r._textColor=new a.Z([255,255,255]),r._distance=25,r._anchor="right",r.updatePositionOnCameraMove=!0,r.applyProps(t),r}return(0,r.Z)(i,[{key:"geometry",get:function(){return this._geometry},set:function(t){this._geometry=t,this.updateLabelPosition()}},{key:"textItem",get:function(){return this._textItem}},{key:"text",get:function(){return this._text},set:function(t){this._text=t,this.attached&&(this._textItem.text=this._text)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this.attached&&(this._textItem.backgroundColor=this._backgroundColor)}},{key:"textColor",get:function(){return this._textColor},set:function(t){this._textColor=t,this.attached&&(this._textItem.textColor=this._textColor)}},{key:"distance",get:function(){return this._distance},set:function(t){this._distance!==t&&(this._distance=t,this.updateLabelPosition())}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor!==t&&(this._anchor=t,this.updateLabelPosition())}},{key:"overlaps",value:function(t){var e;return!!this.attached&&this.textItem.visible&&t.textItem.visible&&!(null===(e=this.view.overlay)||void 0===e||!e.overlaps(this._textItem,t.textItem))}},{key:"updateLabelPosition",value:function(){if(this.attached){this._showText=!1,this._showCallout=!1;var t=this.geometry,e=this.view,i=this.visible;if((0,h.pC)(t)&&e._stage)switch(t.type){case"point":if(!this._computeLabelPositionFromPoint(t.point,U))break;if(t.callout){var n=e.state.camera,r=t.callout.distance;(0,d.j)(z,z,[0,t.callout.offset]),n.renderToScreen(z,U),(0,d.s)(Y,0,1),(0,d.b)(Y,Y,r*n.pixelRatio),(0,d.j)(Y,Y,z),n.renderToScreen(Y,A),this._showCallout=this._updatePosition(U,A)}else this._textItem.position=[U[0],U[1]],this._textItem.anchor="center";this._showText=!0;break;case"corner":if(!this._computeLabelPositionFromCorner(t,this._distance,U,A))break;this._showCallout=this._updatePosition(U,A),this._showText=!0;break;case"segment":if(!this._computeLabelPositionFromSegment(t,this._distance,this._anchor,U,A))break;this._showText=!0;var o=this._updatePosition(U,A);this._showCallout=!1!==t.callout&&o,this._showCallout||(this._textItem.anchor="center")}this.updateVisibility(i)}}},{key:"_computeLabelPositionFromPoint",value:function(t,e){var i=this.view.state.camera;return i.projectToRenderScreen(t,z),!(z[2]<0||z[2]>1)&&(i.renderToScreen(z,e),!0)}},{key:"_computeLabelPositionFromCorner",value:function(t,e,i,n){if(!t)return!1;var r=this.view.state.camera;return P(t.left,1,r,X),(0,d.n)(X,X),P(t.right,0,r,M),(0,d.j)(Y,X,M),(0,d.n)(Y,Y),(0,d.f)(Y,Y),r.projectToRenderScreen(t.left.endRenderSpace,z),!(z[2]<0||z[2]>1)&&(r.renderToScreen(z,i),(0,d.b)(Y,Y,e*r.pixelRatio),(0,d.j)(Y,Y,z),r.renderToScreen(Y,n),!0)}},{key:"_computeLabelPositionFromSegment",value:function(t,e,i,n,r){if(!t)return!1;var o=t.segment,s=this.view.state.camera;(0,v.CM)(o.startRenderSpace,o.endRenderSpace,s,X),(0,d.s)(Y,-X[1],X[0]);var a=!1;switch(i){case"top":a=Y[1]<0;break;case"bottom":a=Y[1]>0;break;case"left":a=Y[0]>0;break;case"right":a=Y[0]<0}if(a&&(0,d.n)(Y,Y),0===(0,d.i)(Y))switch(i){case"top":Y[1]=1;break;case"bottom":Y[1]=-1;break;case"left":Y[0]=-1;break;case"right":Y[0]=1}return o.eval(J[t.sampleLocation],L),s.projectToRenderScreen(L,z),!(z[2]<0||z[2]>1)&&(s.renderToScreen(z,n),(0,d.b)(Y,Y,e*s.pixelRatio),(0,d.j)(Y,Y,z),s.renderToScreen(Y,r),!0)}},{key:"_updatePosition",value:function(t,e){if(e){var i=e[0]-t[0],n=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(i)>Math.abs(n)?i>0?"left":"right":n>0?"top":"bottom",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor="center",!1}},{key:"createResources",value:function(){var t,e=this;this._textItem=new C.Z({visible:!0,text:this._text,fontSize:this._fontSize,backgroundColor:this._backgroundColor,textColor:this._textColor}),this._calloutItem=new S({visible:!0,width:2}),this.updateLabelPosition(),null!==(t=this.view.overlay)&&void 0!==t&&t.items.addMany([this._textItem,this._calloutItem]),this.updatePositionOnCameraMove&&this._handles.add((0,u.YP)((function(){return e.view.state.camera}),(function(){return e.updateLabelPosition()})))}},{key:"destroyResources",value:function(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}},{key:"updateVisibility",value:function(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}]),i}(p.l);function P(t,e,i,n){t.eval(e,Z,j),(0,f.a)(T,Z,j),i.projectToRenderScreen(Z,F),i.projectToRenderScreen(T,D),(0,d.a)(n,H,E),(0,d.f)(n,n)}function I(t){switch(t){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}var Z=(0,_.c)(),T=(0,_.c)(),j=(0,_.c)(),X=(0,l.gX)(),M=(0,l.gX)(),Y=(0,l.gX)(),L=(0,_.c)(),z=(0,l.J$)(),U=(0,l.s1)(),A=(0,l.s1)(),F=(0,l.J$)(),E=F,D=(0,l.J$)(),H=D,J={start:0,center:.5,end:1}},9052:function(t,e,i){i.d(e,{u:function(){return d},y:function(){return l}});var n=i(15671),r=i(43144),o=i(11186),s=i(71353),a=i(79803),c=i(29691),h=i(51378),u=i(80064),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.c)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.c)();(0,n.Z)(this,t),this.startRenderSpace=e,this.endRenderSpace=i,this.type="euclidean"}return(0,r.Z)(t,[{key:"eval",value:function(t,e,i){return(0,o.h)(e,this.startRenderSpace,this.endRenderSpace,t),i&&((0,o.b)(i,this.endRenderSpace,this.startRenderSpace),(0,o.n)(i,i)),e}},{key:"createRenderGeometry",value:function(t,e){var i=[],n=[],r=function(e,r){var s=_;(0,o.b)(s,e,t),i.push([s[0],s[1],s[2]]),n.push([r[0],r[1],r[2]])},s=e.worldUpAtPosition(this.eval(.5,f),h.WM.get());return r(this.startRenderSpace,s),r(this.endRenderSpace,s),{points:i,normals:n}}}],[{key:"fromPositionAndVector",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.g)(f,i,n),(0,o.a)(f,e,f),new t((0,s.a)(e),(0,s.a)(f))}}]),t}(),d=function(){function t(e,i,r){(0,n.Z)(this,t),this.startRenderSpace=e,this.endRenderSpace=i,this.renderSpatialReference=r,this.type="geodesic",this._start=(0,s.c)(),this._end=(0,s.c)(),this._pcpf=(0,c.rS)(r),this._project=(0,a.Up)(r,this._pcpf),this._projectIn(e,this._start),this._projectIn(i,this._end)}return(0,r.Z)(t,[{key:"_projectIn",value:function(t,e){this._project?(0,a.SH)(t,this.renderSpatialReference,e,this._pcpf):(0,o.c)(e,t)}},{key:"eval",value:function(t,e,i){if(this._project)if(i){var n=_;(0,u.ek)(this._start,this._end,t,e,n),(0,o.a)(p,e,n),(0,a.SH)(e,this._pcpf,e,this.renderSpatialReference),(0,a.SH)(p,this._pcpf,p,this.renderSpatialReference),(0,o.b)(i,p,e),(0,o.n)(i,i)}else(0,u.ZA)(this._start,this._end,t,e),(0,a.SH)(e,this._pcpf,e,this.renderSpatialReference);else(0,o.h)(e,this._start,this._end,t),i&&((0,o.b)(i,this._end,this._start),(0,o.n)(i,i));return e}},{key:"createRenderGeometry",value:function(t,e){for(var i=[],n=[],r=function(e,r){var s=p;(0,o.b)(s,e,t),i.push([s[0],s[1],s[2]]),n.push([r[0],r[1],r[2]])},s=0;s<128;++s){var a=s/127,c=f,h=_;this.eval(a,c),e.worldUpAtPosition(c,h),r(c,h)}return{points:i,normals:n}}}]),t}(),f=(0,s.c)(),_=(0,s.c)(),p=(0,s.c)()},28357:function(t,e,i){i.d(e,{EX:function(){return o}});var n=i(51995);function r(t){var e=t.r,i=t.g,r=t.b,o=t.a;return o<1&&(e=Math.round(o*e+255*(1-o)),i=Math.round(o*i+255*(1-o)),r=Math.round(o*r+255*(1-o))),new n.Z({r:e,g:i,b:r})}function o(t){var e=r(t);return.2126*e.r+.7152*e.g+.0722*e.b}}}]);
//# sourceMappingURL=60719.cbfb9b15.chunk.js.map