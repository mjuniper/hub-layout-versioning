"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[30767],{36231:function(t,n,e){e.d(n,{q:function(){return s}});var i,r,a,o={},h={get exports(){return o},set exports(t){o=t}};i=h,r=function(){function t(e,i,r,a,o){for(;a>r;){if(a-r>600){var h=a-r+1,s=i-r+1,l=Math.log(h),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(h-u)/h)*(s-h/2<0?-1:1);t(e,i,Math.max(r,Math.floor(i-s*u/h+c)),Math.min(a,Math.floor(i+(h-s)*u/h+c)),o)}var f=e[i],m=r,v=a;for(n(e,r,i),o(e[a],f)>0&&n(e,r,a);m<v;){for(n(e,m,v),m++,v--;o(e[m],f)<0;)m++;for(;o(e[v],f)>0;)v--}0===o(e[r],f)?n(e,r,v):n(e,++v,a),v<=i&&(r=v+1),i<=v&&(a=v-1)}}function n(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function e(t,n){return t<n?-1:t>n?1:0}return function(n,i,r,a,o){t(n,i,r||0,a||n.length-1,o||e)}},void 0!==(a=r())&&(i.exports=a);var s=o},13491:function(t,n,e){e.d(n,{Q:function(){return f}});var i=e(60136),r=e(92572),a=e(37762),o=e(15671),h=e(43144),s=e(63780),l=e(92026),u=e(27546),c=e(36231),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1?arguments[1]:void 0;(0,o.Z)(this,t),this._compareMinX=x,this._compareMinY=_,this._toBBox=function(t){return t},this._maxEntries=Math.max(4,n||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}return(0,h.Z)(t,[{key:"destroy",value:function(){this.clear(),k.prune(),Z.prune(),w.prune(),b.prune()}},{key:"all",value:function(t){this._all(this._data,t)}},{key:"search",value:function(t,n){var e=this._data,i=this._toBBox;if(Y(t,e))for(k.clear();e;){for(var r=0,a=e.children.length;r<a;r++){var o=e.children[r],h=e.leaf?i(o):o;Y(t,h)&&(e.leaf?n(o):X(t,h)?this._all(o,n):k.push(o))}e=k.pop()}}},{key:"collides",value:function(t){var n=this._data,e=this._toBBox;if(!Y(t,n))return!1;for(k.clear();n;){for(var i=0,r=n.children.length;i<r;i++){var a=n.children[i],o=n.leaf?e(a):a;if(Y(t,o)){if(n.leaf||X(t,o))return!0;k.push(a)}}n=k.pop()}return!1}},{key:"load",value:function(t){if(!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){var r=this._data;this._data=i,i=r}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this._data.height-1),this}},{key:"clear",value:function(){return this._data=new S([]),this}},{key:"remove",value:function(t){if(!t)return this;var n,e=this._data,i=null,r=0,a=!1,o=this._toBBox(t);for(w.clear(),b.clear();e||w.length>0;){var h;if(e||(e=(0,l.j0)(w.pop()),i=w.data[w.length-1],r=null!==(h=b.pop())&&void 0!==h?h:0,a=!0),e.leaf&&-1!==(n=(0,s.cq)(e.children,t,e.children.length,e.indexHint)))return e.children.splice(n,1),w.push(e),this._condense(w),this;a||e.leaf||!X(e,o)?i?(r++,e=i.children[r],a=!1):e=null:(w.push(e),b.push(r),r=0,i=e,e=e.children[0])}return this}},{key:"toJSON",value:function(){return this._data}},{key:"fromJSON",value:function(t){return this._data=t,this}},{key:"_all",value:function(t,n){var e=t;for(Z.clear();e;){var i;if(!0===e.leaf){var r,o=(0,a.Z)(e.children);try{for(o.s();!(r=o.n()).done;){n(r.value)}}catch(h){o.e(h)}finally{o.f()}}else Z.pushArray(e.children);e=null!==(i=Z.pop())&&void 0!==i?i:null}}},{key:"_build",value:function(t,n,e,i){var r=e-n+1,a=this._maxEntries;if(r<=a){var o=new S(t.slice(n,e+1));return m(o,this._toBBox),o}i||(i=Math.ceil(Math.log(r)/Math.log(a)),a=Math.ceil(r/Math.pow(a,i-1)));var h=new I([]);h.height=i;var s=Math.ceil(r/a),l=s*Math.ceil(Math.sqrt(a));B(t,n,e,l,this._compareMinX);for(var u=n;u<=e;u+=l){var c=Math.min(u+l-1,e);B(t,u,c,s,this._compareMinY);for(var f=u;f<=c;f+=s){var v=Math.min(f+s-1,c);h.children.push(this._build(t,f,v,i-1))}}return m(h,this._toBBox),h}},{key:"_chooseSubtree",value:function(t,n,e,i){for(;i.push(n),!0!==n.leaf&&i.length-1!==e;){for(var r=void 0,a=1/0,o=1/0,h=0,s=n.children.length;h<s;h++){var l=n.children[h],u=p(l),c=M(t,l)-u;c<o?(o=c,a=u<a?u:a,r=l):c===o&&u<a&&(a=u,r=l)}n=r||n.children[0]}return n}},{key:"_insert",value:function(t,n,e){var i=this._toBBox,r=e?t:i(t);w.clear();var a=this._chooseSubtree(r,this._data,n,w);for(a.children.push(t),d(a,r);n>=0&&w.data[n].children.length>this._maxEntries;)this._split(w,n),n--;this._adjustParentBBoxes(r,w,n)}},{key:"_split",value:function(t,n){var e=t.data[n],i=e.children.length,r=this._minEntries;this._chooseSplitAxis(e,r,i);var a=this._chooseSplitIndex(e,r,i);if(a){var o=e.children.splice(a,e.children.length-a),h=e.leaf?new S(o):new I(o);h.height=e.height,m(e,this._toBBox),m(h,this._toBBox),n?t.data[n-1].children.push(h):this._splitRoot(e,h)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(t,n){this._data=new I([t,n]),this._data.height=t.height+1,m(this._data,this._toBBox)}},{key:"_chooseSplitIndex",value:function(t,n,e){var i,r,a;i=r=1/0;for(var o=n;o<=e-n;o++){var h=v(t,0,o,this._toBBox),s=v(t,o,e,this._toBBox),l=y(h,s),u=p(h)+p(s);l<i?(i=l,a=o,r=u<r?u:r):l===i&&u<r&&(r=u,a=o)}return a}},{key:"_chooseSplitAxis",value:function(t,n,e){var i=t.leaf?this._compareMinX:x,r=t.leaf?this._compareMinY:_;this._allDistMargin(t,n,e,i)<this._allDistMargin(t,n,e,r)&&t.children.sort(i)}},{key:"_allDistMargin",value:function(t,n,e,i){t.children.sort(i);for(var r=this._toBBox,a=v(t,0,n,r),o=v(t,e-n,e,r),h=g(a)+g(o),s=n;s<e-n;s++){var l=t.children[s];d(a,t.leaf?r(l):l),h+=g(a)}for(var u=e-n-1;u>=n;u--){var c=t.children[u];d(o,t.leaf?r(c):c),h+=g(o)}return h}},{key:"_adjustParentBBoxes",value:function(t,n,e){for(var i=e;i>=0;i--)d(n.data[i],t)}},{key:"_condense",value:function(t){for(var n=t.length-1;n>=0;n--){var e=t.data[n];if(0===e.children.length)if(n>0){var i=t.data[n-1],r=i.children;r.splice((0,s.cq)(r,e,r.length,i.indexHint),1)}else this.clear();else m(e,this._toBBox)}}},{key:"_initFormat",value:function(t){var n=["return a"," - b",";"];this._compareMinX=new Function("a","b",n.join(t[0])),this._compareMinY=new Function("a","b",n.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}]),t}();function m(t,n){v(t,0,t.children.length,n,t)}function v(t,n,e,i,r){r||(r=new S([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,o=n;o<e;o++)a=t.children[o],d(r,t.leaf?i(a):a);return r}function d(t,n){t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY)}function x(t,n){return t.minX-n.minX}function _(t,n){return t.minY-n.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function M(t,n){return(Math.max(n.maxX,t.maxX)-Math.min(n.minX,t.minX))*(Math.max(n.maxY,t.maxY)-Math.min(n.minY,t.minY))}function y(t,n){var e=Math.max(t.minX,n.minX),i=Math.max(t.minY,n.minY),r=Math.min(t.maxX,n.maxX),a=Math.min(t.maxY,n.maxY);return Math.max(0,r-e)*Math.max(0,a-i)}function X(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function Y(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function B(t,n,e,i,r){for(var a=[n,e];a.length;){var o=(0,l.j0)(a.pop()),h=(0,l.j0)(a.pop());if(!(o-h<=i)){var s=h+Math.ceil((o-h)/i/2)*i;(0,c.q)(t,s,h,o,r),a.push(h,s,s,o)}}}var k=new u.Z,Z=new u.Z,w=new u.Z,b=new u.Z({deallocator:void 0}),A=function(t){(0,i.Z)(e,t);var n=(0,r.Z)(e);function e(){var t;return(0,o.Z)(this,e),(t=n.apply(this,arguments)).height=1,t.indexHint=new s.SO,t}return(0,h.Z)(e)}((0,h.Z)((function t(){(0,o.Z)(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),S=function(t){(0,i.Z)(e,t);var n=(0,r.Z)(e);function e(t){var i;return(0,o.Z)(this,e),(i=n.call(this)).children=t,i.leaf=!0,i}return(0,h.Z)(e)}(A),I=function(t){(0,i.Z)(e,t);var n=(0,r.Z)(e);function e(t){var i;return(0,o.Z)(this,e),(i=n.call(this)).children=t,i.leaf=!1,i}return(0,h.Z)(e)}(A)},30767:function(t,n,e){e.r(n),e.d(n,{default:function(){return f}});var i=e(37762),r=e(74165),a=e(15861),o=e(15671),h=e(43144),s=e(93169),l=e(92026),u=e(13491),c=e(57898),f=function(){function t(){(0,o.Z)(this,t)}return(0,h.Z)(t,[{key:"createIndex",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n,e){var i,a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=new Array,n.vertexAttributes&&n.vertexAttributes.position){t.next=3;break}return t.abrupt("return",new u.Q);case 3:if(a=this._createMeshData(n),!(0,l.pC)(e)){t.next=10;break}return t.next=7,e.invoke("createIndexThread",a,{transferList:i});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=this.createIndexThread(a).result;case 11:return o=t.t0,t.abrupt("return",this._createPooledRBush().fromJSON(o));case 13:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}()},{key:"createIndexThread",value:function(t){var n=new Float64Array(t.position),e=this._createPooledRBush();return t.components?this._createIndexComponentsThread(e,n,t.components.map((function(t){return new Uint32Array(t)}))):this._createIndexAllThread(e,n)}},{key:"_createIndexAllThread",value:function(t,n){for(var e=new Array(n.length/9),i=0,r=0;r<n.length;r+=9)e[i++]=m(n,r+0,r+3,r+6);return t.load(e),{result:t.toJSON()}}},{key:"_createIndexComponentsThread",value:function(t,n,e){var r,a=0,o=(0,i.Z)(e);try{for(o.s();!(r=o.n()).done;){a+=r.value.length/3}}catch(v){o.e(v)}finally{o.f()}var h,s=new Array(a),l=0,u=(0,i.Z)(e);try{for(u.s();!(h=u.n()).done;)for(var c=h.value,f=0;f<c.length;f+=3)s[l++]=m(n,3*c[f+0],3*c[f+1],3*c[f+2])}catch(v){u.e(v)}finally{u.f()}return t.load(s),{result:t.toJSON()}}},{key:"_createMeshData",value:function(t){var n=(t.transform?(0,c.I5)({position:t.vertexAttributes.position,normal:null,tangent:null},t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((function(t){return!t.faces}))?{position:n}:{position:n,components:t.components.map((function(t){return t.faces}))}}},{key:"_createPooledRBush",value:function(){return new u.Q(9,(0,s.Z)("esri-csp-restrictions")?function(t){return t}:[".minX",".minY",".maxX",".maxY"])}}]),t}();function m(t,n,e,i){return{minX:Math.min(t[n+0],t[e+0],t[i+0]),maxX:Math.max(t[n+0],t[e+0],t[i+0]),minY:Math.min(t[n+1],t[e+1],t[i+1]),maxY:Math.max(t[n+1],t[e+1],t[i+1]),p0:[t[n+0],t[n+1],t[n+2]],p1:[t[e+0],t[e+1],t[e+2]],p2:[t[i+0],t[i+1],t[i+2]]}}}}]);
//# sourceMappingURL=30767.736ff27d.chunk.js.map