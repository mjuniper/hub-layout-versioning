"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[31009],{18008:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(37762),o=n(15671),s=n(43144),i=n(42537),a=n(32718),u=n(66978),c=n(43e3),l=n(65934),f=function(){function e(){(0,o.Z)(this,e),this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new c.Z}return(0,s.Z)(e,[{key:"destroy",value:function(){this.close()}},{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"open",value:function(e,t){var n=this;return new Promise((function(r,o){var s=!0,i=function(e){(0,u.k_)(t.signal),s&&(s=!1,e())};n._clients.length=e.length,n._clientPromises.length=e.length,n._inUseClients.length=e.length;for(var a=function(s){var a=e[s];(0,u.y8)(a)?n._clientPromises[s]=a.then((function(e){return n._clients[s]=new l.Z(e,t,(function(){var e;return null!==(e=n._ongoingJobsQueue.pop())&&void 0!==e?e:null})),i(r),n._clients[s]}),(function(){return i(o),null})):(n._clients[s]=new l.Z(a,t,(function(){var e;return null!==(e=n._ongoingJobsQueue.pop())&&void 0!==e?e:null})),n._clientPromises[s]=Promise.resolve(n._clients[s]),i(r))},c=0;c<e.length;++c)a(c)}))}},{key:"broadcast",value:function(e,t,n){for(var r=new Array(this._clientPromises.length),o=0;o<this._clientPromises.length;++o){var s=this._clientPromises[o];r[o]=s.then((function(r){return null===r||void 0===r?void 0:r.invoke(e,t,n)}))}return r}},{key:"close",value:function(){for(var e;e=this._ongoingJobsQueue.pop();)e.deferred.reject((0,u.zE)("Worker closing, aborting job calling '".concat(e.methodName,"'")));var t,n=(0,r.Z)(this._clientPromises);try{for(n.s();!(t=n.n()).done;){t.value.then((function(e){return null===e||void 0===e?void 0:e.close()}))}}catch(o){n.e(o)}finally{n.f()}this._clients.length=0,this._clientPromises.length=0}},{key:"invoke",value:function(e,t,n){var r;Array.isArray(n)?(a.Z.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n;var o=(0,u.dD)();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:r,deferred:o});for(var s=0;s<this._clientPromises.length;s++){var i=this._clients[s];i?i.jobAdded():this._clientPromises[s].then((function(e){return null===e||void 0===e?void 0:e.jobAdded()}))}return o.promise}},{key:"on",value:function(e,t){var n=this;return Promise.all(this._clientPromises).then((function(){return(0,i.AL)(n._clients.map((function(n){return n.on(e,t)})))}))}},{key:"openPorts",value:function(){var e=this;return new Promise((function(t){for(var n=new Array(e._clientPromises.length),r=n.length,o=function(o){e._clientPromises[o].then((function(e){e&&(n[o]=e.openPort()),0==--r&&t(n)}))},s=0;s<e._clientPromises.length;++s)o(s)}))}},{key:"test",get:function(){return{numClients:this._clients.length}}}]),e}()},65934:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(37762),o=n(15671),s=n(43144),i=n(19545),a=n(10064),u=n(98928),c=n(92026),l=n(66978),f=n(44506),h=n(49718),d={statsWorker:function(){return Promise.all([n.e(71486),n.e(57663)]).then(n.bind(n,57663))},geometryEngineWorker:function(){return Promise.all([n.e(99058),n.e(92846)]).then(n.bind(n,92846))},CSVSourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(68928),n.e(93463),n.e(84018)]).then(n.bind(n,62273))},EdgeProcessingWorker:function(){return Promise.all([n.e(25158),n.e(79762),n.e(91135)]).then(n.bind(n,95569))},ElevationSamplerWorker:function(){return Promise.all([n.e(79803),n.e(14226),n.e(25158),n.e(46333),n.e(30767)]).then(n.bind(n,30767))},FeatureServiceSnappingSourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(21149),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(68928),n.e(27607),n.e(93463),n.e(98441),n.e(29948)]).then(n.bind(n,77658))},GeoJSONSourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(68928),n.e(93463),n.e(4391),n.e(14041)]).then(n.bind(n,51657))},LercWorker:function(){return n.e(74578).then(n.bind(n,74578))},MemorySourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(68928),n.e(93463),n.e(40869)]).then(n.bind(n,48782))},PBFDecoderWorker:function(){return Promise.all([n.e(83406),n.e(27607),n.e(85687)]).then(n.bind(n,85687))},Pipeline:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(21149),n.e(64542),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(27607),n.e(18016),n.e(93463),n.e(8131),n.e(4391),n.e(31295),n.e(97463),n.e(40123),n.e(36876),n.e(27186)]).then(n.bind(n,38287))},PointCloudWorker:function(){return Promise.all([n.e(79803),n.e(14226),n.e(90172),n.e(91712)]).then(n.bind(n,56547))},RasterWorker:function(){return Promise.all([n.e(79803),n.e(14226),n.e(80394),n.e(35345),n.e(99672),n.e(55179),n.e(29065)]).then(n.bind(n,16461))},SceneLayerSnappingSourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(25158),n.e(55652),n.e(79762),n.e(32852)]).then(n.bind(n,50319))},SceneLayerWorker:function(){return Promise.all([n.e(14226),n.e(71323)]).then(n.bind(n,71323))},WFSSourceWorker:function(){return Promise.all([n.e(79803),n.e(99779),n.e(48562),n.e(91340),n.e(71486),n.e(14226),n.e(98074),n.e(83406),n.e(50739),n.e(68928),n.e(93463),n.e(4391),n.e(12622),n.e(56703)]).then(n.bind(n,58178))},WorkerTileHandler:function(){return Promise.all([n.e(9795),n.e(30969),n.e(14232)]).then(n.bind(n,79308))}},p=f.Cs.CLOSE,v=f.Cs.ABORT,g=f.Cs.INVOKE,m=f.Cs.RESPONSE,k=f.Cs.OPEN_PORT,b=f.Cs.ON,y=function(){function e(t){(0,o.Z)(this,e),this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}return(0,s.Z)(e,[{key:"push",value:function(e){e.type===f.Cs.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}},{key:"clear",value:function(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}},{key:"_process",value:function(){this._timer=null;var e,t=(0,r.Z)(this._invokeMessages);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._cancelledJobIds.has(n.jobId)||this._invoke(n)}}catch(o){t.e(o)}finally{t.f()}this._cancelledJobIds.clear(),this._invokeMessages.length=0}}]),e}(),_=function(){function e(t,n,r){var s=this;(0,o.Z)(this,e),this._port=t,this._getNextJob=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new y((function(e){return s._onInvokeMessage(e)})),this._client=n.client,this._onMessage=this._onMessage.bind(this),this._channel=n.channel,this._schedule=n.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}return(0,s.Z)(e,[{key:"close",value:function(){this._post({type:p}),this._close()}},{key:"isBusy",value:function(){return this._outJobs.size>0}},{key:"invoke",value:function(e,t,n){var r=this,o=n&&n.signal,s=n&&n.transferList;if(!this._port)return Promise.reject(new a.Z("worker:port-closed","Cannot call invoke('".concat(e,"'), port is closed"),{methodName:e,data:t}));var i=(0,f.jt)();return new Promise((function(n,a){if((0,l.Hc)(o))return r._processWork(),void a((0,l.zE)());var u=(0,l.fu)(o,(function(){var e=r._outJobs.get(i);e&&(r._outJobs.delete(i),r._processWork(),(0,c.hw)(e.abortHandle),r._post({type:v,jobId:i}),a((0,l.zE)()))})),f={resolve:n,reject:a,abortHandle:u,debugInfo:e};r._outJobs.set(i,f),r._post({type:g,jobId:i,methodName:e,abortable:null!=o},t,s)}))}},{key:"on",value:function(e,t){var n=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:f.Cs.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove:function(){n.port1.postMessage({type:f.Cs.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}},{key:"jobAdded",value:function(){this._processWork()}},{key:"openPort",value:function(){var e=new MessageChannel;return this._post({type:k,port:e.port2}),e.port1}},{key:"_processWork",value:function(){if(!(this._outJobs.size>=2)){var e=this._getNextJob();if(e){var t=e.methodName,n=e.data,r=e.invokeOptions,o=e.deferred;this.invoke(t,n,r).then((function(e){return o.resolve(e)})).catch((function(e){return o.reject(e)}))}}}},{key:"_close",value:function(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((function(e){(0,c.hw)(e.abortHandle),e.reject((0,l.zE)("Worker closing, aborting job calling '".concat(e.debugInfo,"'")))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}},{key:"_onMessage",value:function(e){var t=this;(0,c.pC)(this._schedule)?this._schedule((function(){return t._processMessage(e)})):this._processMessage(e)}},{key:"_processMessage",value:function(e){var t=(0,f.QM)(e);if(t)switch(t.type){case m:this._onResponseMessage(t);break;case g:this._invokeQueue.push(t);break;case v:this._onAbortMessage(t);break;case p:this._onCloseMessage();break;case k:this._onOpenPortMessage(t);break;case b:this._onOnMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,n=e.jobId,r=t.get(n);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(n))}},{key:"_onCloseMessage",value:function(){var t=this._client;this._close(),t&&"destroy"in t&&e.clients.get(this)===t&&t.destroy(),e.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}},{key:"_onInvokeMessage",value:function(e){var t,n=this,r=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,u=this._client,c=u[r];try{if(!c&&r&&r.includes("."))for(var h=r.split("."),d=0;d<h.length-1;d++)c=(u=u[h[d]])[h[d+1]];if("function"!=typeof c)throw new TypeError("".concat(r," is not a function"));t=c.call(u,s,{client:this,signal:i?i.signal:null})}catch(p){return void this._post({type:m,jobId:o,error:(0,f.AB)(p)})}(0,l.y8)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),n._post({type:m,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),(0,l.D_)(e)||n._post({type:m,jobId:o,error:(0,f.AB)(e||{message:"Error encountered at method ".concat(r)})}))}))):this._post({type:m,jobId:o},t)}},{key:"_onOpenPortMessage",value:function(t){new e(t.port,{client:this._client},(function(){return null}))}},{key:"_onOnMessage",value:function(e){var t=e.port,n=this._client.on(e.eventType,(function(e){t.postMessage(e)})),r=(0,u.on)(e.port,"message",(function(e){var o;(null===(o=(0,f.QM)(e))||void 0===o?void 0:o.type)===f.Cs.CLOSE&&(r.remove(),n.remove(),t.close())}))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,n=e.error,r=e.data,o=this._outJobs;if(o.has(t)){var s=o.get(t);o.delete(t),this._processWork(),(0,c.hw)(s.abortHandle),n?s.reject(a.Z.fromJSON(JSON.parse(n))):s.resolve(r)}}},{key:"_post",value:function(e,t,n){return(0,f.oi)(this._port,e,t,n)}}],[{key:"connect",value:function(t){var n,r=new MessageChannel;n="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;var o=new e(r.port1,{channel:r,client:n},(function(){return null}));return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=o),e.clients.set(o,n),r.port2}},{key:"loadWorker",value:function(e){var t=d[e];return t?t():Promise.resolve(null)}}]),e}();_.kernelInfo={revision:h.$,version:i.i8,buildDate:h.r},_.clients=new Map},44506:function(e,t,n){n.d(t,{AB:function(){return u},Cs:function(){return r},QM:function(){return l},jt:function(){return a},oi:function(){return c}});var r,o=n(37762),s=n(93169);!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"}(r||(r={}));var i=0;function a(){return i++}function u(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function c(e,t,n,i){var a;if(t.type!==r.OPEN_PORT)if(t.type===r.INVOKE||t.type===r.RESPONSE)if(function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(n)?(a=f(n.transferList),t.data=n.result):(a=f(i),t.data=n),a){if((0,s.Z)("ff")){var l,h=(0,o.Z)(a);try{for(h.s();!(l=h.n()).done;){var d=l.value;if("byteLength"in d&&d.byteLength>267386880){var p="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case r.INVOKE:throw p;case r.RESPONSE:return void c(e,{type:r.RESPONSE,jobId:t.jobId,error:u(p)})}}}}catch(v){h.e(v)}finally{h.f()}}e.postMessage(t,a)}else e.postMessage(t);else e.postMessage(t);else e.postMessage(t,[t.port])}function l(e){if(!e)return null;var t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function f(e){if(!e||!e.length)return null;if((0,s.Z)("esri-workers-arraybuffer-transfer"))return e;var t=e.filter((function(e){return!function(e){return e instanceof ArrayBuffer||e&&e.constructor&&"ArrayBuffer"===e.constructor.name}(e)}));return t.length?t:null}},31009:function(e,t,n){n.d(t,{j2:function(){return V},bA:function(){return G}});var r=n(1413),o=n(74165),s=n(15861),i=n(10064),a=n(93169),u=n(66978),c=n(18008),l=n(65934),f=n(15671),h=n(43144),d=n(19545),p=n(32718),v=n(92026),g=n(44506),m=n(65905),k=n(42265),b=(n(59166),n(35995)),y={};function _(e){var t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:(0,r.Z)({},e.has),map:(0,r.Z)({},e.map),packages:e.packages&&e.packages.concat()||[],paths:(0,r.Z)({},e.paths)};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=y.baseUrl),t}var w,Z,P=n(70758),E=(0,h.Z)((function e(){var t=this;(0,f.Z)(this,e);var n=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((function(e){t[e]=function(){return n[e].apply(n,arguments)}}))})),O=function(){function e(){(0,f.Z)(this,e),this._dispatcher=new E,this._workerPostMessage({type:g.Cs.HANDSHAKE})}return(0,h.Z)(e,[{key:"terminate",value:function(){}},{key:"onmessage",get:function(){return this._onmessageHandler},set:function(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},set:function(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}},{key:"postMessage",value:function(e){var t=this;(0,P.Y)((function(){t._workerMessageHandler(new MessageEvent("message",{data:e}))}))}},{key:"dispatchEvent",value:function(e){return this._dispatcher.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t,n){this._dispatcher.addEventListener(e,t,n)}},{key:"removeEventListener",value:function(e,t,n){this._dispatcher.removeEventListener(e,t,n)}},{key:"_workerPostMessage",value:function(e){var t=this;(0,P.Y)((function(){t.dispatchEvent(new MessageEvent("message",{data:e}))}))}},{key:"_workerMessageHandler",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,s,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=(0,g.QM)(t))||n.type!==g.Cs.OPEN){e.next=13;break}return r=n.modulePath,s=n.jobId,e.next=5,l.Z.loadWorker(r);case 5:if(i=e.sent,e.t0=i,e.t0){e.next=11;break}return e.next=10,import(r);case 10:i=e.sent;case 11:a=l.Z.connect(i),this._workerPostMessage({type:g.Cs.OPENED,jobId:s,data:a});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),M=n(36257),N=n(49718),C=p.Z.getLogger("esri.core.workers.workerFactory"),S=g.Cs.HANDSHAKE,x='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,version:r}=configuration.kernelInfo,{revision:t,version:n}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS API for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const i=outgoing.get(r);outgoing.delete(r),o.error?i.reject(JSON.parse(o.error)):i.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});',A="Failed to create Worker. Fallback to execute module in main thread";function I(){return L.apply(this,arguments)}function L(){return L=(0,s.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,a.Z)("esri-workers")&&((0,a.Z)("mozilla"),1)){e.next=2;break}return e.abrupt("return",j(new O));case 2:if(!w&&!Z)try{t=x.split('"{CONFIGURATION}"').join("'".concat(R(),"'")),w=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(r){Z=r||{}}if(w)try{n=new Worker(w,{name:"esri-worker-"+W++})}catch(r){C.warn(A,Z),n=new O}else C.warn(A,Z),n=new O;return e.abrupt("return",j(n));case 5:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function j(e){return J.apply(this,arguments)}function J(){return J=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){function n(o){var s=(0,g.QM)(o);s&&s.type===S&&(t.removeEventListener("message",n),t.removeEventListener("error",r),e(t))}function r(e){e.preventDefault(),t.removeEventListener("message",n),t.removeEventListener("error",r),C.warn("Failed to create Worker. Fallback to execute module in main thread",e),(t=new O).addEventListener("message",n),t.addEventListener("error",r)}t.addEventListener("message",n),t.addEventListener("error",r)})));case 1:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function R(){var e;if(null!=k.Z.default){var t=(0,r.Z)({},k.Z);delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(k.Z));e.assetsPath=(0,b.hF)(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?(0,b.hF)(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,M.Kd)(),e.has={"esri-csp-restrictions":(0,a.Z)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,a.Z)("esri-2d-update-debug"),"featurelayer-pbf":(0,a.Z)("featurelayer-pbf"),"featurelayer-simplify-thresholds":(0,a.Z)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,a.Z)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,a.Z)("featurelayer-simplify-mobile-factor"),"esri-atomics":(0,a.Z)("esri-atomics"),"esri-shared-array-buffer":(0,a.Z)("esri-shared-array-buffer"),"esri-tiles-debug":(0,a.Z)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,a.Z)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,a.Z)("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":(0,a.Z)("polylabel-placement-enabled")},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,b.hF)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,b.hF)(e.workers.workerPath):e.workers.workerPath=(0,b.hF)((0,m.V)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;var n=k.Z.workers.loaderConfig,o=_({baseUrl:null===n||void 0===n?void 0:n.baseUrl,locale:(0,M.Kd)(),has:(0,r.Z)({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},null===n||void 0===n?void 0:n.has),map:(0,r.Z)({},null===n||void 0===n?void 0:n.map),paths:(0,r.Z)({},null===n||void 0===n?void 0:n.paths),packages:(null===n||void 0===n?void 0:n.packages)||[]}),s={version:d.i8,buildDate:N.r,revision:N.$};return JSON.stringify({esriConfig:e,loaderConfig:o,kernelInfo:s})}var W=0,H=g.Cs.ABORT,D=g.Cs.INVOKE,U=g.Cs.OPEN,B=g.Cs.OPENED,T=g.Cs.RESPONSE,F=function(){function e(t,n){(0,f.Z)(this,e),this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=n,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",(function(e){e.preventDefault(),p.Z.getLogger("esri.core.workers.WorkerOwner").error(e)}))}return(0,h.Z)(e,[{key:"terminate",value:function(){this.worker.terminate()}},{key:"open",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,s,i=this,a=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.signal,s=(0,g.jt)(),e.abrupt("return",new Promise((function(e,n){var o={resolve:e,reject:n,abortHandle:(0,u.$F)(r,(function(){i._outJobs.delete(s),i._post({type:H,jobId:s})}))};i._outJobs.set(s,o),i._post({type:U,jobId:s,modulePath:t})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onMessage",value:function(e){var t=(0,g.QM)(e);if(t)switch(t.type){case B:this._onOpenedMessage(t);break;case T:this._onResponseMessage(t);break;case H:this._onAbortMessage(t);break;case D:this._onInvokeMessage(t)}}},{key:"_onAbortMessage",value:function(e){var t=this._inJobs,n=e.jobId,r=t.get(n);r&&(r.controller&&r.controller.abort(),t.delete(n))}},{key:"_onInvokeMessage",value:function(e){var t,n=this,r=e.methodName,o=e.jobId,s=e.data,i=e.abortable?new AbortController:null,a=this._inJobs,c=d.Nv[r];try{if("function"!=typeof c)throw new TypeError("".concat(r," is not a function"));t=c.call(null,s,{signal:i?i.signal:null})}catch(R){return void this._post({type:T,jobId:o,error:(0,g.AB)(R)})}(0,u.y8)(t)?(a.set(o,{controller:i,promise:t}),t.then((function(e){a.has(o)&&(a.delete(o),n._post({type:T,jobId:o},e))}),(function(e){a.has(o)&&(a.delete(o),e||(e={message:"Error encountered at method"+r}),(0,u.D_)(e)||n._post({type:T,jobId:o,error:(0,g.AB)(e||{message:"Error encountered at method ".concat(r)})}))}))):this._post({type:T,jobId:o},t)}},{key:"_onOpenedMessage",value:function(e){var t=e.jobId,n=e.data,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),(0,v.hw)(r.abortHandle),r.resolve(n))}},{key:"_onResponseMessage",value:function(e){var t=e.jobId,n=e.error,r=e.data,o=this._outJobs.get(t);o&&(this._outJobs.delete(t),(0,v.hw)(o.abortHandle),n?o.reject(i.Z.fromJSON(JSON.parse(n))):o.resolve(r))}},{key:"_post",value:function(e,t,n){return(0,g.oi)(this.worker,e,t,n)}}],[{key:"create",value:function(){var t=(0,s.Z)((0,o.Z)().mark((function t(n){var r;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return r=t.sent,t.abrupt("return",new e(r,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),z=(0,a.Z)("esri-workers-debug")?1:(0,a.Z)("esri-mobile")?Math.min(navigator.hardwareConcurrency-1,3):(0,a.Z)("host-browser")?navigator.hardwareConcurrency-1:0;z||(z=(0,a.Z)("safari")&&(0,a.Z)("mac")?7:2);var K=0,Q=[];function V(){ee()}function $(e,t){return q.apply(this,arguments)}function q(){return q=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new c.Z,e.next=3,r.open(t,n);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function G(e){return Y.apply(this,arguments)}function Y(){return Y=(0,s.Z)((0,o.Z)().mark((function e(t){var n,s,c,f,h,d,p,v,g,m=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},"string"==typeof t){e.next=3;break}throw new i.Z("workers:undefined-module","modulePath is missing");case 3:if(s=n.strategy||"distributed",(0,a.Z)("host-webworker")&&!(0,a.Z)("esri-workers")&&(s="local"),"local"!==s){e.next=16;break}return e.next=7,l.Z.loadWorker(t);case 7:if(c=e.sent,e.t0=c,e.t0){e.next=13;break}return e.next=12,import(t);case 12:c=e.sent;case 13:return(0,u.k_)(n.signal),f=n.client||c,e.abrupt("return",$([l.Z.connect(c)],(0,r.Z)((0,r.Z)({},n),{},{client:f})));case 16:return e.next=18,ee();case 18:if((0,u.k_)(n.signal),"dedicated"!==s){e.next=28;break}return h=K++%z,e.t1=$,e.next=24,Q[h].open(t,n);case 24:return e.t2=e.sent,e.t3=[e.t2],e.t4=n,e.abrupt("return",(0,e.t1)(e.t3,e.t4));case 28:if(!(n.maxNumWorkers&&n.maxNumWorkers>0)){e.next=34;break}if(!((d=Math.min(n.maxNumWorkers,z))<z)){e.next=34;break}for(p=new Array(d),v=0;v<d;++v)g=K++%z,p[v]=Q[g].open(t,n);return e.abrupt("return",$(p,n));case 34:return e.abrupt("return",$(Q.map((function(e){return e.open(t,n)})),n));case 35:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}var X=null;function ee(){return te.apply(this,arguments)}function te(){return te=(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return",X);case 2:for(new AbortController,t=[],n=function(e){var n=F.create(e).then((function(t){return Q[e]=t,t}));t.push(n)},r=0;r<z;r++)n(r);return e.abrupt("return",X=Promise.all(t));case 7:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}},59166:function(e,t,n){n(76969),n(6291),n(8704),n(36257);var r=n(41201),o=n(74165),s=n(15671),i=n(43144),a=n(15861),u=n(76200),c=n(10064),l=n(92026);function f(){return f=(0,a.Z)((0,o.Z)().mark((function e(t,n,s,i){var a,u,l,f,d,p,v;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.exec(s)){e.next=3;break}throw new c.Z("esri-intl:invalid-bundle",'Bundle id "'.concat(s,'" is not compatible with the pattern "').concat(n,'"'));case 3:return u=a[1]?"".concat(a[1],"/"):"",l=a[2],f=(0,r.Su)(i),d="".concat(u).concat(l,".json"),p=f?"".concat(u).concat(l,"_").concat(f,".json"):d,e.prev=4,e.next=7,h(t(p));case 7:case 17:v=e.sent,e.next=23;break;case 10:if(e.prev=10,e.t0=e.catch(4),p!==d){e.next=14;break}throw new c.Z("intl:unknown-bundle",'Bundle "'.concat(s,'" cannot be loaded'),{error:e.t0});case 14:return e.prev=14,e.next=17,h(t(d));case 20:throw e.prev=20,e.t1=e.catch(14),new c.Z("intl:unknown-bundle",'Bundle "'.concat(s,'" cannot be loaded'),{error:e.t1});case 23:return e.abrupt("return",v);case 24:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])}))),f.apply(this,arguments)}function h(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,l.pC)(g.fetchBundleAsset)){e.next=2;break}return e.abrupt("return",g.fetchBundleAsset(t));case 2:return e.next=4,(0,u.default)(t,{responseType:"text"});case 4:return n=e.sent,e.abrupt("return",JSON.parse(n.data));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){function e(t){var n,r=t.base,o=void 0===r?"":r,i=t.pattern,a=t.location,u=void 0===a?new URL(window.location.href):a;(0,s.Z)(this,e),n="string"==typeof u?function(e){return new URL(e,new URL(u,window.location.href)).href}:u instanceof URL?function(e){return new URL(e,u).href}:u,this.pattern="string"==typeof i?new RegExp("^".concat(i)):i,this.getAssetUrl=n,o=o?o.endsWith("/")?o:o+"/":"",this.matcher=new RegExp("^".concat(o,"(?:(.*)/)?(.*)$"))}return(0,i.Z)(e,[{key:"fetchMessageBundle",value:function(e,t){return function(e,t,n,r){return f.apply(this,arguments)}(this.getAssetUrl,this.matcher,e,t)}}]),e}();var v,g={},m=n(65905);(0,r.tz)((v={pattern:"esri/",location:m.V},new p(v)))},41201:function(e,t,n){n.d(t,{ME:function(){return b},Su:function(){return _},tz:function(){return k}});var r=n(74165),o=n(15671),s=n(43144),i=n(29439),a=n(15861),u=n(37762),c=n(10064),l=n(66978),f=n(36257),h=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,d={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function p(e){var t;return null!==(t=d[e])&&void 0!==t&&t}var v=[],g=new Map;function m(e){var t,n=(0,u.Z)(g.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;P(e.pattern,r)&&g.delete(r)}}catch(o){n.e(o)}finally{n.f()}}function k(e){return v.includes(e)||(m(e),v.unshift(e)),{remove:function(){var t=v.indexOf(e);t>-1&&(v.splice(t,1),m(e))}}}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,r.Z)().mark((function e(t){var n,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,f.Kd)(),g.has(t)||g.set(t,w(t,n)),o=g.get(t),e.t0=o,!e.t0){e.next=7;break}return e.next=7,E.add(o);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){if(!h.test(e))return null;var t=h.exec(e);if(null===t)return null;var n=(0,i.Z)(t,3),r=n[1],o=n[2],s=r+(o?"-"+o.toUpperCase():"");return p(s)?s:p(r)?r:null}function w(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,r.Z)().mark((function e(t,n){var o,s,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],s=(0,u.Z)(v),e.prev=2,s.s();case 4:if((i=s.n()).done){e.next=18;break}if(!P((a=i.value).pattern,t)){e.next=16;break}return e.prev=7,e.next=10,a.fetchMessageBundle(t,n);case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7),o.push(e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),s.e(e.t1);case 23:return e.prev=23,s.f(),e.finish(23);case 26:if(!o.length){e.next=28;break}throw new c.Z("intl:message-bundle-error",'Errors occurred while loading "'.concat(t,'"'),{errors:o});case 28:throw new c.Z("intl:no-message-bundle-loader",'No loader found for message bundle "'.concat(t,'"'));case 29:case"end":return e.stop()}}),e,null,[[2,20,23,26],[7,13]])})))).apply(this,arguments)}function P(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,f.Ze)((function(){g.clear()}));var E=new(function(){function e(){(0,o.Z)(this,e),this._numLoading=0,this._dfd=null}return(0,s.Z)(e,[{key:"waitForAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._dfd,!e.t0){e.next=4;break}return e.next=4,this._dfd.promise;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e){var t=this;return this._increase(),e.then((function(){return t._decrease()}),(function(){return t._decrease()})),this.waitForAll()}},{key:"_increase",value:function(){this._numLoading++,this._dfd||(this._dfd=(0,l.dD)())}},{key:"_decrease",value:function(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}]),e}())},8704:function(e,t,n){n.d(t,{n:function(){return c}});var r=n(32718),o=n(18202),s=n(643),i=n(76969),a=n(6291),u=r.Z.getLogger("esri.intl.substitute");function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.format,o=void 0===r?{}:r;return(0,s.gx)(e,(function(e){return l(e,t,o)}))}function l(e,t,n){var r,s,i,a=e.indexOf(":");if(-1===a?s=e.trim():(s=e.slice(0,a).trim(),i=e.slice(a+1).trim()),!s)return"";var u=(0,o.hS)(s,t);if(null==u)return"";var c=null!==(r=i?null===n||void 0===n?void 0:n[i]:null)&&void 0!==r?r:null===n||void 0===n?void 0:n[s];return c?f(u,c):i?h(u,i):d(u)}function f(e,t){switch(t.type){case"date":return(0,i.p6)(e,t.intlOptions);case"number":return(0,a.uf)(e,t.intlOptions);default:return u.warn("missing format descriptor for key {key}"),d(e)}}function h(e,t){switch(t.toLowerCase()){case"dateformat":return(0,i.p6)(e);case"numberformat":return(0,a.uf)(e);default:return u.warn("inline format is unsupported since 4.12: ".concat(t)),/^(dateformat|datestring)/i.test(t)?(0,i.p6)(e):/^numberformat/i.test(t)?(0,a.uf)(e):d(e)}}function d(e){switch(typeof e){case"string":return e;case"number":return(0,a.uf)(e);case"boolean":return""+e;default:return e instanceof Date?(0,i.p6)(e):""}}},49718:function(e,t,n){n.d(t,{$:function(){return o},r:function(){return r}});var r="20230227",o="2ffb373909cc330536324a33c00959f98d434afa"}}]);
//# sourceMappingURL=31009.ae9fb3a0.chunk.js.map