{"version":3,"file":"static/js/88195.d4dd8d6e.chunk.js","mappings":"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","sources":["../.yalc/@esri/hub-components/dist/esm/OperationError-85fd80c7.js","../.yalc/@esri/hub-components/dist/esm/append-custom-params-fd9b7e72.js","../.yalc/@esri/hub-components/dist/esm/interpolate-501f9adb.js","../.yalc/@esri/hub-components/dist/esm/edit-d086fe2a.js","../.yalc/@esri/hub-components/dist/esm/get-f2cd18e7.js","../.yalc/@esri/hub-components/dist/esm/get-with-default-6db049d8.js","../.yalc/@esri/hub-components/dist/esm/tslib.es6-3669ad41.js"],"sourcesContent":["import { g as getWithDefault } from './get-with-default-6db049d8.js';\n\n/* Copyright (c) 2018-2020 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Generic Solution Error with an Error stack as well\n * as an optional serialized OperationStack.\n *\n * Also accepts a `rootCause` Error object\n */\nclass OperationError extends Error {\n    /**\n     * Creates an instance of OperationError.\n     * @param {string} operation\n     * @param {string} [message]\n     * @param {Error} [rootCause]\n     * @memberof OperationError\n     */\n    constructor(operation, message, rootCause) {\n        message = message || \"UNKNOWN_ERROR\";\n        // if the rootCause has a .rootCause, use that so we don't deeply nest\n        rootCause = getWithDefault(rootCause, \"rootCause\", rootCause);\n        super(message);\n        this.operation = operation;\n        this.name = \"OperationError\";\n        this.rootCause = rootCause;\n        Object.setPrototypeOf(this, OperationError.prototype);\n        // using rootCause.stack ensures that the resulting error will have the original\n        // message + call stack. If that's not an option, we create a new\n        // stack... which is better than nothing, but it will look like\n        // OperationError is the source of the error\n        this.stack = getWithDefault(rootCause, \"stack\", new Error().stack);\n    }\n}\n\nexport { OperationError as O };\n","import { _ as __assign } from './request-c15cc2af.js';\n\n/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Helper for methods with lots of first order request options to pass through as request parameters.\n */\nfunction appendCustomParams(customOptions, keys, baseOptions) {\n    var requestOptionsKeys = [\n        \"params\",\n        \"httpMethod\",\n        \"rawResponse\",\n        \"authentication\",\n        \"portal\",\n        \"fetch\",\n        \"maxUrlLength\",\n        \"headers\"\n    ];\n    var options = __assign(__assign({ params: {} }, baseOptions), customOptions);\n    // merge all keys in customOptions into options.params\n    options.params = keys.reduce(function (value, key) {\n        if (customOptions[key] || typeof customOptions[key] === \"boolean\") {\n            value[key] = customOptions[key];\n        }\n        return value;\n    }, options.params);\n    // now remove all properties in options that don't exist in IRequestOptions\n    return requestOptionsKeys.reduce(function (value, key) {\n        if (options[key]) {\n            value[key] = options[key];\n        }\n        return value;\n    }, {});\n}\n\nexport { appendCustomParams as a };\n","/**\n* adlib - v3.0.7 - Tue Oct 04 2022 12:08:15 GMT-0400 (Eastern Daylight Time)\n* Copyright (c) 2017-2022 Dave Bouwman / Esri\n* Apache-2.0\n*/\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\n/**\n * Return the value of a deep property, using a path.\n */\nvar getWithDefault = function (obj, path, defaultValue) {\n  if ( defaultValue === void 0 ) defaultValue = undefined;\n\n  return path\n  .split('.')\n  .reduce(function (o, p) { return o ? o[p] : defaultValue; }, obj);\n};\n\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\n/**\n * Simply Map over the props of an object\n */\nfunction mapValues (obj, fn) {\n  var keys = Object.keys(obj);\n  // console.info(`keys: ${keys}`);\n  var newObject = keys.reduce(function(acc, currentKey) {\n    // console.log(`   acc: ${JSON.stringify(acc)} curKey: ${currentKey}`);\n    acc[currentKey] = fn(obj[currentKey], currentKey, obj);\n    return acc;\n  }, {});\n  // console.info(`  output: ${JSON.stringify(newObject)}`);\n  return newObject;\n}\n\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\nvar isDate = function (v) { return v instanceof Date; };\n\nvar isFunction = function (v) { return typeof v === 'function'; };\n\nvar isObject = function (v) { return typeof v === 'object'; };\n\nvar isRegExp = function (v) { return v instanceof RegExp; };\n\nfunction deepMapValues(object, callback, propertyPath) {\n  propertyPath = propertyPath || '';\n  if(Array.isArray(object)){\n    return object.map(deepMapValuesIteratee);\n  }\n  else if(object && isObject(object) && !isDate(object) && !isRegExp(object) && !isFunction(object)){\n    return Object.assign({}, object, mapValues(object, deepMapValuesIteratee));\n  }\n  else {\n    var output = callback(object, propertyPath);\n    return output;\n  }\n\n  function deepMapValuesIteratee(value, key){\n    var valuePath = propertyPath ? propertyPath + '.' + key : key;\n    return deepMapValues(value, callback, valuePath);\n  }\n}\n\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\nvar isObject$1 = function (v) { return typeof v === 'object'; };\n\n/**\n * Trim a tree decorated with `{{delete:NNN}}`\n */\nfunction arborist (object, propertyPath) {\n\n  if(Array.isArray(object)){\n    // filter out any nulls...\n    var arrResults = object.map(iteratee).filter(function (entry) {\n      // need to ensure entry is actually NULL vs just falsey\n      return entry !== null && entry !== undefined;\n    });\n    return pruneArray(arrResults);\n\n  } if(object && isObject$1(object) ) {\n\n    return pruneObject(mapValues(object, iteratee));\n\n  } else {\n\n    return getPropertyValue(object);\n  }\n\n  function iteratee(value, key){\n    return arborist(value);\n  }\n}\n\n/**\n * Prune an array\n * For all the entries in the array...\n *    if the entry is a naked string and contains `{{delete:NNN}}`\n *      get maximum NNN value\n *    then\n *      if maxN === 0\n *        return an empty array\n *      if maxN > 0\n *        return `{{delete:maxN-1}}`\n *    else\n *      return array\n */\nfunction pruneArray (arrResults) {\n  var res = arrResults;\n  // is any entry a string w/ {{delete}}?\n  var maxLevel = arrResults.reduce(function (maxLevel, e) {\n    if (isString(e) && hasDelete(e)) {\n      var lvl = getLevel(e);\n      if (lvl > maxLevel) {\n        maxLevel = lvl;\n      }\n    }\n    return maxLevel;\n  }, -1);\n\n  if (maxLevel > -1) {\n    if (maxLevel === 0) {\n      res = [];\n    } else {\n      res = \"{{delete:\" + (maxLevel - 1) + \"}}\";\n    }\n  }\n\n  return res;\n}\n\n\nfunction pruneObject (objResults) {\n  // console.log(`   pruneObject:: working on ${JSON.stringify(objResults)}`);\n  var startVal = {obj: {}, maxLevel: -1 };\n  var res;\n  // cook a new clone object, and track the maxLevel\n  var reduction = Object.keys(objResults).reduce(function (acc, key) {\n    var val = objResults[key];\n    if (isString(val) && hasDelete(val)) {\n      var lvl = getLevel(val);\n      if (lvl > acc.maxLevel) {\n        acc.maxLevel = lvl;\n      }\n    } else {\n      // only add the prop if it's not a `{{delete:NNN}}`\n      acc.obj[key] = val;\n    }\n    return acc;\n  }, startVal);\n  // if -1, we return entire object...\n  // if 0 we just remove the prop...\n  // if 1 we return undefined...\n  // if > 1 we return the deleteVal\n  if (reduction.maxLevel > 0 ) {\n    if (reduction.maxLevel === 1) {\n      res = undefined;\n    } else {\n      res = \"{{delete:\" + (reduction.maxLevel - 1) + \"}}\";\n    }\n  } else {\n    res = reduction.obj;\n  }\n\n  // console.log(`     returning ${JSON.stringify(res)}`);\n  return res;\n}\n\n/**\n * Get a value for a property, handling the `{{delete:NNN}}` syntax\n */\nfunction getPropertyValue (val){\n  var output = val;\n\n  if (typeof val === 'string') {\n    if (hasDelete(val)) {\n      output = getDeleteValue(val);\n    }\n  }\n  return output;\n}\n\n/**\n * Given a string with `{{delete:NNN}}`\n * if NNN === 0 return undefined\n * else return `{{delete:NNN - 1}}`\n */\nfunction getDeleteValue (val) {\n  var output = val;\n  var level = getLevel(val);\n  if (level === 0) {\n    output = undefined;\n  } else {\n    output = \"{{delete:\" + level + \"}}\";\n  }\n  return output;\n}\n\n/**\n * Extract the level from a `{{delete:NNN}}`\n */\nvar getLevel = function (value) { return parseInt(value.replace(/{|}/g, '').split(':')[1]); };\n\n/**\n * Simple check if a value has `{{delete` in it\n */\nfunction hasDelete (value) {\n  if (value && typeof value === 'string') {\n    return value.indexOf('{{delete') > -1;\n  } else {\n    return false;\n  }\n}\n\nvar isString = function (v) { return typeof v === 'string'; };\n\n/*   Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\n/**\n * Optional Transform\n * Supports a declarative syntax for optional template properties\n *\n * {{some.object.key:optional:2}}\n *\n * In this example, if defined, the value of `some.object.key` is used.\n * If not defined, then the optional transform is utilized\n * and a post-processing step is executed which will remove two parent levels\n * from the output structure\n */\n\nfunction optionalTransform(key, value, settings, level) {\n  if ( level === void 0 ) level = 0;\n\n  // console.log(`optional: ${key}, ${value}, ${level}`);\n  var val = value;\n  if (!value) {\n    val = \"{{delete:\" + level + \"}}\";\n  }\n  return val;\n}\n\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\n\n/**\n * ```js\n * import { cloneObject } from \"./cloneObject\";\n * const original = { foo: \"bar\" }\n * const copy = cloneObject(original)\n * copy.foo // \"bar\"\n * copy === original // false\n * ```\n * Make a deep clone, including arrays. Does not handle functions!\n *\n * Copied from @esri/hub-common to avoid bringing along that package's\n * dependencies, @esri/hub-common should be made a dependency if more\n * functions are needed from it in the future\n */\nvar cloneObject = function (obj) {\n  var clone = {};\n  // first check array\n  if (Array.isArray(obj)) {\n    clone = obj.map(cloneObject);\n  } else if (typeof obj === \"object\") {\n    for (var i in obj) {\n      if (obj[i] != null && typeof obj[i] === \"object\") {\n        clone[i] = cloneObject(obj[i]);\n      } else {\n        clone[i] = obj[i];\n      }\n    }\n  } else {\n    clone = obj;\n  }\n  return clone;\n};\n\n/*    Copyright (c) 2017-2019 Esri Inc.\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n       http://www.apache.org/licenses/LICENSE-2.0\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License. */\nvar HANDLEBARS = /{{\\s*?[\\w].*?}}/g;\n\nvar isString$1 = function (v) { return typeof v === 'string'; };\n\nfunction _swap(parameter, settings, transforms) {\n  var value;\n  // console.info(`_swap: param: ${parameter}`);\n  // Parameters can optionally call transform functions\n  // e.g. \"{{ipsum:translateLatin}}\"\n  // so extract {{<parameter>:<transformFunction>:<key||value>}}\n  var transformCheck = parameter.split(':');\n  if (transformCheck.length > 1) {\n    // we have a request to use a transform...\n    var key = transformCheck[0];\n    var fn = transformCheck[1];\n    // we default to using the value...\n    var param;\n    if (transformCheck[2]) {\n      param = transformCheck[2];\n    }\n    if (transforms && transforms[fn] && typeof transforms[fn] === 'function') {\n      // get the value from the param\n      value = getWithDefault(settings, key);\n      // transform it...\n      value = transforms[fn](key, value, settings, param);\n    } else {\n      throw new Error((\"Attempted to apply non-existant transform \" + fn + \" on \" + key + \" with params \" + parameter));\n    }\n  } else {\n    // we just get the value\n    value = getWithDefault(settings, parameter);\n  }\n  return value;\n}\n\n/**\n * Does a propertyPath exist on a target\n */\nfunction _propertyPathExists(propertyPath, target) {\n  // remove any transforms\n  var cleanPath = propertyPath.split(':')[0];\n  var value = getWithDefault(target, cleanPath, null);\n  if (value !== null && value !== undefined) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Is the value considered valid\n */\nfunction _isValue(val) {\n  return val || val === '' || val === 0;\n}\n\n// Combine a Template with Settings\nfunction adlib(template, settings, transforms) {\n  if ( transforms === void 0 ) transforms = null;\n\n  transforms = cloneObject(transforms) || {};\n  if (transforms.optional) {\n    throw new Error('Please do not pass in an `optional` transform; adlib provides that internally.');\n  } else {\n    transforms.optional = optionalTransform;\n  }\n\n  var res = deepMapValues(template, function (templateValue, templatePath) {\n    // Only string templates\n    if (!isString$1(templateValue)) {\n      return templateValue;\n    }\n\n    // When we match \"{{layer.fields..}}\"\n    var settingsValue;\n\n    var hbsEntries = templateValue.match(HANDLEBARS);\n\n    if (hbsEntries && hbsEntries.length) {\n      // console.log(`Got a ${hbsEntries.length} handlebar entries...`);\n      // iterate over the entries...\n      var values = hbsEntries.map(function (entry) {\n        var isStaticValue = false;\n        // console.info(`Matched ${entry}...`);\n        // strip off the curlies and trim any leading/trailing whitespace...\n        var path = entry.replace(/{|}/g, '').trim();\n        // check for || which indicate a hiearchy\n        if (path.indexOf('||') > -1) {\n          var paths = path.split('||').map(function (path) { return path.trim(); });\n          var numberOfPaths = paths.length;\n          // here we check each option, in order, and return the first with a value in the hash, OR the last\n          path = paths.find(function (pathOption, idx) {\n            // console.info(`Checking to see if ${pathOption} is in settings hash...`);\n            var exists = _propertyPathExists(pathOption, settings);\n            if (!exists) {\n              if ((idx + 1) === numberOfPaths) {\n                // console.info(`Got to last entry, and still did not find anything... assuming ${pathOption} is a static value...`);\n                isStaticValue = true;\n                // check if we can convert this into a number...\n                if (!isNaN(pathOption)) {\n                  pathOption = parseInt(pathOption);\n                }\n                return pathOption;\n              } else {\n                return false;\n              }\n            } else {\n              return pathOption;\n            }\n          });\n        }\n        // setup the return value...\n        var result = {\n          key: entry,\n          value: path\n        };\n        // if we have a valid object path, value comes from _swap\n        if (!isStaticValue) {\n          var swap = _swap(path, settings, transforms);\n          result.value = _isValue(swap) ? swap : entry;\n        }\n        // console.info(`Value: ${JSON.stringify(result)}`);\n        return result;\n      });\n\n      values.forEach(function (v) {\n        // console.log(`Comparing ${templateValue} with ${v.key}`)\n        if (templateValue === v.key) {\n          // console.log(`template matches key, returning ${v.value}`);\n          // if the value is a string...\n          if (typeof v.value === 'string') {\n            // and it's numeric-ish and does not have leading 0s\n            if (!isNaN(v.value) && v.value !== '') {\n              // and has a . in it...\n              if (v.value.indexOf('.') > -1) {\n                // parse as a float...\n                v.value = parseFloat(v.value);\n\n              } else {\n                // if no leading 0s, parse as an int\n                if (v.value[0] !== '0'){ \n                  v.value = parseInt(v.value);\n                }\n              }\n            }\n          }\n          settingsValue = v.value;\n        } else {\n          // a little extra regex dance to match the '||' because '|'\n          // is a Very Special Regex Character and we need to super\n          // escape them for the regex to work\n          // console.log(`KEY ${v.key}`);\n          // console.log(`TEMPLATE ${templateValue}`);\n          templateValue = templateValue.replace(v.key, v.value);\n          // console.log(`template did not match key, interpolating value ${v.value} into template to produce ${templateValue}`);\n        }\n      });\n\n      // if we have a value, let's return that...\n      if (_isValue(settingsValue)) {\n        // console.log(`We found a value so we return it ${settingsValue}`);\n        return settingsValue;\n      } else {\n        // console.log(`We did not find a value so we return the template ${templateValue}`);\n        // but if we don't, lets return the template itself\n        return templateValue;\n      }\n    } else {\n      // console.log(`We did not find a hbs match, so we return the template ${templateValue}`);\n      // no match, return the templateValue...\n      return templateValue;\n    }\n  });\n  return arborist(res);\n}\n\n/**\n * Interpolates handlebars-style placeholders on an object graph\n * @param template\n * @param settings\n * @param transforms\n */\nfunction interpolate(template, settings, transforms) {\n    return adlib(template, settings, transforms);\n}\n\nexport { interpolate as i };\n","import { c as constructSlug, g as getUniqueSlug, s as setSlugKeyword, P as PropertyMapper, b as getPropertyMap, d as createModel, u as upsertModelResources, e as computeProps, E as EntityResourceMap, f as getModel, h as updateModel } from './getPropertyMap-7bed72e1.js';\nimport { u as unique, c as cloneObject } from './util-2150bd9e.js';\nimport { i as interpolate } from './interpolate-501f9adb.js';\n\n/**\n * Maps over the values of an object (one level deep)\n * @param obj\n * @param fn\n * @private\n */\nfunction _mapValues(obj, fn) {\n    const keys = Object.keys(obj);\n    const newObject = keys.reduce(function (acc, currentKey) {\n        acc[currentKey] = fn(obj[currentKey], currentKey, obj);\n        return acc;\n    }, {});\n    return newObject;\n}\n\n/**\n * Maps over _all_ values of an object graph\n * @param object\n * @param callback function to be called on each value\n * @param propertyPath an initial path (optional, only changes what is passed to the callback as the \"path\" argument)\n * @private\n */\nfunction _deepMapValues(object, callback, propertyPath) {\n    propertyPath = propertyPath || \"\";\n    if (Array.isArray(object)) {\n        return object.map(deepMapValuesIteratee);\n    }\n    else if (object &&\n        _isObject(object) &&\n        !_isDate(object) &&\n        !_isRegExp(object) &&\n        !_isFunction(object)) {\n        return Object.assign({}, object, _mapValues(object, deepMapValuesIteratee));\n    }\n    else {\n        return callback(object, propertyPath);\n    }\n    function deepMapValuesIteratee(value, key) {\n        const valuePath = \"\" + (propertyPath ? propertyPath + \".\" + key : key);\n        return _deepMapValues(value, callback, valuePath);\n    }\n}\n/**\n * Return if the passed entry is a Date\n * @param v\n * @private\n */\nfunction _isDate(v) {\n    return v instanceof Date;\n}\n/**\n * Is this a function?\n * @param v\n * @private\n */\nfunction _isFunction(v) {\n    return typeof v === \"function\";\n}\n/**\n * Is this an Object?\n * @param v\n * @private\n */\nfunction _isObject(v) {\n    return typeof v === \"object\";\n}\n/**\n * Is this a regexp?\n * @param v\n * @private\n */\nfunction _isRegExp(v) {\n    return v instanceof RegExp;\n}\n\n/**\n * Traverse a graph locating an entry that passes the predicate\n *\n * @param object\n * @param predicate\n * @returns\n */\nfunction deepFind(object, predicate) {\n    if (Array.isArray(object)) {\n        return object.reduce((acc, entry) => {\n            if (predicate(entry)) {\n                acc = entry;\n            }\n            else {\n                if (isFindable(entry)) {\n                    const maybe = deepFind(entry, predicate);\n                    if (maybe) {\n                        acc = maybe;\n                    }\n                }\n            }\n            return acc;\n        }, undefined);\n    }\n    else if (isFindable(object)) {\n        if (predicate(object)) {\n            return object;\n        }\n        else {\n            return Object.keys(object).reduce((acc, entry) => {\n                if (isFindable(object[entry])) {\n                    const maybe = deepFind(object[entry], predicate);\n                    if (maybe) {\n                        acc = maybe;\n                    }\n                }\n                return acc;\n            }, undefined);\n        }\n    }\n    else {\n        return undefined;\n    }\n}\nfunction isFindable(object) {\n    let result = false;\n    if (object &&\n        _isObject(object) &&\n        !_isDate(object) &&\n        !_isRegExp(object) &&\n        !_isFunction(object)) {\n        result = true;\n    }\n    return result;\n}\n\nvar PROJECT_STATUSES;\n(function (PROJECT_STATUSES) {\n    PROJECT_STATUSES[\"notStarted\"] = \"notStarted\";\n    PROJECT_STATUSES[\"inProgress\"] = \"inProgress\";\n    PROJECT_STATUSES[\"complete\"] = \"complete\";\n})(PROJECT_STATUSES || (PROJECT_STATUSES = {}));\n\nvar UiSchemaRuleEffects;\n(function (UiSchemaRuleEffects) {\n    UiSchemaRuleEffects[\"SHOW\"] = \"SHOW\";\n    UiSchemaRuleEffects[\"HIDE\"] = \"HIDE\";\n    UiSchemaRuleEffects[\"DISABLE\"] = \"DISABLE\";\n    UiSchemaRuleEffects[\"NONE\"] = \"\";\n})(UiSchemaRuleEffects || (UiSchemaRuleEffects = {}));\nvar UiSchemaElementTypes;\n(function (UiSchemaElementTypes) {\n    UiSchemaElementTypes[\"section\"] = \"Section\";\n    UiSchemaElementTypes[\"step\"] = \"Step\";\n    UiSchemaElementTypes[\"control\"] = \"Control\";\n    UiSchemaElementTypes[\"layout\"] = \"Layout\";\n    UiSchemaElementTypes[\"slot\"] = \"Slot\";\n})(UiSchemaElementTypes || (UiSchemaElementTypes = {}));\nvar UiSchemaSectionTypes;\n(function (UiSchemaSectionTypes) {\n    UiSchemaSectionTypes[\"accordion\"] = \"accordion\";\n    UiSchemaSectionTypes[\"stepper\"] = \"stepper\";\n})(UiSchemaSectionTypes || (UiSchemaSectionTypes = {}));\n\nconst HubProjectSchema = {\n    required: [\"name\"],\n    type: \"object\",\n    properties: {\n        name: {\n            type: \"string\",\n            minLength: 1,\n            maxLength: 250,\n        },\n        summary: {\n            type: \"string\",\n        },\n        description: {\n            type: \"string\",\n        },\n        status: {\n            type: \"string\",\n            default: PROJECT_STATUSES.notStarted,\n            enum: Object.keys(PROJECT_STATUSES),\n        },\n        extent: {\n            type: \"object\",\n        },\n        view: {\n            type: \"object\",\n            properties: {\n                featuredContentIds: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\",\n                    },\n                },\n                featuredImage: {\n                    type: \"object\",\n                },\n                showMap: {\n                    type: \"boolean\",\n                },\n                timeline: {\n                    type: \"object\",\n                },\n            },\n        },\n    },\n};\n/**\n * Minimal UI Schema for Hub Project\n */\nconst HubProjectCreateUiSchema = {\n    type: \"Layout\",\n    elements: [\n        {\n            type: \"Section\",\n            options: { section: \"stepper\", scale: \"l\" },\n            elements: [\n                {\n                    type: \"Step\",\n                    labelKey: \"{{i18nScope}}.sections.details.label\",\n                    elements: [\n                        {\n                            type: \"Section\",\n                            labelKey: \"{{i18nScope}}.sections.basicInfo.label\",\n                            elements: [\n                                {\n                                    labelKey: \"{{i18nScope}}.fields.name.label\",\n                                    scope: \"/properties/name\",\n                                    type: \"Control\",\n                                },\n                                {\n                                    labelKey: \"{{i18nScope}}.fields.summary.label\",\n                                    scope: \"/properties/summary\",\n                                    type: \"Control\",\n                                    options: {\n                                        control: \"hub-field-input-input\",\n                                        type: \"textarea\",\n                                        helperText: {\n                                            labelKey: \"{{i18nScope}}.fields.summary.helperText\",\n                                        },\n                                    },\n                                },\n                                {\n                                    labelKey: \"{{i18nScope}}.fields.description.label\",\n                                    scope: \"/properties/description\",\n                                    type: \"Control\",\n                                    options: {\n                                        control: \"hub-field-input-input\",\n                                        type: \"textarea\",\n                                        helperText: {\n                                            labelKey: \"{{i18nScope}}.fields.description.helperText\",\n                                        },\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                },\n                {\n                    type: \"Step\",\n                    labelKey: \"{{i18nScope}}.sections.location.label\",\n                    rule: {\n                        effect: UiSchemaRuleEffects.DISABLE,\n                        condition: {\n                            scope: \"/properties/name\",\n                            schema: { const: \"\" },\n                        },\n                    },\n                    elements: [\n                        {\n                            type: \"Section\",\n                            labelKey: \"{{i18nScope}}.sections.location.label\",\n                            elements: [\n                                {\n                                    scope: \"/properties/extent\",\n                                    type: \"Control\",\n                                    options: {\n                                        control: \"hub-field-input-boundary-picker\",\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                },\n                {\n                    type: \"Step\",\n                    labelKey: \"{{i18nScope}}.sections.statusAndTimeline.label\",\n                    rule: {\n                        effect: UiSchemaRuleEffects.DISABLE,\n                        condition: {\n                            scope: \"/properties/name\",\n                            schema: { const: \"\" },\n                        },\n                    },\n                    elements: [\n                        {\n                            type: \"Section\",\n                            labelKey: \"{{i18nScope}}.sections.status.label\",\n                            elements: [\n                                {\n                                    labelKey: \"{{i18nScope}}.fields.status.label\",\n                                    scope: \"/properties/status\",\n                                    type: \"Control\",\n                                    options: {\n                                        control: \"hub-field-input-select\",\n                                        enum: {\n                                            i18nScope: \"{{i18nScope}}.fields.status.enum\",\n                                        },\n                                    },\n                                },\n                            ],\n                        },\n                        {\n                            type: \"Section\",\n                            labelKey: \"{{i18nScope}}.sections.timeline.label\",\n                            elements: [\n                                {\n                                    scope: \"/properties/view/properties/timeline\",\n                                    type: \"Control\",\n                                    options: {\n                                        control: \"arcgis-hub-timeline-editor\",\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                },\n            ],\n        },\n    ],\n};\n/**\n * Complete UI Schema for Hub Project\n */\nconst HubProjectEditUiSchema = {\n    type: \"Layout\",\n    elements: [\n        {\n            type: \"Section\",\n            labelKey: \"{{i18nScope}}.sections.basicInfo.label\",\n            elements: [\n                {\n                    labelKey: \"{{i18nScope}}.fields.name.label\",\n                    scope: \"/properties/name\",\n                    type: \"Control\",\n                },\n                {\n                    labelKey: \"{{i18nScope}}.fields.summary.label\",\n                    scope: \"/properties/summary\",\n                    type: \"Control\",\n                    options: {\n                        control: \"hub-field-input-input\",\n                        type: \"textarea\",\n                        helperText: {\n                            labelKey: \"{{i18nScope}}.fields.summary.helperText\",\n                        },\n                    },\n                },\n                {\n                    labelKey: \"{{i18nScope}}.fields.description.label\",\n                    scope: \"/properties/description\",\n                    type: \"Control\",\n                    options: {\n                        control: \"hub-field-input-input\",\n                        type: \"textarea\",\n                        helperText: {\n                            labelKey: \"{{i18nScope}}.fields.description.helperText\",\n                        },\n                    },\n                },\n                {\n                    labelKey: \"{{i18nScope}}.fields.featuredImage.label\",\n                    scope: \"/properties/view/properties/featuredImage\",\n                    type: \"Control\",\n                    options: {\n                        control: \"hub-field-input-image-picker\",\n                        maxWidth: 727,\n                        maxHeight: 484,\n                        aspectRatio: 1.5,\n                        helperText: {\n                            labelKey: \"{{i18nScope}}.fields.featuredImage.helperText\",\n                        },\n                        sizeDescription: {\n                            labelKey: \"{{i18nScope}}.fields.featuredImage.sizeDescription\",\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            type: \"Section\",\n            labelKey: \"{{i18nScope}}.sections.location.label\",\n            elements: [\n                {\n                    scope: \"/properties/extent\",\n                    type: \"Control\",\n                    options: {\n                        control: \"hub-field-input-boundary-picker\",\n                    },\n                },\n                {\n                    labelKey: \"{{i18nScope}}.fields.showMap.label\",\n                    scope: \"/properties/view/properties/showMap\",\n                    type: \"Control\",\n                },\n            ],\n        },\n        {\n            type: \"Section\",\n            labelKey: \"{{i18nScope}}.sections.status.label\",\n            elements: [\n                {\n                    scope: \"/properties/status\",\n                    type: \"Control\",\n                    labelKey: \"{{i18nScope}}.fields.status.label\",\n                    options: {\n                        control: \"hub-field-input-select\",\n                        enum: {\n                            i18nScope: \"{{i18nScope}}.fields.status.enum\",\n                        },\n                    },\n                },\n            ],\n        },\n        {\n            type: \"Section\",\n            labelKey: \"{{i18nScope}}.sections.timeline.label\",\n            elements: [\n                {\n                    scope: \"/properties/view/properties/timeline\",\n                    type: \"Control\",\n                    options: {\n                        control: \"arcgis-hub-timeline-editor\",\n                    },\n                },\n            ],\n        },\n        {\n            type: \"Section\",\n            labelKey: \"{{i18nScope}}.sections.featuredContent.label\",\n            options: {\n                helperText: {\n                    labelKey: \"{{i18nScope}}.sections.featuredContent.helperText\",\n                },\n            },\n            elements: [\n                {\n                    scope: \"/properties/view/properties/featuredContentIds\",\n                    type: \"Control\",\n                    options: {\n                        control: \"hub-field-input-gallery-picker\",\n                        targetEntity: \"item\",\n                        limit: 4,\n                    },\n                },\n            ],\n        },\n    ],\n};\n\nconst HUB_PROJECT_ITEM_TYPE = \"Hub Project\";\n/**\n * Default values of a IHubProject\n */\nconst DEFAULT_PROJECT = {\n    catalog: { schemaVersion: 0 },\n    name: \"No title provided\",\n    permissions: [],\n    schemaVersion: 1,\n    status: PROJECT_STATUSES.notStarted,\n    tags: [],\n    typeKeywords: [HUB_PROJECT_ITEM_TYPE],\n    view: {\n        contacts: [],\n        featuredContentIds: [],\n        showMap: true,\n    },\n};\n/**\n * Default values for a new HubProject Model\n */\nconst DEFAULT_PROJECT_MODEL = {\n    item: {\n        type: HUB_PROJECT_ITEM_TYPE,\n        title: \"No Title Provided\",\n        description: \"\",\n        snippet: \"\",\n        tags: [],\n        typeKeywords: [HUB_PROJECT_ITEM_TYPE],\n        properties: {\n            slug: \"\",\n            schemaVersion: 1,\n        },\n    },\n    data: {\n        display: \"about\",\n        permissions: [],\n        status: PROJECT_STATUSES.notStarted,\n        view: {\n            contacts: [],\n            featuredContentIds: [],\n            showMap: true,\n        },\n    },\n};\n\n/**\n * For a given property name, extract an array of the unique values of that property\n * This was designed to work with string values, so no promises about other types\n * @param obj\n */\nfunction deepGetPropValues(obj, prop) {\n    const props = [];\n    _deepMapValues(obj, (value, path) => {\n        // if the path ends with the property we're looking for then add it to the list\n        if (path.split(\".\").pop() === prop) {\n            props.push(value);\n        }\n        return value;\n    });\n    return props.filter(unique);\n}\n\n/**\n * Get all the property names from a UI schema.\n *\n * Used to subset a json schema to only those properties used in a UI Schema\n * @param uiSchema\n * @returns\n */\nfunction getUiSchemaProps(uiSchema) {\n    return deepGetPropValues(uiSchema, \"scope\")\n        .map((scope) => {\n        return scope.split(\"/\")[2];\n    })\n        .filter(unique);\n}\n\n/**\n * Subset a json schema to only those properties specified.\n * @param schema\n * @param props\n * @returns\n */\nfunction subsetSchema(schema, props) {\n    const subset = cloneObject(schema);\n    Object.keys(subset.properties).forEach((key) => {\n        if (props.indexOf(key) === -1) {\n            delete subset.properties[key];\n        }\n    });\n    return subset;\n}\n\n/**\n * Subset a json schema to only those properties needed by the uiSchema\n * @param schema\n * @param uiSchema\n * @returns\n */\nfunction filterSchemaToUiSchema(schema, uiSchema) {\n    const propsToKeep = getUiSchemaProps(uiSchema);\n    schema = subsetSchema(schema, propsToKeep);\n    return schema;\n}\n\n/**\n * Apply a set of run-time configurations into the UI schema so\n * the controls can be configured for the current environment.\n * TODO: Add Example\n * @param schema\n * @param options\n * @returns\n */\nfunction applyUiSchemaElementOptions(schema, options = []) {\n    // return a clone so we don't mutate the passed in schema\n    const cloneSchema = cloneObject(schema);\n    // merge the options into the uiSchema\n    // hoist into applyElementOptions fn\n    options.forEach((elementOptions) => {\n        // find the entry in the uiSchema for the elementOptions.scope,\n        // and extend the elementOptions.options into the .options property\n        const elConfig = deepFind(cloneSchema, (entry) => {\n            // we dont want to apply this to rules\n            // Note: If this logic becomes more complex, we may need to\n            // write a function that's more specific to the uiSchema\n            return !(entry === null || entry === void 0 ? void 0 : entry.schema) && (entry === null || entry === void 0 ? void 0 : entry.scope) === elementOptions.scope;\n        });\n        if (elConfig) {\n            elConfig.options = Object.assign(Object.assign({}, (elConfig.options || {})), elementOptions.options);\n        }\n    });\n    return cloneSchema;\n}\n\n/**\n * Takes the resources prop from an entity model and returns an array of\n * objects with a filename and resource to be created.\n *\n * @param {*} resources\n * @return {*}\n */\nfunction configureBaseResources(resources, entityResourceMap) {\n    return Object.entries(resources).reduce((acc, resourceProp) => {\n        const fileName = entityResourceMap[resourceProp[0]];\n        if (fileName) {\n            acc.push({\n                filename: fileName,\n                resource: resourceProp[1],\n            });\n        }\n        return acc;\n    }, []);\n}\n\n// Note - we separate these imports so we can cleanly spy on things in tests\n/**\n * @private\n * Create a new Hub Project item\n *\n * Minimal properties are name and org\n *\n * @param project\n * @param requestOptions\n */\nasync function createProject(partialProject, requestOptions) {\n    let resources;\n    // merge incoming with the default\n    // this expansion solves the typing somehow\n    const project = Object.assign(Object.assign({}, DEFAULT_PROJECT), partialProject);\n    // Create a slug from the title if one is not passed in\n    if (!project.slug) {\n        project.slug = constructSlug(project.name, project.orgUrlKey);\n    }\n    // Ensure slug is  unique\n    project.slug = await getUniqueSlug({ slug: project.slug }, requestOptions);\n    // add slug to keywords\n    project.typeKeywords = setSlugKeyword(project.typeKeywords, project.slug);\n    // Map project object onto a default project Model\n    const mapper = new PropertyMapper(getPropertyMap());\n    // create model from object, using the default model as a starting point\n    let model = mapper.objectToModel(project, cloneObject(DEFAULT_PROJECT_MODEL));\n    // if we have resources disconnect them from the model for now.\n    if (model.resources) {\n        resources = configureBaseResources(cloneObject(model.resources), EntityResourceMap);\n        delete model.resources;\n    }\n    // create the item\n    model = await createModel(model, requestOptions);\n    // if we have resources, create them, then re-attach them to the model\n    if (resources) {\n        model = await upsertModelResources(model, resources, requestOptions);\n    }\n    // map the model back into a IHubProject\n    let newProject = mapper.modelToObject(model, {});\n    newProject = computeProps(model, newProject, requestOptions);\n    // and return it\n    return newProject;\n}\n/**\n * @private\n * Update a Hub Project\n * @param project\n * @param requestOptions\n */\nasync function updateProject(project, requestOptions) {\n    let resources;\n    // verify that the slug is unique, excluding the current project\n    project.slug = await getUniqueSlug({ slug: project.slug, existingId: project.id }, requestOptions);\n    // get the backing item & data\n    const model = await getModel(project.id, requestOptions);\n    // create the PropertyMapper\n    const mapper = new PropertyMapper(getPropertyMap());\n    // Note: Although we are fetching the model, and applying changes onto it,\n    // we are not attempting to handle \"concurrent edit\" conflict resolution\n    // but this is where we would apply that sort of logic\n    const modelToUpdate = mapper.objectToModel(project, model);\n    // if we have resources disconnect them from the model for now.\n    if (modelToUpdate.resources) {\n        resources = configureBaseResources(cloneObject(modelToUpdate.resources), EntityResourceMap);\n        delete modelToUpdate.resources;\n    }\n    // update the backing item\n    let updatedModel = await updateModel(modelToUpdate, requestOptions);\n    // if we have resources, create them, then re-attach them to the model\n    if (resources) {\n        updatedModel = await upsertModelResources(updatedModel, resources, requestOptions);\n    }\n    // now map back into a project and return that\n    let updatedProject = mapper.modelToObject(updatedModel, project);\n    updatedProject = computeProps(model, updatedProject, requestOptions);\n    // the casting is needed because modelToObject returns a `Partial<T>`\n    // where as this function returns a `T`\n    return updatedProject;\n}\n/**\n * Get the editor config for for the HubProject entity.\n * @param i18nScope Translation scope to be interpolated into the schemas\n * @param type\n * @param options Optional hash of Element component options\n * @returns\n */\nasync function getHubProjectEditorConfig(i18nScope, type, options = []) {\n    // schema is always the entire schema\n    let schema = cloneObject(HubProjectSchema);\n    // uiSchema is the complete (edit) schema, unless otherwise specified\n    let uiSchema = cloneObject(HubProjectEditUiSchema);\n    // by default we don't need to filter the schema b/c it's the entire schema\n    let filterSchema = false;\n    // if another schema is requested, we need to use that UI schema\n    // and the subset the overall schema down to just the properties\n    // used in the UI schema\n    switch (type) {\n        case \"create\":\n            uiSchema = cloneObject(HubProjectCreateUiSchema);\n            filterSchema = true;\n            break;\n    }\n    if (filterSchema) {\n        // filter out properties not used in the UI schema\n        schema = filterSchemaToUiSchema(schema, uiSchema);\n    }\n    // apply the options\n    uiSchema = applyUiSchemaElementOptions(uiSchema, options);\n    // interpolate the i18n scope into the uiSchema\n    uiSchema = interpolate(uiSchema, { i18nScope });\n    return Promise.resolve({ schema, uiSchema });\n}\n\nexport { createProject as c, getHubProjectEditorConfig as g, updateProject as u };\n","import { _ as __assign } from './tslib.es6-3669ad41.js';\nimport { g as getPortalUrl } from './get-portal-url-423a76f5.js';\nimport { r as request } from './request-c15cc2af.js';\nimport { a as appendCustomParams } from './append-custom-params-fd9b7e72.js';\n\n/* Copyright (c) 2017-2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Serialize an item and its data into a json format accepted by the Portal API for create and update operations\n *\n * @param item Item to be serialized\n * @returns a formatted json object to be sent to Portal\n */\nfunction serializeItem(item) {\n    // create a clone so we're not messing with the original\n    var clone = JSON.parse(JSON.stringify(item));\n    // binary data needs POSTed as a `file`\n    // JSON object literals should be passed as `text`.\n    if (clone.data) {\n        (typeof Blob !== \"undefined\" && item.data instanceof Blob) ||\n            // Node.js doesn't implement Blob\n            item.data.constructor.name === \"ReadStream\"\n            ? (clone.file = item.data)\n            : (clone.text = item.data);\n        delete clone.data;\n    }\n    return clone;\n}\n/**\n * `requestOptions.owner` is given priority, `requestOptions.item.owner` will be checked next. If neither are present, `authentication.getUserName()` will be used instead.\n */\nfunction determineOwner(requestOptions) {\n    if (requestOptions.owner) {\n        return Promise.resolve(requestOptions.owner);\n    }\n    else if (requestOptions.item && requestOptions.item.owner) {\n        return Promise.resolve(requestOptions.item.owner);\n    }\n    else if (requestOptions.authentication &&\n        requestOptions.authentication.getUsername) {\n        return requestOptions.authentication.getUsername();\n    }\n    else {\n        return Promise.reject(new Error(\"Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option.\"));\n    }\n}\n/**\n * checks if the extent is a valid BBox (2 element array of coordinate pair arrays)\n * @param extent\n * @returns\n */\nfunction isBBox(extent) {\n    return (Array.isArray(extent) &&\n        Array.isArray(extent[0]) &&\n        Array.isArray(extent[1]));\n}\n/**\n * Given a Bbox, convert it to a string. Some api endpoints expect a string\n *\n * @param {BBox} extent\n * @return {*}  {string}\n */\nfunction bboxToString(extent) {\n    return extent.join(\",\");\n}\n\n// eslint-disable-next-line no-control-regex\nvar CONTROL_CHAR_MATCHER = /[\\x00-\\x1F\\x7F-\\x9F\\xA0]/g;\n/**\n * Returns a new string with all control characters removed.\n *\n * Doesn't remove characters from input string.\n *\n * @param str - the string to scrub\n */\nfunction scrubControlChars(str) {\n    return str.replace(CONTROL_CHAR_MATCHER, \"\");\n}\n\n/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * ```\n * import { getItem } from \"@esri/arcgis-rest-portal\";\n * //\n * getItem(\"ae7\")\n *   .then(response);\n * // or\n * getItem(\"ae7\", { authentication })\n *   .then(response)\n * ```\n * Get an item by id. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/item.htm) for more information.\n *\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the data from the response.\n */\nfunction getItem(id, requestOptions) {\n    var url = getItemBaseUrl(id, requestOptions);\n    // default to a GET request\n    var options = __assign({ httpMethod: \"GET\" }, requestOptions);\n    return request(url, options);\n}\n/**\n * Get the fully qualified base URL to the REST end point for an item.\n * @param id Item Id\n * @param portalUrlOrRequestOptions a portal URL or request options\n * @returns URL to the item's REST end point, defaults to `https://www.arcgis.com/sharing/rest/content/items/{id}`\n */\nvar getItemBaseUrl = function (id, portalUrlOrRequestOptions) {\n    var portalUrl = typeof portalUrlOrRequestOptions === \"string\"\n        ? portalUrlOrRequestOptions\n        : getPortalUrl(portalUrlOrRequestOptions);\n    return portalUrl + \"/content/items/\" + id;\n};\n/**\n * ```\n * import { getItemData } from \"@esri/arcgis-rest-portal\";\n * //\n * getItemData(\"ae7\")\n *   .then(response)\n * // or\n * getItemData(\"ae7\", { authentication })\n *   .then(response)\n * ```\n * Get the /data for an item. If no data exists, returns `undefined`. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/item-data.htm) for more information.\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the json data for the item.\n */\nfunction getItemData(id, requestOptions) {\n    var url = getItemBaseUrl(id, requestOptions) + \"/data\";\n    // default to a GET request\n    var options = __assign({ httpMethod: \"GET\", params: {} }, requestOptions);\n    if (options.file) {\n        options.params.f = null;\n    }\n    return request(url, options).catch(function (err) {\n        /* if the item doesn't include data, the response will be empty\n           and the internal call to response.json() will fail */\n        var emptyResponseErr = RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i);\n        /* istanbul ignore else */\n        if (emptyResponseErr.test(err.message)) {\n            return;\n        }\n        else\n            throw err;\n    });\n}\n/**\n * Get the resources associated with an item\n *\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item resources.\n */\nfunction getItemResources(id, requestOptions) {\n    var url = getItemBaseUrl(id, requestOptions) + \"/resources\";\n    // Mix in num:1000 with any user supplied params\n    // Key thing - we don't want to mutate the passed in requestOptions\n    // as that may be used in other (subsequent) calls in the course\n    // of a long promise chains\n    var options = __assign({}, requestOptions);\n    options.params = __assign({ num: 1000 }, options.params);\n    return request(url, options);\n}\n/**\n * ```js\n * import { getItemResource } from \"@esri/arcgis-rest-portal\";\n *\n * // Parses contents as blob by default\n * getItemResource(\"3ef\", { fileName: \"resource.jpg\", ...})\n *  .then(resourceContents => {});\n *\n * // Can override parse method\n * getItemResource(\"3ef\", { fileName: \"resource.json\", readAs: 'json', ...})\n *  .then(resourceContents => {});\n *\n * // Get the response object instead\n * getItemResource(\"3ef\",{ rawResponse: true, fileName: \"resource.json\" })\n *  .then(response => {})\n * ```\n * Fetches an item resource and optionally parses it to the correct format.\n *\n * Note: provides JSON parse error protection by sanitizing out any unescaped control\n * characters before parsing that would otherwise cause an error to be thrown\n *\n * @param {string} itemId\n * @param {IGetItemResourceOptions} requestOptions\n */\nfunction getItemResource(itemId, requestOptions) {\n    var readAs = requestOptions.readAs || 'blob';\n    return getItemFile(itemId, \"/resources/\" + requestOptions.fileName, readAs, requestOptions);\n}\n/**\n * ```js\n * import { getItemGroups } from \"@esri/arcgis-rest-portal\";\n * //\n * getItemGroups(\"30e5fe3149c34df1ba922e6f5bbf808f\")\n *   .then(response)\n * ```\n * Lists the groups of which the item is a part, only showing the groups that the calling user can access. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/groups.htm) for more information.\n *\n * @param id - The Id of the item to query group association for.\n * @param requestOptions - Options for the request\n * @returns A Promise to get some item groups.\n */\nfunction getItemGroups(id, requestOptions) {\n    var url = getItemBaseUrl(id, requestOptions) + \"/groups\";\n    return request(url, requestOptions);\n}\n/**\n * ```js\n * import { getItemStatus } from \"@esri/arcgis-rest-portal\";\n * //\n * getItemStatus({\n *   id: \"30e5fe3149c34df1ba922e6f5bbf808f\",\n *   authentication\n * })\n *   .then(response)\n * ```\n * Inquire about status when publishing an item, adding an item in async mode, or adding with a multipart upload. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/status.htm) for more information.\n *\n * @param id - The Id of the item to get status for.\n * @param requestOptions - Options for the request\n * @returns A Promise to get the item status.\n */\nfunction getItemStatus(requestOptions) {\n    return determineOwner(requestOptions).then(function (owner) {\n        var url = getPortalUrl(requestOptions) + \"/content/users/\" + owner + \"/items/\" + requestOptions.id + \"/status\";\n        var options = appendCustomParams(requestOptions, [\"jobId\", \"jobType\"], { params: __assign({}, requestOptions.params) });\n        return request(url, options);\n    });\n}\n/**\n * ```\n * import { getItemInfo } from \"@esri/arcgis-rest-portal\";\n * // get the \"Info Card\" for the item\n * getItemInfo(\"ae7\")\n *   .then(itemInfoXml) // XML document as a string\n * // or get the contents of a specific file\n * getItemInfo(\"ae7\", { fileName: \"form.json\", readAs: \"json\", authentication })\n *   .then(formJson) // JSON document as JSON\n * ```\n * Get an info file for an item. See the [REST Documentation](https://developers.arcgis.com/rest/users-groups-and-items/item-info-file.htm) for more information.\n * @param id - Item Id\n * @param requestOptions - Options for the request, including the file name which defaults to `iteminfo.xml`.\n * If the file is not a text file (XML, HTML, etc) you will need to specify the `readAs` parameter\n * @returns A Promise that will resolve with the contents of the info file for the item.\n */\nfunction getItemInfo(id, requestOptions) {\n    var _a = requestOptions || {}, _b = _a.fileName, fileName = _b === void 0 ? \"iteminfo.xml\" : _b, _c = _a.readAs, readAs = _c === void 0 ? \"text\" : _c;\n    var options = __assign({ httpMethod: \"GET\" }, requestOptions);\n    return getItemFile(id, \"/info/\" + fileName, readAs, options);\n}\n/**\n * ```\n * import { getItemMetadata } from \"@esri/arcgis-rest-portal\";\n * // get the metadata for the item\n * getItemMetadata(\"ae7\")\n *   .then(itemMetadataXml) // XML document as a string\n * // or with additional request options\n * getItemMetadata(\"ae7\", { authentication })\n *   .then(itemMetadataXml) // XML document as a string\n * ```\n * Get the standard formal metadata XML file for an item (`/info/metadata/metadata.xml`)\n * @param id - Item Id\n * @param requestOptions - Options for the request\n * @returns A Promise that will resolve with the contents of the metadata file for the item as a string.\n */\nfunction getItemMetadata(id, requestOptions) {\n    var options = __assign(__assign({}, requestOptions), { fileName: \"metadata/metadata.xml\" });\n    return getItemInfo(id, options);\n}\n// overrides request()'s default behavior for reading the response\n// which is based on `params.f` and defaults to JSON\n// Also adds JSON parse error protection by sanitizing out any unescaped control characters before parsing\nfunction getItemFile(id, \n// NOTE: fileName should include any folder/subfolders\nfileName, readMethod, requestOptions) {\n    var url = \"\" + getItemBaseUrl(id, requestOptions) + fileName;\n    // preserve escape hatch to let the consumer read the response\n    // and ensure the f param is not appended to the query string\n    var options = __assign({ params: {} }, requestOptions);\n    var justReturnResponse = options.rawResponse;\n    options.rawResponse = true;\n    options.params.f = null;\n    return request(url, options).then(function (response) {\n        if (justReturnResponse) {\n            return response;\n        }\n        return readMethod !== 'json'\n            ? response[readMethod]()\n            : response.text().then(function (text) { return JSON.parse(scrubControlChars(text)); });\n    });\n}\n\nexport { getItemGroups as a, bboxToString as b, getItemData as c, determineOwner as d, getItemMetadata as e, getItemResources as f, getItem as g, getItemResource as h, isBBox as i, getItemStatus as j, serializeItem as s };\n","import { g as getProp } from './get-prop-d82e4fa6.js';\n\n/**\n * Gets the value of a property from an object with a\n * default if that prop is undefined\n * @param obj\n * @param prop\n * @param def\n */\nfunction getWithDefault(obj, prop, def) {\n    const res = getProp(obj, prop);\n    return res !== undefined ? res : def;\n}\n\nexport { getWithDefault as g };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nexport { __assign as _, __spreadArrays as a };\n"],"names":["OperationError","operation","message","rootCause","getWithDefault","name","Object","setPrototypeOf","prototype","stack","Error","appendCustomParams","customOptions","keys","baseOptions","options","__assign","params","reduce","value","key","obj","path","defaultValue","undefined","split","o","p","mapValues","fn","acc","currentKey","deepMapValues","object","callback","propertyPath","Array","isArray","map","deepMapValuesIteratee","v","Date","isDate","RegExp","isRegExp","isFunction","assign","arborist","arrResults","res","maxLevel","e","isString","hasDelete","lvl","getLevel","pruneArray","iteratee","filter","entry","objResults","startVal","reduction","val","pruneObject","output","level","getDeleteValue","getPropertyValue","parseInt","replace","indexOf","optionalTransform","settings","PROJECT_STATUSES","UiSchemaRuleEffects","UiSchemaElementTypes","UiSchemaSectionTypes","cloneObject","clone","i","HANDLEBARS","_isValue","adlib","template","transforms","optional","templateValue","templatePath","settingsValue","hbsEntries","match","length","values","isStaticValue","trim","paths","numberOfPaths","find","pathOption","idx","target","cleanPath","_propertyPathExists","isNaN","result","swap","parameter","transformCheck","param","_swap","forEach","parseFloat","interpolate","_deepMapValues","_isObject","_isDate","_isRegExp","_isFunction","deepFind","predicate","isFindable","maybe","HubProjectSchema","required","type","properties","minLength","maxLength","summary","description","status","default","notStarted","enum","extent","view","featuredContentIds","items","featuredImage","showMap","timeline","HubProjectCreateUiSchema","elements","section","scale","labelKey","scope","control","helperText","rule","effect","DISABLE","condition","schema","const","i18nScope","HubProjectEditUiSchema","maxWidth","maxHeight","aspectRatio","sizeDescription","targetEntity","limit","HUB_PROJECT_ITEM_TYPE","DEFAULT_PROJECT","catalog","schemaVersion","permissions","tags","typeKeywords","contacts","DEFAULT_PROJECT_MODEL","item","title","snippet","slug","data","display","getUiSchemaProps","uiSchema","prop","props","pop","push","unique","deepGetPropValues","filterSchemaToUiSchema","subset","subsetSchema","applyUiSchemaElementOptions","cloneSchema","elementOptions","elConfig","configureBaseResources","resources","entityResourceMap","entries","resourceProp","fileName","filename","resource","createProject","partialProject","requestOptions","project","constructSlug","orgUrlKey","getUniqueSlug","setSlugKeyword","mapper","PropertyMapper","getPropertyMap","model","objectToModel","EntityResourceMap","createModel","upsertModelResources","newProject","modelToObject","computeProps","updateProject","existingId","id","getModel","modelToUpdate","updateModel","updatedModel","updatedProject","getHubProjectEditorConfig","filterSchema","Promise","resolve","serializeItem","JSON","parse","stringify","Blob","constructor","file","text","determineOwner","owner","authentication","getUsername","reject","isBBox","bboxToString","join","CONTROL_CHAR_MATCHER","getItem","url","getItemBaseUrl","httpMethod","request","portalUrlOrRequestOptions","getPortalUrl","getItemData","f","catch","err","test","getItemResources","num","getItemResource","itemId","readAs","getItemFile","getItemGroups","getItemStatus","then","getItemMetadata","_a","_b","_c","getItemInfo","readMethod","justReturnResponse","rawResponse","response","def","getProp","t","s","n","arguments","hasOwnProperty","call","apply","this","__spreadArrays","il","r","k","a","j","jl"],"sourceRoot":""}