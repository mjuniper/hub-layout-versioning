/*! For license information please see 88195.d4dd8d6e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[88195],{34601:function(e,t,n){n.d(t,{O:function(){return p}});var r=n(43144),o=n(15671),i=n(97326),a=n(60136),s=n(92572),u=n(28664),c=n(20399),p=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,a){var s;return(0,o.Z)(this,n),r=r||"UNKNOWN_ERROR",a=(0,c.g)(a,"rootCause",a),(s=t.call(this,r)).operation=e,s.name="OperationError",s.rootCause=a,Object.setPrototypeOf((0,i.Z)(s),n.prototype),s.stack=(0,c.g)(a,"stack",(new Error).stack),s}return(0,r.Z)(n)}((0,u.Z)(Error))},80046:function(e,t,n){n.d(t,{a:function(){return o}});var r=n(77843);function o(e,t,n){var o=(0,r._)((0,r._)({params:{}},n),e);return o.params=t.reduce((function(t,n){return(e[n]||"boolean"===typeof e[n])&&(t[n]=e[n]),t}),o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return o[t]&&(e[t]=o[t]),e}),{})}},63697:function(e,t,n){n.d(t,{c:function(){return H},g:function(){return W},u:function(){return F}});var r=n(74165),o=n(15861),i=n(66287),a=n(25434),s=function(e,t,n){return void 0===n&&(n=void 0),t.split(".").reduce((function(e,t){return e?e[t]:n}),e)};function u(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r,e),n}),{})}function c(e,t,n){return n=n||"",Array.isArray(e)?e.map(r):!e||"object"!==typeof e||function(e){return e instanceof Date}(e)||function(e){return e instanceof RegExp}(e)||function(e){return"function"===typeof e}(e)?t(e,n):Object.assign({},e,u(e,r));function r(e,r){return c(e,t,n?n+"."+r:r)}}function p(e,t){return Array.isArray(e)?function(e){var t=e,n=e.reduce((function(e,t){if(d(t)&&f(t)){var n=l(t);n>e&&(e=n)}return e}),-1);n>-1&&(t=0===n?[]:"{{delete:"+(n-1)+"}}");return t}(e.map(n).filter((function(e){return null!==e&&void 0!==e}))):e&&"object"===typeof e?function(e){var t,n={obj:{},maxLevel:-1},r=Object.keys(e).reduce((function(t,n){var r=e[n];if(d(r)&&f(r)){var o=l(r);o>t.maxLevel&&(t.maxLevel=o)}else t.obj[n]=r;return t}),n);t=r.maxLevel>0?1===r.maxLevel?void 0:"{{delete:"+(r.maxLevel-1)+"}}":r.obj;return t}(u(e,n)):function(e){var t=e;"string"===typeof e&&f(e)&&(t=function(e){var t=e,n=l(e);t=0===n?void 0:"{{delete:"+n+"}}";return t}(e));return t}(e);function n(e,t){return p(e)}}var l=function(e){return parseInt(e.replace(/{|}/g,"").split(":")[1])};function f(e){return!(!e||"string"!==typeof e)&&e.indexOf("{{delete")>-1}var d=function(e){return"string"===typeof e};function y(e,t,n,r){void 0===r&&(r=0);var o=t;return t||(o="{{delete:"+r+"}}"),o}var m,b,v,h,g=function e(t){var n={};if(Array.isArray(t))n=t.map(e);else if("object"===typeof t)for(var r in t)null!=t[r]&&"object"===typeof t[r]?n[r]=e(t[r]):n[r]=t[r];else n=t;return n},S=/{{\s*?[\w].*?}}/g;function x(e){return e||""===e||0===e}function w(e,t,n){if(void 0===n&&(n=null),(n=g(n)||{}).optional)throw new Error("Please do not pass in an `optional` transform; adlib provides that internally.");n.optional=y;var r=c(e,(function(e,r){if("string"!==typeof e)return e;var o,i=e.match(S);if(i&&i.length){var a=i.map((function(e){var r=!1,o=e.replace(/{|}/g,"").trim();if(o.indexOf("||")>-1){var i=o.split("||").map((function(e){return e.trim()})),a=i.length;o=i.find((function(e,n){return function(e,t){var n=e.split(":")[0],r=s(t,n,null);return null!==r&&void 0!==r}(e,t)?e:n+1===a&&(r=!0,isNaN(e)||(e=parseInt(e)),e)}))}var u={key:e,value:o};if(!r){var c=function(e,t,n){var r,o=e.split(":");if(o.length>1){var i,a=o[0],u=o[1];if(o[2]&&(i=o[2]),!n||!n[u]||"function"!==typeof n[u])throw new Error("Attempted to apply non-existant transform "+u+" on "+a+" with params "+e);r=s(t,a),r=n[u](a,r,t,i)}else r=s(t,e);return r}(o,t,n);u.value=x(c)?c:e}return u}));return a.forEach((function(t){e===t.key?("string"===typeof t.value&&(isNaN(t.value)||""===t.value||(t.value.indexOf(".")>-1?t.value=parseFloat(t.value):"0"!==t.value[0]&&(t.value=parseInt(t.value)))),o=t.value):e=e.replace(t.key,t.value)})),x(o)?o:e}return e}));return p(r)}function j(e,t,n){return w(e,t,n)}function K(e,t,n){return n=n||"",Array.isArray(e)?e.map(i):!e||!C(e)||O(e)||A(e)||k(e)?t(e,n):Object.assign({},e,(r=e,o=i,Object.keys(r).reduce((function(e,t){return e[t]=o(r[t],t,r),e}),{})));var r,o;function i(e,r){return K(e,t,""+(n?n+"."+r:r))}}function O(e){return e instanceof Date}function k(e){return"function"===typeof e}function C(e){return"object"===typeof e}function A(e){return e instanceof RegExp}function E(e,t){return Array.isArray(e)?e.reduce((function(e,n){if(t(n))e=n;else if(T(n)){var r=E(n,t);r&&(e=r)}return e}),void 0):T(e)?t(e)?e:Object.keys(e).reduce((function(n,r){if(T(e[r])){var o=E(e[r],t);o&&(n=o)}return n}),void 0):void 0}function T(e){var t=!1;return!e||!C(e)||O(e)||A(e)||k(e)||(t=!0),t}!function(e){e.notStarted="notStarted",e.inProgress="inProgress",e.complete="complete"}(m||(m={})),function(e){e.SHOW="SHOW",e.HIDE="HIDE",e.DISABLE="DISABLE",e.NONE=""}(b||(b={})),function(e){e.section="Section",e.step="Step",e.control="Control",e.layout="Layout",e.slot="Slot"}(v||(v={})),function(e){e.accordion="accordion",e.stepper="stepper"}(h||(h={}));var I={required:["name"],type:"object",properties:{name:{type:"string",minLength:1,maxLength:250},summary:{type:"string"},description:{type:"string"},status:{type:"string",default:m.notStarted,enum:Object.keys(m)},extent:{type:"object"},view:{type:"object",properties:{featuredContentIds:{type:"array",items:{type:"string"}},featuredImage:{type:"object"},showMap:{type:"boolean"},timeline:{type:"object"}}}}},N={type:"Layout",elements:[{type:"Section",options:{section:"stepper",scale:"l"},elements:[{type:"Step",labelKey:"{{i18nScope}}.sections.details.label",elements:[{type:"Section",labelKey:"{{i18nScope}}.sections.basicInfo.label",elements:[{labelKey:"{{i18nScope}}.fields.name.label",scope:"/properties/name",type:"Control"},{labelKey:"{{i18nScope}}.fields.summary.label",scope:"/properties/summary",type:"Control",options:{control:"hub-field-input-input",type:"textarea",helperText:{labelKey:"{{i18nScope}}.fields.summary.helperText"}}},{labelKey:"{{i18nScope}}.fields.description.label",scope:"/properties/description",type:"Control",options:{control:"hub-field-input-input",type:"textarea",helperText:{labelKey:"{{i18nScope}}.fields.description.helperText"}}}]}]},{type:"Step",labelKey:"{{i18nScope}}.sections.location.label",rule:{effect:b.DISABLE,condition:{scope:"/properties/name",schema:{const:""}}},elements:[{type:"Section",labelKey:"{{i18nScope}}.sections.location.label",elements:[{scope:"/properties/extent",type:"Control",options:{control:"hub-field-input-boundary-picker"}}]}]},{type:"Step",labelKey:"{{i18nScope}}.sections.statusAndTimeline.label",rule:{effect:b.DISABLE,condition:{scope:"/properties/name",schema:{const:""}}},elements:[{type:"Section",labelKey:"{{i18nScope}}.sections.status.label",elements:[{labelKey:"{{i18nScope}}.fields.status.label",scope:"/properties/status",type:"Control",options:{control:"hub-field-input-select",enum:{i18nScope:"{{i18nScope}}.fields.status.enum"}}}]},{type:"Section",labelKey:"{{i18nScope}}.sections.timeline.label",elements:[{scope:"/properties/view/properties/timeline",type:"Control",options:{control:"arcgis-hub-timeline-editor"}}]}]}]}]},_={type:"Layout",elements:[{type:"Section",labelKey:"{{i18nScope}}.sections.basicInfo.label",elements:[{labelKey:"{{i18nScope}}.fields.name.label",scope:"/properties/name",type:"Control"},{labelKey:"{{i18nScope}}.fields.summary.label",scope:"/properties/summary",type:"Control",options:{control:"hub-field-input-input",type:"textarea",helperText:{labelKey:"{{i18nScope}}.fields.summary.helperText"}}},{labelKey:"{{i18nScope}}.fields.description.label",scope:"/properties/description",type:"Control",options:{control:"hub-field-input-input",type:"textarea",helperText:{labelKey:"{{i18nScope}}.fields.description.helperText"}}},{labelKey:"{{i18nScope}}.fields.featuredImage.label",scope:"/properties/view/properties/featuredImage",type:"Control",options:{control:"hub-field-input-image-picker",maxWidth:727,maxHeight:484,aspectRatio:1.5,helperText:{labelKey:"{{i18nScope}}.fields.featuredImage.helperText"},sizeDescription:{labelKey:"{{i18nScope}}.fields.featuredImage.sizeDescription"}}}]},{type:"Section",labelKey:"{{i18nScope}}.sections.location.label",elements:[{scope:"/properties/extent",type:"Control",options:{control:"hub-field-input-boundary-picker"}},{labelKey:"{{i18nScope}}.fields.showMap.label",scope:"/properties/view/properties/showMap",type:"Control"}]},{type:"Section",labelKey:"{{i18nScope}}.sections.status.label",elements:[{scope:"/properties/status",type:"Control",labelKey:"{{i18nScope}}.fields.status.label",options:{control:"hub-field-input-select",enum:{i18nScope:"{{i18nScope}}.fields.status.enum"}}}]},{type:"Section",labelKey:"{{i18nScope}}.sections.timeline.label",elements:[{scope:"/properties/view/properties/timeline",type:"Control",options:{control:"arcgis-hub-timeline-editor"}}]},{type:"Section",labelKey:"{{i18nScope}}.sections.featuredContent.label",options:{helperText:{labelKey:"{{i18nScope}}.sections.featuredContent.helperText"}},elements:[{scope:"/properties/view/properties/featuredContentIds",type:"Control",options:{control:"hub-field-input-gallery-picker",targetEntity:"item",limit:4}}]}]},L="Hub Project",Z={catalog:{schemaVersion:0},name:"No title provided",permissions:[],schemaVersion:1,status:m.notStarted,tags:[],typeKeywords:[L],view:{contacts:[],featuredContentIds:[],showMap:!0}},P={item:{type:L,title:"No Title Provided",description:"",snippet:"",tags:[],typeKeywords:[L],properties:{slug:"",schemaVersion:1}},data:{display:"about",permissions:[],status:m.notStarted,view:{contacts:[],featuredContentIds:[],showMap:!0}}};function M(e){return function(e,t){var n=[];return K(e,(function(e,r){return r.split(".").pop()===t&&n.push(e),e})),n.filter(a.u)}(e,"scope").map((function(e){return e.split("/")[2]})).filter(a.u)}function R(e,t){return e=function(e,t){var n=(0,a.c)(e);return Object.keys(n.properties).forEach((function(e){-1===t.indexOf(e)&&delete n.properties[e]})),n}(e,M(t))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.c)(e);return t.forEach((function(e){var t=E(n,(function(t){return!(null===t||void 0===t?void 0:t.schema)&&(null===t||void 0===t?void 0:t.scope)===e.scope}));t&&(t.options=Object.assign(Object.assign({},t.options||{}),e.options))})),n}function B(e,t){return Object.entries(e).reduce((function(e,n){var r=t[n[0]];return r&&e.push({filename:r,resource:n[1]}),e}),[])}function H(e,t){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,s,u,c,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=Object.assign(Object.assign({},Z),t)).slug||(s.slug=(0,i.c)(s.name,s.orgUrlKey)),e.next=4,(0,i.g)({slug:s.slug},n);case 4:return s.slug=e.sent,s.typeKeywords=(0,i.s)(s.typeKeywords,s.slug),u=new i.P((0,i.b)()),(c=u.objectToModel(s,(0,a.c)(P))).resources&&(o=B((0,a.c)(c.resources),i.E),delete c.resources),e.next=11,(0,i.d)(c,n);case 11:if(c=e.sent,!o){e.next=16;break}return e.next=15,(0,i.u)(c,o,n);case 15:c=e.sent;case 16:return p=u.modelToObject(c,{}),p=(0,i.e)(c,p,n),e.abrupt("return",p);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return J.apply(this,arguments)}function J(){return(J=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,s,u,c,p,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.g)({slug:t.slug,existingId:t.id},n);case 2:return t.slug=e.sent,e.next=5,(0,i.f)(t.id,n);case 5:return s=e.sent,u=new i.P((0,i.b)()),(c=u.objectToModel(t,s)).resources&&(o=B((0,a.c)(c.resources),i.E),delete c.resources),e.next=11,(0,i.h)(c,n);case 11:if(p=e.sent,!o){e.next=16;break}return e.next=15,(0,i.u)(p,o,n);case 15:p=e.sent;case 16:return l=u.modelToObject(p,t),l=(0,i.e)(s,l,n),e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return G.apply(this,arguments)}function G(){return G=(0,o.Z)((0,r.Z)().mark((function e(t,n){var o,i,s,u,c=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=c.length>2&&void 0!==c[2]?c[2]:[],i=(0,a.c)(I),s=(0,a.c)(_),u=!1,e.t0=n,e.next="create"===e.t0?7:10;break;case 7:return s=(0,a.c)(N),u=!0,e.abrupt("break",10);case 10:return u&&(i=R(i,s)),s=j(s=D(s,o),{i18nScope:t}),e.abrupt("return",Promise.resolve({schema:i,uiSchema:s}));case 14:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}},69207:function(e,t,n){n.d(t,{a:function(){return v},b:function(){return p},c:function(){return y},d:function(){return u},e:function(){return g},f:function(){return m},g:function(){return f},h:function(){return b},i:function(){return c},j:function(){return h},s:function(){return s}});var r=n(63613),o=n(98825),i=n(77843),a=n(80046);function s(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!==typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function u(e){return e.owner?Promise.resolve(e.owner):e.item&&e.item.owner?Promise.resolve(e.item.owner):e.authentication&&e.authentication.getUsername?e.authentication.getUsername():Promise.reject(new Error("Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option."))}function c(e){return Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[1])}function p(e){return e.join(",")}var l=/[\x00-\x1F\x7F-\x9F\xA0]/g;function f(e,t){var n=d(e,t),o=(0,r._)({httpMethod:"GET"},t);return(0,i.r)(n,o)}var d=function(e,t){return("string"===typeof t?t:(0,o.g)(t))+"/content/items/"+e};function y(e,t){var n=d(e,t)+"/data",o=(0,r._)({httpMethod:"GET",params:{}},t);return o.file&&(o.params.f=null),(0,i.r)(n,o).catch((function(e){if(!RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i).test(e.message))throw e}))}function m(e,t){var n=d(e,t)+"/resources",o=(0,r._)({},t);return o.params=(0,r._)({num:1e3},o.params),(0,i.r)(n,o)}function b(e,t){var n=t.readAs||"blob";return S(e,"/resources/"+t.fileName,n,t)}function v(e,t){var n=d(e,t)+"/groups";return(0,i.r)(n,t)}function h(e){return u(e).then((function(t){var n=(0,o.g)(e)+"/content/users/"+t+"/items/"+e.id+"/status",s=(0,a.a)(e,["jobId","jobType"],{params:(0,r._)({},e.params)});return(0,i.r)(n,s)}))}function g(e,t){return function(e,t){var n=t||{},o=n.fileName,i=void 0===o?"iteminfo.xml":o,a=n.readAs;return S(e,"/info/"+i,void 0===a?"text":a,(0,r._)({httpMethod:"GET"},t))}(e,(0,r._)((0,r._)({},t),{fileName:"metadata/metadata.xml"}))}function S(e,t,n,o){var a=""+d(e,o)+t,s=(0,r._)({params:{}},o),u=s.rawResponse;return s.rawResponse=!0,s.params.f=null,(0,i.r)(a,s).then((function(e){return u?e:"json"!==n?e[n]():e.text().then((function(e){return JSON.parse(e.replace(l,""))}))}))}},20399:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(62254);function o(e,t,n){var o=(0,r.g)(e,t);return void 0!==o?o:n}},63613:function(e,t,n){n.d(t,{_:function(){return r},a:function(){return o}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}}}]);
//# sourceMappingURL=88195.d4dd8d6e.chunk.js.map