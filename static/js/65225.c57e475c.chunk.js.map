{"version":3,"file":"static/js/65225.c57e475c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";import{isNone as s,isSome as o}from\"../../../../core/maybe.js\";class n extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const o=new Set;for(let r=0;r<s.length;r++){const t=s[r],n=t.objectId,i=this._graphics.get(n);if(i){o.add(n),t!==i&&(s[r]=i);const d=this._duplicates.get(n);d?d.push(e):this._duplicates.set(n,[i.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}o.size&&this._updateForeignGraphics(t);const n=o.size>0?s.filter((e=>!o.has(e.objectId))):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return void console.error(\"Removing unknown node\");this._nodes.delete(e);const n=new Set,r=[];for(const i of t.graphics){const t=i.objectId,d=this._graphics.get(t);if(!d)continue;const c=this._duplicates.get(t);if(c){const r=c.indexOf(e);if(-1===r){console.error(\"error: removing graphic from node that should not reference it.\");continue}if(c.splice(r,1),d.nodeIndex===e){let e=this.getNode(c[0]);for(let t=1;t<c.length;t++){const n=this.getNode(c[t]);(s(e)||o(n)&&n.node.level>e.node.level)&&(e=n)}o(e)&&n.add(e)}1===c.length&&this._duplicates.delete(t)}else this._graphics.delete(t),r.push(i)}r.length>0&&this.emit(\"change\",{added:[],removed:r}),n.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,n=e.node.level;let r=0;for(;r<e.graphics.length;){const i=e.graphics[r].nodeIndex;if(i===s){r++;continue}let d=1;for(;r+d<e.graphics.length&&e.graphics[r+d].nodeIndex===i;)d++;const c=this.getNode(i);if(o(c)&&c.node.level>n)r+=d;else{for(let o=r;o<r+d;o++){const n=e.graphics[o];n.nodeIndex=s,this._updateAndCompare(n,e,o)&&t.push(n)}r+=d}}this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){let s;return t(this._graphics,(t=>!!e(t)&&(s=t,!0))),s}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{s!==t.node.index&&console.error(\"Mismatched node index\"),t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0));const o=this._duplicates.get(t.objectId);o&&!o.includes(s)&&console.error(\"Node not listed in duplicate list\"),o||t.nodeIndex===s||console.error(\"Unique graphic does not reference owning node index\")}))})),this._graphics.size!==e.size&&console.error(\"Mismatch between actual and expected number of graphics\");let t=0;e.forEach(((e,s)=>{t+=e>1?1:0;const o=this._graphics.get(s);if(!o)return void console.error(\"Missing graphic entry\");const n=this._nodes.get(o.nodeIndex);if(!n)return void console.error(\"Graphic references unkown node\");const r=this._duplicates.get(s);r?(r.length!==e&&console.error(\"Wrong number of entries in duplicate list\"),r.forEach((e=>{const t=this._nodes.get(e);t?t.node.level>n.node.level&&console.error(\"Duplicated graphic does not reference highest level node\"):console.error(\"Unknown node in duplicate list\")}))):e>1&&console.error(\"Missing duplicates entry\")})),this._duplicates.size!==t&&console.error(\"Mismatch between expected and actual number of duplicate entries\")}}export{n as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{binaryIndexOf as r}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s,isNone as o,isSome as a,unwrap as n}from\"../../../core/maybe.js\";import{initial as d,watch as l}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import{s as c}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import{projectBuffer as g,projectVectorToVector as m}from\"../../../geometry/projection.js\";import{extentContainsCoords3D as y}from\"../../../geometry/support/contains.js\";import{getGeometryZScaler as f}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as _}from\"../../../layers/LayerConstants.js\";import{makeDehydratedPoint as b,estimateSize as v}from\"../../../layers/graphics/dehydratedFeatures.js\";import{hydrateGraphic as x}from\"../../../layers/graphics/hydratedFeatures.js\";import E from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import I from\"../../../layers/support/FeatureFilter.js\";import w from\"../../../rest/support/Query.js\";import{I3SPointsWorkerHandle as N}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as C}from\"./LayerView3D.js\";import O from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as D}from\"./graphics/QueryEngine.js\";import{createInteractiveEditSession as F,processAttributeEdits as j}from\"./i3s/attributeEditing.js\";import{I3SGraphicsMap as S}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as G}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as A,checkSpatialReferences as L,containsDraco as P,whenGraphicAttributes as V,getCachedAttributeValue as R}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as M}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as H}from\"./support/fieldProperties.js\";import{PopupSceneLayerView as q}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as U}from\"./support/SceneLayerViewRequiredFields.js\";import Q from\"../support/debugFlags.js\";import{compute as T}from\"../support/orientedBoundingBox.js\";import{updatingProgress as B}from\"../support/updatingProperties.js\";import{Attribute as k}from\"../webgl-engine/lib/Attribute.js\";import{newDoubleArray as z}from\"../webgl-engine/lib/DoubleArray.js\";import{UpdatePolicy as W}from\"../webgl-engine/lib/UpdatePolicy.js\";import Z from\"../../layers/SceneLayerView.js\";import{TaskPriority as K}from\"../../support/Scheduler.js\";const Y=H();let $=class extends(M(q(C(Z)))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this.loadedGraphics=new S(((e,t,r)=>te(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{A(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const t=this.view.resourceController?.memoryController;this._i3sOverrides=new G({view:this.view,layer:e,memoryController:t}),s(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new G({view:this.view,layer:this.layer,memoryController:e}),L(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new U({layerView:this}),this.updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),d),this.updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this.updatingHandles.add((()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted]),(()=>this._filterChange())),this.handles.add(l((()=>Q.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Q.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Q.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),d)),this._set(\"processor\",new O({owner:this,preferredUpdatePolicy:W.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(e=>this._controller.updateElevationChanged(e.extent,e.spatialReference))),this.supportsHeightUnitConversion&&(this._verticalScale=f(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.initializePromise),this._memCache=this.view.resourceController.memoryController.newCache(this.uid),this._controller=new E({layerView:this,scaleVisibilityEnabled:!1}),P(this.layer.geometryDefinitions)&&(this._worker=new N((e=>this.view.resourceController.immediate.schedule(e)))),this.handles.add(this.layer.on(\"apply-edits\",(e=>this.updatingHandles.addPromise(e.result)))),this.handles.add(this.layer.on(\"edits\",(e=>this._handleEdits(e)))),this.when((()=>{this._setupQueryEngine(),this.updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),d),this.updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=s(this._treeDebugger),this._i3sOverrides=s(this._i3sOverrides),this._set(\"processor\",s(this.processor)),this._controller=s(this._controller),this._queryEngine=s(this._queryEngine),this._worker=s(this._worker),this._memCache=s(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=s(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}async whenGraphicAttributes(e,t){return V(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=x(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t&&t.attributes&&t.attributes[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e){return this.processor.highlight(e,this.layer.objectIdField)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return F(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};o(this._worker)&&(this._worker=new N((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(o(i))throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,t,r){if(!ee(t)&&!X(t))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void i.getLogger(this.declaredClass).error(\"I3S node \"+e.id+\" already added\");const s=a(this.layer.fullExtent)?ie(this.layer.fullExtent.clone(),.5):null,o=[],{featureIds:n,pointPositions:d}=ee(t)?await this._extractBinaryPointPositions(e,t,r):this._extractLegacyPointPositions(t);this._validatePositions(e,n,d,s,o);const l=this._controller.crsVertex,h=this.view.spatialReference;g(d,l,0,d,h,0,n.length);const u=ee(t)?e.level:0,c={graphics:this._createGraphics(n,d,e.index,u),featureIds:n,attributeInfo:t.attributeDataInfo,node:e};if(await this._i3sOverrides.apply(c.featureIds,t.attributeDataInfo,r),e.numFeatures=c.graphics.length,this._updateNodeMemory(e),re(c),o.length>0&&(this._computeObb(e,o,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(c);if(a(this._verticalScale))for(const i of c.graphics)this._verticalScale(i.geometry);const p=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(a(p))for(let i=0;i<c.featureIds.length;i++){const e=c.featureIds[i];p.setUidToObjectAndLayerId(e,c.graphics[i].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled,c.node.resources.attributes,i)}this.loadedGraphics.addNode(e.index,c),this._controller.updateLoadStatus(e.index,!0),this._filterNode(c),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;g(t,r,0,t,s,0,t.length/3),e.serviceObb=T(new k(t,3)),i.isGeographic&&m(e.serviceObb.center,s,e.serviceObb.center,i)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,n=s.length/o,d=z(3*n),l=a(e.serviceObb)?e.serviceObb.center:[0,0,0],h=Math.abs(l[2])*2**-20;for(let a=0;a<n;a++){const e=a*o;d[e+0]=s[e+0]+l[0],d[e+1]=s[e+1]+l[1],d[e+2]=s[e+2]+l[2],Math.abs(d[e+2])<h&&(d[e+2]=0)}return{featureIds:i.featureIds?Array.from(i.featureIds):[],pointPositions:d}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=z(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??se[a],d=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const l=n.params.vertexAttributes?.position??[0,0,0],h=3*i.length;r[h+0]=o[0]+l[0],r[h+1]=o[1]+l[1],r[h+2]=3===a?o[2]+l[2]:NaN,i.push(d)}return{featureIds:i,pointPositions:r}}_validatePositions(e,t,r,s,n){if(o(s)&&e.serviceObb)return;const d=t.length,l=3;for(let o=0;o<d;o++){const t=o*l;c(oe,r[t],r[t+1],r[t+2]),a(s)&&!y(s,oe)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&i.getLogger(this.declaredClass).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&i.getLogger(this.declaredClass).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObb||n.push(oe[0],oe[1],oe[2])}}_createGraphics(e,r,i,s){const o=e.length,d=3,l=this._getObjectIdField(),h=this.processor.graphicsCore,u=new Array,c=this.view.spatialReference;for(let p=0;p<o;p++){const o=e[p],g={};null!=o&&(g[l]=o);const m=o??t.generateUID(),y=p*d,f=isNaN(r[y+2])?void 0:r[y+2],_=b(r[y],r[y+1],f,c),v=this.loadedGraphics.get(m);if(a(v))(null==v.level||v.level<s)&&(ae.property=\"geometry\",ae.graphic=v,ae.oldValue=n(v.geometry),ae.newValue=_,v.geometry=_,v.level=s,h.graphicUpdateHandler(ae)),u.push(v);else{const e=t.generateUID();u.push({objectId:m,uid:e,geometry:_,attributes:g,visible:!0,nodeIndex:i,level:s})}}return u}_updateNodeMemory(e){e.memory=4096+(a(e.numFeatures)?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){const t=e.graphics.reduce(((e,t)=>v(t)+e),512+8*e.featureIds.length+1024);this._memCache.put(this._getMemCacheKey(e.node),e,t)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return o(t)?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,r,s){this.loadedGraphics.hasNode(e.index)?i.getLogger(this.declaredClass).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.apply(t.featureIds,r,s),this.loadedGraphics.addNode(e.index,t),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),t.attributeInfo=r,this._attributeValuesChanged(t),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(a(t)&&a(t.attributeInfo))return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(a(t)&&a(t.attributeInfo))return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);o(r)||o(r.attributeInfo)||(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);o(i)||(await this._i3sOverrides.apply(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){if(re(e),this._filterNode(e),this.processor.graphicsCore.labelsEnabled){const t=e.graphics.map((e=>e.uid));this.processor.graphicsCore.updateLabelingInfo(t)}}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||_}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&i.getLogger(this.declaredClass).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,i=this._excludeObjectIdsSorted,s=this._getObjectIdField();for(const a of e.graphics){const e=a.visible,n=!t||this._evaluateClause(t,a),d=o(i)||r(i,a.attributes[s])<0;a.visible=n&&d,e!==a.visible&&(ae.graphic=a,ae.property=\"visible\",ae.oldValue=e,ae.newValue=a.visible,this.processor.graphicsCore.graphicUpdateHandler(ae))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return a(this.filter)?this.filter.createQuery(e):new w(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(o(e)?this.createQuery():w.from(e))}_setupQueryEngine(){const e=()=>this.processor.featureStore;this._queryEngine=new D({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return e()},hasZ:this.hasZ,hasM:this.hasM},priority:K.FEATURE_QUERY_ENGINE})}getUsedMemory(){return this.processor?.graphicsCore?.usedMemory??0}getUnloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}_handleEdits(e){j(this._attributeEditingContext,e)}get _attributeEditingContext(){const e=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(a(i)){const t=this.loadedGraphics.get(i.attributes[e]);a(t)&&this.processor.graphicsCore.recreateGraphics([t])}else a(s)&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){const e={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this.loadedGraphics.nodeCount,core:this.processor.graphicsCore.performanceInfo};return this._controller&&this._controller.updateStats(e),e}get test(){return{controller:this._controller,numNodes:this.loadedGraphics.nodeCount,loadedGraphics:this.loadedGraphics}}};e([h()],$.prototype,\"processor\",void 0),e([h({type:I})],$.prototype,\"filter\",void 0),e([h()],$.prototype,\"loadedGraphics\",void 0),e([h()],$.prototype,\"i3slayer\",null),e([h()],$.prototype,\"_controller\",void 0),e([h()],$.prototype,\"updating\",void 0),e([h()],$.prototype,\"suspended\",void 0),e([h()],$.prototype,\"holeFilling\",void 0),e([h(B)],$.prototype,\"updatingProgress\",void 0),e([h()],$.prototype,\"updatingProgressValue\",null),e([h(Y.requiredFields)],$.prototype,\"requiredFields\",null),e([h(Y.availableFields)],$.prototype,\"availableFields\",void 0),e([h()],$.prototype,\"_fieldsHelper\",void 0),e([h({type:Number})],$.prototype,\"maximumNumberOfFeatures\",null),e([h({readOnly:!0})],$.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([h()],$.prototype,\"_excludeObjectIdsSorted\",null),e([h({readOnly:!0})],$.prototype,\"lodFactor\",null),e([h({readOnly:!0})],$.prototype,\"hasM\",null),e([h({readOnly:!0})],$.prototype,\"hasZ\",null),$=e([u(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],$);const J=$;function X(e){return\"pointData\"in e}function ee(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function te(e,t,r){const i=t.attributeInfo;if(o(i)||o(i.loadedAttributes)||o(i.attributeData))return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=R(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function re(e){const t=e.attributeInfo,r=e.node.index;if(!(o(t)||o(t.loadedAttributes)||o(t.attributeData)))for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=R(t.attributeData[e],i))}}}function ie(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const se={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},oe=p(),ae={graphic:null,property:null,oldValue:null,newValue:null};export{J as default};\n"],"names":["r","e","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","n","t","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","this","size","toArray","clear","emit","added","removed","get","has","values","set","s","graphics","length","o","Set","objectId","i","add","d","push","nodeIndex","_updateForeignGraphics","filter","delete","c","indexOf","console","error","splice","getNode","node","level","forEach","index","Array","from","includes","Y","H","$","arguments","type","_queryEngine","_memCache","_interactiveEditingSessions","loadedGraphics","S","te","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","url","layer","_i3sOverrides","isEmpty","load","then","A","destroy","view","resourceController","memoryController","G","_setupQueryEngine","resetObjectStates","addResolvingPromise","indexInfo","L","spatialReference","viewingMode","_fieldsHelper","U","layerView","updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","parsedDefinitionExpression","_excludeObjectIdsSorted","_filterChange","handles","l","Q","_treeDebugger","_controller","crsIndex","I3STreeDebugger","lv","nodeSR","_set","O","owner","preferredUpdatePolicy","W","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","updateElevationChanged","extent","_verticalScale","f","initializePromise","newCache","uid","E","P","geometryDefinitions","_worker","N","immediate","schedule","addPromise","result","_handleEdits","when","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","updatingProgress","requiredFields","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","useMaximumNumberOfFeatures","leavesReached","excludeObjectIds","sort","semantic","qualitySettings","sceneService","point","lodFactor","V","_getObjectIdField","nodes","x","find","attributes","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","rootNodeVisible","updating","layerFilterUpdating","highlight","objectIdField","effectiveUpdatePolicy","F","_attributeEditingContext","invoke","Error","positionData","positions","featureIds","ee","X","hasNode","declaredClass","id","a","ie","clone","_extractBinaryPointPositions","_extractLegacyPointPositions","pointPositions","_validatePositions","crsVertex","h","g","u","_createGraphics","attributeInfo","attributeDataInfo","apply","numFeatures","_updateNodeMemory","re","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","p","_stage","renderView","objectAndLayerIdRenderHelper","setUidToObjectAndLayerId","popupEnabled","resources","addNode","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObb","T","k","m","center","_decompressBinaryPointData","z","Math","abs","pointData","featureDataPosition","geometries","se","params","vertexAttributes","position","NaN","oe","y","isNaN","_","b","v","ae","property","oldValue","newValue","graphicUpdateHandler","visible","memory","usedMemoryPerGraphic","reduce","put","_getMemCacheKey","forEachNode","_removeNodeStageData","removeNode","pop","_attributeValuesChanged","loadedAttributes","attributeData","labelsEnabled","map","updateLabelingInfo","updateClippingArea","fieldsIndex","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","_evaluateClause","outFields","returnGeometry","outSpatialReference","createQuery","w","executeQuery","_ensureQuery","signal","executeQueryForIds","executeQueryForCount","executeQueryForExtent","_addDefinitionExpressionToQuery","D","context","scheduler","featureStore","hasZ","hasM","priority","K","usedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","j","sessions","attributeStorageInfo","i3slayer","i3sOverrides","getAttributeData","setAttributeData","_setAttributeData","clearMemCache","displayedNumberOfFeatures","totalNumberOfFeatures","nodeCount","core","performanceInfo","updateStats","controller","numNodes","M","q","C","Z","prototype","I","B","availableFields","Number","readOnly","J","name","R","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax"],"sourceRoot":""}