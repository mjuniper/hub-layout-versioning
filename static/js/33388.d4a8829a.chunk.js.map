{"version":3,"file":"static/js/33388.d4a8829a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/fetchService.js","../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/portal/support/layersLoader.js","../node_modules/@arcgis/core/renderers/support/styleUtils.js","../node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{fetchArcGISServiceJSON as e}from\"../../support/requestPresets.js\";async function r(r,s){const a=await e(r,s);a.layers=a.layers.filter(t);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const i=await e(r+\"/layers\",s);return n.layersJSON={layers:i.layers.filter(t),tables:i.tables},n}function t(e){return!e.type||\"Feature Layer\"===e.type}export{r as fetchFeatureService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as a}from\"../../layers/support/fetchService.js\";import n from\"../Portal.js\";import o from\"../PortalItem.js\";import{createForItemRead as l}from\"./jsonContext.js\";import{hasTypeKeyword as s}from\"./portalItemUtils.js\";import{loadStyleRenderer as i}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=l(a);if(\"group\"===r.type)return r.read({title:o},s),d(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:o},s),i(r,s)}async function d(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=s(n,\"Oriented Imagery Layer\")??!1;switch(o){case\"Feature Service\":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case\"Stream Service\":a=l.StreamLayer;break;case\"Scene Service\":a=l.SceneLayer;break;case\"Feature Collection\":a=l.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if(\"Feature Service\"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>\"SubtypeGroupLayer\"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):f(t,c)}async function f(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await u(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if(\"Feature Collection\"===e.portalItem?.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.add(o)})),o.reverse().forEach((n=>{const o=g(e,t(n),r,n,a?.(n));e.tables.add(o)}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if(\"sourceJSON\"in s&&(s.sourceJSON=o),\"subtype-group\"!==s.type&&(s.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===l.type){const e={origin:\"portal-item\",portal:l.portal||n.getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData(\"json\",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId=\"subtype-group\"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await u(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new o({id:e,url:r})})}if(r(n))return t.fromArcGISServerUrl({url:n});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function j(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}async function P(e){const{layersJSON:t}=await a(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}export{I as getFirstLayerOrTableId,v as getNumLayersAndTables,j as getSubtypeGroupLayerIds,p as load,w as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import o from\"../../core/Warning.js\";async function t(t,i,n){const s=t&&t.getAtOrigin&&t.getAtOrigin(\"renderer\",i.origin);if(s&&\"unique-value\"===s.type&&s.styleOrigin){const a=await e(s.populateFromStyle());if(r(n),!1===a.ok){const e=a.error;i&&i.messages&&i.messages.push(new o(\"renderer:style-reference\",`Failed to create unique value renderer from style reference: ${e.message}`,{error:e,context:i})),t.clear(\"renderer\",i?.origin)}}}export{t as loadStyleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};\n"],"names":["r","s","e","a","layers","filter","t","n","serviceJSON","currentVersion","i","layersJSON","tables","type","origin","url","itemUrl","portal","portalItem","readResourcePaths","o","messages","writtenProperties","p","instance","id","load","c","y","supportedTypes","includes","expectedType","join","title","l","read","d","h","u","resourceReferences","paths","layerModuleTypeMap","OrientedImageryLayer","FeatureLayer","StreamLayer","SceneLayer","Promise","all","w","j","length","SubtypeGroupLayer","layerType","b","P","v","f","map","m","name","forEach","layerDefinition","push","coverage","URL","toLowerCase","searchParams","get","T","add","reverse","g","clone","layerId","sourceJSON","sublayerTitleMode","showLegend","supportsData","fetchData","S","I","L","find","F","getAtOrigin","styleOrigin","populateFromStyle","ok","error","message","context","clear","responseType","query","customParameters","token","apiKey","data"],"sourceRoot":""}