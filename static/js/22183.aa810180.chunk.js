"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[22183,69655],{79347:function(e,t,n){n.d(t,{e:function(){return u}});var r,i,a,u={},o={get exports(){return u},set exports(e){u=e}};r=o,i=function(){function e(e,n,i){i=i||2;var a,u,o,c,l,f,h,v=n&&n.length,y=v?n[0]*i:e.length,p=t(e,0,y,i,!0),d=[];if(!p||p.next===p.prev)return d;if(v&&(p=s(e,n,p,i)),e.length>80*i){a=o=e[0],u=c=e[1];for(var m=i;m<y;m+=i)(l=e[m])<a&&(a=l),(f=e[m+1])<u&&(u=f),l>o&&(o=l),f>c&&(c=f);h=0!==(h=Math.max(o-a,c-u))?1/h:0}return r(p,d,i,a,u,h),d}function t(e,t,n,r,i){var a,u;if(i===C(e,t,n,r)>0)for(a=t;a<n;a+=r)u=I(a,e[a],e[a+1],u);else for(a=n-r;a>=t;a-=r)u=I(a,e[a],e[a+1],u);if(u&&b(u,u.next)){var o=u.next;Z(u),u=o}return u}function n(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{var i=r.prev;if(Z(r),(r=t=i)===r.next)break;n=!0}}while(n||r!==t);return t}function r(e,t,s,c,l,f,h){if(e){!h&&f&&v(e,c,l,f);for(var y,p,d=e;e.prev!==e.next;)if(y=e.prev,p=e.next,f?a(e,c,l,f):i(e))t.push(y.i/s),t.push(e.i/s),t.push(p.i/s),Z(e),e=p.next,d=p.next;else if((e=p)===d){h?1===h?r(e=u(n(e),t,s),t,s,c,l,f,2):2===h&&o(e,t,s,c,l,f):r(n(e),t,s,c,l,f,1);break}}}function i(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(d(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(e,t,n,r){var i=e.prev,a=e,u=e.next;if(g(i,a,u)>=0)return!1;for(var o=i.x<a.x?i.x<u.x?i.x:u.x:a.x<u.x?a.x:u.x,s=i.y<a.y?i.y<u.y?i.y:u.y:a.y<u.y?a.y:u.y,c=i.x>a.x?i.x>u.x?i.x:u.x:a.x>u.x?a.x:u.x,l=i.y>a.y?i.y>u.y?i.y:u.y:a.y>u.y?a.y:u.y,f=y(o,s,t,n,r),h=y(c,l,t,n,r),v=e.prevZ,p=e.nextZ;v&&v.z>=f&&p&&p.z<=h;){if(v!==e.prev&&v!==e.next&&d(i.x,i.y,a.x,a.y,u.x,u.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,p!==e.prev&&p!==e.next&&d(i.x,i.y,a.x,a.y,u.x,u.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;v&&v.z>=f;){if(v!==e.prev&&v!==e.next&&d(i.x,i.y,a.x,a.y,u.x,u.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&d(i.x,i.y,a.x,a.y,u.x,u.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function u(e,t,r){var i=e;do{var a=i.prev,u=i.next.next;!b(a,u)&&x(a,i,i.next,u)&&S(a,u)&&S(u,a)&&(t.push(a.i/r),t.push(i.i/r),t.push(u.i/r),Z(i),Z(i.next),i=e=u),i=i.next}while(i!==e);return n(i)}function o(e,t,i,a,u,o){var s=e;do{for(var c=s.next.next;c!==s.prev;){if(s.i!==c.i&&m(s,c)){var l=M(s,c);return s=n(s,s.next),l=n(l,l.next),r(s,t,i,a,u,o),void r(l,t,i,a,u,o)}c=c.next}s=s.next}while(s!==e)}function s(e,r,i,a){var u,o,s,l=[];for(u=0,o=r.length;u<o;u++)(s=t(e,r[u]*a,u<o-1?r[u+1]*a:e.length,a,!1))===s.next&&(s.steiner=!0),l.push(p(s));for(l.sort(c),u=0;u<l.length;u++)i=n(i=f(l[u],i),i.next);return i}function c(e,t){return e.x-t.x}function l(e){if(e.next.prev===e)return e;for(var t=e;;){var n=t.next;if(n.prev===t||n===t||n===e)break;t=n}return t}function f(e,t){var r=function(e,t){var n,r=t,i=e.x,a=e.y,u=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var o=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>u){if(u=o,o===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===u)return n;var s,c=n,l=n.x,f=n.y,v=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&d(a<f?i:u,a,l,f,a<f?u:i,a,r.x,r.y)&&(s=Math.abs(a-r.y)/(i-r.x),S(r,e)&&(s<v||s===v&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,v=s)),r=r.next}while(r!==c);return n}(e,t);if(!r)return t;var i=M(r,e),a=n(r,r.next),u=l(i);return n(u,u.next),a=l(a),l(t===r?a:t)}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function v(e,t,n,r){var i=e;do{null===i.z&&(i.z=y(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,u,o,s,c=1;do{for(n=e,e=null,a=null,u=0;n;){for(u++,r=n,o=0,t=0;t<c&&(o++,r=r.nextZ);t++);for(s=c;o>0||s>0&&r;)0!==o&&(0===s||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(u>1)}(i)}function y(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function d(e,t,n,r,i,a,u,o){return(i-u)*(t-o)-(e-u)*(a-o)>=0&&(e-u)*(r-o)-(n-u)*(t-o)>=0&&(n-u)*(a-o)-(i-u)*(r-o)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&x(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(S(e,t)&&S(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||b(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function x(e,t,n,r){var i=_(g(e,t,n)),a=_(g(e,t,r)),u=_(g(n,r,e)),o=_(g(n,r,t));return i!==a&&u!==o||!(0!==i||!k(e,n,t))||!(0!==a||!k(e,r,t))||!(0!==u||!k(n,e,r))||!(0!==o||!k(n,t,r))}function k(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function _(e){return e>0?1:e<0?-1:0}function S(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function M(e,t){var n=new w(e.i,e.x,e.y),r=new w(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function I(e,t,n,r){var i=new w(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Z(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,t,n,r){for(var i=0,a=t,u=n-r;a<n;a+=r)i+=(e[u]-e[a])*(e[a+1]+e[u+1]),u=a;return i}return e.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,u=Math.abs(C(e,0,a,n));if(i)for(var o=0,s=t.length;o<s;o++){var c=t[o]*n,l=o<s-1?t[o+1]*n:e.length;u-=Math.abs(C(e,c,l,n))}var f=0;for(o=0;o<r.length;o+=3){var h=r[o]*n,v=r[o+1]*n,y=r[o+2]*n;f+=Math.abs((e[h]-e[y])*(e[v+1]-e[h+1])-(e[h]-e[v])*(e[y+1]-e[h+1]))}return 0===u&&0===f?0:Math.abs((f-u)/u)},e.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var u=0;u<t;u++)n.vertices.push(e[i][a][u]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},e},void 0!==(a=i())&&(r.exports=a)},22018:function(e,t,n){n.d(t,{a:function(){return v},b:function(){return f},c:function(){return u},d:function(){return a},f:function(){return h},i:function(){return i},m:function(){return o},r:function(){return s},s:function(){return c},t:function(){return l}});var r=n(26277);function i(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function a(e,t,n,r,i,a,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=u,e}function u(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],u=t[4],o=t[5],s=n*a-r*i;return s?(s=1/s,e[0]=a*s,e[1]=-r*s,e[2]=-i*s,e[3]=n*s,e[4]=(i*o-a*u)*s,e[5]=(r*u-n*o)*s,e):null}function o(e,t,n){var r=t[0],i=t[1],a=t[2],u=t[3],o=t[4],s=t[5],c=n[0],l=n[1],f=n[2],h=n[3],v=n[4],y=n[5];return e[0]=r*c+a*l,e[1]=i*c+u*l,e[2]=r*f+a*h,e[3]=i*f+u*h,e[4]=r*v+a*y+o,e[5]=i*v+u*y+s,e}function s(e,t,n){var r=t[0],i=t[1],a=t[2],u=t[3],o=t[4],s=t[5],c=Math.sin(n),l=Math.cos(n);return e[0]=r*l+a*c,e[1]=i*l+u*c,e[2]=r*-c+a*l,e[3]=i*-c+u*l,e[4]=o,e[5]=s,e}function c(e,t,n){var r=t[0],i=t[1],a=t[2],u=t[3],o=t[4],s=t[5],c=n[0],l=n[1];return e[0]=r*c,e[1]=i*c,e[2]=a*l,e[3]=u*l,e[4]=o,e[5]=s,e}function l(e,t,n){var r=t[0],i=t[1],a=t[2],u=t[3],o=t[4],s=t[5],c=n[0],l=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=u,e[4]=r*c+a*l+o,e[5]=i*c+u*l+s,e}function f(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function v(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function y(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}var p=o,d=y;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){var n=e[0],i=e[1],a=e[2],u=e[3],o=e[4],s=e[5],c=t[0],l=t[1],f=t[2],h=t[3],v=t[4],y=t[5],p=(0,r.g)();return Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-l)<=p*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-f)<=p*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(u-h)<=p*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(o-v)<=p*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-y)<=p*Math.max(1,Math.abs(s),Math.abs(y))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)},fromRotation:f,fromScaling:h,fromTranslation:v,identity:i,invert:u,mul:p,multiply:o,multiplyScalar:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e},multiplyScalarAndAdd:function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e},rotate:s,scale:c,set:a,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:d,subtract:y,translate:l},Symbol.toStringTag,{value:"Module"}))},11245:function(e,t,n){function r(){var e=new Float32Array(6);return e[0]=1,e[3]=1,e}function i(e,t,n,r){var i=t[r],a=t[r+1];e[r]=n[0]*i+n[2]*a+n[4],e[r+1]=n[1]*i+n[3]*a+n[5]}function a(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,o=a||t.length/u,s=r;s<o;s++)i(e,t,n,s*u)}n.d(t,{c:function(){return r},t:function(){return a}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){var t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},create:r,createView:function(e,t){return new Float32Array(e,t,6)},fromValues:function(e,t,n,r,i,a){var u=new Float32Array(6);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=i,u[5]=a,u},transform:i,transformMany:a},Symbol.toStringTag,{value:"Module"}))},88396:function(e,t,n){n.d(t,{a:function(){return o},b:function(){return h},c:function(){return i},d:function(){return y},e:function(){return L},f:function(){return b},g:function(){return k},h:function(){return x},i:function(){return d},j:function(){return u},k:function(){return p},l:function(){return _},m:function(){return Z},n:function(){return g},o:function(){return w},p:function(){return z},q:function(){return S},r:function(){return I},s:function(){return a},t:function(){return M},u:function(){return C},v:function(){return m},w:function(){return v},y:function(){return l},z:function(){return f}});var r=n(26277);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function a(e,t,n){return e[0]=t,e[1]=n,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function o(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function s(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function l(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function f(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function v(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function y(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function p(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function d(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function m(e){var t=e[0],n=e[1];return t*t+n*n}function g(e,t){return e[0]=-t[0],e[1]=-t[1],e}function b(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function x(e,t){return e[0]*t[0]+e[1]*t[1]}function k(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function _(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function S(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function M(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function I(e,t,n,r){var i=t[0]-n[0],a=t[1]-n[1],u=Math.sin(r),o=Math.cos(r);return e[0]=i*o-a*u+n[0],e[1]=i*u+a*o+n[1],e}function Z(e,t){return e[0]===t[0]&&e[1]===t[1]}function w(e,t){var n=e[0],i=e[1],a=t[0],u=t[1],o=(0,r.g)();return Math.abs(n-a)<=o*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-u)<=o*Math.max(1,Math.abs(i),Math.abs(u))}function C(e,t,n,r,i){var a=t[0]-n[0],u=t[1]-n[1],o=(r[0]*a+r[1]*u)*(i-1);return a=r[0]*o,u=r[1]*o,e[0]=t[0]+a,e[1]=t[1]+u,e}var T=d,L=o,V=s,P=c,z=y,E=p,F=m;Object.freeze(Object.defineProperty({__proto__:null,add:u,angle:function(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],u=n*n+r*r;u>0&&(u=1/Math.sqrt(u));var o=i*i+a*a;o>0&&(o=1/Math.sqrt(o));var s=(n*i+r*a)*u*o;return s>1?0:s<-1?Math.PI:Math.acos(s)},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:i,cross:k,dist:z,distance:y,div:P,divide:c,dot:x,equals:w,exactEquals:Z,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:T,length:d,lerp:_,max:f,min:l,mul:V,multiply:s,negate:g,normalize:b,projectAndScale:C,random:function(e,t){t=t||1;var n=2*(0,r.R)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:I,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:h,scaleAndAdd:v,set:a,sqrDist:E,sqrLen:F,squaredDistance:p,squaredLength:m,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:L,subtract:o,transformMat2:S,transformMat2d:M,transformMat3:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},Symbol.toStringTag,{value:"Module"}))},15245:function(e,t,n){function r(){return new Float32Array(2)}function i(e,t){var n=new Float32Array(2);return n[0]=e,n[1]=t,n}function a(){return r()}function u(){return i(1,1)}function o(){return i(1,0)}function s(){return i(0,1)}n.d(t,{O:function(){return l},Z:function(){return c},c:function(){return r},f:function(){return i}});var c=a(),l=u(),f=o(),h=s();Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:f,UNIT_Y:h,ZEROS:c,clone:function(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},create:r,createView:function(e,t){return new Float32Array(e,t,2)},fromValues:i,ones:u,unitX:o,unitY:s,zeros:a},Symbol.toStringTag,{value:"Module"}))},16054:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(15671),i=n(43144),a=n(18759),u=function(){function e(t,n){(0,r.Z)(this,e),this._storage=new a.WJ,this._storage.maxSize=t,n&&this._storage.registerRemoveFunc("",n)}return(0,i.Z)(e,[{key:"put",value:function(e,t,n){this._storage.put(e,t,n,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},71277:function(e,t,n){function r(e){return e=e||globalThis.location.hostname,c.some((function(t){var n;return null!=(null===(n=e)||void 0===n?void 0:n.match(t))}))}function i(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(a)||null!=t.match(o)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(u)||null!=t.match(s)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}n.d(t,{XO:function(){return r},pJ:function(){return i}});var a=/^devext.arcgis.com$/,u=/^qaext.arcgis.com$/,o=/^[\w-]*\.mapsdevext.arcgis.com$/,s=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,a,u,/^jsapps.esri.com$/,o,s]},46228:function(e,t,n){n.d(t,{I:function(){return i},v:function(){return a}});var r=n(16889);function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,r.uZ)(e,0,s),a=0;a<4;a++)t[n+a]=Math.floor(256*c(i*u[a]))}function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,r=0;r<4;r++)n+=e[t+r]*o[r];return n}var u=[1,256,65536,16777216],o=[1/256,1/65536,1/16777216,1/4294967296],s=a(new Uint8ClampedArray([255,255,255,255]));function c(e){return e-Math.floor(e)}},28554:function(e,t,n){n.d(t,{K3:function(){return i},Rx:function(){return u},hq:function(){return a}});var r=n(93169),i=function(){return!!(0,r.Z)("enable-feature:force-wosr")},a=function(){return!!(0,r.Z)("enable-feature:direct-3d-object-feature-layer-display")},u=function(){return!!(0,r.Z)("enable-feature:SceneLayer-editing")}},31027:function(e,t,n){n.d(t,{$Z:function(){return C},BX:function(){return Z},Cc:function(){return k},E_:function(){return c},F:function(){return T},FG:function(){return V},H1:function(){return s},JW:function(){return E},NA:function(){return b},NO:function(){return v},On:function(){return M},QI:function(){return f},Qf:function(){return P},Qs:function(){return l},RI:function(){return _},TB:function(){return z},TT:function(){return h},W7:function(){return w},X_:function(){return L},be:function(){return y},cO:function(){return x},gJ:function(){return g},hf:function(){return a},k5:function(){return m},nn:function(){return u},pJ:function(){return S},wi:function(){return I},yL:function(){return d},zL:function(){return p}});var r=n(29439),i=n(37762);function a(e,t,n,r){return function(e){return"function"==typeof e}(e)?e(t,n,r):e}function u(e){return[e.r,e.g,e.b,e.a]}function o(e){for(var t=e.length;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1;return!0}function s(e,t){var n=[],r=0,i=-1;do{if((i=e.indexOf("[",r))>=r){if(i>r){var a=e.substr(r,i-r);n.push([a,null,o(a)])}if(r=i+1,(i=e.indexOf("]",r))>=r){if(i>r){var u=t[e.substr(r,i-r)];u&&n.push([null,u,!1])}r=i+1}}}while(-1!==i);if(r<e.length-1){var s=e.substr(r);n.push([s,null,o(s)])}return n}function c(e,t,n){var a,u="",o=null,s=(0,i.Z)(t);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=(0,r.Z)(c,3),h=l[0],v=l[1],y=l[2];if(h)y?o=h:(o&&(u+=o,o=null),u+=h);else{var p=e.attributes[v];p&&(o&&(u+=o,o=null),u+=p)}}}catch(d){s.e(d)}finally{s.f()}return f(u,n)}function l(e,t,n){var r=s(t,e);return function(e){return c(e,r,n)}}function f(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function h(e,t,n,r,i,a){for(var u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=t/i,s=n/a,c=Math.ceil(o/2),l=Math.ceil(s/2),f=0;f<a;f++)for(var h=0;h<i;h++){for(var v=4*(h+(u?a-f-1:f)*i),y=0,p=0,d=0,m=0,g=0,b=0,x=0,k=(f+.5)*s,_=Math.floor(f*s);_<(f+1)*s;_++)for(var S=Math.abs(k-(_+.5))/l,M=(h+.5)*o,I=S*S,Z=Math.floor(h*o);Z<(h+1)*o;Z++){var w=Math.abs(M-(Z+.5))/c,C=Math.sqrt(I+w*w);C>=-1&&C<=1&&((y=2*C*C*C-3*C*C+1)>0&&(x+=y*e[(w=4*(Z+_*t))+3],d+=y,e[w+3]<255&&(y=y*e[w+3]/250),m+=y*e[w],g+=y*e[w+1],b+=y*e[w+2],p+=y))}r[v]=m/p,r[v+1]=g/p,r[v+2]=b/p,r[v+3]=x/d}}function v(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function y(e){var t,n;return null!==(t=null===(n=e.data)||void 0===n?void 0:n.symbol)&&void 0!==t?t:null}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function d(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function m(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function g(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e||isNaN(e)?t:e},x=function(e){return e.tintColor?v(e.tintColor):{r:255,g:255,b:255,a:1}},k=function(e){if(!e)return!1;var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){switch(t.value.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}}}catch(r){n.e(r)}finally{n.f()}return!1};function _(){return Promise.all([n.e(99058),n.e(50309)]).then(n.bind(n,50309))}function S(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function M(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function I(e){var t="",n="";if(e){var r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?n="bold":r.includes("light")&&(n="lighter")}return{style:t,weight:n}}function Z(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function w(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers){var t,n=(0,i.Z)(e.symbolLayers);try{for(n.s();!(t=n.n()).done;){var r=w(t.value);if(null!=r)return r}}catch(a){n.e(a)}finally{n.f()}}break;case"CIMTextSymbol":return w(e.symbol);case"CIMSolidFill":return e.color}}function C(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":var t=e.symbolLayers;if(t){var n,r=(0,i.Z)(t);try{for(r.s();!(n=r.n()).done;){var a=C(n.value);if(null!=a)return a}}catch(u){r.e(u)}finally{r.f()}}break;case"CIMTextSymbol":return C(e.symbol);case"CIMSolidStroke":case"CIMSolidFill":return e.color}}function T(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers){var t,n=(0,i.Z)(e.symbolLayers);try{for(n.s();!(t=n.n()).done;){var r=T(t.value);if(void 0!==r)return r}}catch(a){n.e(a)}finally{n.f()}}break;case"CIMTextSymbol":return T(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function L(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function V(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function P(e){return(e?Object.keys(e):[]).map((function(t){return{name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"}}))}var z=function(e){return e.includes("data:image/svg+xml")};function E(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},38048:function(e,t,n){n.d(t,{EJ:function(){return k},KV:function(){return b},n2:function(){return g},v9:function(){return x},wm:function(){return M}});var r=n(74165),i=n(1413),a=n(37762),u=n(15861),o=n(76200),s=n(10064),c=n(92026),l=n(66978),f=n(35995),h=n(70032),v=n(65694),y=n(28554),p={};function d(){return(d=(0,u.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t,n);case 3:return e.t0=e.sent.data,e.t1=(0,f.Yd)(t),e.t2=t,e.abrupt("return",{data:e.t0,baseUrl:e.t1,styleUrl:e.t2});case 9:return e.prev=9,e.t3=e.catch(0),e.abrupt("return",((0,l.r9)(e.t3),null));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(e,t,n){var r,i=(0,c.pC)(t.portal)?t.portal:h.Z.getDefault(),u="".concat(i.url," - ").concat(i.user&&i.user.username," - ").concat(e);return p[u]||(p[u]=function(e,t,n){return t.load(n).then((function(){var r=new v.Z({disableExtraQuery:!0,query:"owner:".concat(_," AND type:").concat(S,' AND typekeywords:"').concat(e,'"')});return t.queryItems(r,n)})).then((function(t){var r=t.results,i=null,u=e.toLowerCase();if(r&&Array.isArray(r)){var o,c=(0,a.Z)(r);try{for(c.s();!(o=c.n()).done;){var l,f=o.value,h=null===(l=f.typeKeywords)||void 0===l?void 0:l.some((function(e){return e.toLowerCase()===u}));if(h&&f.type===S&&f.owner===_){i=f;break}}}catch(v){c.e(v)}finally{c.f()}}if(!i)throw new s.Z("symbolstyleutils:style-not-found","The style '".concat(e,"' could not be found"),{styleName:e});return i.load(n)}))}(e,i,n).then((function(e){return r=e,e.fetchData()})).then((function(t){var n;return{data:t,baseUrl:null!==(n=r.itemUrl)&&void 0!==n?n:"",styleName:e}}))),p[u]}function g(e,t,n){return e&&(0,c.pC)(e.styleUrl)?function(e,t){return d.apply(this,arguments)}(e.styleUrl,n):e&&(0,c.pC)(e.styleName)?m(e.styleName,t,n):Promise.reject(new s.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function b(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function x(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!(0,y.K3)()){var n,r=(0,a.Z)(e.formatInfos);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("gltf"===i.type)return i.href}}catch(u){r.e(u)}finally{r.f()}}return e.webRef}function k(e,t){var n=(0,i.Z)({responseType:"json",query:{f:"json"}},t);return(0,o.default)((0,f.Fv)(e),n)}var _="esri_en",S="Style",M="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},91935:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),i=n(10064),a=n(32718),u=n(92026),o=n(58971);function s(e,t,n,i,o){if((0,u.Wi)(e))return null;var s=e.referencesGeometry()&&o?l(t,i,o):t,c=e.repurposeFeature(s);try{return e.evaluate((0,r.Z)((0,r.Z)({},n),{},{$feature:c}))}catch(f){return a.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",f),null}}var c=new Map;function l(e,t,n){var u=n.transform,s=n.hasZ,l=n.hasM;c.has(t)||c.set(t,function(e){var t={};switch(e){case"esriGeometryPoint":return function(e,n,r,i){return(0,o.U1)(n,t,e,r,i)};case"esriGeometryPolygon":return function(e,n,r,i){return(0,o.Ie)(n,t,e,r,i)};case"esriGeometryPolyline":return function(e,n,r,i){return(0,o.G6)(n,t,e,r,i)};case"esriGeometryMultipoint":return function(e,n,r,i){return(0,o.J9)(n,t,e,r,i)};default:return a.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new i.Z("mapview-arcade","Unable to handle geometryType: ".concat(e))),function(e){return e}}}(t));var f=c.get(t)(e.geometry,u,s,l);return(0,r.Z)((0,r.Z)({},e),{},{geometry:f})}},13200:function(e,t,n){n.d(t,{k3:function(){return u},s5:function(){return a}});Math.PI;var r=1/Math.LN2;function i(e,t){return(e%=t)>=0?e:e+t}function a(e){return i(.7111111111111111*e,256)}function u(e){return Math.log(e)*r}},38999:function(e,t,n){var r,i;function a(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function u(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,i.Top];default:return console.debug("Found invalid placement type ".concat(e)),[r.Center,i.Center]}}function s(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug("Found invalid horizontal alignment ".concat(e)),0}}function c(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug("Found invalid vertical alignment ".concat(e)),0}}function l(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function f(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}n.d(t,{Hd:function(){return l},M7:function(){return r},NS:function(){return f},TR:function(){return i},b7:function(){return u},g:function(){return s},kH:function(){return a},qv:function(){return o},tf:function(){return c}}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},54815:function(e,t,n){n.d(t,{CA:function(){return m},Gq:function(){return T},Xp:function(){return d},a:function(){return w},dk:function(){return I},hF:function(){return b},jj:function(){return g},jy:function(){return p},m2:function(){return x},mE:function(){return Z},qr:function(){return C}});var r=n(11752),i=n(61120),a=n(60136),u=n(92572),o=n(15671),s=n(43144),c=n(4942),l=n(1413),f=n(10064),h=n(38999),v=n(80613);var y=Object.keys(v.mD).filter((function(e){return"number"==typeof v.mD[e]})).reduce((function(e,t){return(0,l.Z)((0,l.Z)({},e),{},(0,c.Z)({},t,v.mD[t]))}),{});function p(e){return e===v.mD.OUTLINE_FILL||e===v.mD.OUTLINE_FILL_SIMPLE}function d(e){return function(e){return e===v.mD.SIMPLE||e===v.mD.OUTLINE_FILL_SIMPLE}(e.symbologyType)}function m(e){return p(e.symbologyType)}function g(e,t){switch(e){case v.LW.FILL:return I.from(t);case v.LW.LINE:return w.from(t);case v.LW.MARKER:return Z.from(t);case v.LW.TEXT:return C.from(t);case v.LW.LABEL:return T.from(t);default:throw new Error("Unable to createMaterialKey for unknown geometryType ".concat(e))}}function b(e){switch(x.load(e).geometryType){case v.LW.MARKER:return new Z(e);case v.LW.FILL:return new I(e);case v.LW.LINE:return new w(e);case v.LW.TEXT:return new C(e);case v.LW.LABEL:return new T(e)}}var x=function(){function e(t){(0,o.Z)(this,e),this._data=0,this._data=t}return(0,s.Z)(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=null!==e&&void 0!==e?e:0}},{key:"geometryType",get:function(){return this.bits(8,11)},set:function(e){this.setBits(e,8,11)}},{key:"mapAligned",get:function(){return!!this.bit(20)},set:function(e){this.setBit(20,e)}},{key:"sdf",get:function(){return!!this.bit(11)},set:function(e){this.setBit(11,null!==e&&void 0!==e&&e)}},{key:"pattern",get:function(){return!!this.bit(12)},set:function(e){this.setBit(12,e)}},{key:"textureBinding",get:function(){return this.bits(0,8)},set:function(e){this.setBits(e,0,8)}},{key:"symbologyType",get:function(){return this.bits(21,26)},set:function(e){this.setBits(e,21,26)}},{key:"geometryTypeString",get:function(){switch(this.geometryType){case v.LW.FILL:return"fill";case v.LW.MARKER:return"marker";case v.LW.LINE:return"line";case v.LW.TEXT:return"text";case v.LW.LABEL:return"label";default:throw new f.Z("Unable to handle unknown geometryType: ".concat(this.geometryType))}}},{key:"setBit",value:function(e,t){var n=1<<e;t?this._data|=n:this._data&=~n}},{key:"bit",value:function(e){return(this._data&1<<e)>>e}},{key:"setBits",value:function(e,t,n){for(var r=t,i=0;r<n;r++,i++)this.setBit(r,0!=(e&1<<i))}},{key:"bits",value:function(e,t){for(var n=0,r=e,i=0;r<t;r++,i++)n|=this.bit(r)<<i;return n}},{key:"hasVV",value:function(){return!1}},{key:"setVV",value:function(e,t){}},{key:"getVariation",value:function(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:v.mD[this.symbologyType],options:y,namespace:"SYMBOLOGY_TYPE"}}}},{key:"getVariationHash",value:function(){return this._data&~(7&this.textureBinding)}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}}]),e}();x.shared=new x(0);var k=function(e){return function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvSizeMinMaxValue",get:function(){return 0!==this.bit(16)},set:function(e){this.setBit(16,e)}},{key:"vvSizeScaleStops",get:function(){return 0!==this.bit(17)},set:function(e){this.setBit(17,e)}},{key:"vvSizeFieldStops",get:function(){return 0!==this.bit(18)},set:function(e){this.setBit(18,e)}},{key:"vvSizeUnitValue",get:function(){return 0!==this.bit(19)},set:function(e){this.setBit(19,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t);var a=function(e,t,n){var r=v.X.SIZE_FIELD_STOPS|v.X.SIZE_MINMAX_VALUE|v.X.SIZE_SCALE_STOPS|v.X.SIZE_UNIT_VALUE,i=(t&(v.mf.FIELD_TARGETS_OUTLINE|v.mf.MINMAX_TARGETS_OUTLINE|v.mf.SCALE_TARGETS_OUTLINE|v.mf.UNIT_TARGETS_OUTLINE))>>>4;return e===v.LW.LINE&&n.isOutline||e===v.LW.FILL&&p(n.symbologyType)?r&i:r&~i}(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(a&v.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(a&v.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(a&v.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(a&v.X.SIZE_SCALE_STOPS)}}]),n}(e)},_=function(e){return function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvRotation",get:function(){return 0!==this.bit(15)},set:function(e){this.setBit(15,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvRotation}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvRotation=!t.isOutline&&!!(e&v.X.ROTATION)}}]),n}(e)},S=function(e){return function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvColor",get:function(){return 0!==this.bit(13)},set:function(e){this.setBit(13,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvColor}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvColor=!t.isOutline&&!!(e&v.X.COLOR)}}]),n}(e)},M=function(e){return function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"vvOpacity",get:function(){return 0!==this.bit(14)},set:function(e){this.setBit(14,e)}},{key:"hasVV",value:function(){return(0,r.Z)((0,i.Z)(n.prototype),"hasVV",this).call(this)||this.vvOpacity}},{key:"setVV",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"setVV",this).call(this,e,t),this.vvOpacity=!t.isOutline&&!!(e&v.X.OPACITY)}}]),n}(e)},I=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=v.LW.FILL,r.symbologyType=t,t!==v.mD.DOT_DENSITY&&r.setVV(n,e),r.data}}]),n}(S(M(k(x))));I.shared=new I(0);var Z=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=e.symbologyType,n=e.vvFlags,r=this.load(0);return r.geometryType=v.LW.MARKER,r.symbologyType=t,t!==v.mD.HEATMAP&&r.setVV(n,e),r.data}}]),n}(S(M(_(k(x)))));Z.shared=new Z(0);var w=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=v.LW.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(S(M(k(x))));w.shared=new w(0);var C=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=v.LW.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}}]),n}(S(M(_(k(x)))));C.shared=new C(0);var T=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"getVariation",value:function(){return(0,l.Z)((0,l.Z)({},(0,r.Z)((0,i.Z)(n.prototype),"getVariation",this).call(this)),{},{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}],[{key:"load",value:function(e){var t=this.shared;return t.data=e,t}},{key:"from",value:function(e){var t=this.load(0);return t.geometryType=v.LW.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,h.NS)(e.placement),t.data}}]),n}(k(x));T.shared=new T(0)},81735:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(15671),i=n(43144),a=n(60136),u=n(92572),o=n(27366),s=n(41691),c=n(49861),l=(n(25243),n(63780),n(69912)),f=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"initialize",value:function(){}},{key:"destroy",value:function(){}},{key:"supportsTileUpdates",get:function(){return!1}},{key:"spatialReference",get:function(){var e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null}}]),n}(s.r);(0,o._)([(0,c.Cb)({readOnly:!0})],f.prototype,"supportsTileUpdates",null),(0,o._)([(0,c.Cb)({constructOnly:!0})],f.prototype,"remoteClient",void 0),(0,o._)([(0,c.Cb)({constructOnly:!0})],f.prototype,"service",void 0),(0,o._)([(0,c.Cb)()],f.prototype,"spatialReference",null),(0,o._)([(0,c.Cb)({constructOnly:!0})],f.prototype,"tileInfo",void 0),(0,o._)([(0,c.Cb)({constructOnly:!0})],f.prototype,"tileStore",void 0);var h=f=(0,o._)([(0,l.j)("esri.views.2d.layers.features.processors.BaseProcessor")],f)},3561:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(37762),i=n(74165),a=n(15861),u=n(15671),o=n(43144),s=n(60136),c=n(92572),l=n(27366),f=n(75746),h=(n(10064),n(93169),n(32718),n(92026)),v=n(66978),y=(n(25243),n(63780),n(69912)),p=n(48732),d=n(78952),m=n(92251),g=n(80613),b=n(72774),x=n(74017),k=n(61909),_=n(69813),S=n(27301),M=n(81735),I=n(1413),Z=function(){function e(t){(0,u.Z)(this,e),this._remoteClient=t,this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}return(0,o.Z)(e,[{key:"destroy",value:function(){}},{key:"fetchResource",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,u,o=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._resourceMap,!(a=r.get(t))){e.next=3;break}return e.abrupt("return",a);case 3:if(!(u=this._inFlightResourceMap.get(t))){e.next=6;break}return e.abrupt("return",u);case 6:e.prev=6,u=this._remoteClient.invoke("tileRenderer.fetchResource",{url:t},(0,I.Z)({},n)),this._inFlightResourceMap.set(t,u),u.then((function(e){return o._inFlightResourceMap.delete(t),r.set(t,e),e})),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(6),e.abrupt("return",(0,v.D_)(e.t0)?null:{width:0,height:0});case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getResource",value:function(e){var t;return null!==(t=this._resourceMap.get(e))&&void 0!==t?t:null}}]),e}();function w(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}function C(e){var t=e.message,n={message:{data:{},tileKey:t.tileKey,tileKeyOrigin:t.tileKeyOrigin,version:t.version},transferList:new Array};for(var r in t.data){var i=t.data[r];if(n.message.data[r]=null,(0,h.pC)(i)){var a=i.stride,u=i.indices.slice(0),o=i.vertices.slice(0),s=i.records.slice(0),c={stride:a,indices:u,vertices:o,records:s,metrics:(0,h.yw)(i.metrics,(function(e){return e.slice(0)}))};n.transferList.push(u,o,s),n.message.data[r]=c}}return n}var T=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,u.Z)(this,n),(e=t.apply(this,arguments)).type="symbol",e._matchers={feature:null,aggregate:null},e._bufferData=new Map,e._bufferIds=new Map,e}return(0,o.Z)(n,[{key:"initialize",value:function(){this.handles.add([this.tileStore.on("update",this.onTileUpdate.bind(this))]),this._resourceManagerProxy=new Z(this.remoteClient)}},{key:"destroy",value:function(){this._resourceManagerProxy.destroy()}},{key:"supportsTileUpdates",get:function(){return!0}},{key:"forEachBufferId",value:function(e){this._bufferIds.forEach((function(t){t.forEach(e)}))}},{key:"update",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("symbol"===(a=n.schema.processors[0]).type){e.next=3;break}return e.abrupt("return");case 3:u=(0,p.Hg)(this._schema,a),((0,p.uD)(u,"mesh")||(0,p.uD)(u,"target"))&&(t.mesh=!0,null!==(r=t.why)&&void 0!==r&&r.mesh.push("Symbology changed"),this._schema=a,this._factory=this._createFactory(a),this._factory.update(a,this.tileStore.tileScheme.tileInfo));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTileMessage",value:function(e,t,n,r){return(0,v.k_)(r),this._onTileData(e,t,n,r)}},{key:"onTileClear",value:function(e){return this._bufferData.delete(e.key.id),this._bufferIds.delete(e.key.id),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:{clear:!0}})}},{key:"onTileError",value:function(e,t,n){var r=n.signal,i={tileKey:e.id,error:t};return this.remoteClient.invoke("tileRenderer.onTileError",i,{signal:r})}},{key:"onTileUpdate",value:function(e){var t,n=this,i=(0,r.Z)(e.removed);try{for(i.s();!(t=i.n()).done;){var a=t.value;this._bufferData.has(a.key.id)&&this._bufferData.delete(a.key.id),this._bufferIds.has(a.key.id)&&this._bufferIds.delete(a.key.id)}}catch(c){i.e(c)}finally{i.f()}var u,o=(0,r.Z)(e.added);try{var s=function(){var e=u.value;n._bufferData.forEach((function(t){var i,a=(0,r.Z)(t);try{for(a.s();!(i=a.n()).done;){var u=i.value;u.message.tileKey===e.id&&n._updateTileMesh("append",e,C(u),[],!1,!1,null)}}catch(c){a.e(c)}finally{a.f()}}))};for(o.s();!(u=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}}},{key:"_addBufferData",value:function(e,t){var n;this._bufferData.has(e)||this._bufferData.set(e,[]),null===(n=this._bufferData.get(e))||void 0===n||n.push(C(t))}},{key:"_createFactory",value:function(e){var t=this,n=this.service,r=n.geometryType,i=n.objectIdField,a={geometryType:r,fields:n.fields,spatialReference:d.Z.fromJSON(this.spatialReference)},u=new k.Wr((function(e,n){return t.remoteClient.invoke("tileRenderer.getMaterialItems",e,n)}),this.tileStore.tileScheme.tileInfo),o=e.mesh,s=o.matcher,c=o.aggregateMatcher;return this._store=u,this._matchers.feature=(0,_.fL)(s,u,a,this._resourceManagerProxy),this._matchers.aggregate=(0,h.yw)(c,(function(e){return(0,_.fL)(e,u,a,t._resourceManagerProxy)})),new x.j(r,i,u)}},{key:"_onTileData",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,a,u){var o,s,c,l,f,y,p,d,m,g,b,x,k,_,S,M,I,Z,w,C,T,L,V,P,z=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.k_)(u),s=n.type,c=n.addOrUpdate,l=n.remove,f=n.clear,y=n.end,p=!!this._schema.mesh.sortKey,c){e.next=5;break}return d={type:s,addOrUpdate:null,remove:l,clear:f,end:y,sort:p},e.abrupt("return",this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:t.id,data:d},u));case 5:return m=this._processFeatures(t,c,a,u,null===(o=n.status)||void 0===o?void 0:o.version),e.prev=6,e.next=9,m;case 9:if(g=e.sent,!(0,h.Wi)(g)){e.next=13;break}return b={type:s,addOrUpdate:null,remove:l,clear:f,end:y,sort:p},e.abrupt("return",this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:t.id,data:b},u));case 13:x=[],k=(0,r.Z)(g),e.prev=15,k.s();case 17:if((_=k.n()).done){e.next=41;break}if(S=_.value,M=!1,I=S.message.bufferIds,Z=t.key.id,w=S.message.tileKey,Z===w||!(0,h.pC)(I)){e.next=38;break}if(this.tileStore.get(w)){e.next=25;break}return this._addBufferData(Z,S),x.push(S),e.abrupt("continue",39);case 25:(C=this._bufferIds.get(w))||(C=new Set,this._bufferIds.set(w,C)),T=Array.from(I),L=0,V=T;case 29:if(!(L<V.length)){e.next=38;break}if(P=V[L],!C.has(P)){e.next=34;break}return M=!0,e.abrupt("break",38);case 34:C.add(P);case 35:L++,e.next=29;break;case 38:M||(this._addBufferData(Z,S),x.push(S));case 39:e.next=17;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(15),k.e(e.t0);case 46:return e.prev=46,k.f(),e.finish(46);case 49:return e.next=51,Promise.all(x.map((function(e){var r=t.key.id===e.message.tileKey,i=r?n.remove:[],a=r&&n.end;return z._updateTileMesh(s,t,e,i,a,!!n.clear,u.signal)})));case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(6),this._handleError(t,e.t1,u);case 56:case"end":return e.stop()}}),e,this,[[6,53],[15,43,46,49]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_updateTileMesh",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r,a,u,o,s){var c,l,f,y,p,d,m;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t,l=r.message.tileKey,f=!!this._schema.mesh.sortKey,l!==n.key.id&&(u=!1),y=(0,h.yw)(r,(function(e){return e.message})),p=(0,h.yw)(r,(function(e){return e.transferList}))||[],d={type:c,addOrUpdate:y,remove:a,clear:o,end:u,sort:f},m={transferList:(0,h.Wg)(p)||[],signal:s},e.abrupt("return",((0,v.k_)(m),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:l,data:d},m)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a,u,o){return e.apply(this,arguments)}}()},{key:"_processFeatures",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r,a,u){var o,s,c,l,f,y;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.Wi)(n)&&n.hasFeatures){e.next=2;break}return e.abrupt("return",null);case 2:return o={transform:t.transform,hasZ:!1,hasM:!1},s=this._factory,c={viewingMode:"",scale:t.scale},e.next=7,this._matchers.feature;case 7:return l=e.sent,e.next=10,this._matchers.aggregate;case 10:return f=e.sent,(0,v.k_)(a),y=this._getLabelInfos(t,n),e.next=15,s.analyze(n.getCursor(),this._resourceManagerProxy,l,f,o,c);case 15:return(0,v.k_)(a),e.abrupt("return",this._writeFeatureSet(t,n,o,y,s,r,u));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"_writeFeatureSet",value:function(e,t,n,r,i,a,u){for(var o=t.getSize(),s=this._schema.mesh.matcher.symbologyType,c=new b._(e.key.id,{features:o,records:o,metrics:0},s,a,s!==g.mD.HEATMAP,u),l={viewingMode:"",scale:e.scale},f=t.getCursor();f.next();)try{var v=f.getDisplayId(),y=(0,h.pC)(r)?r.get(v):null;i.writeCursor(c,f,n,l,e.level,y,this._resourceManagerProxy)}catch(d){}var p=e.tileInfoView.tileInfo.isWrappable;return c.serialize(p)}},{key:"_handleError",value:function(e,t,n){if(!(0,v.D_)(t)){var r={tileKey:e.id,error:t.message};return this.remoteClient.invoke("tileRenderer.onTileError",r,{signal:n.signal})}return Promise.resolve()}},{key:"_getLabelingSchemaForScale",value:function(e){var t=this._schema.mesh.labels;if((0,h.Wi)(t))return null;if("subtype"===t.type){var n={type:"subtype",classes:{}},r=!1;for(var i in t.classes){var a=t.classes[i].filter((function(t){return w(t,e.scale)}));r=r||!!a.length,n.classes[i]=a}return r?n:null}var u=t.classes.filter((function(t){return w(t,e.scale)}));return u.length?{type:"simple",classes:u}:null}},{key:"_getLabels",value:function(e,t){if("subtype"===t.type){var n,r=this.service.subtypeField,i=(0,h.s3)(r,"Expected to find subtype Field"),a=e.readAttribute(i);return null==a?[]:null!==(n=t.classes[a])&&void 0!==n?n:[]}return t.classes}},{key:"_getLabelInfos",value:function(e,t){var n=this,i=this._getLabelingSchemaForScale(e);if((0,h.Wi)(i))return null;for(var a=new Map,u=t.getCursor(),o=function(){var e,t=u.getDisplayId(),o=[],s=(0,m.nE)(t),c=s&&1!==u.readAttribute("cluster_count")?"aggregate":"feature",l=n._getLabels(u,i),h=(0,r.Z)(l);try{var v=function(){var r=e.value;if(r.target!==c)return"continue";var i=u.getStorage(),a=s&&"feature"===c?i.getComputedStringAtIndex(u.readAttribute("referenceId"),r.fieldIndex):i.getComputedStringAtIndex(t,r.fieldIndex);if(!a)return"continue";var l=(0,f.E)(a.toString()),h=l[0],v=l[1];n._store.getMosaicItem(r.symbol,(0,S._)(h)).then((function(e){var t;o[r.index]={glyphs:null!==(t=e.glyphMosaicItems)&&void 0!==t?t:[],rtl:v,index:r.index}}))};for(h.s();!(e=h.n()).done;)v()}catch(y){h.e(y)}finally{h.f()}a.set(t,o)};u.next();)o();return a}}]),n}(M.Z),L=T=(0,l._)([(0,y.j)("esri.views.2d.layers.features.processors.SymbolProcessor")],T)},98125:function(e,t,n){n.d(t,{x:function(){return L},B:function(){return C}});var r=n(74165),i=n(15861),a=n(98991),u=n(37762),o=n(15671),s=n(43144),c=n(80613),l=n(54815),f={marker:c.LW.MARKER,fill:c.LW.FILL,line:c.LW.LINE,text:c.LW.TEXT},h=function(){function e(t,n,r,i){(0,o.Z)(this,e);var a={minScale:null===n||void 0===n?void 0:n.minScale,maxScale:null===n||void 0===n?void 0:n.maxScale},s=function(e){return e.minScale||e.maxScale?e.minScale+"-"+e.maxScale:""}(a);this.layers=t,this.data=n,this.hash=this._createHash()+s,this.rendererKey=r;var h,v={isOutline:!1,placement:null,symbologyType:c.mD.DEFAULT,vvFlags:r},y=(0,u.Z)(t);try{for(y.s();!(h=y.n()).done;){var p=h.value,d=f[p.type];v.isOutline="line"===p.type&&p.isOutline,p.materialKey=(0,l.jj)(d,v),p.maxVVSize=i,p.scaleInfo=a,p.templateHash+=s}}catch(m){y.e(m)}finally{y.f()}}return(0,s.Z)(e,[{key:"type",get:function(){return"expanded-cim"}},{key:"_createHash",value:function(){var e,t="",n=(0,u.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){t+=e.value.templateHash}}catch(r){n.e(r)}finally{n.f()}return t}}]),e}();var v=n(71277),y=n(10064),p=n(92026),d=n(66978),m=n(35995),g=n(70032),b=n(53283),x=n(38048);function k(e,t,n){return _.apply(this,arguments)}function _(){return _=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.name){e.next=2;break}throw new y.Z("style-symbol-reference-name-missing","Missing name in style symbol reference");case 2:if(!t.styleName||"Esri2DPointSymbolsStyle"!==t.styleName){e.next=4;break}return e.abrupt("return",S(t,i));case 4:return e.prev=4,e.t0=I,e.next=8,(0,x.n2)(t,n,i);case 8:return e.t1=e.sent,e.t2=t.name,e.t3=n,e.t4=i,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 15:return e.prev=15,e.t5=e.catch(4),e.abrupt("return",((0,d.k_)(e.t5),null));case 18:case"end":return e.stop()}}),e,null,[[4,15]])}))),_.apply(this,arguments)}function S(e,t){return M.apply(this,arguments)}function M(){return M=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.wm.replace(/\{SymbolName\}/gi,t.name),e.prev=1,e.next=4,(0,x.EJ)(i,n);case 4:return a=e.sent,e.abrupt("return",(0,x.KV)(a.data));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",((0,d.k_)(e.t0),null));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),M.apply(this,arguments)}function I(e,t,n,r){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,a){var u,o,s,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.data,o={portal:i&&(0,p.pC)(i.portal)?i.portal:g.Z.getDefault(),url:(0,m.mN)(t.baseUrl),origin:"portal-item"},s=u.items.find((function(e){return e.name===n}))){e.next=3;break}throw new y.Z("symbolstyleutils:symbol-name-not-found","The symbol name '".concat(n,"' could not be found"),{symbolName:n});case 3:return c=(0,b.f)((0,x.v9)(s,"cimRef"),o),(0,v.XO)()&&(c=(0,v.pJ)(c)),e.prev=5,e.next=8,(0,x.EJ)(c,a);case 8:return l=e.sent,e.abrupt("return",(0,x.KV)(l.data));case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",((0,d.k_)(e.t0),null));case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),Z.apply(this,arguments)}var w=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,(0,a.c)(t.data,n,i);case 3:return e.t1=e.sent,e.t2=t.data,e.t3=t.rendererKey,e.t4=t.maxVVSize,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function C(e,t,n,r){return T.apply(this,arguments)}function T(){return T=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,a){var u,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if("cim"!==t.type){e.next=4;break}return e.abrupt("return",w(t,n,i));case 4:if("web-style"!==t.type){e.next=21;break}return e.next=7,k(t,null,a);case 7:if(e.t1=u=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==u;case 11:if(!e.t0){e.next=15;break}e.t2=u,e.next=16;break;case 15:e.t2=void 0;case 16:return e.t3=e.t2,e.t4=t.rendererKey,e.t5=t.maxVVSize,o={type:"cim",data:e.t3,rendererKey:e.t4,maxVVSize:e.t5},e.abrupt("return",w(o,n,i));case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function L(e){if(!e)return null;var t=e.avoidSDFRasterization,n=e.type,r=e.cim,i=e.url,a={cim:r,type:n,mosaicHash:e.materialHash,url:i,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(n){case"marker":a.size=e.size,a.path=e.path,a.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":a.dashTemplate=e.dashTemplate;break;case"text":a.text=e.text,a.fontName=e.fontName}return a}},5131:function(e,t,n){var r=n(15671),i=n(43144),a=n(60136),u=n(92572),o=n(27366),s=n(31319),c=n(92026),l=n(49861),f=(n(25243),n(63780),n(69912)),h=n(88396),v=n(38164);var y=new Set,p=[],d=new Map,m=[0,0],g=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._keyToItem=new Map,i.concurrency=6,i.strategy="scale-first",i.tileInfoView=null,i}return(0,i.Z)(n,[{key:"initialize",value:function(){var e=this,t=this.concurrency,n=this.process;this._queue=new v.e({concurrency:t,process:function(t,r){var i=e._keyToItem.get(t);return n(i,{signal:r})},peeker:function(e){return e.values().next().value}})}},{key:"destroy",value:function(){this.clear(),this._queue=(0,c.SC)(this._queue)}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e,t){var n=this,r=e.key.id+"-"+t;if(this.has(r))return this.get(r);var i=this._queue.push(r),a=function(){n._keyToItem.delete(r),n.notifyChange("updating")};return this._keyToItem.set(r,e),i.then(a,a),this.notifyChange("updating"),i}},{key:"reset",value:function(){this._queue.reset(),this.notifyChange("updating")}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var n=this.tileInfoView,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var n=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(n.key);d.has(a)||(d.set(a,[]),r=Math.max(a,r),i=Math.min(a,i)),d.get(a).push(n.key),y.add(a)}));var a=this.state.scale;d.has(a)||(function(e,t){e.length=0,t.forEach((function(t){return e.push(t)}))}(p,y),p.sort((function(e,t){return e-t})),a=p.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),p[0])),a=Math.min(a,r),a=Math.max(a,i);var u=d.get(a),o=n.getClosestInfoForScale(a),s=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return u.sort((function(e,t){var n=o.denormalizeCol(e.col,e.world),r=o.denormalizeCol(t.col,t.world);return Math.sqrt((s-n)*(s-n)+(c-e.row)*(c-e.row))-Math.sqrt((s-r)*(s-r)+(c-t.row)*(c-t.row))})),y.clear(),d.clear(),u[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var n,r=this.tileInfoView,i=this.state.center,a=Number.POSITIVE_INFINITY;return e.forEach((function(e){var u=t._keyToItem.get(e);r.getTileCoords(m,u.key);var o=(0,h.d)(m,i);o<a&&(a=o,n=u.key)})),n.id}}]),n}(s.Z);(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"concurrency",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"process",void 0),(0,o._)([(0,l.Cb)()],g.prototype,"state",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"strategy",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"tileInfoView",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],g.prototype,"updating",null),g=(0,o._)([(0,f.j)("esri.views.2d.tiling.PagedTileQueue")],g)},32344:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(15671),i=n(43144),a=n(60136),u=n(92572),o=n(27366),s=n(31319),c=n(92026),l=n(49861),f=(n(25243),n(63780),n(69912)),h=n(88396),v=n(38164);var y=new Set,p=[],d=new Map,m=[0,0],g=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e))._keyToItem=new Map,i.concurrency=6,i.strategy="scale-first",i.tileInfoView=null,i}return(0,i.Z)(n,[{key:"initialize",value:function(){var e=this,t=this.concurrency,n=this.process,r=this.strategy;this._queue=new v.e({concurrency:t,process:function(t,r){var i=e._keyToItem.get(t);return n(i,{signal:r})},peeker:"scale-first"===r?function(t){return e._peekByScaleFirst(t)}:function(t){return e._peekByCenterFirst(t)}})}},{key:"destroy",value:function(){this.clear(),this._queue=(0,c.SC)(this._queue)}},{key:"length",get:function(){return this._queue?this._queue.length:0}},{key:"onGoingCount",get:function(){return this._keyToItem.size}},{key:"updating",get:function(){return this.length>0||this.onGoingCount>0}},{key:"abort",value:function(e){var t="string"==typeof e?e:e.id;this._queue.abort(t)}},{key:"clear",value:function(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}},{key:"has",value:function(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}},{key:"isOngoing",value:function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}},{key:"pause",value:function(){this._queue.pause()}},{key:"push",value:function(e){var t=this,n=e.key.id;if(this._queue.has(n))return this._queue.get(n);var r=this._queue.push(n),i=function(){t._keyToItem.delete(n),t.notifyChange("updating")};return this._keyToItem.set(n,e),r.then(i,i),this.notifyChange("updating"),r}},{key:"reset",value:function(){this._queue.reset()}},{key:"resume",value:function(){this._queue.resume()}},{key:"_peekByScaleFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var n=this.tileInfoView,r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;e.forEach((function(e){var n=t._keyToItem.get(e),a=t.tileInfoView.getTileScale(n.key);d.has(a)||(d.set(a,[]),r=Math.max(a,r),i=Math.min(a,i)),d.get(a).push(n.key),y.add(a)}));var a=this.state.scale;d.has(a)||(function(e,t){e.length=0,t.forEach((function(t){return e.push(t)}))}(p,y),p.sort((function(e,t){return e-t})),a=p.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}),p[0])),a=Math.min(a,r),a=Math.max(a,i);var u=d.get(a),o=n.getClosestInfoForScale(a),s=o.getColumnForX(this.state.center[0]),c=o.getRowForY(this.state.center[1]);return u.sort((function(e,t){var n=o.denormalizeCol(e.col,e.world),r=o.denormalizeCol(t.col,t.world);return Math.sqrt((s-n)*(s-n)+(c-e.row)*(c-e.row))-Math.sqrt((s-r)*(s-r)+(c-t.row)*(c-t.row))})),y.clear(),d.clear(),u[0].id}},{key:"_peekByCenterFirst",value:function(e){var t=this;if(!this.state)return e.values().next().value;var n,r=this.tileInfoView,i=this.state.center,a=Number.POSITIVE_INFINITY;return e.forEach((function(e){var u=t._keyToItem.get(e);r.getTileCoords(m,u.key);var o=(0,h.d)(m,i);o<a&&(a=o,n=u.key)})),n.id}}]),n}(s.Z);(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"concurrency",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"process",void 0),(0,o._)([(0,l.Cb)()],g.prototype,"state",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"strategy",void 0),(0,o._)([(0,l.Cb)({constructOnly:!0})],g.prototype,"tileInfoView",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],g.prototype,"updating",null);var b=g=(0,o._)([(0,f.j)("esri.views.2d.tiling.TileQueue")],g)},85269:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(37762),i=n(15671),a=n(43144),u=n(65156),o=n(88396),s=function(){function e(t,n,r){(0,i.Z)(this,e),this.maxSize=t,this._tileInfoView=n,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}return(0,a.Z)(e,[{key:"has",value:function(e){return this._tilePerId.has(e)}},{key:"get",value:function(e){return this._tilePerId.get(e)}},{key:"pop",value:function(e){var t=this._tilePerId.get(e);if(t){var n=t.key.level,r=this._tileKeysPerLevel[n];c(this._tilePerId,e);for(var i=0;i<r.length;i++)if(r[i].id===e){r.splice(i,1);break}return t.visible=!0,t}}},{key:"add",value:function(e){e.visible=!1;var t=e.key,n=t.id;if(!this._tilePerId.has(n)){this._tilePerId.set(n,e);var r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}}},{key:"prune",value:function(e,t,n){var r=this._tilePerId.size;if(!(r<=this.maxSize)){for(var i=this._tileKeysPerLevel.length-1;r>this.maxSize&&i>=0;)i!==e&&(r=this._pruneAroundCenterTile(r,t,n,i)),i--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,n,e))}}},{key:"_pruneAroundCenterTile",value:function(e,t,n,r){var i=this._tileKeysPerLevel[r];if(!i||0===i.length)return e;var a=this._tileInfoView.tileInfo,u=a.size,s=a.origin,c=n*u[0],l=n*u[1],f=[0,0],h=[0,0];for(i.sort((function(e,n){return f[0]=s.x+c*(e.col+.5),f[1]=s.y-l*(e.row+.5),h[0]=s.x+c*(n.col+.5),h[1]=s.y-l*(n.row+.5),(0,o.k)(f,t)-(0,o.k)(h,t)}));i.length>0;){var v=i.pop();if(this._removeTile(v.id),--e===this.maxSize)break}return e}},{key:"_removeTile",value:function(e){var t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),c(this._tilePerId,e)}}]),e}();function c(e,t){e.delete(t)}var l=n(48790),f=new(n(73828).Z)(0,0,0,0),h=new Map,v=[],y=[],p=function(){function e(t){var n=this;(0,i.Z)(this,e),this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=null==t.resampling||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),null!=t.buffer&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new s(t.cacheSize,this.tileInfoView,(function(e){n.releaseTile(e)})))}return(0,a.Z)(e,[{key:"destroy",value:function(){this.tileIndex.clear()}},{key:"update",value:function(e){var t=this,n=this.resampling,i=this.tileIndex,a=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.coveragePolicy);if(y.length=0,v.length=0,h.clear(),a){var u=this.tileInfoView.tileInfo,o=u.minScale,s=u.maxScale,c=a.spans,p=a.lodInfo,d=p.level,m=e.state,g=m.scale,b=m.center,x=m.resolution,k=!e.stationary&&g>this._previousScale;if(this._previousScale=g,this.tiles.length=0,!n&&(g>o||g<s))return this.tiles.length=0,h.clear(),i.forEach((function(e){t.releaseTile(e)})),i.clear(),y.length=0,v.length=0,h.clear(),l.Z.pool.release(a),!0;i.forEach((function(e){return e.visible=!0}));var _=0,S=0;if(c.length>0){var M,I=(0,r.Z)(c);try{for(I.s();!(M=I.n()).done;)for(var Z=M.value,w=Z.row,C=Z.colFrom,T=Z.colTo,L=C;L<=T;L++){_++;var V=f.set(d,w,p.normalizeCol(L),p.getWorldForColumn(L)).id;if(i.has(V)){var P=i.get(V);P.isReady?(h.set(V,P),S++):k||this._addParentTile(V,h)}else{var z=void 0;if(this._tileCache&&this._tileCache.has(V)){if(z=this._tileCache.pop(V),this.tileIndex.set(V,z),z.isReady){h.set(V,z),S++;continue}}else z=this.acquireTile(f),this.tileIndex.set(V,z);k||this._addParentTile(V,h)}}}catch(D){I.e(D)}finally{I.f()}}var E=S===_;i.forEach((function(e,n){if(f.set(n),!h.has(n)){var r=t.tileInfoView.intersects(a,f),i="purge"===t.cachePolicy?f.level!==d:f.level>d;!r||!k&&E?!i&&r||v.push(n):e.isReady?i&&"purge"===t.cachePolicy&&t._hasReadyAncestor(f,d)?v.push(n):y.push(n):i&&v.push(n)}}));var F,O=(0,r.Z)(y);try{for(O.s();!(F=O.n()).done;){var A=F.value,R=i.get(A);R&&R.isReady&&h.set(A,R)}}catch(D){O.e(D)}finally{O.f()}var N,q=(0,r.Z)(v);try{for(q.s();!(N=q.n()).done;){var B=N.value,U=i.get(B);this._tileCache?this._tileCache.add(U):this.releaseTile(U),i.delete(B)}}catch(D){q.e(D)}finally{q.f()}return h.forEach((function(e){return t.tiles.push(e)})),i.forEach((function(e){h.has(e.key.id)||(e.visible=!1)})),this._tileCache&&this._tileCache.prune(d,b,x),l.Z.pool.release(a),h.clear(),E}}},{key:"clear",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.tileIndex;t&&n.forEach((function(t){e.releaseTile(t)})),n.clear()}},{key:"updateCacheSize",value:function(e){this._tileCache&&(this._tileCache.maxSize=e)}},{key:"_addParentTile",value:function(e,t){for(var n=e,r=null;n=this.tileInfoView.getTileParentId(n);)if(this.tileIndex.has(n)){if((r=this.tileIndex.get(n))&&r.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache&&this._tileCache.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r&&r.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}},{key:"_hasReadyAncestor",value:function(e,t){var n=(0,u.Ue)();this.tileInfoView.getTileBounds(n,e,!0);var i,a=(0,r.Z)(this.tileIndex.values());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.isReady&&o.key.level>=t&&o.key.level<e.level){var s=(0,u.Ue)();if(this.tileInfoView.getTileBounds(s,o.key,!0),(0,u.r3)(s,n))return!0}}}catch(c){a.e(c)}finally{a.f()}return!1}}]),e}()}}]);
//# sourceMappingURL=22183.aa810180.chunk.js.map