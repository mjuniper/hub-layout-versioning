{"version":3,"file":"static/js/94650.2c6af6a5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js","../node_modules/@arcgis/core/layers/support/arcgisLayers.js","../node_modules/@arcgis/core/layers/support/layerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as r}from\"../../core/maybe.js\";import{urlToObject as t,removeTrailingSlash as s,removeQueryParameters as n,join as l,Url as u,makeAbsolute as i}from\"../../core/urlUtils.js\";import{w as o}from\"../../chunks/persistableUrlUtils.js\";const c={mapserver:\"MapServer\",imageserver:\"ImageServer\",featureserver:\"FeatureServer\",sceneserver:\"SceneServer\",streamserver:\"StreamServer\",vectortileserver:\"VectorTileServer\"},a=Object.values(c),f=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/rest\\\\/services\\\\/(.+?)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),v=new RegExp(`^((?:https?:)?\\\\/\\\\/\\\\S+?\\\\/([^\\\\/\\\\n]+)\\\\/(${a.join(\"|\")}))(?:\\\\/(?:layers\\\\/)?(\\\\d+))?`,\"i\"),p=/(.*?)\\/(?:layers\\/)?(\\d+)\\/?$/i;function m(e){return!!f.test(e)}function d(r){if(e(r))return null;const s=t(r),n=s.path.match(f)||s.path.match(v);if(!n)return null;const[,l,u,i,o]=n,a=u.indexOf(\"/\");return{title:w(-1!==a?u.slice(a+1):u),serverType:c[i.toLowerCase()],sublayer:null!=o&&\"\"!==o?parseInt(o,10):null,url:{path:l}}}function h(e){const r=t(e).path.match(p);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function w(e){return(e=e.replace(/\\s*[/_]+\\s*/g,\" \"))[0].toUpperCase()+e.slice(1)}function y(e,t){const s=[];if(e){const t=d(e);r(t)&&t.title&&s.push(t.title)}if(t){const e=w(t);s.push(e)}if(2===s.length){if(s[0].toLowerCase().includes(s[1].toLowerCase()))return s[0];if(s[1].toLowerCase().includes(s[0].toLowerCase()))return s[1]}return s.join(\" - \")}function g(e){if(!e)return!1;const r=\".arcgis.com/\",t=\"//services\",s=\"//tiles\",n=\"//features\",l=(e=e.toLowerCase()).includes(r),u=e.includes(t)||e.includes(s)||e.includes(n);return l&&u}function S(e,r){return e?s(n(e,r)):e}function b(e){let{url:l}=e;if(!l)return{url:l};l=n(l,e.logger);const u=t(l),i=d(u.path);let o;if(r(i))null!=i.sublayer&&null==e.layer.layerId&&(o=i.sublayer),l=i.url.path;else if(e.nonStandardUrlAllowed){const e=h(u.path);r(e)&&(l=e.serviceUrl,o=e.sublayerId)}return{url:s(l),layerId:o}}function C(e,r,t,s,n){o(r,s,\"url\",n),s.url&&null!=e.layerId&&(s.url=l(s.url,t,e.layerId.toString()))}function I(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes(\"/services/\"),s=r.includes(\"/mapserver/wmsserver\"),n=r.includes(\"/imageserver/wmsserver\"),l=r.includes(\"/wmsserver\");return t&&(s||n||l)}function L(e){if(!e)return!1;const r=new u(i(e)).authority?.toLowerCase();return\"server.arcgisonline.com\"===r||\"services.arcgisonline.com\"===r}export{w as cleanTitle,m as isArcGISUrl,g as isHostedAgolService,L as isServerOrServicesAGOLUrl,I as isWmsServer,d as parse,h as parseNonStandardSublayerUrl,S as sanitizeUrl,b as sanitizeUrlWithLayerId,a as serverTypes,y as titleFromUrlAndName,C as writeUrlWithLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{isNone as r,isSome as a}from\"../../core/maybe.js\";import{getFilename as t,urlToObject as s}from\"../../core/urlUtils.js\";import{parse as l,parseNonStandardSublayerUrl as o}from\"./arcgisLayerUrl.js\";import{fetchFeatureService as n}from\"./fetchService.js\";import{sceneServiceLayerTypeToClassName as u}from\"./layerUtils.js\";import{layerLookupMap as c}from\"./lazyLayerLoader.js\";import{fetchArcGISServiceJSON as i}from\"../../support/requestPresets.js\";const y={FeatureLayer:!0,SceneLayer:!0};async function m(e){const r=e.properties?.customParameters,a=await d(e.url,r),t={...e.properties,url:e.url};if(!a.sublayerIds)return null!=a.layerOrTableId&&(t.layerId=a.layerOrTableId,t.sourceJSON=a.sourceJSON),new a.Constructor(t);const s=new(0,(await import(\"../GroupLayer.js\")).default)({title:a.parsedUrl.title});return f(s,a,t),s}function p(e,r){return e?e.find((e=>e.id===r)):null}function f(e,r,t){function s(e,s){const l={...t,layerId:e,sublayerTitleMode:\"service-name\"};return a(s)&&(l.sourceJSON=s),new r.Constructor(l)}r.sublayerIds.forEach((a=>{const t=s(a,p(r.sublayerInfos,a));e.add(t)})),r.tableIds.forEach((a=>{const t=s(a,p(r.tableInfos,a));e.tables.add(t)}))}async function d(a,t){let s=l(a);if(r(s)&&(s=await I(a,t)),r(s))throw new e(\"arcgis-layers:url-mismatch\",\"The url '${url}' is not a valid arcgis resource\",{url:a});const{serverType:o,sublayer:n}=s;let c;const m={FeatureServer:\"FeatureLayer\",StreamServer:\"StreamLayer\",VectorTileServer:\"VectorTileLayer\"};switch(o){case\"MapServer\":if(null!=n)c=\"FeatureLayer\";else{c=await v(a,t)?\"TileLayer\":\"MapImageLayer\"}break;case\"ImageServer\":{const e=await i(a,{customParameters:t}),{tileInfo:r,cacheType:s}=e;c=r?\"LERC\"!==r?.format?.toUpperCase()||s&&\"elevation\"!==s.toLowerCase()?\"ImageryTileLayer\":\"ElevationLayer\":\"ImageryLayer\";break}case\"SceneServer\":{const e=await i(s.url.path,{customParameters:t});if(c=\"SceneLayer\",e){const r=e?.layers;if(\"Voxel\"===e?.layerType)c=\"VoxelLayer\";else if(r?.length){const e=r[0]?.layerType;null!=e&&null!=u[e]&&(c=u[e])}}break}default:c=m[o]}const p=\"FeatureServer\"===o,f={parsedUrl:s,Constructor:null,layerOrTableId:p?n:void 0,sublayerIds:null,tableIds:null};if(y[c]&&null==n){const e=await S(a,o,t);p&&(f.sublayerInfos=e.layerInfos,f.tableInfos=e.tableInfos);1!==e.layerIds.length+e.tableIds.length?(f.sublayerIds=e.layerIds,f.tableIds=e.tableIds):p&&(f.layerOrTableId=e.layerIds[0]??e.tableIds[0],f.sourceJSON=e.layerInfos?.[0]??e.tableInfos?.[0])}return f.Constructor=await w(c),f}async function I(e,r){const l=await i(e,{customParameters:r});let n=null,u=null;const c=l.type;if(\"Feature Layer\"===c||\"Table\"===c?(n=\"FeatureServer\",u=l.id??null):\"indexedVector\"===c?n=\"VectorTileServer\":l.hasOwnProperty(\"mapName\")?n=\"MapServer\":l.hasOwnProperty(\"bandCount\")&&l.hasOwnProperty(\"pixelSizeX\")?n=\"ImageServer\":l.hasOwnProperty(\"maxRecordCount\")&&l.hasOwnProperty(\"allowGeometryUpdates\")?n=\"FeatureServer\":l.hasOwnProperty(\"streamUrls\")?n=\"StreamServer\":b(l)?(n=\"SceneServer\",u=l.id):l.hasOwnProperty(\"layers\")&&b(l.layers?.[0])&&(n=\"SceneServer\"),!n)return null;const y=null!=u?o(e):null;return{title:a(y)&&l.name||t(e),serverType:n,sublayer:u,url:{path:a(y)?y.serviceUrl:s(e).path}}}function b(e){return null!=e&&e.hasOwnProperty(\"store\")&&e.hasOwnProperty(\"id\")&&\"number\"==typeof e.id}async function S(e,r,a){let t,s=!1;if(\"FeatureServer\"===r){const r=await n(e,{customParameters:a});s=!!r.layersJSON,t=r.layersJSON||r.serviceJSON}else t=await i(e,{customParameters:a});const l=t?.layers,o=t?.tables;return{layerIds:l?.map((e=>e.id)).reverse()||[],tableIds:o?.map((e=>e.id)).reverse()||[],layerInfos:s?l:[],tableInfos:s?o:[]}}async function w(e){return(0,c[e])()}async function v(e,r){return(await i(e,{customParameters:r})).tileInfo}export{m as fromUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import t from\"../../request.js\";import{isSome as n}from\"../../core/maybe.js\";function r(e){const t=e?.type;return\"imagery-tile\"===t||\"tile\"===t||\"open-street-map\"===t||\"vector-tile\"===t||\"web-tile\"===t||\"wmts\"===t}function i(e){const t=e?.type;return\"base-tile\"===t||\"tile\"===t||\"elevation\"===t||\"imagery-tile\"===t||\"base-elevation\"===t||\"open-street-map\"===t||\"wcs\"===t||\"web-tile\"===t||\"wmts\"===t||\"vector-tile\"===t}function s(e){return null!=e&&\"type\"in e&&\"group\"===e.type}const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};function u(e){const t=e?.type;return\"building-scene\"===t||\"integrated-mesh\"===t||\"point-cloud\"===t||\"scene\"===t}function c(e){return\"voxel\"===e?.type}function o(e){return\"imagery-tile\"===e?.type}function l(e){return null!=e&&null!=e.parent&&\"declaredClass\"in e.parent&&\"esri.Basemap\"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)}function f(e){return\"feature\"===e?.type&&!e.url&&\"memory\"===e.source?.type}function y(e){return\"feature\"===e?.type&&\"feature-layer\"===e.source?.type}function p(e){const t=/[:;]/,n=[];let r=!1;if(e&&(e.forEach(((e,i)=>{n.push([i,e]),!r&&t.test(e)&&(r=!0)})),n.length>0)){let e;if(r){const t={};n.forEach((e=>{t[e[0]]=e[1]})),e=JSON.stringify(t)}else{const t=[];n.forEach((e=>{t.push(e[0]+\":\"+e[1])})),e=t.join(\";\")}return e}return null}function g(e){if(!e)return;const t=[];return e.forEach(((e,n)=>{t.push('\"'+n+'\":'+JSON.stringify(e))})),t.length?\"{\"+t.join(\",\")+\"}\":void 0}function d(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const n=e.activeLayer.tileMatrixSets;if(n)return n}return null}async function b(r,i){const s=e?.findServerInfo(r);if(null!=s?.currentVersion)return s.owningSystemUrl||null;const a=r.toLowerCase().indexOf(\"/rest/services\");if(-1===a)return null;const u=`${r.substring(0,a)}/rest/info`,c=n(i)?i.signal:null,{data:o}=await t(u,{query:{f:\"json\"},responseType:\"json\",signal:c});return o?.owningSystemUrl||null}function m(e){if(!(\"capabilities\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"imagery\":case\"knowledge-graph-sublayer\":case\"ogc-feature\":case\"oriented-imagery\":case\"scene\":case\"subtype-group\":case\"subtype-sublayer\":case\"wfs\":return!0;default:return!1}}function v(e){return m(e)?\"effectiveCapabilities\"in e?e.effectiveCapabilities:e.capabilities:null}function h(e){if(!(\"editingEnabled\"in e))return!1;switch(e.type){case\"csv\":case\"feature\":case\"geojson\":case\"oriented-imagery\":case\"scene\":case\"subtype-group\":case\"subtype-sublayer\":return!0;default:return!1}}function w(e){return!!h(e)&&(\"effectiveEditingEnabled\"in e?e.effectiveEditingEnabled:e.editingEnabled)}export{w as getEffectiveEditingEnabled,v as getEffectiveLayerCapabilities,b as getOwningPortalUrl,d as getTileMaxtrixSetFromActiveLayer,l as isBaseLayer,r as isBasemapSupportedLayer,f as isFeatureCollectionLayer,y as isFeatureServiceLayer,s as isGroupLayer,o as isImageryTileLayer,u as isSceneServiceLayer,i as isTiledLayer,c as isVoxelLayer,a as sceneServiceLayerTypeToClassName,p as serializeLayerDefinitions,g as serializeTimeOptions};\n"],"names":["c","mapserver","imageserver","featureserver","sceneserver","streamserver","vectortileserver","a","Object","values","f","RegExp","join","v","p","m","e","test","d","r","s","t","n","path","match","l","u","i","o","indexOf","title","w","slice","serverType","toLowerCase","sublayer","parseInt","url","h","serviceUrl","sublayerId","Number","replace","toUpperCase","y","push","length","includes","g","S","b","logger","layer","layerId","nonStandardUrlAllowed","C","toString","I","L","authority","FeatureLayer","SceneLayer","properties","customParameters","sublayerIds","layerOrTableId","sourceJSON","Constructor","default","parsedUrl","find","id","sublayerTitleMode","forEach","sublayerInfos","add","tableIds","tableInfos","tables","FeatureServer","StreamServer","VectorTileServer","tileInfo","cacheType","format","layers","layerType","layerInfos","layerIds","type","hasOwnProperty","name","layersJSON","serviceJSON","map","reverse","Point","IntegratedMesh","PointCloud","Building","parent","declaredClass","baseLayers","source","activeLayer","tileMatrixSet","tileMatrixSets","currentVersion","owningSystemUrl","substring","signal","query","responseType","data","effectiveCapabilities","capabilities","effectiveEditingEnabled","editingEnabled"],"sourceRoot":""}