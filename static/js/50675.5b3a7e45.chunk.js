"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[50675],{54931:function(e,t,n){n.d(t,{Z:function(){return E}});var i,a=n(15671),o=n(43144),r=n(60136),s=n(92572),l=n(27366),u=n(46784),c=n(84652),m=n(49861),d=(n(25243),n(69912)),h=i=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).enabled=!1,i.longNames=!1,i.minimized=!1,i.pinnedLevels=!1,i.site=null,i.facility=null,i.level=null,i}return(0,o.Z)(n,[{key:"clone",value:function(){return new i((0,c.d9)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}}]),n}(u.wq);(0,l._)([(0,m.Cb)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],h.prototype,"enabled",void 0),(0,l._)([(0,m.Cb)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],h.prototype,"longNames",void 0),(0,l._)([(0,m.Cb)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],h.prototype,"minimized",void 0),(0,l._)([(0,m.Cb)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],h.prototype,"pinnedLevels",void 0),(0,l._)([(0,m.Cb)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],h.prototype,"site",void 0),(0,l._)([(0,m.Cb)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],h.prototype,"facility",void 0),(0,l._)([(0,m.Cb)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],h.prototype,"level",void 0);var v,p=h=i=(0,l._)([(0,d.j)("esri.webdoc.widgets.FloorFilter")],h),f=n(43404),_=(n(63780),new f.X({slider:"slider",picker:"picker"})),y=v=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).interactionMode=null,i.numStops=null,i.stopInterval=null,i}return(0,o.Z)(n,[{key:"clone",value:function(){return new v({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}}]),n}(u.wq);(0,l._)([(0,m.Cb)({type:_.apiValues,nonNullable:!0,json:{type:_.jsonValues,default:null,read:{reader:_.read},write:{isRequired:!0,writer:_.write}}})],y.prototype,"interactionMode",void 0),(0,l._)([(0,m.Cb)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy:function(){var e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],y.prototype,"numStops",void 0),(0,l._)([(0,m.Cb)({type:Number,json:{write:{overridePolicy:function(){return{isRequired:null==this.numStops}}}}})],y.prototype,"stopInterval",void 0);var g,b=y=v=(0,l._)([(0,d.j)("esri.webdoc.widgets.Range")],y),k=n(64850),x=g=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).range=null,i.timeSlider=null,i.floorFilter=null,i}return(0,o.Z)(n,[{key:"clone",value:function(){return new g((0,c.d9)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}}]),n}(u.wq);(0,l._)([(0,m.Cb)({type:b,json:{write:!0}})],x.prototype,"range",void 0),(0,l._)([(0,m.Cb)({type:k.Z,json:{write:!0}})],x.prototype,"timeSlider",void 0),(0,l._)([(0,m.Cb)({type:p,json:{write:!0}})],x.prototype,"floorFilter",void 0);var E=x=g=(0,l._)([(0,d.j)("esri.webdoc.Widgets")],x)},64850:function(e,t,n){n.d(t,{Z:function(){return b}});var i,a=n(15671),o=n(43144),r=n(60136),s=n(92572),l=n(27366),u=n(62044),c=n(12355),m=n(46784),d=n(84652),h=n(92026),v=n(18202),p=n(49861),f=(n(25243),n(38511)),_=n(69912),y=n(31201),g=i=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).currentTimeExtent=null,i.fullTimeExtent=null,i.loop=!1,i.numStops=null,i.numThumbs=null,i.stopDelay=null,i.stopInterval=null,i.stops=null,i}return(0,o.Z)(n,[{key:"readCurrentTimeExtent",value:function(e){if(e){var t=null!=e[0]?new Date(e[0]):null,n=null!=e[1]?new Date(e[1]):null;return new u.Z({start:t,end:n})}}},{key:"writeCurrentTimeExtent",value:function(e,t,n){e&&(0,v.RB)(n,[(0,h.pC)(e.start)?e.start.getTime():null,(0,h.pC)(e.end)?e.end.getTime():null],t)}},{key:"readFullTimeExtent",value:function(e,t){var n=t.properties;if(n){var i=null!=n.endTime?new Date(n.endTime):null,a=null!=n.startTime?new Date(n.startTime):null;return new u.Z({start:a,end:i})}}},{key:"writeFullTimeExtent",value:function(e,t){if(e){var n=t.properties=t.properties||{},i=e.end,a=e.start;i&&(n.endTime=(0,h.pC)(i)?i.getTime():null),a&&(n.startTime=(0,h.pC)(a)?a.getTime():null)}}},{key:"readStopInterval",value:function(e,t,n){return e?c.Z.fromJSON({value:e.interval,unit:e.units},n):null}},{key:"writeStopInterval",value:function(e,t,n,i){if(e){var a=e.toJSON(i);(0,v.RB)(n,{interval:a.value,units:a.unit},t)}}},{key:"readStops",value:function(e){return e&&e.length?e.map((function(e){return new Date(e)})):null}},{key:"writeStops",value:function(e,t,n){e&&e.length&&(0,v.RB)(n,e.map((function(e){return e.getTime()})),t)}},{key:"clone",value:function(){return new i((0,d.d9)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}}]),n}(m.wq);(0,l._)([(0,p.Cb)({type:u.Z,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],g.prototype,"currentTimeExtent",void 0),(0,l._)([(0,f.r)("currentTimeExtent")],g.prototype,"readCurrentTimeExtent",null),(0,l._)([(0,y.c)("currentTimeExtent")],g.prototype,"writeCurrentTimeExtent",null),(0,l._)([(0,p.Cb)({type:u.Z,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],g.prototype,"fullTimeExtent",void 0),(0,l._)([(0,f.r)("fullTimeExtent")],g.prototype,"readFullTimeExtent",null),(0,l._)([(0,y.c)("fullTimeExtent")],g.prototype,"writeFullTimeExtent",null),(0,l._)([(0,p.Cb)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],g.prototype,"loop",void 0),(0,l._)([(0,p.Cb)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy:function(){var e,t=!!this.stopInterval,n=!(null===(e=this.stops)||void 0===e||!e.length),i=!(t||n);return{enabled:i,isRequired:i}}}}})],g.prototype,"numStops",void 0),(0,l._)([(0,p.Cb)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],g.prototype,"numThumbs",void 0),(0,l._)([(0,p.Cb)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],g.prototype,"stopDelay",void 0),(0,l._)([(0,p.Cb)({type:c.Z,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy:function(){var e,t=null!=this.numStops,n=!(null===(e=this.stops)||void 0===e||!e.length);return{enabled:!n,isRequired:!(t||n)}}}}})],g.prototype,"stopInterval",void 0),(0,l._)([(0,f.r)("stopInterval")],g.prototype,"readStopInterval",null),(0,l._)([(0,y.c)("stopInterval")],g.prototype,"writeStopInterval",null),(0,l._)([(0,p.Cb)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy:function(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],g.prototype,"stops",void 0),(0,l._)([(0,f.r)("stops")],g.prototype,"readStops",null),(0,l._)([(0,y.c)("stops")],g.prototype,"writeStops",null);var b=g=i=(0,l._)([(0,_.j)("esri.webdoc.widgets.TimeSlider")],g)},50675:function(e,t,n){n.d(t,{Z:function(){return ye}});var i=n(74165),a=n(15861),o=n(15671),r=n(43144),s=n(60136),l=n(92572),u=n(27366),c=n(12355),m=n(63780),d=n(80987),h=n(41644),v=n(92026),p=n(94172),f=n(86710),_=n(49861),y=n(25243),g=n(69912),b=n(76969),k=n(4942),x=n(93433),E=n(1413),w=n(97326),C=(n(59166),n(98928)),T=n(89125),S=n(37056),M=n(85015),I=n(10064),P=n(32718),Z=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,o.Z)(this,n),(i=t.call(this,e)).precision=4,i.thumbsConstrained=!0,i}return(0,r.Z)(n,[{key:"effectiveMax",set:function(e){this.setEffectiveMax(e)}},{key:"effectiveMin",set:function(e){this.setEffectiveMin(e)}},{key:"labelFormatFunction",set:function(e){this._set("labelFormatFunction",e)}},{key:"inputFormatFunction",set:function(e){this._set("inputFormatFunction",e)}},{key:"inputParseFunction",set:function(e){this._set("inputParseFunction",e)}},{key:"labels",get:function(){var e=this,t=this.max,n=this.min,i=this.values,a=i&&i.length?i.map((function(t,n){return e.getLabelForValue(t,"value",n)})):[];return{max:this.getLabelForValue(t,"max"),min:this.getLabelForValue(n,"min"),values:a}}},{key:"max",set:function(e){this.setMax(e)}},{key:"min",set:function(e){this.setMin(e)}},{key:"state",get:function(){var e=this.max,t=this.min;return null!=e&&null!=t&&e>t?"ready":"disabled"}},{key:"values",set:function(e){var t=this.max,n=this.min,i=this.values;i&&e&&i.length===e.length&&i.every((function(t,n){return t===e[n]}))||(this._set("values",null),e&&e.length&&(null!=n&&e.some((function(e){return e<n}))&&(this.min=Math.min.apply(Math,(0,x.Z)(e))),null!=t&&e.some((function(e){return e>t}))&&(this.max=Math.max.apply(Math,(0,x.Z)(e)))),this._set("values",e))}},{key:"toPrecision",value:function(e){return parseFloat(e.toFixed(this.precision))}},{key:"defaultLabelFormatFunction",value:function(e){var t=this.max,n=this.min,i=this.precision,a=null!=t&&null!=n&&t-n>10?2:i;return parseFloat(e.toFixed(a)).toString()}},{key:"defaultInputFormatFunction",value:function(e){return e.toString()}},{key:"defaultInputParseFunction",value:function(e){return parseFloat(e)}},{key:"getBounds",value:function(){var e=this.effectiveMax,t=this.effectiveMin,n=this.max,i=this.min;return{min:null!=t&&null!=i?Math.max(i,t):i,max:null!=e&&null!=n?Math.min(n,e):n}}},{key:"getBoundsForValueAtIndex",value:function(e){var t=this.thumbsConstrained,n=this.values,i=this.getBounds(),a=i.min,o=i.max;if(t&&n){var r=e-1,s=e+1;return{min:null!=n[r]?n[r]:a,max:null!=n[s]?n[s]:o}}return{min:a,max:o}}},{key:"getLabelForValue",value:function(e,t,n){return null==e?null:this.labelFormatFunction?this.labelFormatFunction(e,t,n):this.defaultLabelFormatFunction(e)}},{key:"setMax",value:function(e){var t=this.max,n=this.values;if(null!=e)if(isNaN(e))this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");else{var i=this.toPrecision(e);if(t!==i&&(this._set("max",i),n&&n.length))for(var a=0;a<n.length;a++)i<n[a]&&this.setValue(a,i)}else this._set("max",null)}},{key:"setMin",value:function(e){var t=this.min,n=this.values;if(null!=e)if(isNaN(e))this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");else{var i=this.toPrecision(e);if(t!==i&&(this._set("min",i),n&&n.length))for(var a=0;a<n.length;a++)i>n[a]&&this.setValue(a,i)}else this._set("min",null)}},{key:"setEffectiveMax",value:function(e){if(null!=e)if(isNaN(e))this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");else{var t=this.toPrecision(e);this.effectiveMax!==t&&this._set("effectiveMax",this._applyBoundsToValue(t))}else this._set("effectiveMax",null)}},{key:"setEffectiveMin",value:function(e){if(null!=e)if(isNaN(e))this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");else{var t=this.toPrecision(e);this.effectiveMin!==t&&this._set("effectiveMin",this._applyBoundsToValue(t))}else this._set("effectiveMin",null)}},{key:"setValue",value:function(e,t){if(isNaN(t))this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");else{var n=this.values;if(null!=n){var i=n[e],a=this.toPrecision(t);if(i!==a){var o=(0,x.Z)(n);o[e]=a,this._set("values",o),this.notifyChange("labels")}}else this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.")}}},{key:"_applyBoundsToValue",value:function(e){var t=this.max,n=this.min;return null!=n&&e<n?n:null!=t&&e>t?t:e}},{key:"_logError",value:function(e,t,n){P.Z.getLogger(this.declaredClass).error(new I.Z(e,t,n))}}]),n}(M.Z);(0,u._)([(0,_.Cb)()],Z.prototype,"effectiveMax",null),(0,u._)([(0,_.Cb)()],Z.prototype,"effectiveMin",null),(0,u._)([(0,_.Cb)()],Z.prototype,"labelFormatFunction",null),(0,u._)([(0,_.Cb)()],Z.prototype,"inputFormatFunction",null),(0,u._)([(0,_.Cb)()],Z.prototype,"inputParseFunction",null),(0,u._)([(0,_.Cb)({readOnly:!0})],Z.prototype,"labels",null),(0,u._)([(0,_.Cb)()],Z.prototype,"max",null),(0,u._)([(0,_.Cb)()],Z.prototype,"min",null),(0,u._)([(0,_.Cb)()],Z.prototype,"precision",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],Z.prototype,"state",null),(0,u._)([(0,_.Cb)()],Z.prototype,"thumbsConstrained",void 0),(0,u._)([(0,_.Cb)()],Z.prototype,"values",null);var F=Z=(0,u._)([(0,g.j)("esri.widgets.Slider.SliderViewModel")],Z),L=n(37680),A=n(80532),D=n(67005),V=n(8704),W="esri-slider",N={base:W,reversed:"".concat(W,"--reversed"),horizontalLayout:"".concat(W,"--horizontal"),verticalLayout:"".concat(W,"--vertical"),contentElement:"".concat(W,"__content"),extraContentElement:"".concat(W,"__extra-content"),trackElement:"".concat(W,"__track"),ticksContainerElement:"".concat(W,"__ticks"),tickElement:"".concat(W,"__tick"),tickLabelElement:"".concat(W,"__tick-label"),maxElement:"".concat(W,"__max"),minElement:"".concat(W,"__min"),maxElementInteractive:"".concat(W,"__max--interactive"),minElementInteractive:"".concat(W,"__min--interactive"),rangeElementActive:"".concat(W,"__range--active"),rangeInput:"".concat(W,"__range-input"),anchorElement:"".concat(W,"__anchor"),movingAnchorElement:"".concat(W,"__anchor--moving"),lastMovedAnchorElement:"".concat(W,"__anchor--moved"),anchorElementActive:"".concat(W,"__anchor--active"),anchorElementIndexPrefix:"".concat(W,"__anchor-"),segmentElement:"".concat(W,"__segment"),segmentElementIndexPrefix:"".concat(W,"__segment-"),segmentElementInteractive:"".concat(W,"__segment--interactive"),segmentElementActive:"".concat(W,"__segment--active"),effectiveSegmentElement:"".concat(W,"__effective-segment"),effectiveMaxSegmentElement:"".concat(W,"__effective-max-segment"),effectiveMinSegmentElement:"".concat(W,"__effective-min-segment"),thumbElement:"".concat(W,"__thumb"),labelElement:"".concat(W,"__label"),labelElementInteractive:"".concat(W,"__label--interactive"),labelInput:"".concat(W,"__label-input"),esriWidget:"esri-widget",widgetIcon:"esri-icon-edit",disabled:"esri-disabled",hidden:"esri-hidden"},R="Enter",B="Enter",j="Escape",O="Tab",z="ArrowUp",H="ArrowDown",U="ArrowLeft",q="ArrowRight",K="End",G="Home",Y={labels:!1,rangeLabels:!1},X=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e,i){var a;return(0,o.Z)(this,n),(a=t.call(this,e,i))._activeLabelInputIndex=null,a._anchorElements=[],a._dragged=!1,a._dragStartInfo=null,a._focusedAnchorIndex=null,a._isMinInputActive=!1,a._isMaxInputActive=!1,a._lastMovedHandleIndex=null,a._positionPrecision=5,a._segmentDragStartInfo=null,a._trackHeight=null,a._trackWidth=null,a._zIndices=null,a._zIndexOffset=3,a.disabled=!1,a.draggableSegmentsEnabled=!0,a.effectiveSegmentElements=new d.Z,a.extraNodes=[],a.inputCreatedFunction=null,a.labelElements=new d.Z,a.labelInputsEnabled=!1,a.maxLabelElement=null,a.messages=null,a.minLabelElement=null,a.rangeLabelInputsEnabled=!1,a.segmentElements=new d.Z,a.snapOnClickEnabled=!0,a.steps=null,a.syncedSegmentsEnabled=!1,a.thumbCreatedFunction=null,a.thumbElements=new d.Z,a.tickElements=new d.Z,a.trackElement=null,a.viewModel=new F,a.visibleElements=(0,E.Z)({},Y),a._onAnchorPointerDown=a._onAnchorPointerDown.bind((0,w.Z)(a)),a._onAnchorPointerMove=a._onAnchorPointerMove.bind((0,w.Z)(a)),a._onAnchorPointerUp=a._onAnchorPointerUp.bind((0,w.Z)(a)),a._onLabelPointerDown=a._onLabelPointerDown.bind((0,w.Z)(a)),a._onLabelPointerUp=a._onLabelPointerUp.bind((0,w.Z)(a)),a._onSegmentPointerDown=a._onSegmentPointerDown.bind((0,w.Z)(a)),a._onSegmentPointerMove=a._onSegmentPointerMove.bind((0,w.Z)(a)),a._onSegmentPointerUp=a._onSegmentPointerUp.bind((0,w.Z)(a)),a._onTrackPointerDown=a._onTrackPointerDown.bind((0,w.Z)(a)),a._onTrackPointerMove=a._onTrackPointerMove.bind((0,w.Z)(a)),a._onTrackPointerUp=a._onTrackPointerUp.bind((0,w.Z)(a)),a}return(0,r.Z)(n,[{key:"destroy",value:function(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this.labelElements.removeAll(),this.labelElements.destroy(),this.segmentElements.removeAll(),this.segmentElements.destroy(),this.effectiveSegmentElements.removeAll(),this.effectiveSegmentElements.destroy(),this.thumbElements.removeAll(),this.thumbElements.destroy(),this.tickElements.removeAll(),this.tickElements.destroy()}},{key:"effectiveMax",get:function(){return this.viewModel.effectiveMax},set:function(e){this.viewModel.effectiveMax=e}},{key:"effectiveMin",get:function(){return this.viewModel.effectiveMin},set:function(e){this.viewModel.effectiveMin=e}},{key:"inputFormatFunction",get:function(){return this.viewModel.inputFormatFunction},set:function(e){this.viewModel.inputFormatFunction=e}},{key:"inputParseFunction",get:function(){return this.viewModel.inputParseFunction},set:function(e){this.viewModel.inputParseFunction=e}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"labelFormatFunction",get:function(){return this.viewModel.labelFormatFunction},set:function(e){this.viewModel.labelFormatFunction=e}},{key:"labels",get:function(){return this.viewModel.labels}},{key:"layout",set:function(e){["vertical","vertical-reversed","horizontal","horizontal-reversed"].includes(e)||(e="horizontal"),this._set("layout",e)}},{key:"max",get:function(){return this.viewModel.max},set:function(e){this.viewModel.max=e}},{key:"min",get:function(){return this.viewModel.min},set:function(e){this.viewModel.min=e}},{key:"precision",get:function(){return this.viewModel.precision},set:function(e){this.viewModel.precision=e}},{key:"state",get:function(){var e=this._activeLabelInputIndex,t=this._isMaxInputActive,n=this._isMinInputActive,i=this._dragStartInfo,a=this._segmentDragStartInfo,o=this.disabled,r=this.viewModel,s=(0,v.pC)(i)||(0,v.pC)(a);return o?"disabled":null!==e||t||n?"editing":s?"dragging":r.state}},{key:"thumbsConstrained",get:function(){return this.viewModel.thumbsConstrained},set:function(e){this.viewModel.thumbsConstrained=e}},{key:"tickConfigs",set:function(e){this._set("tickConfigs",e),this.scheduleRender()}},{key:"values",get:function(){return this.viewModel.values},set:function(e){this.viewModel.values=e}},{key:"castVisibleElements",value:function(e){return(0,E.Z)((0,E.Z)({},Y),e)}},{key:"render",value:function(){var e=this.label,t=this.classes(N.base,N.esriWidget,this._isHorizontalLayout()?N.horizontalLayout:N.verticalLayout,this._isReversedLayout()?N.reversed:null,this._isDisabled()?N.disabled:null);return this._storeTrackDimensions(),(0,D.u)("div",{"aria-label":e,class:t,"touch-action":"none",bind:this,afterCreate:this._afterContainerCreate},this.renderContent())}},{key:"toNextStep",value:function(e){this._toStep(e,1)}},{key:"toPreviousStep",value:function(e){this._toStep(e,-1)}},{key:"renderContent",value:function(){var e=this.max,t=this.min;if(!((0,v.Wi)(t)||(0,v.Wi)(e)||t>=e))return[this.renderMin(),this.renderSliderContainer(),this.renderMax()]}},{key:"renderSliderContainer",value:function(){return(0,D.u)("div",{key:"slider-container",bind:this,class:N.contentElement},this.renderTrackElement(),this.renderTicksContainer(),this.renderExtraContentElements())}},{key:"renderTrackElement",value:function(){return(0,D.u)("div",{afterCreate:this._afterTrackCreate,afterRemoved:this._afterTrackRemoved,bind:this,class:N.trackElement,"touch-action":"none"},this.renderEffectiveSegmentElements(),this.renderSegmentElements(),this.renderAnchorElements())}},{key:"renderEffectiveSegmentElements",value:function(){if(this.trackElement&&this.values&&this.values.length){var e=(0,v.pC)(this.effectiveMax),t=(0,v.pC)(this.effectiveMin);if(e||t){var n=this.max,i=this.min,a=this.viewModel.getBounds(),o=[];return t&&o.push(this.renderEffectiveSegmentElement(i,a.min,!0)),e&&o.push(this.renderEffectiveSegmentElement(a.max,n,!1)),o}}}},{key:"renderSegmentElements",value:function(){if(this.trackElement&&this.values&&this.values.length){for(var e=this.values.length,t=[],n=0;n<=e;n++)t.push(this.renderSegmentElement(n));return t}}},{key:"renderSegmentElement",value:function(e){var t,n,i=this._trackHeight,a=this._trackWidth,o=this.draggableSegmentsEnabled,r=this.id,s=this.state,l=this.values,u=this._isHorizontalLayout(),c=u?a:i,m=this.viewModel.getBounds(),d=this._positionFromValue(m.max),h=this._positionFromValue(m.min),p=e===l.length?null:e,f=0===e?null:e-1,_=(0,v.pC)(p),y=(0,v.pC)(f),g=(0,x.Z)(l).sort((function(e,t){return e-t}));this._isReversedLayout()?(t=y?this._positionFromValue(g[f]):h,n=_?this._positionFromValue(g[p]):d):(t=_?this._positionFromValue(g[p]):d,n=y?this._positionFromValue(g[f]):h);var b=this._applyPrecisionToPosition(100*n/c),k=(t-n)/c,E=u?"transform: translate(".concat(b,"%, 0px) scale(").concat(k,", 1);"):"transform: translate(0px, ".concat(b,"%) scale(1, ").concat(k,");"),w=this.classes(N.segmentElement,N.segmentElementIndexPrefix+e,o&&_&&y&&"disabled"!==s?N.segmentElementInteractive:null);return(0,D.u)("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:w,"data-max-thumb-index":p,"data-min-thumb-index":f,"data-segment-index":e,key:"".concat(r,"-segment-").concat(e),style:E,"touch-action":"none"})}},{key:"renderEffectiveSegmentElement",value:function(e,t,n){var i=this._trackHeight,a=this._trackWidth,o=this.layout,r=this._positionFromValue(e),s=this._positionFromValue(t),l=this._isHorizontalLayout(),u=l?a:i,c=this._applyPrecisionToPosition(100*r/u),m=null;if("horizontal"===o){var d=n?u-s:s,h=r===u?0:c;m="clip-path: inset(0% ".concat(s===u?0:this._applyPrecisionToPosition(d/u*100),"% 0% ").concat(h,"%);")}else{var v=(s-r)/u;m=l?"transform: translate(".concat(c,"%, 0px) scale(").concat(v,", 1);"):"transform: translate(0px, ".concat(c,"%) scale(1, ").concat(v,");")}var p=n?N.effectiveMinSegmentElement:N.effectiveMaxSegmentElement,f=this.classes(N.segmentElement,N.effectiveSegmentElement,p);return(0,D.u)("div",{afterCreate:this._afterEffectiveSegmentCreate,afterRemoved:this._afterEffectiveSegmentRemoved,bind:this,class:f,style:m,"touch-action":"none"})}},{key:"renderAnchorElements",value:function(){var e=this,t=this.trackElement,n=this.values;if(n&&n.length)return this._zIndices=n.map((function(t,i){var a=e._positionFromValue(t),o=e._positionToPercent(a),r=(e._isHorizontalLayout()?o>50:o<50)?-1:1;return e._zIndexOffset+(n.length+r*i)})),t&&n&&n.length?n.map((function(t,n){return e.renderAnchorElement(t,n)})):null}},{key:"renderAnchorElement",value:function(e,t){var n=this._positionFromValue(e),i=this._valueFromPosition(n);if(!(0,v.Wi)(i)&&!isNaN(i)){var a=this._dragStartInfo,o=this._lastMovedHandleIndex,r=this.id,s=this.layout,l=this.values,u=this.visibleElements.labels,c=a&&a.index===t,m=o===t,d=this.classes(N.anchorElement,N.anchorElementIndexPrefix+t,c?N.movingAnchorElement:null,m?N.lastMovedAnchorElement:null),h=this.labels.values[t],p=this._getStyleForAnchor(e,t,c||m),f=this.viewModel.getBoundsForValueAtIndex(t),_=f.min,y=f.max,g=this.disabled,b=this.messages,k=2===l.length?(0,V.n)(0===t?b.rangeMinimum:b.rangeMaximum,{value:e}):h,x=1===l.length?null:0===t?"".concat(r,"-handle-").concat(t+1):t===l.length-1?"".concat(r,"-handle-").concat(t-1):"".concat(r,"-handle-").concat(t-1," ").concat(r,"-handle-").concat(t+1);return(0,D.u)("div",{afterCreate:this._afterAnchorCreate,afterUpdate:this._afterAnchorUpdate,afterRemoved:this._afterAnchorRemoved,"aria-controls":x,"aria-label":b.sliderValue,"aria-labelledby":u?"".concat(r,"-label-").concat(t):null,"aria-orientation":s,"aria-valuemax":y.toString(),"aria-valuemin":_.toString(),"aria-valuenow":e.toString(),"aria-valuetext":k,bind:this,class:d,"data-thumb-index":t,"data-value":e,id:"".concat(r,"-handle-").concat(t),key:"".concat(r,"-handle-").concat(t),onkeydown:this._onAnchorKeyDown,"touch-action":"none",role:"slider",style:p,tabIndex:g?-1:0},(0,D.u)("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:N.thumbElement,"data-thumb-index":t,"touch-action":"none"}),this.renderThumbLabel(t))}}},{key:"renderThumbLabel",value:function(e){var t=this.id,n=this.labels,i=this.labelInputsEnabled,a=this.state,o=this.visibleElements.labels,r=n.values[e],s=this.classes(N.labelElement,o?null:N.hidden,i&&"disabled"!==a?N.labelElementInteractive:null);return(0,D.u)("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":(!o).toString(),bind:this,class:s,"data-thumb-index":e,key:"".concat(t,"-label-").concat(e),id:"".concat(t,"-label-").concat(e),role:i?"button":null,"touch-action":"none"},this._activeLabelInputIndex===e?this.renderValueInput(e):r)}},{key:"renderValueInput",value:function(e){var t=this.disabled,n=this.values[e];return(0,D.u)("input",{key:"value-input-".concat(e),afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:N.labelInput,"data-input-type":"thumb","data-input-index":e,required:!0,tabIndex:t?-1:0,type:"text",value:this._formatInputValue(n,"value",e),onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown})}},{key:"renderMax",value:function(){var e,t=this._isMaxInputActive,n=this.labels,i=this.rangeLabelInputsEnabled,a=this.state,o=this.visibleElements.rangeLabels,r=this.classes(N.maxElement,(e={},(0,k.Z)(e,N.hidden,!o),(0,k.Z)(e,N.maxElementInteractive,i&&"disabled"!==a),(0,k.Z)(e,N.rangeElementActive,t),e));return(0,D.u)("div",{"aria-hidden":(!o).toString(),afterCreate:this._afterMaxLabelCreate,bind:this,class:r,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:i?"button":null,tabIndex:!this.disabled&&i?0:-1},t?this.renderMaxInput():n.max)}},{key:"renderMin",value:function(){var e,t=this._isMinInputActive,n=this.labels,i=this.rangeLabelInputsEnabled,a=this.state,o=this.visibleElements.rangeLabels,r=this.classes(N.minElement,(e={},(0,k.Z)(e,N.hidden,!o),(0,k.Z)(e,N.minElementInteractive,i&&"disabled"!==a),(0,k.Z)(e,N.rangeElementActive,t),e));return(0,D.u)("div",{"aria-hidden":(!o).toString(),afterCreate:this._afterMinLabelCreate,bind:this,class:r,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:i?"button":null,tabIndex:!this.disabled&&i?0:-1},t?this.renderMinInput():n.min)}},{key:"renderMaxInput",value:function(){return(0,D.u)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:N.rangeInput,"data-input-type":"max",required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.max,"max"),onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown})}},{key:"renderMinInput",value:function(){return(0,D.u)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:N.rangeInput,"data-input-type":"min",required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.min,"min"),onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown})}},{key:"renderExtraContentElements",value:function(){return(0,D.u)("div",{bind:this,class:N.extraContentElement},this.extraNodes)}},{key:"renderTicksContainer",value:function(){var e=this;if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map((function(t,n){return(0,D.u)("div",{key:"ticks-container",class:e.classes(N.ticksContainerElement)},e.renderTicks(t,n))}))}},{key:"renderTicks",value:function(e,t){var n=this,i=e.mode,a=e.values;if(this.tickElements.getItemAt(t)||this.tickElements.add(new d.Z,t),"position"===i){var o=Array.isArray(a)?a:[a];return this._calculateTickPositions(o).map((function(i,a){return n.renderTickGroup(e,a,t,i)}))}if("percent"===i&&Array.isArray(a)){var r=this.max,s=this.min,l=r-s,u=a.map((function(e){return n._applyPrecisionToPosition(e/100*l+s)}));return this._calculateTickPositions(u).map((function(i,a){return n.renderTickGroup(e,a,t,i)}))}var c=Array.isArray(a)&&a.length?a[0]:isNaN(a)?null:a,m=this._getTickCounts(c,e);return this._calculateEquidistantTickPositions(m).map((function(i,a){return n.renderTickGroup(e,a,t,i)}))}},{key:"renderTickGroup",value:function(e,t,n,i){var a="position"===e.mode?Array.isArray(e.values)?e.values[t]:e.values:this._valueFromPosition(i);if(!(0,v.Wi)(a)&&!isNaN(a))return(0,D.u)("div",{afterCreate:this._afterTickGroupCreate,afterRemoved:this._afterTickGroupRemoved,bind:this,"data-config":e,"data-position":i,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":a,onclick:this._onTickGroupClick,key:"tick-group-".concat(t)},this.renderTickLine(e,t,n,a),e.labelsVisible?this.renderTickLabel(e,t,n,a):null)}},{key:"renderTickLine",value:function(e,t,n,i){return(0,D.u)("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":i.toString(),bind:this,class:N.tickElement,"data-config":e,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":i,key:"tick-label-".concat(t),style:this._getPositionStyleForElement(i)})}},{key:"renderTickLabel",value:function(e,t,n,i){var a=e.labelFormatFunction?e.labelFormatFunction(i,"tick",t):this.viewModel.getLabelForValue(i,"tick",t);return(0,D.u)("div",{afterCreate:this._afterTickLabelCreate,"aria-label":a,"aria-valuenow":i.toString(),"aria-valuetext":a,bind:this,class:N.tickLabelElement,"data-config":e,"data-tick-config-index":n,"data-tick-group-index":t,"data-value":i,key:"tick-label-".concat(t),style:"transform: translate(-50%); ".concat(this._getPositionStyleForElement(i))},a)}},{key:"_afterContainerCreate",value:function(e){var t=this;this.addHandles((0,L.ib)(e,(function(){return t.scheduleRender()})))}},{key:"_afterTrackCreate",value:function(e){this._set("trackElement",e),e.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()}},{key:"_afterTrackRemoved",value:function(e){e.removeEventListener("pointerdown",this._onTrackPointerDown),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp)}},{key:"_afterSegmentCreate",value:function(e){this.segmentElements.add(e),e.addEventListener("pointerdown",this._onSegmentPointerDown)}},{key:"_afterSegmentRemoved",value:function(e){this.segmentElements.remove(e),e.removeEventListener("pointerdown",this._onSegmentPointerDown)}},{key:"_afterEffectiveSegmentCreate",value:function(e){this.effectiveSegmentElements.add(e)}},{key:"_afterEffectiveSegmentRemoved",value:function(e){this.effectiveSegmentElements.remove(e)}},{key:"_afterAnchorCreate",value:function(e){if(this._anchorElements.push(e),e.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){var t=e["data-thumb-index"],n=e["data-value"],i=this.thumbElements.getItemAt(t)||null,a=this.labelElements.getItemAt(t)||null;this.thumbCreatedFunction(t,n,i,a)}}},{key:"_afterAnchorUpdate",value:function(e){(0,v.pC)(this._focusedAnchorIndex)&&e["data-thumb-index"]===this._focusedAnchorIndex&&(e.focus(),this._focusedAnchorIndex=null)}},{key:"_afterAnchorRemoved",value:function(e){var t=this._anchorElements.indexOf(e,0);t>-1&&this._anchorElements.splice(t,1),e.removeEventListener("pointerdown",this._onAnchorPointerDown)}},{key:"_afterThumbCreate",value:function(e){this.thumbElements.add(e)}},{key:"_afterThumbRemoved",value:function(e){this.thumbElements.remove(e)}},{key:"_afterLabelCreate",value:function(e){this.labelElements.add(e),e.addEventListener("pointerdown",this._onLabelPointerDown),e.addEventListener("pointerup",this._onLabelPointerUp)}},{key:"_afterLabelRemoved",value:function(e){this.labelElements.remove(e),e.removeEventListener("pointerdown",this._onLabelPointerDown),e.removeEventListener("pointerup",this._onLabelPointerUp)}},{key:"_afterInputCreate",value:function(e){if(e.focus(),e.select(),this.inputCreatedFunction){var t=e.getAttribute("data-input-type"),n="thumb"===t?e["data-input-index"]:null;this.inputCreatedFunction(e,t,n)}}},{key:"_afterTickLineCreate",value:function(e){var t=e["data-tick-config-index"],n=e["data-tick-group-index"],i=this.tickElements.getItemAt(t);i.getItemAt(n)?i.getItemAt(n).tickElement=e:i.add({groupElement:null,tickElement:e,labelElement:null},n)}},{key:"_afterTickLabelCreate",value:function(e){var t=e["data-tick-config-index"],n=e["data-tick-group-index"],i=this.tickElements.getItemAt(t);i.getItemAt(n)?i.getItemAt(n).labelElement=e:i.add({groupElement:null,labelElement:e,tickElement:null},n)}},{key:"_afterTickGroupRemoved",value:function(e){var t=e["data-tick-config-index"],n=this.tickElements.items[t],i=null===n||void 0===n?void 0:n.find((function(t){return t.groupElement===e}));i&&n.remove(i)}},{key:"_afterTickGroupCreate",value:function(e){var t=e["data-config"];if(t&&t.tickCreatedFunction){var n,i,a=e["data-tick-config-index"],o=e["data-tick-group-index"],r=e["data-value"],s=null===(n=this.tickElements)||void 0===n||null===(i=n.getItemAt(a))||void 0===i?void 0:i.getItemAt(o);if(s){s.groupElement=e;var l=s.tickElement||null,u=s.labelElement||null;t.tickCreatedFunction(r,l,u)}}}},{key:"_afterMaxLabelCreate",value:function(e){this._set("maxLabelElement",e)}},{key:"_afterMinLabelCreate",value:function(e){this._set("minLabelElement",e)}},{key:"_onAnchorKeyDown",value:function(e){if(!this._isDisabled()&&"editing"!==this.state){var t=e.target,n=(0,C.kK)(e),i=this._anchorElements,a=this.values,o=t["data-thumb-index"],r=i[o],s=a[o],l=[z,H,U,q];if(n===R&&this.labelInputsEnabled)this._activeLabelInputIndex=o,this.notifyChange("state");else if(l.includes(n)){e.preventDefault();var u=this.steps,c=n===z||n===q?1:-1;if((0,v.pC)(u))this._toStep(o,this._isReversedLayout()?-1*c:c);else{var m,d=this.precision,h=this._getPositionOfElement(r),p=this._valueFromPosition(h),f=this._isHorizontalLayout()?c:-1*c;m=0===d?this._positionFromValue(p+f):1===d?this._positionFromValue(p+.1*f):h+f,this._toPosition(o,m)}var _=this.values[o];s!==_&&this._emitThumbChangeEvent({index:o,oldValue:s,value:_})}else if(n===K||n===G){e.preventDefault();var y=this._getAnchorBoundsInPixels(o),g=y.min,b=y.max,k=this._isPositionInverted()?n===K?g:b:n===G?g:b;this._toPosition(o,k);var x=this.values[o];s!==x&&this._emitThumbChangeEvent({index:o,oldValue:s,value:x})}}}},{key:"_onAnchorPointerDown",value:function(e){if(!this._isDisabled()){var t=e.target,n=e.clientX,i=e.clientY,a=t["data-thumb-index"];void 0!==a&&(e.preventDefault(),this._anchorElements[a]&&this._anchorElements[a].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:n,clientY:i,index:a,position:this._getPositionOfElement(this._anchorElements[a])},this.notifyChange("state"),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}}},{key:"_onAnchorPointerMove",value:function(e){if("editing"!==this.state&&this._dragStartInfo){e.preventDefault();var t=this.values,n=this._anchorElements,i=this._dragged,a=this._dragStartInfo,o=this._dragStartInfo,r=o.index,s=o.position,l=e.clientX,u=e.clientY,c=i?"drag":"start",m=n[r],d=this._getPositionOfElement(m),h=this._applyPrecisionToPosition(this._isHorizontalLayout()?s+l-a.clientX:s+u-a.clientY);if(d!==h){var v=t[r];this._dragged=!0,this._toPosition(r,h);var p=this.values[r];i?v!==p&&this._emitThumbDragEvent({index:r,state:c,value:p}):this._emitThumbDragEvent({index:r,state:c,value:v})}}}},{key:"_onAnchorPointerUp",value:function(e){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this._dragStartInfo){e.preventDefault();var t=this._dragStartInfo.index,n=this._dragged,i=this.values[t];this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=t,this.notifyChange("state"),n?this._emitThumbDragEvent({index:t,state:"stop",value:i}):(this.scheduleRender(),"editing"!==this.state&&this._emitThumbClickEvent({index:t,value:i}))}}},{key:"_onTrackPointerDown",value:function(e){var t=this._dragStartInfo,n=this.snapOnClickEnabled,i=this.state,a=this.values;if(!this._isDisabled()&&"editing"!==i&&!t&&(document.addEventListener("pointermove",this._onTrackPointerMove),document.addEventListener("pointerup",this._onTrackPointerUp),n&&a.length)){var o=this.steps,r=e.clientX,s=e.clientY,l=this._getCursorPositionFromEvent(e),u=this._valueFromPosition(l),c=this._getIndexOfNearestValue(u),m=a[c],d=a.some((function(e,t){return e===m&&t!==c}))&&u>m?this.values.lastIndexOf(m):c;if(!(0,v.Wi)(d)){var h=a[d],p=(0,v.pC)(o)?this._calculateNearestStepPosition(l):l;this._toPosition(d,p),this._dragged=!0,this._dragStartInfo={clientX:r,clientY:s,index:d,position:p},this._focusedAnchorIndex=d,this.notifyChange("state"),this._emitThumbDragEvent({index:d,state:"start",value:h});var f=this.values[d];h!==f&&this._emitThumbDragEvent({index:d,state:"drag",value:f}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}}}},{key:"_onTrackPointerMove",value:function(e){e.preventDefault(),this._dragged=!0}},{key:"_onTrackPointerUp",value:function(e){if(e.preventDefault(),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp),this.snapOnClickEnabled||(this._dragged=!1),!this._dragged){var t=this._getCursorPositionFromEvent(e),n=this._valueFromPosition(t);this._emitTrackClickEvent({value:n})}}},{key:"_onSegmentPointerDown",value:function(e){var t,n;e.preventDefault();var i=e.target,a=i["data-segment-index"],o=i["data-min-thumb-index"],r=i["data-max-thumb-index"];if(!(this._isDisabled()||(0,v.Wi)(o)||(0,v.Wi)(r))){e.stopPropagation(),this._storeTrackDimensions(),document.addEventListener("pointerup",this._onSegmentPointerUp);var s=this._getAnchorDetails(o),l=this._getAnchorDetails(r);this.syncedSegmentsEnabled?(this.segmentElements.forEach((function(e){return e.classList.add(N.segmentElementActive)})),this._anchorElements.forEach((function(e){return e.classList.add(N.anchorElementActive)}))):(this.segmentElements.getItemAt(a).classList.add(N.segmentElementActive),null!==(t=this._anchorElements[s.index])&&void 0!==t&&t.classList.add(N.anchorElementActive),null===(n=this._anchorElements[l.index])||void 0===n||n.classList.add(N.anchorElementActive)),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(e),index:a,details:this._normalizeSegmentDetails({min:s,max:l})},this.draggableSegmentsEnabled&&(document.addEventListener("pointermove",this._onSegmentPointerMove),this.notifyChange("state"),this._emitSegmentDragEvent({index:a,state:"start",thumbIndices:[o,r]}))}}},{key:"_onSegmentPointerMove",value:function(e){if(this._segmentDragStartInfo){e.preventDefault();var t=this._trackHeight,n=this._trackWidth,i=this._segmentDragStartInfo,a=i.index,o=i.cursorPosition,r=i.details,s=r.min,l=r.max,u=s.index,c=s.position,m=s.value,d=l.index,h=l.position,v=l.value;this._dragged=!0;var p=this._getCursorPositionFromEvent(e);if(p!==o){var f=this._positionToPercent(o),_=this._positionToPercent(p)-f,y=this._positionToPercent(c)+_,g=this._positionToPercent(h)+_,b=this._getAnchorBoundsAsPercents(u).min,k=this._getAnchorBoundsAsPercents(d).max,x=!1,E=!1;if(y<b?x=!0:g>k&&(E=!0),x){var w=this.viewModel.getBoundsForValueAtIndex(u),C=w.min,T=w.max,S=this._isPositionInverted()?T:C,M=S,I=v+(S-m),P=I-this.values[d];this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(P):this._updateAnchorValues([u,d],[M,I])}else if(E){var Z=this.viewModel.getBoundsForValueAtIndex(d),F=Z.min,L=Z.max,A=this._isPositionInverted()?F:L,D=A,V=m+(A-v),W=V-this.values[u];this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(W):this._updateAnchorValues([u,d],[V,D])}else{var N=this._isHorizontalLayout()?n:t,R=g/100*N,B=y/100*N,j=this.values,O=[j[u],j[d]],z=this._getValueForAnchorAtPosition(u,B),H=this._getValueForAnchorAtPosition(d,R);this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(z-O[0]):this._updateAnchorValues([u,d],[z,H]),[this.values[u],this.values[d]].every((function(e,t){return e===O[t]}))||this._emitSegmentDragEvent({index:a,state:"drag",thumbIndices:[u,d]})}}}}},{key:"_onSegmentPointerUp",value:function(e){if(e.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),this._segmentDragStartInfo){var t=this._dragged,n=this.max,i=this.min,a=this.values,o=this._segmentDragStartInfo,r=o.index,s=o.details,l=s.min.index,u=s.max.index;if(this.segmentElements.forEach((function(e){return e.classList.remove(N.segmentElementActive)})),this._anchorElements.forEach((function(e){return e.classList.remove(N.anchorElementActive)})),this.draggableSegmentsEnabled){var c=n-i,m=a[l],d=a[u];this._lastMovedHandleIndex=m===d?m>c/2?l:u:null,this._dragged=!1,this._segmentDragStartInfo=null,this.notifyChange("state"),this._emitSegmentDragEvent({index:r,state:"stop",thumbIndices:[l,u]})}if(!t){var h=this._getCursorPositionFromEvent(e),v=this._valueFromPosition(h);this._emitSegmentClickEvent({index:r,value:v,thumbIndices:[l,u]})}}}},{key:"_onTickGroupClick",value:function(e){var t=e.target;if(t["data-config"]){var n=t["data-tick-config-index"],i=t["data-tick-group-index"],a=t["data-value"];this._emitTickClickEvent({configIndex:n,groupIndex:i,value:a})}}},{key:"_storeTrackDimensions",value:function(){if(this.trackElement){var e=this._getDimensions(this.trackElement);this._trackHeight=e.height,this._trackWidth=e.width}}},{key:"_onLabelPointerDown",value:function(){this._isDisabled()||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}},{key:"_onLabelPointerMove",value:function(){this._isDisabled()||(this._dragged=!0)}},{key:"_onLabelPointerUp",value:function(e){if(!this._isDisabled()){var t=e.target["data-thumb-index"];this.labelInputsEnabled&&!this._dragged&&(0,v.pC)(t)&&(this._activeLabelInputIndex=t),this._dragged=!1,this.notifyChange("state"),document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}}},{key:"_onLabelInputBlur",value:function(e){var t=this._activeLabelInputIndex,n=this.values,i=this.viewModel,a=e.target.value;if(this._activeLabelInputIndex=null,this.notifyChange("state"),a){var o=this._parseInputValue(a,"value",t),r=n[t],s=this.viewModel.getBoundsForValueAtIndex(t),l=s.min,u=s.max;if(!(o<l||o>u)){i.setValue(t,o);var c=this.values[t];r!==c&&this._emitThumbChangeEvent({index:t,oldValue:r,value:c})}}}},{key:"_onInputKeyDown",value:function(e){if(!this._isDisabled()){var t=e.target,n=(0,C.kK)(e),i=B,a=j,o=O,r=this._activeLabelInputIndex,s=this._anchorElements,l=t;if(n===i||n===a||n===o){e.stopPropagation();var u=r;l.blur(),(0,v.pC)(u)?s[u].focus():l.parentElement.focus()}}}},{key:"_onMaxLabelClick",value:function(){this._isDisabled()||(this._emitRangeLabelClickEvent({type:"max-click",value:this.max}),this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0,this.notifyChange("state")))}},{key:"_onMaxLabelKeyDown",value:function(e){this._isDisabled()||(0,C.kK)(e)!==R||(this._isMaxInputActive=!0,this.notifyChange("state"))}},{key:"_onMaxInputBlur",value:function(e){var t=e.target.value;if(this._isMaxInputActive=!1,this.notifyChange("state"),t){var n=this.max,i=this._parseInputValue(t,"max");i<=this.min||(this.viewModel.set("max",i),this.max!==n&&this._emitMaxChangeEvent({oldValue:n,value:this.max}))}}},{key:"_onMinLabelClick",value:function(){this._isDisabled()||(this._emitRangeLabelClickEvent({type:"min-click",value:this.min}),this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0,this.notifyChange("state")))}},{key:"_onMinLabelKeyDown",value:function(e){this._isDisabled()||(0,C.kK)(e)!==R||(this._isMinInputActive=!0,this.notifyChange("state"))}},{key:"_onMinInputBlur",value:function(e){var t=e.target.value;if(this._isMinInputActive=!1,this.notifyChange("state"),t){var n=this.min,i=this._parseInputValue(t,"min");i>=this.max||(this.viewModel.set("min",i),this.min!==n&&this._emitMinChangeEvent({oldValue:n,value:this.min}))}}},{key:"_isDisabled",value:function(){return this.disabled||"disabled"===this.state}},{key:"_positionFromValue",value:function(e){var t=this.max,n=this.min,i=t-n;if(0===i)return 0;var a=this._trackHeight,o=this._trackWidth,r=this._isHorizontalLayout(),s=r?parseFloat((o*(e-n)/i).toFixed(2)):parseFloat((a*(t-e)/i).toFixed(2));return this._isReversedLayout()&&(s=r?o-s:a-s),s}},{key:"_valueFromPosition",value:function(e){var t=this._trackHeight,n=this._trackWidth,i=this.max,a=this.min,o=this.precision,r=i-a,s=this._isHorizontalLayout()?e*r/n+a:r*(1e3-e/t*1e3)/1e3+a;return this._isReversedLayout()&&(s=i+a-s),parseFloat(s.toFixed(o))}},{key:"_positionToPercent",value:function(e){var t=this._trackHeight,n=this._trackWidth,i=100*e/(this._isHorizontalLayout()?n:t);return this._applyPrecisionToPosition(i)}},{key:"_applyPrecisionToPosition",value:function(e){return parseFloat(e.toFixed(this._positionPrecision))}},{key:"_isPositionInverted",value:function(){var e=this.layout;return"horizontal-reversed"===e||"vertical"===e}},{key:"_isHorizontalLayout",value:function(){return this.layout.includes("horizontal")}},{key:"_isReversedLayout",value:function(){return this.layout.includes("reversed")}},{key:"_normalizeSegmentDetails",value:function(e){if(this._isPositionInverted()){var t=e.min;return{min:e.max,max:t}}return e}},{key:"_parseInputValue",value:function(e,t,n){return this.inputParseFunction?this.inputParseFunction(e,t,n):this.viewModel.defaultInputParseFunction(e)}},{key:"_formatInputValue",value:function(e,t,n){return this.inputFormatFunction?this.inputFormatFunction(e,t,n):this.viewModel.defaultInputFormatFunction(e)}},{key:"_getAnchorDetails",value:function(e){var t=(0,x.Z)(this.values).sort((function(e,t){return e-t}))[e],n=this.values.indexOf(t);return{index:n,position:this._getPositionOfElement(this._anchorElements[n]),value:t}}},{key:"_updateAnchorStyle",value:function(e,t){var n=this._anchorElements[e];n&&(this._isHorizontalLayout()?n.style.left="".concat(t):n.style.top="".concat(t))}},{key:"_getStyleForAnchor",value:function(e,t,n){var i=this._getPositionStyleForElement(e);if(1===this.values.length)return"".concat(i);var a=this._zIndices[t];return"".concat(i,"; z-index: ").concat(n?this._zIndexOffset+a:a)}},{key:"_getPositionStyleForElement",value:function(e){var t=this._positionFromValue(e),n=this._positionToPercent(t);return"".concat(this._isHorizontalLayout()?"left":"top",": ").concat(n+"%")}},{key:"_getPositionOfElement",value:function(e){var t=this._getDimensions(e.offsetParent),n=this._getDimensions(e);return this._isHorizontalLayout()?this._applyPrecisionToPosition(n.left-t.left):this._applyPrecisionToPosition(n.top-t.top)}},{key:"_updateAnchorValues",value:function(e,t){var n=this;e.forEach((function(e,i){return n._toValue(e,t[i])}))}},{key:"_updateAnchorValuesByDifference",value:function(e){var t=this,n=this.min,i=this.max;this.values.forEach((function(a,o){return t._toValue(o,Math.max(Math.min(a+e,i),n))}))}},{key:"_toValue",value:function(e,t){(0,v.pC)(this.steps)&&(t=this._getStepValues()[this._getIndexOfNearestStepValue(t)]),this._updateAnchorStyle(e,this._getPositionStyleForElement(t)),this.viewModel.setValue(e,t)}},{key:"_toPosition",value:function(e,t){var n=(0,v.pC)(this.steps)?this._getStepValueForAnchorAtPosition(e,t):this._getValueForAnchorAtPosition(e,t);this._updateAnchorStyle(e,this._getPositionStyleForElement(n)),this.viewModel.setValue(e,n)}},{key:"_getValueForAnchorAtPosition",value:function(e,t){var n,i,a=this._getAnchorBoundsInPixels(e),o=a.min,r=a.max,s=this.viewModel.getBoundsForValueAtIndex(e),l=s.min,u=s.max,c=null;return this._isPositionInverted()?(n=l,i=u):(n=u,i=l),(c=t>r?n:t<o?i:this._valueFromPosition(t))>u?c=u:c<l&&(c=l),c}},{key:"_getStepValueForAnchorAtPosition",value:function(e,t){var n=this._getStepValues(),i=this._calculateNearestStepPosition(t),a=this._getValueForAnchorAtPosition(e,i);return n[this._getIndexOfNearestStepValue(a)]}},{key:"_getAnchorBoundsAsPercents",value:function(e){var t=this._getAnchorBoundsInPixels(e),n=t.min,i=t.max;return{min:this._positionToPercent(n),max:this._positionToPercent(i)}}},{key:"_getAnchorBoundsInPixels",value:function(e){var t,n,i=this._anchorElements,a=this._trackHeight,o=this._trackWidth,r=this.effectiveMax,s=this.effectiveMin,l=this.thumbsConstrained,u=i[e-1],c=i[e+1],m=this._isHorizontalLayout()?o:a;return this._isPositionInverted()?(t=(0,v.pC)(s)?this._positionFromValue(s):m,n=(0,v.pC)(r)?this._positionFromValue(r):0):(t=(0,v.pC)(r)?this._positionFromValue(r):m,n=(0,v.pC)(s)?this._positionFromValue(s):0),l?this._isPositionInverted()?{max:u?this._getPositionOfElement(u):t,min:c?this._getPositionOfElement(c):n}:{max:c?this._getPositionOfElement(c):t,min:u?this._getPositionOfElement(u):n}:{max:t,min:n}}},{key:"_getIndexOfNearestValue",value:function(e){return this.values.indexOf(this.values.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})))}},{key:"_getCursorPositionFromEvent",value:function(e){var t=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?e.clientX-t.left:e.clientY-t.top}},{key:"_getStepValues",value:function(){var e=this.steps;if(Array.isArray(e))return e;for(var t=this.max,n=this.min,i=Math.ceil((t-n)/e),a=[],o=0;o<=i;o++){var r=n+e*o;a.push(r>t?t:r)}return a}},{key:"_toStep",value:function(e,t){var n=this.values,i=this.viewModel,a=n[e],o=this._getStepValues(),r=o.indexOf(a),s=null;if(r>-1){var l=o[r+t];isNaN(l)&&(l=o[r]);var u=this._positionFromValue(l);s=this._getStepValueForAnchorAtPosition(e,u)}else s=o[this._getIndexOfNearestStepValue(a)+t];i.setValue(e,s)}},{key:"_getIndexOfNearestStepValue",value:function(e){var t=this.steps;if((0,v.Wi)(t))return null;var n=this._getStepValues(),i=n.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}));return n.indexOf(i)}},{key:"_calculateNearestStepPosition",value:function(e){var t=this._valueFromPosition(e),n=this._getIndexOfNearestStepValue(t),i=this._getStepValues();return this._positionFromValue(i[n])}},{key:"_getTickCounts",value:function(e,t){var n=t.mode;return"count"===n||"position"===n?e||0:"percent"===n&&100/e||0}},{key:"_calculateTickPositions",value:function(e){var t=this;return e.map((function(e){return t._positionFromValue(e)}))}},{key:"_calculateEquidistantTickPositions",value:function(e){var t=this._trackWidth,n=this._trackHeight,i=this._isHorizontalLayout()?t:n,a=i/(e-1),o=[];if(1===e)return[i/2];for(var r=0;r<e;r++){var s=r*a;s<=i&&o.push(s)}return o}},{key:"_getDimensions",value:function(e){try{return e.getBoundingClientRect()}catch(te){if("object"==typeof te&&null!==te)return new DOMRect(0,0,0,0);throw te}}},{key:"_emitTrackClickEvent",value:function(e){this.emit("track-click",(0,E.Z)((0,E.Z)({},e),{},{type:"track-click"}))}},{key:"_emitTickClickEvent",value:function(e){this.emit("tick-click",(0,E.Z)((0,E.Z)({},e),{},{type:"tick-click"}))}},{key:"_emitMaxChangeEvent",value:function(e){this.emit("max-change",(0,E.Z)((0,E.Z)({},e),{},{type:"max-change"}))}},{key:"_emitMinChangeEvent",value:function(e){this.emit("min-change",(0,E.Z)((0,E.Z)({},e),{},{type:"min-change"}))}},{key:"_emitThumbChangeEvent",value:function(e){this.emit("thumb-change",(0,E.Z)((0,E.Z)({},e),{},{type:"thumb-change"}))}},{key:"_emitThumbClickEvent",value:function(e){this.emit("thumb-click",(0,E.Z)((0,E.Z)({},e),{},{type:"thumb-click"}))}},{key:"_emitThumbDragEvent",value:function(e){this.emit("thumb-drag",(0,E.Z)((0,E.Z)({},e),{},{type:"thumb-drag"}))}},{key:"_emitSegmentClickEvent",value:function(e){this.emit("segment-click",(0,E.Z)((0,E.Z)({},e),{},{type:"segment-click"}))}},{key:"_emitSegmentDragEvent",value:function(e){this.emit("segment-drag",(0,E.Z)((0,E.Z)({},e),{},{type:"segment-drag"}))}},{key:"_emitRangeLabelClickEvent",value:function(e){this.emit(e.type,(0,E.Z)({},e))}}]),n}(S.Z);(0,u._)([(0,_.Cb)()],X.prototype,"disabled",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"draggableSegmentsEnabled",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"effectiveMax",null),(0,u._)([(0,_.Cb)()],X.prototype,"effectiveMin",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"effectiveSegmentElements",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"extraNodes",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"inputCreatedFunction",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"inputFormatFunction",null),(0,u._)([(0,_.Cb)()],X.prototype,"inputParseFunction",null),(0,u._)([(0,_.Cb)()],X.prototype,"label",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"labelElements",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"labelInputsEnabled",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"labelFormatFunction",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"labels",null),(0,u._)([(0,_.Cb)({value:"horizontal"})],X.prototype,"layout",null),(0,u._)([(0,_.Cb)()],X.prototype,"max",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"maxLabelElement",void 0),(0,u._)([(0,_.Cb)(),(0,A.H)("esri/widgets/Slider/t9n/Slider")],X.prototype,"messages",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"min",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"minLabelElement",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"precision",null),(0,u._)([(0,_.Cb)()],X.prototype,"rangeLabelInputsEnabled",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"segmentElements",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"snapOnClickEnabled",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"state",null),(0,u._)([(0,_.Cb)()],X.prototype,"steps",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"syncedSegmentsEnabled",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"thumbsConstrained",null),(0,u._)([(0,_.Cb)()],X.prototype,"thumbCreatedFunction",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"thumbElements",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"tickConfigs",null),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"tickElements",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],X.prototype,"trackElement",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"values",null),(0,u._)([(0,_.Cb)()],X.prototype,"viewModel",void 0),(0,u._)([(0,_.Cb)()],X.prototype,"visibleElements",void 0),(0,u._)([(0,T.p)("visibleElements")],X.prototype,"castVisibleElements",null);var J=X=(0,u._)([(0,g.j)("esri.widgets.Slider")],X),Q=n(78088),$=n(28907),ee=n(37384),te="esri-time-slider",ne={widgetIcon:"esri-icon-time-clock",esriWidget:"esri-widget",esriWidgetButton:"esri-widget--button",esriButtonDisabled:"esri-button--disabled",esriDisabled:"esri-disabled",timeSlider:"".concat(te),timeSliderOutOfBounds:"".concat(te,"--out-of-bounds"),timeSliderMode:"".concat(te,"__mode--"),timeSliderLayout:"".concat(te,"__layout--"),timeSliderRow:"".concat(te,"__row"),animation:"".concat(te,"__animation"),animationButton:"".concat(te,"__animation-button"),animationPlay:"esri-icon-play",animationPause:"esri-icon-pause",timeExtent:"".concat(te,"__time-extent"),timeExtentGroup:"".concat(te,"__time-extent-group"),timeExtentDate:"".concat(te,"__time-extent-date"),timeExtentTime:"".concat(te,"__time-extent-time"),timeExtentSeparator:"".concat(te,"__time-extent-separator"),playbackControls:"".concat(te,"__playback-controls"),min:"".concat(te,"__min"),minDate:"".concat(te,"__min-date"),minTime:"".concat(te,"__min-time"),slider:"".concat(te,"__slider"),sliderMajorTick:"majorTick",sliderMinorTick:"minorTick",max:"".concat(te,"__max"),maxDate:"".concat(te,"__max-date"),maxTime:"".concat(te,"__max-time"),previous:"".concat(te,"__previous"),previousButton:"".concat(te,"__previous-button"),previousIcon:"esri-icon-reverse",next:"".concat(te,"__next"),nextButton:"".concat(te,"__next-button"),nextIcon:"esri-icon-forward",warning:"".concat(te,"__warning"),warningIcon:"esri-icon-notice-triangle",warningText:"".concat(te,"__warning-text"),hasActions:"".concat(te,"--has-actions"),actions:"".concat(te,"__actions"),actionsButton:"".concat(te,"__actions-button")},ie=n(62044),ae=n(91505),oe=n(41691),re=n(66978),se=n(54931),le=n(64850),ue=1e4;function ce(e){return(0,v.pC)(e)&&void 0!==e.count}function me(e){return(0,v.pC)(e)&&void 0!==e.interval}function de(e){return(0,v.pC)(e)&&void 0!==e.dates}function he(e){return"esri.WebMap"===e.declaredClass}var ve=function(e){(0,s.Z)(u,e);var t=(0,l.Z)(u);function u(e){var n;return(0,o.Z)(this,u),(n=t.call(this,e))._animationController=null,n._isViewTimeExtentInitialized=!1,n._timerId=null,n.actions=new d.Z,n.fullTimeExtent=null,n.loop=!1,n.mode="time-window",n.stops={count:10},n.timeExtent=null,n.view=null,n}return(0,r.Z)(u,[{key:"initialize",value:function(){var e=this;this.handles.add([(0,p.YP)((function(){return e.effectiveStops}),(function(){(0,v.Wi)(e.timeExtent)&&(e.timeExtent=e._getDefaultTimeExtent())}),p.nn),(0,p.YP)((function(){return e.view}),(function(t,n){e._unregisterWidget(n),e._registerWidget(t)}),p.tX),(0,p.YP)((function(){return e.timeExtent}),(function(t){if(!(0,v.Wi)(e.view)){var n=e.view.timeExtent;((0,v.Wi)(t)||t.isAllTime)&&((0,v.Wi)(n)||n.isAllTime)||(0,v.pC)(t)&&(0,v.pC)(n)&&t.equals(n)||(e.view.timeExtent=(0,v.Wg)(t))}}),p.nn),(0,p.YP)((function(){return(0,v.yw)(e.view,(function(e){return e.timeExtent}))}),(function(t){e._isViewTimeExtentInitialized?((0,v.Wi)(t)||t.isAllTime)&&((0,v.Wi)(e.timeExtent)||e.timeExtent.isAllTime)||(0,v.pC)(t)&&(0,v.pC)(e.timeExtent)&&t.equals(e.timeExtent)||(e.timeExtent=t):e._isViewTimeExtentInitialized=!0}))])}},{key:"destroy",value:function(){(0,v.pC)(this._timerId)&&(clearInterval(this._timerId),this._timerId=null),this._unregisterWidget(this.view),this.view=null,(0,v.pC)(this._animationController)&&(this._animationController.abort(),this._animationController=null)}},{key:"effectiveStops",get:function(){var e=this.fullTimeExtent,t=this.stops;if(de(t)){var n=t.dates;if(null==n||0===n.length)return null;var i=n.sort((function(e,t){return e.getTime()-t.getTime()}));if((0,v.Wi)(e))return i;var a=e.start,o=e.end;return(0,v.Wi)(a)||(0,v.Wi)(o)?i:i.filter((function(e){return!(e.getTime()<a.getTime()||e.getTime()>o.getTime())}))}if(ce(t)){var r,s=null!==(r=t.timeExtent)&&void 0!==r?r:(0,v.Wg)(e);return this._divideTimeExtentByCount(s,t.count)}if(me(t)){var l,u=null!==(l=t.timeExtent)&&void 0!==l?l:(0,v.Wg)(e);return this._divideTimeExtentByInterval(u,t.interval)}return[]}},{key:"playRate",set:function(e){e<=0||e>36e5||("playing"===this.state&&this._startAnimation(),this._set("playRate",e))}},{key:"state",get:function(){return(0,v.Wi)(this.fullTimeExtent)?"disabled":(0,v.pC)(this._animationController)?"playing":"ready"}},{key:"timeExtentValues",get:function(){var e=this.mode,t=this.timeExtent;if((0,v.Wi)(t)||t.isAllTime||t.isEmpty)return null;var n=t.start,i=t.end;switch(e){case"cumulative-from-end":case"instant":return(0,v.pC)(n)?[n.getTime()]:null;case"cumulative-from-start":return(0,v.pC)(i)?[i.getTime()]:null;case"time-window":return(0,v.pC)(n)&&(0,v.pC)(i)?[n.getTime(),i.getTime()]:null}}},{key:"next",value:function(){this._step({forward:!0,allowRestart:!1})}},{key:"play",value:function(){this._startAnimation()}},{key:"previous",value:function(){this._step({forward:!1,allowRestart:!1})}},{key:"stop",value:function(){this._stopAnimation()}},{key:"triggerAction",value:function(e){this.emit("trigger-action",{action:e})}},{key:"updateWebDocument",value:function(e){if(he(e)){var t=new le.Z({currentTimeExtent:this.timeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:ce(this.stops)?this.stops.count:null,numThumbs:"time-window"===this.mode?2:1,stopDelay:this.playRate,stopInterval:me(this.stops)?this.stops.interval:null,stops:de(this.stops)?this.stops.dates:null});e.widgets?e.widgets.timeSlider=t:e.widgets=new se.Z({timeSlider:t})}}},{key:"valuesToTimeExtent",value:function(e){if((0,v.Wi)(e))return null;var t=e.sort((function(e,t){return e-t})).map((function(e){return new Date(e)})),n=t.length>0?t[0]:null,i=t.length>1?t[1]:null;switch(this.mode){case"time-window":return new ie.Z({start:n,end:i});case"instant":return new ie.Z({start:n,end:n});case"cumulative-from-start":return new ie.Z({start:null,end:n});case"cumulative-from-end":return new ie.Z({start:n,end:null});default:return ie.Z.allTime}}},{key:"_animate",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.view,n=(0,v.yw)(this._animationController,(function(e){return e.signal})),e.next=4,Promise.all([(0,re.e4)(this.playRate,null,n),(0,v.pC)(t)&&(0,p.N1)((function(){return!1===t.updating}),n)]);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",((0,re.D_)(e.t0)||P.Z.getLogger(this.declaredClass).error(e.t0),void(this._animationController=null)));case 9:this._step({forward:!0,allowRestart:!1}),(0,v.Wi)(this._animationController)||this._animate();case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_divideTimeExtentByCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!e||!t)return[];var n=e.start,i=e.end;if((0,v.Wi)(n)||(0,v.Wi)(i))return[];if(t>ue)return this._divideTimeExtentByCount(e);for(var a=[],o=n.getTime(),r=i.getTime()-o,s=0;s<=t;s++)a.push(new Date(o+s/t*r));return a}},{key:"_divideTimeExtentByInterval",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue;if(!e||!t)return[];var i=e.start,a=e.end;if((0,v.Wi)(i)||(0,v.Wi)(a))return[];var o=a.getTime()-i.getTime(),r=t.toMilliseconds();if(r<=0||o/r>n)return this._divideTimeExtentByCount(e);for(var s=[],l=t.value,u=t.unit,c=i;c.getTime()<=a.getTime();)s.push(new Date(c.getTime())),c=(0,f.Nm)(c,l,u);return s}},{key:"_getDefaultTimeExtent",value:function(){var e=this.effectiveStops,t=this.mode;if((0,v.Wi)(e)||!t)return null;switch(t){case"time-window":return e.length>1?new ie.Z({start:e[0],end:e[1]}):null;case"cumulative-from-start":return e.length>0?new ie.Z({start:null,end:e[0]}):null;case"cumulative-from-end":return e.length>0?new ie.Z({start:e[0],end:null}):null;case"instant":return e.length>0?new ie.Z({start:e[0],end:e[0]}):null;default:return null}}},{key:"_registerWidget",value:function(e){(0,v.pC)(e)&&(e.persistableViewModels.includes(this)||e.persistableViewModels.add(this))}},{key:"_startAnimation",value:function(){this._stopAnimation(),this._animationController=new AbortController,this._step({forward:!0,allowRestart:!0}),this._animate()}},{key:"_step",value:function(e){var t=e.forward,n=e.allowRestart,i=this.effectiveStops;if(!(0,v.Wi)(this.timeExtentValues)&&!(0,v.Wi)(i)){var a=i.map((function(e){return e.getTime()})),o=this.timeExtentValues.map((function(e){var t=a.indexOf(e);if(-1!==t)return t;var n=a.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}));return a.indexOf(n)})),r=o.map((function(e){return e+(t?1:-1)})),s=r.some((function(e){return e<0||e>a.length-1})),l=this.loop,u=this.state;if(s)if(l||n){var c=Math.min.apply(Math,(0,x.Z)(o)),m=Math.max.apply(Math,(0,x.Z)(o)),d=(t?o.map((function(e){return e-c})):o.map((function(e){return e+(a.length-1-m)}))).map((function(e){return a[e]}));this.timeExtent=this.valuesToTimeExtent(d)}else"playing"===u&&this.stop();else{var h=r.map((function(e){return a[e]}));this.timeExtent=this.valuesToTimeExtent(h)}}}},{key:"_stopAnimation",value:function(){(0,v.pC)(this._animationController)&&(this._animationController.abort(),this._animationController=null)}},{key:"_unregisterWidget",value:function(e){(0,v.pC)(e)&&e.persistableViewModels.remove(this)}}],[{key:"getPropertiesFromWebMap",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,a){var o,r,s,l,u,c,m,d,h,p,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,v.Wi)(t)&&he(t)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,t.load({signal:a});case 4:if(s=null===t||void 0===t||null===(o=t.widgets)||void 0===o?void 0:o.timeSlider){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,n.e(22145).then(n.bind(n,22145));case 9:return l=e.sent,u=l.getFullTimeExtentFromWebDocument,c=l.getModeFromTimeSlider,m=l.getStopsFromTimeSlider,d=l.getTimeExtentFromTimeSlider,e.next=16,u(t,a);case 16:return h=e.sent,p=s.loop,f=c(s),e.abrupt("return",{fullTimeExtent:h,loop:p,mode:f,playRate:null!==(r=s.stopDelay)&&void 0!==r?r:2e3,stops:m(s),timeExtent:d(s,f)});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),u}((0,oe.p)(ae.Z.EventedAccessor));(0,u._)([(0,_.Cb)()],ve.prototype,"_animationController",void 0),(0,u._)([(0,_.Cb)({type:d.Z})],ve.prototype,"actions",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],ve.prototype,"effectiveStops",null),(0,u._)([(0,_.Cb)({type:ie.Z})],ve.prototype,"fullTimeExtent",void 0),(0,u._)([(0,_.Cb)({nonNullable:!0})],ve.prototype,"loop",void 0),(0,u._)([(0,_.Cb)({nonNullable:!0})],ve.prototype,"mode",void 0),(0,u._)([(0,_.Cb)({nonNullable:!0,value:1e3})],ve.prototype,"playRate",null),(0,u._)([(0,_.Cb)({readOnly:!0})],ve.prototype,"state",null),(0,u._)([(0,_.Cb)({cast:function(e){return(0,v.Wi)(e)?null:(me(e)&&(e.interval=(0,y.se)(c.Z,e.interval)),(me(e)||ce(e))&&(e.timeExtent=(0,y.se)(ie.Z,e.timeExtent)),e)}})],ve.prototype,"stops",void 0),(0,u._)([(0,_.Cb)({type:ie.Z})],ve.prototype,"timeExtent",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],ve.prototype,"timeExtentValues",null),(0,u._)([(0,_.Cb)()],ve.prototype,"view",void 0),(0,u._)([(0,_.Cb)()],ve.prototype,"next",null),(0,u._)([(0,_.Cb)()],ve.prototype,"play",null),(0,u._)([(0,_.Cb)()],ve.prototype,"previous",null),(0,u._)([(0,_.Cb)()],ve.prototype,"stop",null),(0,u._)([(0,_.Cb)()],ve.prototype,"updateWebDocument",null);var pe=ve=(0,u._)([(0,g.j)("esri.widgets.TimeSlider.TimeSliderViewModel")],ve),fe=new d.Z([{minor:new c.Z({value:100,unit:"milliseconds"}),major:new c.Z({value:1,unit:"seconds"}),format:{second:"numeric"}},{minor:new c.Z({value:500,unit:"milliseconds"}),major:new c.Z({value:5,unit:"seconds"}),format:{second:"numeric"}},{minor:new c.Z({value:1,unit:"seconds"}),major:new c.Z({value:20,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new c.Z({value:2,unit:"seconds"}),major:new c.Z({value:30,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new c.Z({value:10,unit:"seconds"}),major:new c.Z({value:1,unit:"minutes"}),format:{minute:"numeric"}},{minor:new c.Z({value:15,unit:"seconds"}),major:new c.Z({value:5,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new c.Z({value:1,unit:"minutes"}),major:new c.Z({value:20,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new c.Z({value:5,unit:"minutes"}),major:new c.Z({value:2,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new c.Z({value:15,unit:"minutes"}),major:new c.Z({value:6,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new c.Z({value:1,unit:"hours"}),major:new c.Z({value:1,unit:"days"}),format:{day:"numeric",month:"short"}},{minor:new c.Z({value:6,unit:"hours"}),major:new c.Z({value:1,unit:"weeks"}),format:{day:"numeric",month:"short"}},{minor:new c.Z({value:1,unit:"days"}),major:new c.Z({value:1,unit:"months"}),format:{month:"long"}},{minor:new c.Z({value:2,unit:"days"}),major:new c.Z({value:1,unit:"months"}),format:{month:"short"}},{minor:new c.Z({value:3,unit:"days"}),major:new c.Z({value:1,unit:"months"}),format:{month:"short"}},{minor:new c.Z({value:4,unit:"days"}),major:new c.Z({value:3,unit:"months"}),format:{month:"short",year:"numeric"}},{minor:new c.Z({value:1,unit:"weeks"}),major:new c.Z({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new c.Z({value:1,unit:"months"}),major:new c.Z({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new c.Z({value:2,unit:"months"}),major:new c.Z({value:2,unit:"years"}),format:{year:"numeric"}},{minor:new c.Z({value:1,unit:"years"}),major:new c.Z({value:1,unit:"decades"}),format:{year:"numeric"}},{minor:new c.Z({value:2,unit:"years"}),major:new c.Z({value:5,unit:"decades"}),format:{year:"numeric"}},{minor:new c.Z({value:5,unit:"decades"}),major:new c.Z({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:1,unit:"centuries"}),major:new c.Z({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:2,unit:"centuries"}),major:new c.Z({value:20,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:5,unit:"centuries"}),major:new c.Z({value:50,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:10,unit:"centuries"}),major:new c.Z({value:100,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:20,unit:"centuries"}),major:new c.Z({value:200,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:50,unit:"centuries"}),major:new c.Z({value:500,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:100,unit:"centuries"}),major:new c.Z({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:200,unit:"centuries"}),major:new c.Z({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:500,unit:"centuries"}),major:new c.Z({value:5e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new c.Z({value:1e3,unit:"centuries"}),major:new c.Z({value:1e4,unit:"centuries"}),format:{era:"short",year:"numeric"}}]),_e=function(e){(0,s.Z)(u,e);var t=(0,l.Z)(u);function u(e,n){var i;return(0,o.Z)(this,u),(i=t.call(this,e,n))._ignoreNextSliderUpdate=!1,i._slider=new J({precision:0,visibleElements:{rangeLabels:!1},rangeLabelInputsEnabled:!1,thumbsConstrained:!1}),i._tickFormat=null,i.disabled=!1,i.iconClass=ne.widgetIcon,i.labelFormatFunction=null,i.messages=null,i.messagesCommon=null,i.tickConfigs=null,i.timeVisible=!1,i.viewModel=new pe,i}return(0,r.Z)(u,[{key:"initialize",value:function(){var e=this;this.addHandles([(0,p.YP)((function(){return e._slider.values}),(function(t){if(e._ignoreNextSliderUpdate)e._ignoreNextSliderUpdate=!1;else{var n=e.viewModel.valuesToTimeExtent(t);(0,v.pC)(e.timeExtent)?(0,v.pC)(n)?e.timeExtent.equals(n)||(e.timeExtent=n):e.timeExtent=null:(0,v.pC)(n)&&(e.timeExtent=n)}})),(0,p.YP)((function(){return e.effectiveStops}),(function(){return e._updateSliderSteps()}),p.nn)])}},{key:"loadDependencies",value:function(){return Promise.all([Promise.all([n.e(11307),n.e(2607),n.e(49501)]).then(n.bind(n,5855)),Promise.all([n.e(11307),n.e(89998),n.e(2607),n.e(76648),n.e(46654)]).then(n.bind(n,80782))])}},{key:"destroy",value:function(){this._slider.destroy(),this._tickFormat=null}},{key:"actions",get:function(){return this.viewModel.actions},set:function(e){this.viewModel.actions=e}},{key:"effectiveStops",get:function(){return this.viewModel.effectiveStops}},{key:"fullTimeExtent",get:function(){return this.viewModel.fullTimeExtent},set:function(e){this.viewModel.fullTimeExtent=e}},{key:"interactive",get:function(){var e;return!this.disabled&&"disabled"!==(null===(e=this.viewModel)||void 0===e?void 0:e.state)}},{key:"label",get:function(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""},set:function(e){this._overrideIfSome("label",e)}},{key:"layout",set:function(e){["auto","compact","wide"].includes(e)||(e="auto"),this._set("layout",e)}},{key:"loop",get:function(){return this.viewModel.loop},set:function(e){this.viewModel.loop=e}},{key:"mode",get:function(){return this.viewModel.mode},set:function(e){this.viewModel.mode=e}},{key:"playRate",get:function(){return this.viewModel.playRate},set:function(e){this.viewModel.playRate=e}},{key:"stops",get:function(){return this.viewModel.stops},set:function(e){this.viewModel.stops=e}},{key:"timeExtent",get:function(){return this.viewModel.timeExtent},set:function(e){this.viewModel.timeExtent=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}},{key:"next",value:function(){return this.viewModel.next()}},{key:"play",value:function(){return this.viewModel.play()}},{key:"previous",value:function(){return this.viewModel.previous()}},{key:"stop",value:function(){return this.viewModel.stop()}},{key:"render",value:function(){var e=this,t=this._slider,n=this.actions,i=this.domNode,a=this.effectiveStops,o=this.fullTimeExtent,r=this.interactive,s=this.messages,l=this.messagesCommon,u=this.mode,c=this.tickConfigs,d=this.timeExtent,h=this.timeVisible,p=this.viewModel,f=p.state,_=p.timeExtentValues;if((0,v.pC)(o)){var y=o.start,g=o.end;if((0,v.pC)(y)&&(0,v.pC)(g)){var k=y.getTime(),x=g.getTime(),E=t.min!==k||t.max!==x;if(E&&(t.min=k,t.max=x),(0,v.pC)(c))t.tickConfigs!==c&&(t.tickConfigs=c);else{var w,C=(x-k)/((null===(w=t.trackElement)||void 0===w?void 0:w.offsetWidth)||400),T=fe.find((function(e){return e.minor.toMilliseconds()>3*C})),S=this._tickFormat!==T&&null!=T;if(S&&(this._tickFormat=T),E||S){var M={mode:"position",values:this._getTickPositions(T.minor),labelsVisible:!1,tickCreatedFunction:function(e,t){t.classList.add(ne.sliderMinorTick)}},I={mode:"position",values:this._getTickPositions(T.major),labelsVisible:!0,tickCreatedFunction:function(e,t){t.classList.add(ne.sliderMajorTick)},labelFormatFunction:function(e){return(0,b.p6)(e,T.format)}};t.tickConfigs=[M,I]}}}}var P=(0,v.Wi)(this.fullTimeExtent)||(0,v.Wi)(this.timeExtent)||this.timeExtent.isAllTime||this.timeExtent.isEmpty||(0,v.pC)(this.timeExtent.start)&&(this.timeExtent.start<this.fullTimeExtent.start||this.timeExtent.start>this.fullTimeExtent.end)||(0,v.pC)(this.timeExtent.end)&&(this.timeExtent.end>this.fullTimeExtent.end||this.timeExtent.end<this.fullTimeExtent.start);if(P)switch(this._ignoreNextSliderUpdate=!0,u){case"time-window":t.values=[t.min,t.max];break;case"instant":case"cumulative-from-end":t.values=[t.min];break;case"cumulative-from-start":t.values=[t.max]}else(0,v.pC)(_)?(0,m.fS)(t.values,_)||(t.values=_):t.values=null;t.disabled=!r;var Z="ready"===f,F="playing"===f,A=P||!r||(0,v.Wi)(a)||0===a.length,V="auto"===this.layout?i.clientWidth<858?"compact":"wide":this.layout,W=(0,D.u)("div",{class:ne.animation},(0,D.u)("button",{"aria-disabled":A?"true":"false","aria-label":F?l.control.stop:l.control.play,bind:this,class:this.classes(ne.esriWidgetButton,ne.animationButton,A&&ne.esriButtonDisabled),disabled:A,title:F?l.control.stop:l.control.play,onclick:this._playOrStopClick,type:"button"},(0,D.u)("div",{class:this.classes((Z||A)&&ne.animationPlay,F&&ne.animationPause)}))),N=(0,v.pC)(this.labelFormatFunction)?(0,D.u)("div",{key:"extent",bind:this,class:ne.timeExtentDate,"data-type":"extent","data-layout":V,"data-date":(0,v.yw)(d,(function(e){return[e.start,e.end]})),afterCreate:this._createLabel,afterUpdate:this._createLabel}):(0,v.Wi)(d)||(0,v.pC)(d)&&d.isAllTime?[(0,D.u)("div",{class:this.classes(ne.warning,ne.warningIcon)}),(0,D.u)("div",{key:"warning-text",class:ne.warningText},s.noTimeExtent)]:d.isEmpty?[(0,D.u)("div",{class:this.classes(ne.warning,ne.warningIcon)}),(0,D.u)("div",{key:"warning-text",class:ne.warningText},s.emptyTimeExtent)]:[(0,v.pC)(d.start)&&(0,D.u)("div",{key:"start-date-group",class:ne.timeExtentGroup},(0,D.u)("div",{key:"start-date",class:ne.timeExtentDate},this._formatDate(d.start)),h&&(0,D.u)("div",{key:"start-time",class:ne.timeExtentTime},this._formatTime(d.start))),(0,v.pC)(d.start)&&(0,v.pC)(d.end)&&d.start.getTime()!==d.end.getTime()&&(0,D.u)("div",{key:"separator",class:ne.timeExtentSeparator},"\u2013"),(0,v.pC)(d.end)&&((0,v.Wi)(d.start)||d.start.getTime()!==d.end.getTime())&&(0,D.u)("div",{key:"end-date-group",class:ne.timeExtentGroup},(0,D.u)("div",{key:"end-date",class:ne.timeExtentDate},this._formatDate(d.end)),h&&(0,D.u)("div",{key:"end-time",class:ne.timeExtentTime},this._formatTime(d.end)))],R=(0,D.u)("div",{class:this.classes(ne.timeExtent,!r&&ne.esriButtonDisabled)},[N]),B=(0,v.pC)(this.labelFormatFunction)?(0,D.u)("div",{key:"min-date",bind:this,class:ne.minDate,"data-date":(0,v.yw)(o,(function(e){return e.start})),"data-type":"min","data-layout":V,afterCreate:this._createLabel,afterUpdate:this._createLabel}):(0,v.pC)(o)&&(0,v.pC)(o.start)&&[(0,D.u)("div",{key:"min-date",class:ne.minDate},this._formatDate(o.start)),h&&(0,D.u)("div",{key:"min-time",class:ne.minTime},this._formatTime(o.start))],j=(0,D.u)("div",{class:this.classes(ne.min,!r&&ne.esriButtonDisabled)},[B]),O=(0,D.u)("div",{class:ne.slider},t.render()),z=(0,v.pC)(this.labelFormatFunction)?(0,D.u)("div",{key:"max-date",bind:this,class:ne.maxDate,"data-date":(0,v.yw)(o,(function(e){return e.end})),"data-type":"max","data-layout":V,afterCreate:this._createLabel,afterUpdate:this._createLabel}):(0,v.pC)(o)&&(0,v.pC)(o.end)&&[(0,D.u)("div",{key:"max-date",class:ne.maxDate},this._formatDate(o.end)),h&&(0,D.u)("div",{key:"max-time",class:ne.maxTime},this._formatTime(o.end))],H=(0,D.u)("div",{class:this.classes(ne.max,!r&&ne.esriButtonDisabled)},[z]),U=(0,D.u)("div",{class:ne.previous},(0,D.u)("button",{"aria-disabled":A?"true":"false","aria-label":l.pagination.previous,bind:this,class:this.classes(ne.esriWidgetButton,ne.previousButton,(F||A)&&ne.esriButtonDisabled),disabled:A,title:l.pagination.previous,onclick:this._previousClick,type:"button"},(0,D.u)("div",{class:ne.previousIcon}))),q=(0,D.u)("div",{class:ne.next},(0,D.u)("button",{"aria-disabled":A?"true":"false","aria-label":l.pagination.next,bind:this,class:this.classes(ne.esriWidgetButton,ne.nextButton,(F||A)&&ne.esriButtonDisabled),disabled:A,title:l.pagination.next,onclick:this._nextClick,type:"button"},(0,D.u)("div",{class:ne.nextIcon}))),K=(null===n||void 0===n?void 0:n.length)>0,G=K&&(0,D.u)("div",{class:ne.actions,title:l.options},(0,D.u)("calcite-action-menu",{label:l.options,class:ne.actionsButton},n.toArray().map((function(t){return(0,D.u)("calcite-action",{bind:e,icon:t.icon,id:t.id,onclick:function(){return e.viewModel.triggerAction(t)},text:t.title,textEnabled:!0})}))));return(0,D.u)("div",{class:this.classes(ne.timeSlider,ne.esriWidget,"".concat(ne.timeSliderMode).concat(u),"".concat(ne.timeSliderLayout).concat(V),!r&&ne.esriDisabled,P&&ne.timeSliderOutOfBounds,K&&ne.hasActions,(0,ee.rk)()),afterCreate:function(t){e.addHandles((0,L.ib)(t,(function(){return e.scheduleRender()})))},"aria-label":s.widgetLabel},"wide"===V&&(0,D.u)("div",{class:ne.timeSliderRow},(0,D.u)("div",{class:ne.playbackControls},[W,R,j,O,H,U,q]),G),"compact"===V&&[(0,D.u)("div",{key:"time-slider-row-1",class:ne.timeSliderRow},[R,G]),(0,D.u)("div",{key:"time-slider-row-2",class:ne.timeSliderRow},[O]),(0,D.u)("div",{key:"time-slider-row-3",class:ne.timeSliderRow},[j,U,W,q,H])])}},{key:"updateWebDocument",value:function(e){var t;null===(t=this.viewModel)||void 0===t||t.updateWebDocument(e)}},{key:"_createLabel",value:function(e){if(!(0,v.Wi)(this.labelFormatFunction)){var t=e.getAttribute("data-type"),n=e.getAttribute("data-layout"),i=e["data-date"];this.labelFormatFunction(i,t,e,n)}}},{key:"_getTickPositions",value:function(e){var t=this.fullTimeExtent;if((0,v.Wi)(t)||(0,v.Wi)(t.start)||(0,v.Wi)(t.end))return[];for(var n=t.start,i=t.end,a=[],o=e.value,r=e.unit,s=(0,f.JE)(n,r);s.getTime()<=i.getTime();)s.getTime()>=n.getTime()&&a.push(s.getTime()),s=(0,f.Nm)(s,o,r);return a}},{key:"_formatDate",value:function(e){return e?(0,b.p6)(e,(0,b.Ze)("short-date")):null}},{key:"_formatTime",value:function(e){return e?(0,b.p6)(e,(0,b.Ze)("long-time")):null}},{key:"_updateSliderSteps",value:function(){this._slider.steps=(0,v.pC)(this.effectiveStops)&&this.effectiveStops.length>0?this.effectiveStops.map((function(e){return e.getTime()})):null}},{key:"_playOrStopClick",value:function(){switch(this.viewModel.state){case"ready":this.viewModel.play();break;case"playing":this.viewModel.stop();break;case"disabled":break;default:(0,h.Bg)(this.viewModel.state)}}},{key:"_previousClick",value:function(){this.viewModel.previous()}},{key:"_nextClick",value:function(){this.viewModel.next()}}],[{key:"getPropertiesFromWebMap",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pe.getPropertiesFromWebMap(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),u}(S.Z);(0,u._)([(0,_.Cb)()],_e.prototype,"actions",null),(0,u._)([(0,_.Cb)()],_e.prototype,"disabled",void 0),(0,u._)([(0,_.Cb)()],_e.prototype,"effectiveStops",null),(0,u._)([(0,_.Cb)()],_e.prototype,"fullTimeExtent",null),(0,u._)([(0,_.Cb)()],_e.prototype,"iconClass",void 0),(0,u._)([(0,_.Cb)({readOnly:!0})],_e.prototype,"interactive",null),(0,u._)([(0,_.Cb)()],_e.prototype,"label",null),(0,u._)([(0,_.Cb)()],_e.prototype,"labelFormatFunction",void 0),(0,u._)([(0,_.Cb)({value:"auto"})],_e.prototype,"layout",null),(0,u._)([(0,_.Cb)()],_e.prototype,"loop",null),(0,u._)([(0,_.Cb)(),(0,A.H)("esri/widgets/TimeSlider/t9n/TimeSlider")],_e.prototype,"messages",void 0),(0,u._)([(0,_.Cb)(),(0,A.H)("esri/t9n/common")],_e.prototype,"messagesCommon",void 0),(0,u._)([(0,_.Cb)()],_e.prototype,"mode",null),(0,u._)([(0,_.Cb)()],_e.prototype,"playRate",null),(0,u._)([(0,_.Cb)()],_e.prototype,"stops",null),(0,u._)([(0,_.Cb)()],_e.prototype,"tickConfigs",void 0),(0,u._)([(0,_.Cb)()],_e.prototype,"timeExtent",null),(0,u._)([(0,_.Cb)({nonNullable:!0})],_e.prototype,"timeVisible",void 0),(0,u._)([(0,_.Cb)()],_e.prototype,"view",null),(0,u._)([(0,_.Cb)({type:pe}),(0,$.s)("trigger-action")],_e.prototype,"viewModel",void 0),(0,u._)([(0,Q.h)()],_e.prototype,"_playOrStopClick",null),(0,u._)([(0,Q.h)()],_e.prototype,"_previousClick",null),(0,u._)([(0,Q.h)()],_e.prototype,"_nextClick",null);var ye=_e=(0,u._)([(0,g.j)("esri.widgets.TimeSlider")],_e)}}]);
//# sourceMappingURL=50675.5b3a7e45.chunk.js.map