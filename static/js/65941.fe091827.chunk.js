"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[65941],{62044:function(e,t,r){r.d(t,{Z:function(){return _}});var n,i=r(15671),a=r(43144),s=r(60136),o=r(92572),l=r(27366),u=r(46784),c=r(92026),d=r(86710),h=r(49861),p=(r(25243),r(63780),r(38511)),y=r(69912),v=r(31201),f=n=function(e){(0,s.Z)(r,e);var t=(0,o.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).end=null,n.start=null,n}return(0,a.Z)(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(n.allTime)}},{key:"isEmpty",get:function(){return this.equals(n.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new n({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=(0,c.pC)(this.start)?this.start.getTime():this.start,r=(0,c.pC)(this.end)?this.end.getTime():this.end,n=(0,c.pC)(e.start)?e.start.getTime():e.start,i=(0,c.pC)(e.end)?e.end.getTime():e.end;return t===n&&r===i}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=(0,c.yw)(this.start,(function(t){return(0,d.JE)(t,e)})),r=(0,c.yw)(this.end,(function(t){var r=(0,d.JE)(t,e);return t.getTime()===r.getTime()?r:(0,d.Nm)(r,1,e)}));return new n({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,i=(0,c.R2)(this.start,-1/0,(function(e){return e.getTime()})),a=(0,c.R2)(this.end,1/0,(function(e){return e.getTime()})),s=(0,c.R2)(e.start,-1/0,(function(e){return e.getTime()})),o=(0,c.R2)(e.end,1/0,(function(e){return e.getTime()}));if(s>=i&&s<=a?t=s:i>=s&&i<=o&&(t=i),a>=s&&a<=o?r=a:o>=i&&o<=a&&(r=o),null!=t&&null!=r&&!isNaN(t)&&!isNaN(r)){var l=new n;return l.start=t===-1/0?null:new Date(t),l.end=r===1/0?null:new Date(r),l}return n.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new n,i=this.start,a=this.end;return(0,c.pC)(i)&&(r.start=(0,d.Nm)(i,e,t)),(0,c.pC)(a)&&(r.end=(0,d.Nm)(a,e,t)),r}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return g.clone();var t=(0,c.pC)(this.start)&&(0,c.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=(0,c.pC)(this.end)&&(0,c.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}}],[{key:"allTime",get:function(){return g}},{key:"empty",get:function(){return m}}]),r}(u.wq);(0,l._)([(0,h.Cb)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"end",void 0),(0,l._)([(0,p.r)("end")],f.prototype,"readEnd",null),(0,l._)([(0,v.c)("end")],f.prototype,"writeEnd",null),(0,l._)([(0,h.Cb)({readOnly:!0,json:{read:!1}})],f.prototype,"isAllTime",null),(0,l._)([(0,h.Cb)({readOnly:!0,json:{read:!1}})],f.prototype,"isEmpty",null),(0,l._)([(0,h.Cb)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"start",void 0),(0,l._)([(0,p.r)("start")],f.prototype,"readStart",null),(0,l._)([(0,v.c)("start")],f.prototype,"writeStart",null);var g=new(f=n=(0,l._)([(0,y.j)("esri.TimeExtent")],f)),m=new f({start:void 0,end:void 0}),_=f},41691:function(e,t,r){r.d(t,{p:function(){return p},r:function(){return y}});var n=r(15671),i=r(43144),a=r(60136),s=r(92572),o=r(27366),l=r(31319),u=r(100),c=r(49861),d=r(69912),h=r(61826),p=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"destroy",value:function(){var e,t;this.destroyed||(null!==(e=this._get("handles"))&&void 0!==e&&e.destroy(),null===(t=this._get("updatingHandles"))||void 0===t||t.destroy())}},{key:"handles",get:function(){return this._get("handles")||new u.Z}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new h.t}}]),r}(e);return(0,o._)([(0,c.Cb)({readOnly:!0})],t.prototype,"handles",null),(0,o._)([(0,c.Cb)({readOnly:!0})],t.prototype,"updatingHandles",null),t=(0,o._)([(0,d.j)("esri.core.HandleOwner")],t),t},y=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r)}(p(l.Z));y=(0,o._)([(0,d.j)("esri.core.HandleOwner")],y)},16054:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(15671),i=r(43144),a=r(18759),s=function(){function e(t,r){(0,n.Z)(this,e),this._storage=new a.WJ,this._storage.maxSize=t,r&&this._storage.registerRemoveFunc("",r)}return(0,i.Z)(e,[{key:"put",value:function(e,t,r){this._storage.put(e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(e)}},{key:"get",value:function(e){return this._storage.get(e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}}]),e}()},43e3:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(37762),i=r(15671),a=r(43144),s=r(92026),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.values().next().value};(0,i.Z)(this,e),this._peeker=t,this._items=new Set}return(0,a.Z)(e,[{key:"length",get:function(){return this._items.size}},{key:"clear",value:function(){this._items.clear()}},{key:"last",value:function(){if(0!==this._items.size){var e,t,r=(0,n.Z)(this._items);try{for(r.s();!(t=r.n()).done;)e=t.value}catch(i){r.e(i)}finally{r.f()}return e}}},{key:"peek",value:function(){if(0!==this._items.size)return this._peeker(this._items)}},{key:"push",value:function(e){this.contains(e)||this._items.add(e)}},{key:"contains",value:function(e){return this._items.has(e)}},{key:"pop",value:function(){if(0!==this.length){var e=this.peek();return this._items.delete((0,s.j0)(e)),e}}},{key:"popLast",value:function(){if(0!==this.length){var e=this.last();return this._items.delete((0,s.j0)(e)),e}}},{key:"remove",value:function(e){this._items.delete(e)}},{key:"filter",value:function(e){var t=this;return this._items.forEach((function(r){e(r)||t._items.delete(r)})),this}}]),e}()},61826:function(e,t,r){r.d(t,{t:function(){return v}});var n=r(15671),i=r(43144),a=r(60136),s=r(92572),o=r(27366),l=r(31319),u=r(100),c=r(92026),d=r(94172),h=r(99346),p=r(49861),y=r(69912),v=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).updating=!1,e._handleId=0,e._handles=new u.Z,e._scheduleHandleId=0,e._pendingPromises=new Set,e}return(0,i.Z)(r,[{key:"destroy",value:function(){this.removeAll(),this._handles.destroy()}},{key:"add",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,d.YP)}},{key:"addWhen",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._installWatch(e,t,r,d.gx)}},{key:"addOnCollectionChange",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.initial,a=void 0!==i&&i,s=n.final,o=void 0!==s&&s,l=++this._handleId;return this._handles.add([(0,d.on)(e,"after-changes",this._createSyncUpdatingCallback(),d.Z_),(0,d.on)(e,"change",t,{onListenerAdd:a?function(e){return t({added:e.toArray(),removed:[]})}:void 0,onListenerRemove:o?function(e){return t({added:[],removed:e.toArray()})}:void 0})],l),{remove:function(){return r._handles.remove(l)}}}},{key:"addPromise",value:function(e){var t=this;if((0,c.Wi)(e))return e;var r=++this._handleId;this._handles.add({remove:function(){t._pendingPromises.delete(e)&&(0!==t._pendingPromises.size||t._handles.has(f)||t._set("updating",!1))}},r),this._pendingPromises.add(e),this._set("updating",!0);var n=function(){return t._handles.remove(r)};return e.then(n,n),e}},{key:"removeAll",value:function(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}},{key:"_installWatch",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,a);var s=i(e,t,n);return this._handles.add(s,a),{remove:function(){return r._handles.remove(a)}}}},{key:"_installSyncUpdatingWatch",value:function(e,t){var r=this._createSyncUpdatingCallback(),n=(0,d.YP)(e,r,{sync:!0,equals:function(){return!1}});return this._handles.add(n,t),n}},{key:"_createSyncUpdatingCallback",value:function(){var e=this;return function(){e._handles.remove(f),++e._scheduleHandleId;var t=e._scheduleHandleId;e._get("updating")||e._set("updating",!0),e._handles.add((0,h.Os)((function(){t===e._scheduleHandleId&&(e._set("updating",e._pendingPromises.size>0),e._handles.remove(f))})),f)}}}]),r}(l.Z);(0,o._)([(0,p.Cb)({readOnly:!0})],v.prototype,"updating",void 0),v=(0,o._)([(0,y.j)("esri.core.support.WatchUpdatingTracking")],v);var f=-42},86710:function(e,t,r){r.d(t,{JE:function(){return s},Nm:function(){return a},rJ:function(){return o}});r(93169);var n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function a(e,t,r){var n=new Date(e.getTime());if(t&&r){var a=i[r],s=a.getter,o=a.setter,l=a.multiplier;if("months"===r){var u=function(e,t){var r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}(n.getFullYear(),n.getMonth()+t);n.getDate()>u&&n.setDate(u)}n[o](n[s]()+t*l)}return n}function s(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function o(e,t,r){return 0===e?0:e*n[t]/n[r]}},46798:function(e,t,r){r.d(t,{q:function(){return p}});var n=r(37762),i=r(1413),a=r(15671),s=r(43144),o=r(63780),l=r(42537),u=r(32718),c=r(92026),d=r(66978),h=r(31009),p=function(){function e(t,r,s,o){var l=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,a.Z)(this,e),this._mainMethod=r,this._transferLists=s,this._listeners=[],this._promise=(0,h.bA)(t,(0,i.Z)((0,i.Z)({},c),{},{schedule:o})).then((function(e){if(void 0===l._thread){l._thread=e,l._promise=null,c.hasInitialize&&l.broadcast({},"initialize");var t,r=(0,n.Z)(l._listeners);try{for(r.s();!(t=r.n()).done;){var i=t.value;l._connectListener(i)}}catch(a){r.e(a)}finally{r.f()}}else e.close()})),this._promise.catch((function(e){return u.Z.getLogger("esri.core.workers.WorkerHandle").error("Failed to initialize ".concat(t," worker: ").concat(e))}))}return(0,s.Z)(e,[{key:"on",value:function(e,t){var r=this,n={removed:!1,eventName:e,callback:t,threadHandle:null};return this._listeners.push(n),this._connectListener(n),(0,l.kB)((function(){n.removed=!0,(0,o.Od)(r._listeners,n),r._thread&&(0,c.pC)(n.threadHandle)&&n.threadHandle.remove()}))}},{key:"destroy",value:function(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}},{key:"invoke",value:function(e,t){return this.invokeMethod(this._mainMethod,e,t)}},{key:"invokeMethod",value:function(e,t,r){var n=this;if(this._thread){var i=this._transferLists[e],a=i?i(t):[];return this._thread.invoke(e,t,{transferList:a,signal:r})}return this._promise?this._promise.then((function(){return(0,d.k_)(r),n.invokeMethod(e,t,r)})):Promise.reject(null)}},{key:"broadcast",value:function(e,t){var r=this;return this._thread?Promise.all(this._thread.broadcast(t,e)).then((function(){})):this._promise?this._promise.then((function(){return r.broadcast(e,t)})):Promise.reject()}},{key:"promise",get:function(){return this._promise}},{key:"_connectListener",value:function(e){this._thread&&this._thread.on(e.eventName,e.callback).then((function(t){e.removed||(e.threadHandle=t)}))}}]),e}()},90724:function(e,t,r){r.d(t,{Z:function(){return Z}});var n,i=r(1413),a=r(15671),s=r(43144),o=r(11752),l=r(61120),u=r(60136),c=r(92572),d=r(27366),h=r(63780),p=r(43404),y=r(46784),v=r(68860),f=r(51370),g=r(49861),m=(r(25243),r(38511)),_=r(69912),w=r(31201),S=(0,p.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),k=S.jsonValues.slice();(0,h.e$)(k,"orthometric");var b=(0,p.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),L=n=function(e){(0,u.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).heightModel="gravity-related-height",n.heightUnit="meters",n.vertCRS=null,n}return(0,s.Z)(r,[{key:"writeHeightModel",value:function(e,t,r){return S.write(e,t,r)}},{key:"readHeightModel",value:function(e,t,r){return S.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new f.Z("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:r})),null)}},{key:"readHeightUnit",value:function(e,t,r){return b.read(e)||(r&&r.messages&&r.messages.push(C(e,{context:r})),null)}},{key:"readHeightUnitService",value:function(e,t,r){return(0,v.$C)(e)||b.read(e)||(r&&r.messages&&r.messages.push(C(e,{context:r})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=(0,i.Z)({origin:"web-scene"},t),(0,o.Z)((0,l.Z)(r.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var r=(0,v.cM)(t);return new n({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new n;return t.read(e,{origin:"web-scene"}),t}}]),r}(y.wq);function C(e,t){return new f.Z("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}(0,d._)([(0,g.Cb)({type:S.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:k,default:"ellipsoidal"}}}})],L.prototype,"heightModel",void 0),(0,d._)([(0,w.c)("web-scene","heightModel")],L.prototype,"writeHeightModel",null),(0,d._)([(0,m.r)(["web-scene","service"],"heightModel")],L.prototype,"readHeightModel",null),(0,d._)([(0,g.Cb)({type:b.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b.jsonValues,write:b.write}}}})],L.prototype,"heightUnit",void 0),(0,d._)([(0,m.r)("web-scene","heightUnit")],L.prototype,"readHeightUnit",null),(0,d._)([(0,m.r)("service","heightUnit")],L.prototype,"readHeightUnitService",null),(0,d._)([(0,g.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],L.prototype,"vertCRS",void 0),(0,d._)([(0,m.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],L.prototype,"readVertCRS",null);var Z=L=n=(0,d._)([(0,_.j)("esri.geometry.HeightModelInfo")],L)},42785:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(74165),i=r(15861),a=r(1413),s=r(15671),o=r(43144),l=r(60136),u=r(92572),c=r(27366),d=r(76200),h=r(10064),p=r(92026),y=r(97642),v=r(66978),f=r(35995),g=r(49861),m=(r(25243),r(63780),r(38511)),_=r(69912),w=r(90724),S=r(30651),k=r(17775),b=r(11936),L=r(6061),C=r(29598),Z=r(61289),T=r(48932),M=r(41665),I=function(e){(0,l.Z)(c,e);var t=(0,u.Z)(c);function c(){var e;(0,s.Z)(this,c);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).copyright=null,e.heightModelInfo=null,e.path=null,e.minScale=void 0,e.maxScale=void 0,e.opacity=1,e.operationalLayerType="ArcGISTiledElevationServiceLayer",e.sourceJSON=null,e.type="elevation",e.url=null,e.version=null,e._lercDecoder=(0,M.w)(),e}return(0,o.Z)(c,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,a.Z)({url:e},t):e}},{key:"destroy",value:function(){this._lercDecoder=(0,p.RY)(this._lercDecoder)}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=9.3),r}},{key:"load",value:function(e){var t=this,r=(0,p.pC)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"],supportsData:!1,validateItem:function(e){for(var t=0;t<e.typeKeywords.length;t++)if("elevation 3d layer"===e.typeKeywords[t].toLowerCase())return!0;throw new h.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}' ",{type:"Image Service",expectedType:"Image Service Elevation 3D Layer"})}},e).catch(v.r9).then((function(){return t._fetchImageService(r)}))),Promise.resolve(this)}},{key:"fetchTile",value:function(e,t,r,n){var i=this,a=(0,p.pC)((n=n||{signal:null}).signal)?n.signal:n.signal=(new AbortController).signal,s={responseType:"array-buffer",signal:a},o={noDataValue:n.noDataValue,returnFileInfo:!0};return this.load().then((function(){return i._fetchTileAvailability(e,t,r,n)})).then((function(){return(0,d.default)(i.getTileUrl(e,t,r),s)})).then((function(e){return i._lercDecoder.decode(e.data,o,a)})).then((function(e){return new T.v(e)}))}},{key:"getTileUrl",value:function(e,t,r){var n=!this.tilemapCache&&this.supportsBlankTile,i=(0,f.B7)((0,a.Z)((0,a.Z)({},this.parsedUrl.query),{},{blankTile:!n&&null}));return"".concat(this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(r).concat(i?"?"+i:"")}},{key:"queryElevation",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,i){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(67165).then(r.bind(r,67165));case 2:return a=e.sent,s=a.ElevationQuery,(0,v.k_)(i),e.abrupt("return",(new s).query(this,t,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createElevationSampler",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,i){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(67165).then(r.bind(r,67165));case 2:return a=e.sent,s=a.ElevationQuery,(0,v.k_)(i),e.abrupt("return",(new s).createSampler(this,t,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_fetchTileAvailability",value:function(e,t,r,n){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,t,r,n):Promise.resolve("unknown")}},{key:"_fetchImageService",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.sourceJSON){e.next=2;break}return e.abrupt("return",this.sourceJSON);case 2:return i={query:(0,a.Z)({f:"json"},this.parsedUrl.query),responseType:"json",signal:t},e.next=5,(0,d.default)(this.parsedUrl.path,i);case 5:(s=e.sent).ssl&&(this.url=null===(r=this.url)||void 0===r?void 0:r.replace(/^http:/i,"https:")),this.sourceJSON=s.data,this.read(s.data,{origin:"service",url:this.parsedUrl});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasOverriddenFetchTile",get:function(){return!this.fetchTile.__isDefault__}}]),c}((0,k.Z)((0,b.Y)((0,L.q)((0,C.I)((0,y.R)(S.Z))))));(0,c._)([(0,g.Cb)({json:{read:{source:"copyrightText"}}})],I.prototype,"copyright",void 0),(0,c._)([(0,g.Cb)({readOnly:!0,type:w.Z})],I.prototype,"heightModelInfo",void 0),(0,c._)([(0,g.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],I.prototype,"path",void 0),(0,c._)([(0,g.Cb)({type:["show","hide"]})],I.prototype,"listMode",void 0),(0,c._)([(0,g.Cb)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}},readOnly:!0})],I.prototype,"minScale",void 0),(0,c._)([(0,g.Cb)({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}},readOnly:!0})],I.prototype,"maxScale",void 0),(0,c._)([(0,g.Cb)({json:{read:!1,write:!1,origins:{"web-document":{read:!1,write:!1}}}})],I.prototype,"opacity",void 0),(0,c._)([(0,g.Cb)({type:["ArcGISTiledElevationServiceLayer"]})],I.prototype,"operationalLayerType",void 0),(0,c._)([(0,g.Cb)()],I.prototype,"sourceJSON",void 0),(0,c._)([(0,g.Cb)({json:{read:!1},value:"elevation",readOnly:!0})],I.prototype,"type",void 0),(0,c._)([(0,g.Cb)(Z.HQ)],I.prototype,"url",void 0),(0,c._)([(0,g.Cb)()],I.prototype,"version",void 0),(0,c._)([(0,m.r)("version",["currentVersion"])],I.prototype,"readVersion",null),(I=(0,c._)([(0,_.j)("esri.layers.ElevationLayer")],I)).prototype.fetchTile.__isDefault__=!0;var D=I},17775:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(15671),i=r(43144),a=r(60136),s=r(92572),o=r(27366),l=(r(59486),r(49861)),u=(r(25243),r(63780),r(38511)),c=r(69912),d=r(71466),h=r(23638),p=r(78952),y=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).copyright=null,e.minScale=0,e.maxScale=0,e.spatialReference=null,e.tileInfo=null,e.tilemapCache=null,e}return(0,i.Z)(r,[{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"supportsBlankTile",get:function(){return this.version>=10.2}},{key:"readTilemapCache",value:function(e,t){return t.capabilities&&t.capabilities.includes("Tilemap")?new h.y({layer:this}):null}}]),r}(e);return(0,o._)([(0,l.Cb)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,o._)([(0,l.Cb)()],t.prototype,"minScale",void 0),(0,o._)([(0,u.r)("service","minScale")],t.prototype,"readMinScale",null),(0,o._)([(0,l.Cb)()],t.prototype,"maxScale",void 0),(0,o._)([(0,u.r)("service","maxScale")],t.prototype,"readMaxScale",null),(0,o._)([(0,l.Cb)({type:p.Z})],t.prototype,"spatialReference",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,o._)([(0,l.Cb)(d.h)],t.prototype,"tileInfo",void 0),(0,o._)([(0,l.Cb)()],t.prototype,"tilemapCache",void 0),(0,o._)([(0,u.r)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),(0,o._)([(0,l.Cb)()],t.prototype,"version",void 0),t=(0,o._)([(0,c.j)("esri.layers.mixins.ArcGISCachedService")],t)}},11936:function(e,t,r){r.d(t,{Y:function(){return p}});var n=r(15671),i=r(43144),a=r(60136),s=r(92572),o=r(27366),l=r(32718),u=r(92026),c=r(49861),d=(r(25243),r(63780),r(69912)),h=r(25899),p=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){var e=(0,h.Qc)(this.url);if((0,u.pC)(e)&&e.title)return e.title}return this._get("title")||""},set:function(e){this._set("title",e)}},{key:"url",set:function(e){this._set("url",(0,h.Nm)(e,l.Z.getLogger(this.declaredClass)))}}]),r}(e);return(0,o._)([(0,c.Cb)()],t.prototype,"title",null),(0,o._)([(0,c.Cb)({type:String})],t.prototype,"url",null),t=(0,o._)([(0,d.j)("esri.layers.mixins.ArcGISService")],t)}},6061:function(e,t,r){r.d(t,{q:function(){return w}});var n=r(1413),i=r(15671),a=r(43144),s=r(11752),o=r(61120),l=r(60136),u=r(92572),c=r(27366),d=r(10064),h=r(35995),p=r(49861),y=(r(25243),r(63780),r(69912)),v=r(31201),f=r(92562),g=r(18987),m={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}},_=r(61289),w=function(e){var t=function(e){(0,l.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).title=null,e}return(0,a.Z)(r,[{key:"writeListMode",value:function(e,t,r,n){(n&&"ground"===n.layerContainerType||e&&(0,g.d)(this,r,{},n))&&(t[r]=e)}},{key:"writeOperationalLayerType",value:function(e,t,r,n){!e||n&&"tables"===n.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=null!==e&&void 0!==e?e:"Layer"}},{key:"read",value:function(e,t){var n=this;t&&(t.layer=this),(0,f.$)(this,e,(function(t){return(0,s.Z)((0,o.Z)(r.prototype),"read",n).call(n,e,t)}),t)}},{key:"write",value:function(e,t){var i;if(null!==t&&void 0!==t&&t.origin){var a,l="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),u=m[l],c=u&&u[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===l&&(c=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===l&&(c=!1),!c)return null!==(a=t.messages)&&void 0!==a&&a.push(new d.Z("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(l,"'"),{layer:this})),null}var p=(0,s.Z)((0,o.Z)(r.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this})),y=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof d.Z&&"web-document-write:property-required"===e.name})).length;return(0,h.jc)(null===p||void 0===p?void 0:p.url)?(null!==t&&void 0!==t&&null!==(i=t.messages)&&void 0!==i&&i.push(new d.Z("layer:invalid-url","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Blob URL cannot be written to web scenes and web maps"),{layer:this})),null):!this.url&&y?null:p}},{key:"beforeSave",value:function(){}}]),r}(e);return(0,c._)([(0,p.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,c._)([(0,p.Cb)(_.rT)],t.prototype,"listMode",void 0),(0,c._)([(0,v.c)("listMode")],t.prototype,"writeListMode",null),(0,c._)([(0,p.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),(0,c._)([(0,v.c)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,c._)([(0,p.Cb)(_.Oh)],t.prototype,"opacity",void 0),(0,c._)([(0,p.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,c._)([(0,v.c)("title"),(0,v.c)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,c._)([(0,p.Cb)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=(0,c._)([(0,y.j)("esri.layers.mixins.OperationalLayer")],t)}},48932:function(e,t,r){r.d(t,{v:function(){return o}});var n=r(37762),i=r(15671),a=r(43144),s=r(92026),o=function(){function e(t,r,n,a){(0,i.Z)(this,e),this._hasNoDataValues=null,this._minValue=null,this._maxValue=null,"pixelData"in t?(this.values=t.pixelData,this.width=t.width,this.height=t.height,this.noDataValue=t.noDataValue):(this.values=t,this.width=r,this.height=n,this.noDataValue=a)}return(0,a.Z)(e,[{key:"hasNoDataValues",get:function(){if((0,s.Wi)(this._hasNoDataValues)){var e=this.noDataValue;this._hasNoDataValues=this.values.includes(e)}return this._hasNoDataValues}},{key:"minValue",get:function(){return this._ensureBounds(),(0,s.Wg)(this._minValue)}},{key:"maxValue",get:function(){return this._ensureBounds(),(0,s.Wg)(this._maxValue)}},{key:"_ensureBounds",value:function(){if(!(0,s.pC)(this._minValue)){var e,t=this.noDataValue,r=this.values,i=1/0,a=-1/0,o=!0,l=(0,n.Z)(r);try{for(l.s();!(e=l.n()).done;){var u=e.value;u===t?this._hasNoDataValues=!0:(i=u<i?u:i,a=u>a?u:a,o=!1)}}catch(c){l.e(c)}finally{l.f()}o?(this._minValue=0,this._maxValue=0):(this._minValue=i,this._maxValue=a>-3e38?a:0)}}}]),e}()},41665:function(e,t,r){r.d(t,{w:function(){return c}});var n=r(15671),i=r(43144),a=r(60136),s=r(92572),o=r(92026),l=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,n.Z)(this,r),(e=t.call(this,"LercWorker","_decode",{_decode:function(e){return[e.buffer]}},i,{strategy:"dedicated"})).schedule=i,e.ref=0,e}return(0,i.Z)(r,[{key:"decode",value:function(e,t,r){return e&&0!==e.byteLength?this.invoke({buffer:e,options:t},r):Promise.resolve(null)}},{key:"release",value:function(){var e=this;--this.ref<=0&&(u.forEach((function(t,r){t===e&&u.delete(r)})),this.destroy())}}]),r}(r(46798).q),u=new Map;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=u.get((0,o.Wg)(e));return t||((0,o.pC)(e)?(t=new l((function(t){return e.immediate.schedule(t)})),u.set(e,t)):(t=new l,u.set(null,t))),++t.ref,t}}}]);
//# sourceMappingURL=65941.fe091827.chunk.js.map