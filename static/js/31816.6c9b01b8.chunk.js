"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[31816],{31816:function(e,n,t){t.r(n),t.d(n,{arcgis_hub_image:function(){return h}});var i=t(15671),r=t(43144),o=t(72585),s=t(32836),a=t(96728),u={rootMargin:"10%"},c=function(){function e(){(0,i.Z)(this,e),this.intersectionObserver=new IntersectionObserver(this.onEnteredViewport.bind(this),u),this.handlers=new WeakMap}return(0,r.Z)(e,[{key:"addHandler",value:function(e,n){this.handlers.has(e)||(this.handlers.set(e,[]),this.intersectionObserver.observe(e));var t=this.handlers.get(e);t.includes(n)||t.push(n)}},{key:"removeHandler",value:function(e,n){if(this.handlers.has(e)){var t=this.handlers.get(e),i=t.indexOf(n),r=t.filter((function(e,n){return n!==i}));r.length?this.handlers.set(e,r):(this.handlers.delete(e),this.intersectionObserver.unobserve(e))}}},{key:"unobserve",value:function(e){this.handlers.has(e)&&(this.handlers.delete(e),this.intersectionObserver.unobserve(e))}},{key:"onEnteredViewport",value:function(e){var n=this;requestAnimationFrame((function(t){e.forEach((function(e){var t;e.isIntersecting&&(null!==(t=n.handlers.get(e.target))&&void 0!==t?t:[]).forEach((function(e){return e()}))}))}))}}],[{key:"create",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"addHandler",value:function(e,n){this.create(),this.instance.addHandler(e,n)}},{key:"removeHandler",value:function(e,n){this.instance&&this.instance.removeHandler(e,n)}},{key:"unobserve",value:function(e){this.instance&&this.instance.unobserve(e)}}]),e}(),h=function(){function e(n){(0,i.Z)(this,e),(0,o.r)(this,n),this.lazy=!1,this.corners=a.C.square,this.hasError=!1,this.inViewport=!1,(0,s.b)(this,"setImageEl","handleIntersection")}return(0,r.Z)(e,[{key:"_imageUrl",get:function(){var e=this.src;return this.src||(e=this.fallback),this.hasError&&(e=this.fallback),this.lazy&&!this.inViewport&&(e=void 0),e}},{key:"componentWillLoad",value:function(){this.lazy&&this.observe()}},{key:"disconnectedCallback",value:function(){this.lazy&&this.unobserve()}},{key:"observe",value:function(){c.addHandler(this.element,this.handleIntersection)}},{key:"unobserve",value:function(){c.unobserve(this.element)}},{key:"handleIntersection",value:function(){this.inViewport=!0,this.unobserve()}},{key:"setImageEl",value:function(e){this.imageEl=e}},{key:"componentDidRender",value:function(){var e=this;if(this.imageEl){this.imageEl.addEventListener("error",(function n(){e.hasError=!0,e.imageEl.removeEventListener("error",n)}))}}},{key:"renderImage",value:function(){return this._imageUrl&&(0,o.h)("img",{alt:this.alt,class:{"rounded-corners":this.corners===a.C.round},ref:this.setImageEl,src:this._imageUrl})}},{key:"render",value:function(){return(0,o.h)(o.H,{"data-element":"image"},this.renderImage())}},{key:"element",get:function(){return(0,o.g)(this)}}]),e}();h.style=":host{display:block;width:100%}:host(.group-thumbnail)>img{display:block;aspect-ratio:200 / 133;-o-object-fit:cover;object-fit:cover}img{display:block;width:100%}.rounded-corners{border-radius:0.75rem}"},32836:function(e,n,t){t.d(n,{b:function(){return i}});var i=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];t.forEach((function(n){if("function"!==typeof e[n])throw new Error("Cannot bind context. ".concat(n," must be a function"));e[n]=e[n].bind(e)}))}},96728:function(e,n,t){var i,r,o,s,a,u,c;t.d(n,{A:function(){return i},C:function(){return r},D:function(){return o},I:function(){return c},L:function(){return s},U:function(){return a},V:function(){return u}}),function(e){e.start="start",e.center="center",e.end="end"}(i||(i={})),function(e){e.square="square",e.round="round"}(r||(r={})),function(e){e.none="none",e.low="low",e.medium="medium",e.heavy="heavy"}(o||(o={})),function(e){e.simple="simple",e.dataViz="dataViz",e.moreInfo="moreInfo"}(s||(s={})),function(e){e.before="before",e.after="after",e.below="below"}(a||(a={})),function(e){e.none="none",e.sparkline="sparkline",e.icon="icon",e.logo="logo"}(u||(u={})),function(e){e.thumbnail="thumbnail",e.icon="icon"}(c||(c={}))}}]);
//# sourceMappingURL=31816.6c9b01b8.chunk.js.map