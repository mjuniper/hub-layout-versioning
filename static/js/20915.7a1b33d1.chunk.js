"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[20915],{20915:function(e,t,n){n.r(t),n.d(t,{arcgis_hub_gallery_picker:function(){return h}});var i=n(74165),r=n(15861),l=n(15671),c=n(43144),o=n(72585),a=n(12868),u=n(32836),s=n(25434),h=(n(84371),function(){function e(t){(0,l.Z)(this,e),(0,o.r)(this,t),this.arcgisHubGalleryPickerSelectionUpdate=(0,o.c)(this,"arcgisHubGalleryPickerSelectionUpdate",7),this.arcgisHubGalleryPickerClose=(0,o.c)(this,"arcgisHubGalleryPickerClose",7),this.open=!1,this.limit=100,this.showSelection=!1,this.currentSelection={},this.count=0,(0,u.b)(this,"handleGalleryPickerOpen","handleGalleryPickerClose","handleGalleryPickerAdd")}return(0,c.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent,this.gallerySelection&&(this.count=(0,s.f)(Object.values(this.gallerySelection)).length);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleHubGallerySelect",value:function(e){e.preventDefault(),this.currentSelection=e.detail,this.count=(0,s.f)(Object.values(this.currentSelection)).length}},{key:"handleGalleryPickerClose",value:function(e){e.preventDefault(),this.open=!1,this.arcgisHubGalleryPickerClose.emit()}},{key:"handleGalleryPickerOpen",value:function(e){e.preventDefault(),this.open=!0}},{key:"handleGalleryPickerAdd",value:function(e){e.preventDefault(),this.open=!1,this.gallerySelection=(0,s.c)(this.currentSelection),this.arcgisHubGalleryPickerSelectionUpdate.emit(this.gallerySelection),this.arcgisHubGalleryPickerClose.emit()}},{key:"render",value:function(){return this.open?(0,o.h)(o.H,{"data-element":"gallery-picker"},(0,o.h)("calcite-modal",{"data-element":"modal",onCalciteModalClose:this.handleGalleryPickerClose,onCalciteModalOpen:this.handleGalleryPickerOpen,open:this.open},(0,o.h)("div",{slot:"header"},this.modalTitle),(0,o.h)("div",{slot:"content"},(0,o.h)("arcgis-hub-catalog",{catalogs:this.catalogs,context:this.context,facets:this.facets,gallerySelection:this.gallerySelection,selectable:!0,showSelection:this.showSelection,showThumbnail:!1})),(0,o.h)("div",{class:this.count>this.limit?"warning":"",slot:"back"},(0,o.h)("calcite-label",null,this.intl.t("selected",{count:this.count,limit:this.limit}))),(0,o.h)("calcite-button",{appearance:"outline",onClick:this.handleGalleryPickerClose,slot:"secondary",width:"full"},this.intl.t("cancel")),(0,o.h)("calcite-button",{disabled:this.count>this.limit,onClick:this.handleGalleryPickerAdd,slot:"primary",width:"full"},this.intl.t("add")))):void 0}},{key:"element",get:function(){return(0,o.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}());h.style=':host{display:block}[slot="back"]{display:flex;align-items:baseline;border-radius:0.25rem;padding:0.5rem;background-color:var(--calcite-ui-foreground-current);--calcite-label-margin-bottom:0;--calcite-ui-text-1:var(--calcite-ui-text-1)}.warning{background-color:var(--calcite-ui-danger-hover)}'},32836:function(e,t,n){n.d(t,{b:function(){return i}});var i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){if("function"!==typeof e[t])throw new Error("Cannot bind context. ".concat(t," must be a function"));e[t]=e[t].bind(e)}))}},62254:function(e,t,n){function i(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:void 0}),e)}n.d(t,{g:function(){return i}})},25434:function(e,t,n){n.d(t,{a:function(){return o},b:function(){return s},c:function(){return r},d:function(){return u},e:function(){return d},f:function(){return p},g:function(){return l},i:function(){return f},m:function(){return a},u:function(){return h},w:function(){return c}});var i=n(62254);function r(e){var t={};if(Array.isArray(e))t=e.map(r);else if("object"===typeof e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&"object"===typeof i?i instanceof Date?t[n]=new Date(i.getTime()):"undefined"!==typeof Blob&&i instanceof Blob?t[n]=new Blob([i],{type:i.type}):t[n]=r(i):t[n]=i}}else t=e;return t}function l(e,t,n){return e?e.reduce((function(e,r){return(0,i.g)(r,t)===n&&(e=r),e}),null):null}function c(e,t){return e.filter((function(e){return e!==t}))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"i";return"".concat(e).concat(Math.random().toString(36).substr(2,8))}function a(e,t,n){return null!==t&&void 0!==t&&((n=r(n))[e]=t),n}function u(e,t){return null!==e&&void 0!==e&&(t=r(t)).push(e),t}function s(e){return(e=(e=e.toLowerCase()).replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi," ")).replace(/(\-|\_|\.|\s)+(.)?/g,(function(e,t,n){return n?n.toUpperCase():""})).replace(/(^|\/)([A-Z])/g,(function(e,t,n){return e.toLowerCase()}))}function h(e,t,n){return n.indexOf(e)===t}var f=function(e){return null==e},d=function(e){var t=Array.from(e);return t[0]=t[0].toUpperCase(),t.join("")};function p(e){return e.reduce((function(e,t){return e.concat(t)}),[])}}}]);
//# sourceMappingURL=20915.7a1b33d1.chunk.js.map