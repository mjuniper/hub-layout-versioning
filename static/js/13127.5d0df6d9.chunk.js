"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[13127,65905],{62044:function(e,t,r){r.d(t,{Z:function(){return b}});var n,i=r(15671),a=r(43144),l=r(60136),o=r(92572),s=r(27366),u=r(46784),c=r(92026),y=r(86710),d=r(49861),p=(r(25243),r(63780),r(38511)),f=r(69912),v=r(31201),h=n=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).end=null,n.start=null,n}return(0,a.Z)(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(n.allTime)}},{key:"isEmpty",get:function(){return this.equals(n.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new n({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=(0,c.pC)(this.start)?this.start.getTime():this.start,r=(0,c.pC)(this.end)?this.end.getTime():this.end,n=(0,c.pC)(e.start)?e.start.getTime():e.start,i=(0,c.pC)(e.end)?e.end.getTime():e.end;return t===n&&r===i}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=(0,c.yw)(this.start,(function(t){return(0,y.JE)(t,e)})),r=(0,c.yw)(this.end,(function(t){var r=(0,y.JE)(t,e);return t.getTime()===r.getTime()?r:(0,y.Nm)(r,1,e)}));return new n({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,i=(0,c.R2)(this.start,-1/0,(function(e){return e.getTime()})),a=(0,c.R2)(this.end,1/0,(function(e){return e.getTime()})),l=(0,c.R2)(e.start,-1/0,(function(e){return e.getTime()})),o=(0,c.R2)(e.end,1/0,(function(e){return e.getTime()}));if(l>=i&&l<=a?t=l:i>=l&&i<=o&&(t=i),a>=l&&a<=o?r=a:o>=i&&o<=a&&(r=o),null!=t&&null!=r&&!isNaN(t)&&!isNaN(r)){var s=new n;return s.start=t===-1/0?null:new Date(t),s.end=r===1/0?null:new Date(r),s}return n.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new n,i=this.start,a=this.end;return(0,c.pC)(i)&&(r.start=(0,y.Nm)(i,e,t)),(0,c.pC)(a)&&(r.end=(0,y.Nm)(a,e,t)),r}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return g.clone();var t=(0,c.pC)(this.start)&&(0,c.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=(0,c.pC)(this.end)&&(0,c.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}}],[{key:"allTime",get:function(){return g}},{key:"empty",get:function(){return m}}]),r}(u.wq);(0,s._)([(0,d.Cb)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"end",void 0),(0,s._)([(0,p.r)("end")],h.prototype,"readEnd",null),(0,s._)([(0,v.c)("end")],h.prototype,"writeEnd",null),(0,s._)([(0,d.Cb)({readOnly:!0,json:{read:!1}})],h.prototype,"isAllTime",null),(0,s._)([(0,d.Cb)({readOnly:!0,json:{read:!1}})],h.prototype,"isEmpty",null),(0,s._)([(0,d.Cb)({type:Date,json:{write:{allowNull:!0}}})],h.prototype,"start",void 0),(0,s._)([(0,p.r)("start")],h.prototype,"readStart",null),(0,s._)([(0,v.c)("start")],h.prototype,"writeStart",null);var g=new(h=n=(0,s._)([(0,f.j)("esri.TimeExtent")],h)),m=new h({start:void 0,end:void 0}),b=h},65905:function(e,t,r){r.d(t,{V:function(){return c},b:function(){return u}});var n=r(42265),i=r(76200),a=r(10064),l=r(32718),o=r(35995),s=l.Z.getLogger("esri.assets");function u(e,t){return(0,i.default)(c(e),t)}function c(e){if(!n.Z.assetsPath)throw s.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new a.Z("assets:path-not-set","config.assetsPath is not set");return(0,o.v_)(n.Z.assetsPath,e)}},84397:function(e,t,r){r.d(t,{c:function(){return n},g:function(){return i}});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},77178:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(37762),i=r(15671),a=r(43144),l=r(60136),o=r(92572),s=r(27366),u=r(80987),c=r(92026),y=(r(93169),r(10064),r(32718),r(3073),r(27088)),d=r(49861),p=(r(25243),r(63780),r(69912)),f=function(e){(0,l.Z)(r,e);var t=(0,o.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).getCollections=null,n}return(0,a.Z)(r,[{key:"initialize",value:function(){var e=this;this.own((0,y.EH)((function(){return e._refresh()})))}},{key:"destroy",value:function(){this.getCollections=null}},{key:"_refresh",value:function(){var e=(0,c.pC)(this.getCollections)?this.getCollections():null;if((0,c.Wi)(e))this.removeAll();else{var t,r=0,i=(0,n.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;(0,c.pC)(a)&&(r=this._processCollection(r,a))}}catch(l){i.e(l)}finally{i.f()}this.splice(r,this.length)}}},{key:"_createNewInstance",value:function(e){return new u.Z(e)}},{key:"_processCollection",value:function(e,t){if(!t)return e;var r,i=this.itemFilterFunction?this.itemFilterFunction:function(e){return!!e},a=(0,n.Z)(t);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(l){if(i(l)){var o=this.indexOf(l,e);o>=0?o!==e&&this.reorder(l,e):this.add(l,e),++e}if(this.getChildrenFunction){var s=this.getChildrenFunction(l);if(Array.isArray(s)){var u,c=(0,n.Z)(s);try{for(c.s();!(u=c.n()).done;){var y=u.value;e=this._processCollection(e,y)}}catch(d){c.e(d)}finally{c.f()}}else e=this._processCollection(e,s)}}}}catch(d){a.e(d)}finally{a.f()}return e}}]),r}(u.Z);(0,s._)([(0,d.Cb)()],f.prototype,"getCollections",void 0),(0,s._)([(0,d.Cb)()],f.prototype,"getChildrenFunction",void 0),(0,s._)([(0,d.Cb)()],f.prototype,"itemFilterFunction",void 0);var v=f=(0,s._)([(0,p.j)("esri.core.CollectionFlattener")],f)},93002:function(e,t,r){r.d(t,{G:function(){return c},w:function(){return d}});var n=r(93433),i=r(74165),a=r(15861),l=r(14921),o=r(80987),s=r(54472),u=r(92026);function c(e,t){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",d(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,i.Z)().mark((function e(t,r){var c,y,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],y=function e(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,l=r;a<l.length;a++){var y=l[a];(0,u.Wi)(y)||(Array.isArray(y)?e.apply(void 0,(0,n.Z)(y)):o.Z.isCollection(y)?y.forEach((function(t){return e(t)})):s.Z.isLoadable(y)&&c.push(y))}},r(y),d=null,e.next=5,(0,l.UI)(c,function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.q6)(f(t)?t.loadAll():t.load());case 2:!1!==(r=e.sent).ok||d||(d=r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:if(!d){e.next=7;break}throw d.error;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){return"loadAll"in e&&"function"==typeof e.loadAll}},86710:function(e,t,r){r.d(t,{JE:function(){return l},Nm:function(){return a},rJ:function(){return o}});r(93169);var n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},i={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function a(e,t,r){var n=new Date(e.getTime());if(t&&r){var a=i[r],l=a.getter,o=a.setter,s=a.multiplier;if("months"===r){var u=function(e,t){var r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}(n.getFullYear(),n.getMonth()+t);n.getDate()>u&&n.setDate(u)}n[o](n[l]()+t*s)}return n}function l(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function o(e,t,r){return 0===e?0:e*n[t]/n[r]}},65069:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(74165),i=r(15861),a=r(15671),l=r(43144),o=r(97326),s=r(60136),u=r(92572),c=r(27366),y=r(77178),d=r(93002),p=r(92026),f=r(97642),v=r(94172),h=r(49861),g=(r(25243),r(63780),r(23879)),m=r(69912),b=r(31201),w=r(30651),S=r(6693),L=r(6061),C=r(29598),_=r(56811),Z=r(19610),T=r(30219),M=r(84938),k=r(16791),A=r(41190),I=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e))._visibilityHandles={},n.allLayers=new y.Z({getCollections:function(){return[n.layers]},getChildrenFunction:function(e){return"layers"in e?e.layers:null}}),n.allTables=(0,T.a)((0,o.Z)(n)),n.fullExtent=void 0,n.operationalLayerType="GroupLayer",n.spatialReference=void 0,n.type="group",n}return(0,l.Z)(r,[{key:"initialize",value:function(){var e=this;this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles((0,v.YP)((function(){return e.visible}),this._onVisibilityChange.bind(this),v.Z_))}},{key:"_writeLayers",value:function(e,t,r,n){var i=[];if(!e)return i;e.forEach((function(e){var t=(0,A.Nw)(e,n.webmap?n.webmap.getLayerJSONFromResourceInfo(e):null,n);(0,p.pC)(t)&&t.layerType&&i.push(t)})),t.layers=i}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"],layerModuleTypeMap:Z.T},e)),Promise.resolve(this)}},{key:"loadAll",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.G)(this,(function(e){e(t.layers,t.tables)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"layerAdded",value:function(e){var t=this;e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=(0,v.YP)((function(){return e.visible}),(function(r){return t._onChildVisibilityChange(e,r)}),v.Z_)}},{key:"layerRemoved",value:function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,t){if((0,g.vw)(this).initialized){var r=this.layers,n=r.find((function(e){return e.visible}));switch(e){case"exclusive":r.length&&!n&&((n=r.getItemAt(0)).visible=!0),this._turnOffOtherLayers(n);break;case"inherited":r.forEach((function(e){e.visible=t}))}}}},{key:"_onVisibilityChange",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))}},{key:"_onChildVisibilityChange",value:function(e,t){switch(this.visibilityMode){case"exclusive":t?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case"inherited":e.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}}]),r}((0,S.h)((0,_.M)((0,L.q)((0,C.I)((0,k.Q)((0,M.K)((0,f.R)(w.Z))))))));(0,c._)([(0,h.Cb)({readOnly:!0,dependsOn:[]})],I.prototype,"allLayers",void 0),(0,c._)([(0,h.Cb)({readOnly:!0})],I.prototype,"allTables",void 0),(0,c._)([(0,h.Cb)()],I.prototype,"fullExtent",void 0),(0,c._)([(0,h.Cb)({json:{read:!0,write:!0}})],I.prototype,"blendMode",void 0),(0,c._)([(0,h.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],I.prototype,"layers",void 0),(0,c._)([(0,b.c)("layers")],I.prototype,"_writeLayers",null),(0,c._)([(0,h.Cb)({type:["GroupLayer"]})],I.prototype,"operationalLayerType",void 0),(0,c._)([(0,h.Cb)({json:{origins:{"web-document":{read:!1,write:!1}}}})],I.prototype,"portalItem",null),(0,c._)([(0,h.Cb)()],I.prototype,"spatialReference",void 0),(0,c._)([(0,h.Cb)({json:{read:!1},readOnly:!0,value:"group"})],I.prototype,"type",void 0),(0,c._)([(0,h.Cb)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],I.prototype,"visibilityMode",null);var x=I=(0,c._)([(0,m.j)("esri.layers.GroupLayer")],I)},6693:function(e,t,r){r.d(t,{h:function(){return d}});var n=r(43144),i=r(15671),a=r(60136),l=r(92572),o=r(27366),s=r(49861),u=(r(25243),r(63780),r(69912)),c=r(60676),y={read:{reader:c.ij},write:{allowNull:!0,writer:c.cW}},d=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).blendMode="normal",e.effect=null,e}return(0,n.Z)(r)}(e);return(0,o._)([(0,s.Cb)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),(0,o._)([(0,s.Cb)({json:{read:!1,write:!1,origins:{"web-map":y,"portal-item":y}}})],t.prototype,"effect",void 0),t=(0,o._)([(0,u.j)("esri.layers.mixins.BlendLayer")],t)}},6061:function(e,t,r){r.d(t,{q:function(){return w}});var n=r(1413),i=r(15671),a=r(43144),l=r(11752),o=r(61120),s=r(60136),u=r(92572),c=r(27366),y=r(10064),d=r(35995),p=r(49861),f=(r(25243),r(63780),r(69912)),v=r(31201),h=r(92562),g=r(18987),m={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}},b=r(70361),w=function(e){var t=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).title=null,e}return(0,a.Z)(r,[{key:"writeListMode",value:function(e,t,r,n){(n&&"ground"===n.layerContainerType||e&&(0,g.d)(this,r,{},n))&&(t[r]=e)}},{key:"writeOperationalLayerType",value:function(e,t,r,n){!e||n&&"tables"===n.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=null!==e&&void 0!==e?e:"Layer"}},{key:"read",value:function(e,t){var n=this;t&&(t.layer=this),(0,h.$)(this,e,(function(t){return(0,l.Z)((0,o.Z)(r.prototype),"read",n).call(n,e,t)}),t)}},{key:"write",value:function(e,t){var i;if(null!==t&&void 0!==t&&t.origin){var a,s="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),u=m[s],c=u&&u[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===s&&(c=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===s&&(c=!1),!c)return null!==(a=t.messages)&&void 0!==a&&a.push(new y.Z("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(s,"'"),{layer:this})),null}var p=(0,l.Z)((0,o.Z)(r.prototype),"write",this).call(this,e,(0,n.Z)((0,n.Z)({},t),{},{layer:this})),f=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof y.Z&&"web-document-write:property-required"===e.name})).length;return(0,d.jc)(null===p||void 0===p?void 0:p.url)?(null!==t&&void 0!==t&&null!==(i=t.messages)&&void 0!==i&&i.push(new y.Z("layer:invalid-url","Layer (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' using a Blob URL cannot be written to web scenes and web maps"),{layer:this})),null):!this.url&&f?null:p}},{key:"beforeSave",value:function(){}}]),r}(e);return(0,c._)([(0,p.Cb)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,c._)([(0,p.Cb)(b.rT)],t.prototype,"listMode",void 0),(0,c._)([(0,v.c)("listMode")],t.prototype,"writeListMode",null),(0,c._)([(0,p.Cb)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),(0,c._)([(0,v.c)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,c._)([(0,p.Cb)(b.Oh)],t.prototype,"opacity",void 0),(0,c._)([(0,p.Cb)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,c._)([(0,v.c)("title"),(0,v.c)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,c._)([(0,p.Cb)({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=(0,c._)([(0,f.j)("esri.layers.mixins.OperationalLayer")],t)}},56811:function(e,t,r){r.d(t,{M:function(){return c}});var n=r(15671),i=r(43144),a=r(60136),l=r(92572),o=r(27366),s=r(49861),u=(r(25243),r(63780),r(69912)),c=function(e){var t=function(e){(0,a.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).minScale=0,e.maxScale=0,e}return(0,i.Z)(r,[{key:"effectiveScaleRange",get:function(){var e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);var r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}}]),r}(e);return(0,o._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,o._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,o._)([(0,s.Cb)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,o._)([(0,u.j)("esri.layers.mixins.ScaleRangeLayer")],t)}},84938:function(e,t,r){r.d(t,{K:function(){return m}});var n=r(37762),i=r(15671),a=r(43144),l=r(97326),o=r(60136),s=r(92572),u=r(27366),c=r(80987),y=r(60354),d=r(32718),p=r(66978),f=r(49861),v=(r(25243),r(63780),r(69912)),h=r(30651);function g(e,t,r){var n,i;if(e)for(var a=0,l=e.length;a<l;a++){var o;if((n=e.getItemAt(a))[t]===r)return n;if("group"===(null===(o=n)||void 0===o?void 0:o.type)&&(i=g(n.layers,t,r)))return i}}var m=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];(e=t.call.apply(t,[this].concat(a))).layers=new c.Z;var s=function(e){e.parent&&"remove"in e.parent&&e.parent.remove(e)},u=function(t){t.parent=(0,l.Z)(e),e.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||d.Z.getLogger(e.declaredClass).error("Layer 'title:".concat(t.title,", id:").concat(t.id,"' of type '").concat(t.type,"' is not supported as an operational layer and will therefore be ignored."))},y=function(t){t.parent=null,e.layerRemoved(t)};return e.layers.on("before-add",(function(e){return s(e.item)})),e.layers.on("after-add",(function(e){return u(e.item)})),e.layers.on("after-remove",(function(e){return y(e.item)})),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e,t=this.layers.removeAll(),r=(0,n.Z)(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;this.layerRemoved(i),i.destroy()}}catch(a){r.e(a)}finally{r.f()}this.layers.destroy()}},{key:"layers",set:function(e){this._set("layers",(0,y.Z)(e,this._get("layers")))}},{key:"add",value:function(e,t){var r=this,n=this.layers;if(t=n.getNextIndex(t),e instanceof h.Z){var i=e;i.parent===this?this.reorder(i,t):n.add(i,t)}else(0,p.y8)(e)?e.then((function(e){r.destroyed||r.add(e,t)})):d.Z.getLogger(this.declaredClass).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}},{key:"addMany",value:function(e,t){var r=this,n=this.layers,i=n.getNextIndex(t);e.slice().forEach((function(e){e.parent!==r?(n.add(e,i),i+=1):r.reorder(e,i)}))}},{key:"findLayerById",value:function(e){return g(this.layers,"id",e)}},{key:"findLayerByUid",value:function(e){return g(this.layers,"uid",e)}},{key:"remove",value:function(e){return this.layers.remove(e)}},{key:"removeMany",value:function(e){return this.layers.removeMany(e)}},{key:"removeAll",value:function(){return this.layers.removeAll()}},{key:"reorder",value:function(e,t){return this.layers.reorder(e,t)}},{key:"layerAdded",value:function(e){}},{key:"layerRemoved",value:function(e){}}]),r}(e);return(0,u._)([(0,f.Cb)()],t.prototype,"layers",null),t=(0,u._)([(0,v.j)("esri.support.LayersMixin")],t)}},16791:function(e,t,r){r.d(t,{Q:function(){return h}});var n=r(37762),i=r(15671),a=r(43144),l=r(97326),o=r(60136),s=r(92572),u=r(27366),c=r(80987),y=r(60354),d=r(32718),p=r(49861),f=(r(25243),r(63780),r(69912));function v(e,t,r){if(e)for(var n=0,i=e.length;n<i;n++){var a=e.getItemAt(n);if(a[t]===r)return a;if("group"===(null===a||void 0===a?void 0:a.type)){var l=v(a.tables,t,r);if(l)return l}}}var h=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).tables=new c.Z,e.tables.on("after-add",(function(t){var r=t.item;r.parent&&r.parent!==(0,l.Z)(e)&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=(0,l.Z)(e),"feature"!==r.type&&d.Z.getLogger(e.declaredClass).error("Layer 'title:".concat(r.title,", id:").concat(r.id,"' of type '").concat(r.type,"' is not supported as a table and will therefore be ignored."))})),e.tables.on("after-remove",(function(e){e.item.parent=null})),e}return(0,a.Z)(r,[{key:"destroy",value:function(){var e,t=this.tables.removeAll(),r=(0,n.Z)(t);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(i){r.e(i)}finally{r.f()}this.tables.destroy()}},{key:"tables",set:function(e){this._set("tables",(0,y.Z)(e,this._get("tables")))}},{key:"findTableById",value:function(e){return v(this.tables,"id",e)}},{key:"findTableByUid",value:function(e){return v(this.tables,"uid",e)}}]),r}(e);return(0,u._)([(0,p.Cb)()],t.prototype,"tables",null),t=(0,u._)([(0,f.j)("esri.support.TablesMixin")],t)}},30219:function(e,t,r){r.d(t,{a:function(){return i}});var n=r(77178);function i(e){return new n.Z({getCollections:function(){return[e.tables,e.layers]},getChildrenFunction:function(e){var t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:function(e){var t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}},41190:function(e,t,r){r.d(t,{Nw:function(){return f}});var n=r(10064),i=r(84652),a=r(92026),l=r(18202),o=r(13922),s=r(37933),u=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","media","ogc-feature","route","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function y(e,t){if(t.restrictedWebMapWriting){var r=function(e){return"basemap"===e.layerContainerType?u:"operational-layers"===e.layerContainerType?c:null}(t);return!(0,a.pC)(r)||r.has(e.type)&&!(0,s.rQ)(e)}return!0}function d(e,t){var r,n;"maxScale"in e&&(t.maxScale=null!==(r=(0,o.k)(e.maxScale))&&void 0!==r?r:void 0),"minScale"in e&&(t.minScale=null!==(n=(0,o.k)(e.minScale))&&void 0!==n?n:void 0)}function p(e,t){var r;if(function(e,t){if(t)if((0,s.rQ)(e)){var r=(0,l.hS)("featureCollection.layers",t),n=r&&r[0]&&r[0].layerDefinition;n&&d(e,n)}else"stream"===e.type?d(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&d(e,t)}(e,t),t&&("blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=null!==(r=(0,o.k)(e.opacity))&&void 0!==r?r:void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,s.rQ)(e)){var n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new n.Z("layer:unsupported","Layers (".concat(e.title,", ").concat(e.id,") of type '").concat(e.declaredClass,"' cannot be persisted"),{layer:e})),null;if(y(e,r)){var l={};return e.write(l,r)?l:null}return(0,a.pC)(t)&&p(e,t=(0,i.d9)(t)),t}}}]);
//# sourceMappingURL=13127.5d0df6d9.chunk.js.map