{"version":3,"file":"static/js/23344.392158a5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/views/3d/layers/MapImageLayerView3D.js","../node_modules/@arcgis/core/views/layers/MapImageLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{sqlAnd as i}from\"../../core/sql.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as l}from\"./commonProperties.js\";import{getLayerFloorFilterClause as n}from\"./floorFilterUtils.js\";import{isExportDynamic as y}from\"./sublayerUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&y(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=n(this.floors,r),o=i(s,r.definitionExpression);return t(o)&&(e[r.id]=o),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([o({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([o()],c.prototype,\"floors\",void 0),e([o({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([o()],c.prototype,\"layer\",null),e([o({readOnly:!0})],c.prototype,\"layers\",null),e([o({readOnly:!0})],c.prototype,\"layerDefs\",null),e([o({type:Number})],c.prototype,\"scale\",void 0),e([o(l)],c.prototype,\"timeExtent\",void 0),e([o({readOnly:!0})],c.prototype,\"version\",null),e([o({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([a(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/Error.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./DynamicLayerView3D.js\";import s from\"../../layers/MapImageLayerView.js\";import{MapServiceLayerViewHelper as i}from\"../../layers/support/MapServiceLayerViewHelper.js\";import{createQueryGeometry as p}from\"../../support/drapedUtils.js\";let o=class extends(s(t)){constructor(){super(...arguments),this.type=\"map-image-3d\"}initialize(){this.updatingHandles.add((()=>this.exportImageVersion),(()=>this.updatingHandles.addPromise(this.refreshDebounced()))),this._popupHighlightHelper=new i({createFetchPopupFeaturesQueryGeometry:(e,r)=>p(e,r,this.view),layerView:this,updatingHandles:this.updatingHandles})}destroy(){this._popupHighlightHelper?.destroy()}fetchPopupFeatures(e,r){return this._popupHighlightHelper.fetchPopupFeatures(e,r)}getFetchOptions(){return{timeExtent:this.timeExtent}}};o=e([r(\"esri.views.3d.layers.MapImageLayerView3D\")],o);const a=o;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as o}from\"../../layers/support/commonProperties.js\";import{ExportImageParameters as s}from\"../../layers/support/ExportImageParameters.js\";const p=p=>{let a=class extends p{initialize(){this.exportImageParameters=new s({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get floors(){return this.view?.floors??null}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"floors\"),(this._get(\"exportImageVersion\")||0)+1}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([r()],a.prototype,\"exportImageParameters\",void 0),e([r({readOnly:!0})],a.prototype,\"floors\",null),e([r({readOnly:!0})],a.prototype,\"exportImageVersion\",null),e([r()],a.prototype,\"layer\",void 0),e([r()],a.prototype,\"suspended\",void 0),e([r(o)],a.prototype,\"timeExtent\",void 0),a=e([t(\"esri.views.layers.MapImageLayerView\")],a),a};export{p as default};\n"],"names":["m","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","c","e","floors","scale","this","layer","get","hasDynamicLayers","visibleSublayers","map","r","n","toExportImageJSON","length","JSON","stringify","y","serviceSublayers","gdbVersion","set","_get","_set","handles","remove","add","allSublayers","on","notifyChange","propertyName","id","join","filter","floorInfo","reduce","s","o","i","t","commitProperty","sublayers","forEach","a","unshift","some","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","layers","layerDefs","readOnly","prototype","type","Number","l","arguments","updatingHandles","exportImageVersion","addPromise","refreshDebounced","_popupHighlightHelper","createFetchPopupFeaturesQueryGeometry","p","view","layerView","destroy","fetchPopupFeatures","timeExtent","exportImageParameters","isEmpty"],"sourceRoot":""}