"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[10007],{66848:function(e,t,n){n.d(t,{f:function(){return f},u:function(){return l}});var i=n(74165),r=n(15861),a=n(48103),s=n(16529),c=n(29690),o=n(63326),u=n(35137);function p(){var e=(0,a.g)();return e.push({objectKey:"status",modelKey:"data.status"}),e.push({objectKey:"catalog",modelKey:"data.catalog"}),e.push({objectKey:"permissions",modelKey:"data.permissions"}),e.push({objectKey:"capabilities",modelKey:"data.settings.capabilities"}),e.push({objectKey:"contacts",modelKey:"data.contacts"}),e.push({objectKey:"timeline",modelKey:"data.timeline"}),e}function h(e,t,n){var i,r;n.authentication&&(r=n.authentication.token);return t.thumbnailUrl=(0,c.a)(e.item,n,r),t.createdDate=new Date(e.item.created),t.createdDateSource="item.created",t.updatedDate=new Date(e.item.modified),t.updatedDateSource="item.modified",t.capabilities=(0,a.p)((null===(i=e.data.settings)||void 0===i?void 0:i.capabilities)||{},s.c),t}function l(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((0,i.Z)().mark((function e(t,n){var r,s,c,o,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.b)({slug:t.slug,existingId:t.id},n);case 2:return t.slug=e.sent,e.next=5,(0,a.c)(t.id,n);case 5:return r=e.sent,s=new a.P(p()),c=s.objectToModel(t,r),e.next=10,(0,a.d)(c,n);case 10:return o=e.sent,u=s.modelToObject(o,t),u=h(r,u,n),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return((0,o.i)(e)?(0,u.g)(e,t):(0,a.a)(e,t)).then((function(e){return e?function(e,t){return v.apply(this,arguments)}(e,t):null}))}function v(){return(v=(0,r.Z)((0,i.Z)().mark((function e(t,n){var r,s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.f)(t,n);case 2:return r=e.sent,s=new a.P(p()),c=s.modelToObject(r,{}),e.abrupt("return",h(r,c,n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},16529:function(e,t,n){n.d(t,{I:function(){return s},a:function(){return a},b:function(){return r},c:function(){return i}});var i={overview:!0,details:!0,settings:!0},r=[{entity:"initiative",capability:"overview",permissions:["hub:initiative:view"]},{entity:"initiative",capability:"details",permissions:["hub:initiative:edit"]},{entity:"initiative",capability:"settings",permissions:["hub:initiative:edit"]}],a=["hub:initiative:create","hub:initiative:delete","hub:initiative:edit","hub:initiative:view"],s=[{permission:"hub:initiative:create",subsystems:["projects"],authenticated:!0,privileges:["portal:user:createItem"],licenses:["hub-premium"]},{permission:"hub:initiative:view",subsystems:["projects"],authenticated:!1,licenses:["hub-premium"]},{permission:"hub:initiative:edit",authenticated:!0,subsystems:["projects"],entityEdit:!0,licenses:["hub-premium"]},{permission:"hub:initiative:delete",authenticated:!0,subsystems:["projects"],entityOwner:!0,licenses:["hub-premium"]}]},10007:function(e,t,n){n.r(t),n.d(t,{arcgis_hub_workspace:function(){return l}});var i=n(74165),r=n(15861),a=n(15671),s=n(43144),c=n(5692),o=n(54825),u=n(13129),p=n(51225),h=n(84907),l=(n(7597),n(66848),n(48103),n(25212),n(17684),n(1319),n(67450),n(58669),n(72528),n(35137),n(29398),n(54805),n(27529),n(16529),n(5760),n(76880),n(60415),n(39318),n(47268),n(16063),n(44288),n(8402),function(){function e(t){(0,a.Z)(this,e),(0,c.r)(this,t),this.panel="overview",(0,o.b)(this,"handleWorkspaceNavigationLinkClicked")}return(0,s.Z)(e,[{key:"handleEntityChange",value:function(){this._entity=this.entity}},{key:"fetchEntity",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.entity)||!this.identifier){e.next=9;break}if(this.isLoading=!0,e.t0=this.context,!e.t0){e.next=8;break}return e.next=7,(0,p.f)(this.type,this.identifier,this.context);case 7:e.t0=e.sent;case 8:t=e.t0;case 9:this.isLoading=!this.context,this._entity=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.i.loadIntlForComponent(this.element);case 2:return this.intl=e.sent,e.next=5,this.fetchEntity();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"panelComponent",get:function(){return{overview:"arcgis-hub-entity-overview",details:"arcgis-hub-entity-editor",settings:"arcgis-hub-entity-settings"}[this.panel]||"arcgis-hub-workspace-missing-panel"}},{key:"_type",get:function(){return this.type||(0,h.g)(this.entity)}},{key:"handleWorkspaceNavigationLinkClicked",value:function(e){this.panel=e.detail}},{key:"renderHeader",value:function(){return(0,c.h)("div",{slot:"header"},(0,c.h)("div",{class:"workspace__top-navigation"},"This is a top navigation placeholder"),(0,c.h)("arcgis-hub-workspace-header",{class:"workspace__header",entityName:this._entity.name,type:this._type}))}},{key:"renderNavigation",value:function(){return(0,c.h)("div",{class:"workspace__navigation",slot:"primary-panel"},(0,c.h)("slot",{name:"workspace-navigation"},(0,c.h)("arcgis-hub-workspace-navigation",{context:this.context,entity:this._entity,onArcgisHubWorkspaceNavigationLinkClicked:this.handleWorkspaceNavigationLinkClicked})))}},{key:"renderPanel",value:function(){var e=this.panelComponent;return(0,c.h)("div",{class:"workspace__panel"},(0,c.h)(e,{context:this.context,entity:this._entity,panel:this.panel}))}},{key:"renderFooter",value:function(){return(0,c.h)("div",{class:"workspace__footer",slot:"footer"},"This is a footer placeholder")}},{key:"render",value:function(){return this.isLoading?(0,c.h)("arcgis-skeleton-loader",{active:!0,class:"workspace__loader",rows:3,"show-heading":"true"}):(0,c.h)(c.H,{"data-element":"workspace",unthemed:!0},(0,c.h)("calcite-shell",null,this.renderHeader(),this.renderNavigation(),this.renderPanel(),this.renderFooter()))}},{key:"element",get:function(){return(0,c.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{entity:["handleEntityChange"],context:["fetchEntity"]}}}]),e}());l.style=".sc-arcgis-hub-workspace-h{position:relative;display:block;height:100vh}.workspace__navigation.sc-arcgis-hub-workspace{margin-top:1rem;margin-left:0.5rem;margin-right:2rem}.workspace__panel.sc-arcgis-hub-workspace{height:100%;overflow:auto;background-color:var(--calcite-ui-foreground-2)}.workspace__top-navigation.sc-arcgis-hub-workspace,.workspace__footer.sc-arcgis-hub-workspace{display:flex;height:4rem;align-items:center;justify-content:center;color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-text-2)}"},54825:function(e,t,n){n.d(t,{b:function(){return i}});var i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){if("function"!==typeof e[t])throw new Error("Cannot bind context. ".concat(t," must be a function"));e[t]=e[t].bind(e)}))}},5760:function(e,t,n){n.d(t,{e:function(){return w},f:function(){return m}});var i=n(93433),r=n(74165),a=n(15861),s=n(76880),c=n(48103),o=n(60415),u=n(44288),p=n(12969),h=n(13115),l=n(29690),d=n(28183),f=n(63326),v=n(35137),y=n(8402);function m(e,t){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,f.i)(t)?(0,v.g)(t,n):(0,c.a)(t,n),e.abrupt("return",i.then((function(e){return e?g(e,n):null})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,r.Z)().mark((function e(t,n){var i,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.f)(t,n);case 2:return i=e.sent,e.next=5,(0,c.l)(t,c.E,n);case 5:return i.resources=e.sent,a=new c.P((0,c.h)()),s=a.modelToObject(i,{}),e.abrupt("return",(0,c.k)(i,s,n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var c,f,v,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={access:t.access,id:t.id,type:t.type,name:t.title,owner:t.owner,typeKeywords:t.typeKeywords,tags:t.tags,categories:t.categories,summary:t.snippet||t.description,createdDate:new Date(t.created),createdDateSource:"item.created",updatedDate:new Date(t.modified),updatedDateSource:"item.modified",family:(0,s.g)(t.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,i.Z)(n)).filter(p.u),f=n.map(u.p),v=(0,y.m)("enrichment",f).filter(p.u),m={},!v.length){e.next=10;break}return e.next=9,(0,o.f)(t,v,a);case 9:m=e.sent;case 10:return f.forEach((function(e){c[e.prop]=(0,h.g)(m,e.path)})),c.links.thumbnail=(0,l.a)(t,a),c.links.self=(0,d.g)(c.id,a),c.links.siteRelative=(0,s.m)(c.type,c.id,t.typeKeywords),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},51225:function(e,t,n){n.d(t,{f:function(){return o}});var i=n(74165),r=n(15861),a=n(66848),s=n(5760),c=n(44288);function o(e,t,n){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((0,i.Z)().mark((function e(t,n,r){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="project"===e.t0?3:"site"===e.t0?7:"initiative"===e.t0?11:"page"===e.t0?15:16;break;case 3:return e.next=5,(0,s.f)(n,r.requestOptions);case 5:case 9:case 13:return o=e.sent,e.abrupt("break",16);case 7:return e.next=9,(0,c.f)(n,r.hubRequestOptions);case 11:return e.next=13,(0,a.f)(n,r.requestOptions);case 15:throw new Error("FetchPage not implemented");case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},28183:function(e,t,n){n.d(t,{g:function(){return r}});var i=n(99502);function r(e,t){var n=(0,i.a)(t);return"".concat(n,"/home/item.html?id=").concat(e)}},84907:function(e,t,n){function i(e){var t;switch(e.type){case"Hub Site Application":case"Site Application":t="site";break;case"Hub Page":case"Site Page":t="page";break;case"Hub Project":t="project";break;case"Hub Initiative":t="initiative"}return t}n.d(t,{g:function(){return i}})}}]);
//# sourceMappingURL=10007.f8996a12.chunk.js.map