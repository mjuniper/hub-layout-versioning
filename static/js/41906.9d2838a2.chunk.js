"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[41906],{12355:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(15671),r=n(43144),l=n(60136),o=n(92572),a=n(27366),s=n(11582),u=n(46784),d=n(86710),p=n(49861),c=(n(25243),n(63780),n(27135)),f=n(69912),v=n(58359),y=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).unit="milliseconds",r.value=0,r}return(0,r.Z)(n,[{key:"toMilliseconds",value:function(){return(0,d.rJ)(this.value,this.unit,"milliseconds")}}]),n}((0,s.J)(u.wq));(0,a._)([(0,c.J)(v.v,{nonNullable:!0})],y.prototype,"unit",void 0),(0,a._)([(0,p.Cb)({type:Number,json:{write:!0},nonNullable:!0})],y.prototype,"value",void 0);var m=y=(0,a._)([(0,f.j)("esri.TimeInterval")],y)},9997:function(e,t,n){n.d(t,{F:function(){return y},M:function(){return i}});var i={Base64:0,Hex:1,String:2,Raw:3};function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e){for(var t=[],n=0,i=8*e.length;n<i;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function o(e){for(var t=[],n=0,i=32*e.length;n<i;n+=8)t.push(String.fromCharCode(e[n>>5]>>>n%32&255));return t.join("")}function a(e){for(var t="0123456789abcdef",n=[],i=0,r=4*e.length;i<r;i++)n.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return n.join("")}function s(e){for(var t=[],n=0,i=4*e.length;n<i;n+=3)for(var r=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255,l=0;l<4;l++)8*n+6*l>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-l)&63));return t.join("")}function u(e,t,n,i,l,o){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(i,o)),l),n)}function d(e,t,n,i,r,l,o){return u(t&n|~t&i,e,t,r,l,o)}function p(e,t,n,i,r,l,o){return u(t&i|n&~i,e,t,r,l,o)}function c(e,t,n,i,r,l,o){return u(t^n^i,e,t,r,l,o)}function f(e,t,n,i,r,l,o){return u(n^(t|~i),e,t,r,l,o)}function v(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,l=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,u=i,v=l,y=o;n=d(n,i,l,o,e[a+0],7,-680876936),o=d(o,n,i,l,e[a+1],12,-389564586),l=d(l,o,n,i,e[a+2],17,606105819),i=d(i,l,o,n,e[a+3],22,-1044525330),n=d(n,i,l,o,e[a+4],7,-176418897),o=d(o,n,i,l,e[a+5],12,1200080426),l=d(l,o,n,i,e[a+6],17,-1473231341),i=d(i,l,o,n,e[a+7],22,-45705983),n=d(n,i,l,o,e[a+8],7,1770035416),o=d(o,n,i,l,e[a+9],12,-1958414417),l=d(l,o,n,i,e[a+10],17,-42063),i=d(i,l,o,n,e[a+11],22,-1990404162),n=d(n,i,l,o,e[a+12],7,1804603682),o=d(o,n,i,l,e[a+13],12,-40341101),l=d(l,o,n,i,e[a+14],17,-1502002290),n=p(n,i=d(i,l,o,n,e[a+15],22,1236535329),l,o,e[a+1],5,-165796510),o=p(o,n,i,l,e[a+6],9,-1069501632),l=p(l,o,n,i,e[a+11],14,643717713),i=p(i,l,o,n,e[a+0],20,-373897302),n=p(n,i,l,o,e[a+5],5,-701558691),o=p(o,n,i,l,e[a+10],9,38016083),l=p(l,o,n,i,e[a+15],14,-660478335),i=p(i,l,o,n,e[a+4],20,-405537848),n=p(n,i,l,o,e[a+9],5,568446438),o=p(o,n,i,l,e[a+14],9,-1019803690),l=p(l,o,n,i,e[a+3],14,-187363961),i=p(i,l,o,n,e[a+8],20,1163531501),n=p(n,i,l,o,e[a+13],5,-1444681467),o=p(o,n,i,l,e[a+2],9,-51403784),l=p(l,o,n,i,e[a+7],14,1735328473),n=c(n,i=p(i,l,o,n,e[a+12],20,-1926607734),l,o,e[a+5],4,-378558),o=c(o,n,i,l,e[a+8],11,-2022574463),l=c(l,o,n,i,e[a+11],16,1839030562),i=c(i,l,o,n,e[a+14],23,-35309556),n=c(n,i,l,o,e[a+1],4,-1530992060),o=c(o,n,i,l,e[a+4],11,1272893353),l=c(l,o,n,i,e[a+7],16,-155497632),i=c(i,l,o,n,e[a+10],23,-1094730640),n=c(n,i,l,o,e[a+13],4,681279174),o=c(o,n,i,l,e[a+0],11,-358537222),l=c(l,o,n,i,e[a+3],16,-722521979),i=c(i,l,o,n,e[a+6],23,76029189),n=c(n,i,l,o,e[a+9],4,-640364487),o=c(o,n,i,l,e[a+12],11,-421815835),l=c(l,o,n,i,e[a+15],16,530742520),n=f(n,i=c(i,l,o,n,e[a+2],23,-995338651),l,o,e[a+0],6,-198630844),o=f(o,n,i,l,e[a+7],10,1126891415),l=f(l,o,n,i,e[a+14],15,-1416354905),i=f(i,l,o,n,e[a+5],21,-57434055),n=f(n,i,l,o,e[a+12],6,1700485571),o=f(o,n,i,l,e[a+3],10,-1894986606),l=f(l,o,n,i,e[a+10],15,-1051523),i=f(i,l,o,n,e[a+1],21,-2054922799),n=f(n,i,l,o,e[a+8],6,1873313359),o=f(o,n,i,l,e[a+15],10,-30611744),l=f(l,o,n,i,e[a+6],15,-1560198380),i=f(i,l,o,n,e[a+13],21,1309151649),n=f(n,i,l,o,e[a+4],6,-145523070),o=f(o,n,i,l,e[a+11],10,-1120210379),l=f(l,o,n,i,e[a+2],15,718787259),i=f(i,l,o,n,e[a+9],21,-343485551),n=r(n,s),i=r(i,u),l=r(l,v),o=r(o,y)}return[n,i,l,o]}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Hex,n=t||i.Base64,r=v(l(e),8*e.length);switch(n){case i.Raw:return r;case i.Hex:return a(r);case i.String:return o(r);case i.Base64:return s(r)}}},7632:function(e,t,n){n.d(t,{b:function(){return c}});var i=n(43144),r=n(15671),l=n(60136),o=n(92572),a=n(27366),s=n(49861),u=(n(25243),n(63780),n(69912)),d=n(83444),p={write:{allowNull:!0}},c=function(e){var t=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).featureEffect=null,e}return(0,i.Z)(n)}(e);return(0,a._)([(0,s.Cb)({type:d.Z,json:{origins:{"web-map":p,"portal-item":p}}})],t.prototype,"featureEffect",void 0),t=(0,a._)([(0,u.j)("esri.layers.mixins.FeatureEffectLayer")],t)}},64390:function(e,t,n){n.d(t,{M:function(){return q}});var i,r=n(93433),l=n(15671),o=n(43144),a=n(60136),s=n(92572),u=n(27366),d=n(49861),p=(n(25243),n(63780),n(69912)),c=n(67040),f=n(87562),v=n(44055),y=(n(94931),n(78451),n(98689),n(57823),n(32066),n(49018),n(34999)),m=n(28189),b=n(9014),h=n(40464),w=n(51508),g=n(84652),_=n(18202),Z=n(27135),x=n(38511),S=n(31201),E=n(47492),I=n(61289),C=n(77748),j=(0,E.d)({types:w.QT}),R=i=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).type="binning",i.binType="geohash",i.fixedBinLevel=3,i.labelingInfo=null,i.labelsVisible=!0,i.maxScale=0,i.popupEnabled=!0,i.popupTemplate=null,i.fields=[],i.renderer=null,i}return(0,o.Z)(n,[{key:"writeFields",value:function(e,t,n){var i=e.filter((function(e){return"avg_angle"!==e.statisticType})).map((function(e){return e.toJSON()}));(0,_.RB)(n,i,t)}},{key:"readRenderer",value:function(e,t,n){var i,r,l=null===(i=t.drawingInfo)||void 0===i?void 0:i.renderer;return l?null!==(r=(0,b.a)(l,t,n))&&void 0!==r?r:void 0:t.defaultSymbol?t.types&&t.types.length?new m.Z({defaultSymbol:j(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:j(e.symbol,e,n)}}))}):new y.Z({symbol:j(t.defaultSymbol,t,n)}):null}},{key:"clone",value:function(){return new i({fields:(0,g.d9)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,g.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,g.d9)(this.popupTemplate),renderer:(0,g.d9)(this.renderer)})}}]),n}(f.B);(0,u._)([(0,Z.J)({binning:"binning"})],R.prototype,"type",void 0),(0,u._)([(0,Z.J)({geohash:"geohash"})],R.prototype,"binType",void 0),(0,u._)([(0,d.Cb)({type:Number,range:{min:1,max:9},json:{write:!0}})],R.prototype,"fixedBinLevel",void 0),(0,u._)([(0,d.Cb)({type:[C.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],R.prototype,"labelingInfo",void 0),(0,u._)([(0,d.Cb)(I.iR)],R.prototype,"labelsVisible",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],R.prototype,"maxScale",void 0),(0,u._)([(0,d.Cb)(I.C_)],R.prototype,"popupEnabled",void 0),(0,u._)([(0,d.Cb)({type:v.Z,json:{name:"popupInfo",write:!0}})],R.prototype,"popupTemplate",void 0),(0,u._)([(0,d.Cb)({type:[c.Z],json:{write:!0}})],R.prototype,"fields",void 0),(0,u._)([(0,S.c)("fields")],R.prototype,"writeFields",null),(0,u._)([(0,d.Cb)({types:h.A,json:{write:{target:"drawingInfo.renderer"}}})],R.prototype,"renderer",void 0),(0,u._)([(0,x.r)("renderer",["drawingInfo.renderer"])],R.prototype,"readRenderer",null);var T,F=R=i=(0,u._)([(0,p.j)("esri.layers.support.FeatureReductionBinning")],R),k=n(46784),V=n(17842),z=(0,E.d)({types:w.QT});function U(e){var t;return"simple"===e.type&&!(null!==(t=e.visualVariables)&&void 0!==t&&t.length)}var N=T=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).type="cluster",i.clusterRadius=(0,V.t_)("80px"),i.clusterMinSize=(0,V.t_)("12px"),i.clusterMaxSize=(0,V.t_)("50px"),i.maxScale=0,i.popupEnabled=!0,i.popupTemplate=null,i.renderer=null,i.symbol=null,i.labelingInfo=null,i.labelsVisible=!0,i.fields=null,i}return(0,o.Z)(n,[{key:"readRenderer",value:function(e,t,n){var i,r,l,o=null===(i=t.drawingInfo)||void 0===i?void 0:i.renderer;return null!==o&&void 0!==o&&null!==(r=o.authoringInfo)&&void 0!==r&&r.isAutoGenerated?null:o?U(o)?null:null!==(l=(0,b.a)(o,t,n))&&void 0!==l?l:void 0:t.defaultSymbol?t.types&&t.types.length?new m.Z({defaultSymbol:z(t.defaultSymbol,t,n),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:z(e.symbol,e,n)}}))}):new y.Z({symbol:z(t.defaultSymbol,t,n)}):null}},{key:"readSymbol",value:function(e,t,n){var i,r,l,o=null===(i=t.drawingInfo)||void 0===i?void 0:i.renderer;return null!==o&&void 0!==o&&null!==(r=o.authoringInfo)&&void 0!==r&&r.isAutoGenerated?null:o&&U(o)?null===(l=(0,b.a)(o,t,n))||void 0===l?void 0:l.symbol:null}},{key:"writeSymbol",value:function(e,t,n,i){var r,l,o=null===(r=this.renderer)||void 0===r||null===(l=r.authoringInfo)||void 0===l?void 0:l.isAutoGenerated;if(!this.renderer||o){var a=new y.Z({symbol:e});t.drawingInfo={renderer:a.write({},i)}}}},{key:"writeFields",value:function(e,t,n){var i=e.filter((function(e){return"avg_angle"!==e.statisticType})).map((function(e){return e.toJSON()}));(0,_.RB)(n,i,t)}},{key:"readFields",value:function(e,t,n){return e.filter((function(e){return!e.isAutoGenerated})).map((function(e){return c.Z.fromJSON(e)}))}},{key:"clone",value:function(){return new T({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,g.d9)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,g.d9)(this.fields),maxScale:this.maxScale,renderer:(0,g.d9)(this.renderer),symbol:(0,g.d9)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,g.d9)(this.popupTemplate)})}}]),n}(k.wq);(0,u._)([(0,d.Cb)({type:["cluster"],readOnly:!0,json:{write:!0}})],N.prototype,"type",void 0),(0,u._)([(0,d.Cb)({type:Number,cast:function(e){return"auto"===e?e:(0,V.t_)(e)},json:{write:!0}})],N.prototype,"clusterRadius",void 0),(0,u._)([(0,d.Cb)({type:Number,cast:V.t_,json:{write:!0}})],N.prototype,"clusterMinSize",void 0),(0,u._)([(0,d.Cb)({type:Number,cast:V.t_,json:{write:!0}})],N.prototype,"clusterMaxSize",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],N.prototype,"maxScale",void 0),(0,u._)([(0,d.Cb)(I.C_)],N.prototype,"popupEnabled",void 0),(0,u._)([(0,d.Cb)({type:v.Z,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],N.prototype,"popupTemplate",void 0),(0,u._)([(0,d.Cb)({types:h.A,json:{write:{target:"drawingInfo.renderer"}}})],N.prototype,"renderer",void 0),(0,u._)([(0,x.r)("renderer",["drawingInfo.renderer"])],N.prototype,"readRenderer",null),(0,u._)([(0,d.Cb)({types:w.AH})],N.prototype,"symbol",void 0),(0,u._)([(0,x.r)("symbol",["drawingInfo.renderer"])],N.prototype,"readSymbol",null),(0,u._)([(0,S.c)("symbol")],N.prototype,"writeSymbol",null),(0,u._)([(0,d.Cb)({type:[C.Z],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],N.prototype,"labelingInfo",void 0),(0,u._)([(0,d.Cb)(I.iR)],N.prototype,"labelsVisible",void 0),(0,u._)([(0,d.Cb)({type:[c.Z],json:{write:!0}})],N.prototype,"fields",void 0),(0,u._)([(0,S.c)("fields")],N.prototype,"writeFields",null),(0,u._)([(0,x.r)("fields")],N.prototype,"readFields",null);var O=N=T=(0,u._)([(0,p.j)("esri.layers.support.FeatureReductionCluster")],N),A=n(10536),M={key:"type",base:f.B,typeMap:{cluster:O,binning:F}},B={types:{key:"type",base:f.B,typeMap:{selection:A.Z,cluster:O,binning:F}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:M},"portal-item":{types:M},"web-scene":{types:{key:"type",base:f.B,typeMap:{selection:A.Z}}}}}},L=n(20478),q=function(e){var t=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).own(e.watch("renderer",(function(){if(e.featureReduction){var t=e._normalizeFeatureReduction(e.featureReduction);e._set("featureReduction",t)}}),!0)),e}return(0,o.Z)(n,[{key:"featureReduction",set:function(e){var t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}},{key:"renderer",set:function(e){}},{key:"_normalizeFeatureReduction",value:function(e){var t,n;if("cluster"!==(null===e||void 0===e?void 0:e.type))return e;var i=e.clone(),l=[new c.Z({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(null!==(t=i.fields)&&void 0!==t?t:[]).filter((function(e){return!e.isAutoGenerated}));if(e.renderer&&(null===(n=e.renderer.authoringInfo)||void 0===n||!n.isAutoGenerated))return i.fields=[].concat(l,(0,r.Z)(o)),i;if(e.symbol)return i.fields=[].concat(l,(0,r.Z)(o)),i.renderer=null,i;if(!this.renderer)return e;var a=(0,L.S1)(l,this.renderer,e,null,!1);return i.fields=[].concat(l,(0,r.Z)(o)),i.renderer=a,i}}]),n}(e);return(0,u._)([(0,d.Cb)(B)],t.prototype,"featureReduction",null),t=(0,u._)([(0,p.j)("esri.layers.mixins.FeatureReductionLayer")],t)}},99063:function(e,t,n){n.d(t,{n:function(){return m}});var i=n(15671),r=n(43144),l=n(60136),o=n(92572),a=n(27366),s=n(62044),u=n(12355),d=n(49861),p=(n(25243),n(63780),n(38511)),c=n(69912),f=n(80031),v=n(57370),y=n(58359),m=function(e){var t=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return(0,r.Z)(n,[{key:"readOffset",value:function(e,t){var n=t.timeInfo.exportOptions;if(!n)return null;var i=n.timeOffset,r=y.v.fromJSON(n.timeOffsetUnits);return i&&r?new u.Z({value:i,unit:r}):null}},{key:"timeInfo",set:function(e){(0,f.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}}]),n}(e);return(0,a._)([(0,d.Cb)({type:s.Z,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,a._)([(0,d.Cb)({type:u.Z})],t.prototype,"timeOffset",void 0),(0,a._)([(0,p.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,a._)([(0,d.Cb)({value:null,type:v.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,a._)([(0,d.Cb)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=(0,a._)([(0,c.j)("esri.layers.mixins.TemporalLayer")],t)}},67040:function(e,t,n){n.d(t,{Z:function(){return y}});var i,r=n(15671),l=n(43144),o=n(60136),a=n(92572),s=n(27366),u=n(46784),d=n(84652),p=n(49861),c=(n(25243),n(69912)),f=n(3664),v=i=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).isAutoGenerated=!1,i.name=null,i.alias=null,i.onStatisticField=null,i.onStatisticExpression=null,i.statisticType=null,i}return(0,l.Z)(n,[{key:"clone",value:function(){return new i({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,d.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}}]),n}(u.wq);(0,s._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],v.prototype,"isAutoGenerated",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"alias",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"onStatisticField",void 0),(0,s._)([(0,p.Cb)({type:f.Z,json:{write:!0}})],v.prototype,"onStatisticExpression",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"statisticType",void 0);var y=v=i=(0,s._)([(0,c.j)("esri.layers.support.AggregateField")],v)},3664:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(43144),r=n(15671),l=n(60136),o=n(92572),a=n(27366),s=n(11582),u=n(46784),d=n(49861),p=(n(25243),n(63780),n(69912)),c=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).expression=null,i.title=null,i.returnType=null,i}return(0,i.Z)(n)}((0,s.J)(u.wq));(0,a._)([(0,d.Cb)({type:String,json:{write:!0}})],c.prototype,"expression",void 0),(0,a._)([(0,d.Cb)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,a._)([(0,d.Cb)({type:String,json:{write:!0}})],c.prototype,"returnType",void 0);var f=c=(0,a._)([(0,p.j)("esri.layers.support.ExpressionInfo")],c)},83444:function(e,t,n){n.d(t,{Z:function(){return x}});var i,r=n(15671),l=n(43144),o=n(11752),a=n(61120),s=n(60136),u=n(92572),d=n(27366),p=n(10064),c=n(46784),f=n(92026),v=n(18202),y=n(49861),m=(n(25243),n(63780),n(69912)),b=n(60676),h=n(18661),w={read:{reader:b.ij},write:{writer:b.cW,overridePolicy:function(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},g={read:{reader:b.ij},write:{writer:b.cW,overridePolicy:function(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},_={name:"showExcludedLabels",default:!0},Z=i=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).filter=null,i.includedEffect=null,i.excludedEffect=null,i.excludedLabelsVisible=!1,i}return(0,l.Z)(n,[{key:"write",value:function(e,t){var i=(0,o.Z)((0,a.Z)(n.prototype),"write",this).call(this,e,t);if(null!==t&&void 0!==t&&t.origin){var r;if(i.filter){var l,s=Object.keys(i.filter);if(s.length>1||"where"!==s[0])return null!==(l=t.messages)&&void 0!==l&&l.push(new p.Z("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return null!==(r=t.messages)&&void 0!==r&&r.push(new p.Z("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}},{key:"clone",value:function(){return new i({filter:(0,f.pC)(this.filter)?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}}]),n}(c.wq);(0,d._)([(0,y.Cb)({type:h.Z,json:{write:{allowNull:!0,writer:function(e,t,n,i){var r=null===e||void 0===e?void 0:e.write({},i);r&&0!==Object.keys(r).length?(0,v.RB)(n,r,t):(0,v.RB)(n,null,t)}}}})],Z.prototype,"filter",void 0),(0,d._)([(0,y.Cb)({json:{write:!0,origins:{"web-map":w,"portal-item":w}}})],Z.prototype,"includedEffect",void 0),(0,d._)([(0,y.Cb)({json:{write:!0,origins:{"web-map":g,"portal-item":g}}})],Z.prototype,"excludedEffect",void 0),(0,d._)([(0,y.Cb)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":_,"portal-item":_}}})],Z.prototype,"excludedLabelsVisible",void 0);var x=Z=i=(0,d._)([(0,m.j)("esri.layers.support.FeatureEffect")],Z)},18661:function(e,t,n){n.d(t,{Z:function(){return Z}});var i,r=n(1413),l=n(15671),o=n(43144),a=n(60136),s=n(92572),u=n(27366),d=n(59486),p=n(62044),c=n(43404),f=n(46784),v=n(84652),y=n(92026),m=n(49861),b=(n(25243),n(69912)),h=n(21149),w=new c.X({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),g=new c.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),_=i=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){var i;return(0,l.Z)(this,n),(i=t.call(this,e)).where=null,i.geometry=null,i.spatialRelationship="intersects",i.distance=void 0,i.objectIds=null,i.units=null,i.timeExtent=null,i}return(0,o.Z)(n,[{key:"createQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.where,n=this.geometry,i=this.spatialRelationship,l=this.timeExtent,o=this.objectIds,a=this.units,s=this.distance;return new h.Z((0,r.Z)({geometry:(0,v.d9)(n),objectIds:(0,v.d9)(o),spatialRelationship:i,timeExtent:(0,v.d9)(l),where:t,units:a,distance:s},e))}},{key:"clone",value:function(){var e=this.where,t=this.geometry,n=this.spatialRelationship,r=this.timeExtent,l=this.objectIds,o=this.units,a=this.distance;return new i({geometry:(0,v.d9)(t),objectIds:(0,v.d9)(l),spatialRelationship:n,timeExtent:(0,v.d9)(r),where:e,units:o,distance:a})}}]),n}(f.wq);(0,u._)([(0,m.Cb)({type:String,json:{write:!0}})],_.prototype,"where",void 0),(0,u._)([(0,m.Cb)({types:d.qM,json:{write:!0}})],_.prototype,"geometry",void 0),(0,u._)([(0,m.Cb)({type:w.apiValues,json:{name:"spatialRel",read:{reader:w.read},write:{allowNull:!1,writer:w.write,overridePolicy:function(){return{enabled:(0,y.pC)(this.geometry)}}}}})],_.prototype,"spatialRelationship",void 0),(0,u._)([(0,m.Cb)({type:Number,json:{write:{overridePolicy:function(e){return{enabled:null!=e&&null!=this.geometry}}}}})],_.prototype,"distance",void 0),(0,u._)([(0,m.Cb)({type:[Number],json:{write:!0}})],_.prototype,"objectIds",void 0),(0,u._)([(0,m.Cb)({type:g.apiValues,json:{read:g.read,write:{writer:g.write,overridePolicy:function(e){return{enabled:null!=e&&null!=this.geometry}}}}})],_.prototype,"units",void 0),(0,u._)([(0,m.Cb)({type:p.Z,json:{write:!0}})],_.prototype,"timeExtent",void 0);var Z=_=i=(0,u._)([(0,b.j)("esri.layers.support.FeatureFilter")],_)},87562:function(e,t,n){n.d(t,{B:function(){return p}});var i=n(43144),r=n(15671),l=n(60136),o=n(92572),a=n(27366),s=n(46784),u=n(49861),d=(n(25243),n(63780),n(69912)),p=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.apply(this,arguments)).type=null,e}return(0,i.Z)(n)}(s.wq);(0,a._)([(0,u.Cb)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0),p=(0,a._)([(0,d.j)("esri.layers.support.FeatureReduction")],p)},10536:function(e,t,n){n.d(t,{Z:function(){return f}});var i,r=n(15671),l=n(43144),o=n(60136),a=n(92572),s=n(27366),u=n(49861),d=(n(25243),n(63780),n(69912)),p=n(87562),c=i=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).type="selection",i}return(0,l.Z)(n,[{key:"clone",value:function(){return new i}}]),n}(p.B);(0,s._)([(0,u.Cb)({type:["selection"]})],c.prototype,"type",void 0);var f=c=i=(0,s._)([(0,d.j)("esri.layers.support.FeatureReductionSelection")],c)},57370:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(15671),r=n(43144),l=n(60136),o=n(92572),a=n(27366),s=n(62044),u=n(12355),d=n(11582),p=n(46784),c=n(92026),f=n(49861),v=(n(25243),n(63780),n(38511)),y=n(69912),m=n(31201),b=n(16354);function h(e,t){return u.Z.fromJSON({value:e,unit:t})}var w=function(e){(0,l.Z)(n,e);var t=(0,o.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).cumulative=!1,r.endField=null,r.fullTimeExtent=null,r.hasLiveData=!1,r.interval=null,r.startField=null,r.timeReference=null,r.trackIdField=null,r.useTime=!0,r}return(0,r.Z)(n,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var n=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new s.Z({start:n,end:i})}},{key:"writeFullTimeExtent",value:function(e,t){e&&(0,c.pC)(e.start)&&(0,c.pC)(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?h(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?h(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}},{key:"writeInterval",value:function(e,t){var n,i;t.timeInterval=null!==(n=null===e||void 0===e?void 0:e.toJSON().value)&&void 0!==n?n:null,t.timeIntervalUnits=null!==(i=null===e||void 0===e?void 0:e.toJSON().unit)&&void 0!==i?i:null}}]),n}((0,d.J)(p.wq));(0,a._)([(0,f.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],w.prototype,"cumulative",void 0),(0,a._)([(0,f.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],w.prototype,"endField",void 0),(0,a._)([(0,f.Cb)({type:s.Z,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"fullTimeExtent",void 0),(0,a._)([(0,v.r)("fullTimeExtent",["timeExtent"])],w.prototype,"readFullTimeExtent",null),(0,a._)([(0,m.c)("fullTimeExtent")],w.prototype,"writeFullTimeExtent",null),(0,a._)([(0,f.Cb)({type:Boolean,json:{write:!0}})],w.prototype,"hasLiveData",void 0),(0,a._)([(0,f.Cb)({type:u.Z,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"interval",void 0),(0,a._)([(0,v.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],w.prototype,"readInterval",null),(0,a._)([(0,m.c)("interval")],w.prototype,"writeInterval",null),(0,a._)([(0,f.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],w.prototype,"startField",void 0),(0,a._)([(0,f.Cb)({type:b.Z,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"timeReference",void 0),(0,a._)([(0,f.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],w.prototype,"trackIdField",void 0),(0,a._)([(0,f.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],w.prototype,"useTime",void 0);var g=w=(0,a._)([(0,y.j)("esri.layers.support.TimeInfo")],w)},25610:function(e,t,n){n.d(t,{v:function(){return s}});var i=n(37762),r=n(32718),l=n(83040),o=n(52410),a=n(80031);function s(){return{fields:{type:[l.Z],value:null},fieldsIndex:{readOnly:!0,get:function(){return new o.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,n=(0,i.Z)(e);try{for(n.s();!(t=n.n()).done;){var l,o=t.value;(null===(l=this.fieldsIndex)||void 0===l?void 0:l.has(o))||r.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field","Invalid field ".concat(o," found in outFields"),{layer:this,outFields:e})}}catch(s){n.e(s)}finally{n.f()}return(0,a.Q0)(this.fieldsIndex,e)}}}}},58359:function(e,t,n){n.d(t,{v:function(){return i}});var i=(0,n(43404).w)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},20478:function(e,t,n){n.d(t,{aV:function(){return z},S1:function(){return T},os:function(){return F},st:function(){return k},yR:function(){return U}});var i,r=n(4942),l=n(1413),o=n(37762),a=n(10064),s=n(93169),u=n(32718),d=n(92026),p=n(9997),c=n(67040),f=n(3664),v=n(25472),y=n(245),m=n(53896),b=n(15671),h=n(43144),w=n(60136),g=n(92572),_=n(27366),Z=n(84652),x=n(49861),S=(n(25243),n(69912)),E=n(31201),I=n(80724),C=i=function(e){(0,w.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,b.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"writeLevels",value:function(e,t,n){for(var i in e){var r=this.levels[i];return void(t.stops=r)}}},{key:"clone",value:function(){return new i({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,I.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,I.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:(0,Z.d9)(this.levels)})}}]),n}(y.Z);(0,_._)([(0,x.Cb)()],C.prototype,"levels",void 0),(0,_._)([(0,E.c)("levels")],C.prototype,"writeLevels",null),C=i=(0,_._)([(0,S.j)("esri.views.2d.engine.LevelDependentSizeVariable")],C);var j=u.Z.getLogger("esri.views.2d.layers.support.clusterUtils");s.Z.add("esri-cluster-arcade-enabled",!0);var R=(0,s.Z)("esri-cluster-arcade-enabled"),T=function(e,t,n,i,r){var l=t.clone();if(!U(l))return l;if(l.authoringInfo||(l.authoringInfo=new v.Z),l.authoringInfo.isAutoGenerated=!0,"visualVariables"in l){var a=(l.visualVariables||[]).filter((function(e){return"$view.scale"!==e.valueExpression})),s=F(a);a.forEach((function(t){"rotation"===t.type?t.field?t.field=O(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=N(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=O(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=O(e,t.field,"avg","number"):t.valueExpression&&(t.field=N(e,t.valueExpression,"avg","number"),t.valueExpression=null)})),(0,d.Wi)(s)&&!V(a)&&r&&(a.push(z(n,i)),l.dynamicClusterSize=!0),l.visualVariables=a}switch(l.type){case"simple":break;case"pie-chart":var u,p=(0,o.Z)(l.attributes);try{for(p.s();!(u=p.n()).done;){var c=u.value;c.field?c.field=O(e,c.field,"sum","number"):c.valueExpression&&(c.field=N(e,c.valueExpression,"sum","number"),c.valueExpression=null)}}catch(f){p.e(f)}finally{p.f()}break;case"unique-value":l.field?l.field=O(e,l.field,"mode","string"):l.valueExpression&&(l.field=N(e,l.valueExpression,"mode","string"),l.valueExpression=null);break;case"class-breaks":l.normalizationField?(l.field=O(e,l.field,"avg_norm","number",l.normalizationField),l.normalizationField=null):l.field?l.field=O(e,l.field,"avg","number"):l.valueExpression&&(l.field=N(e,l.valueExpression,"avg","number"),l.valueExpression=null)}return l},F=function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("size"===i.type)return i}}catch(r){n.e(r)}finally{n.f()}return null};function k(e,t,n){var i=e.clone(),r=!1;if("visualVariables"in i){var l=(i.visualVariables||[]).filter((function(e){return"$view.scale"!==e.valueExpression})),o=F(l);(0,d.Wi)(o)&&(i.visualVariables||(i.visualVariables=[]),i.visualVariables.push(z(t,n)),i.dynamicClusterSize=!0,r=!0)}return{renderer:i,didInject:r}}var V=function(e){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){if("cluster_count"===t.value.field)return!0}}catch(i){n.e(i)}finally{n.f()}return!1},z=function(e,t){var n=[new m.Z({value:0,size:0}),new m.Z({value:1})];if((0,d.Wi)(t))return new y.Z({field:"cluster_count",stops:[].concat(n,[new m.Z({value:2,size:0})])});var i=Object.keys(t).reduce((function(i,o){return(0,l.Z)((0,l.Z)({},i),{},(0,r.Z)({},o,[].concat(n,[new m.Z({value:Math.max(2,t[o].minValue),size:e.clusterMinSize}),new m.Z({value:Math.max(3,t[o].maxValue),size:e.clusterMaxSize})])))}),{});return new C({field:"cluster_count",levels:i})},U=function(e){var t=function(t){return j.error(new a.Z("Unsupported-renderer",t,{renderer:e}))};switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){var n=e.normalizationType;if("field"!==n)return t("FeatureReductionCluster does not support a normalizationType of ".concat(n)),!1}break;case"simple":case"pie-chart":break;default:return t("FeatureReductionCluster does not support renderers of type ".concat(e.type)),!1}if(!R){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((function(e){return!(!("valueExpression"in e)||!e.valueExpression)})))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function N(e,t,n,i){var r=(0,p.F)(t),l="mode"===n?"cluster_type_".concat(r):"sum"===n?"cluster_sum_".concat(r):"cluster_avg_".concat(r);return e.some((function(e){return e.name===l}))||e.push(new c.Z({name:l,isAutoGenerated:!0,onStatisticExpression:new f.Z({expression:t,returnType:i}),statisticType:n})),l}function O(e,t,n,i,r){if("cluster_count"===t||e.some((function(e){return e.name===t})))return t;var l=function(e,t,n){switch(e){case"sum":return"cluster_sum_".concat(t);case"avg":case"avg_angle":return"cluster_avg_".concat(t);case"mode":return"cluster_type_".concat(t);case"avg_norm":var i=n,r=t.toLowerCase()+",norm:field,"+i.toLowerCase();return"cluster_avg_"+(0,p.F)(r)}}(n,t,r);return e.some((function(e){return e.name===l}))||("avg_norm"===n?e.push(new c.Z({name:l,isAutoGenerated:!0,onStatisticExpression:new f.Z({expression:"$feature.".concat(t," / $feature.").concat(r),returnType:i}),statisticType:"avg"})):e.push(new c.Z({name:l,isAutoGenerated:!0,onStatisticField:t,statisticType:n}))),l}}}]);
//# sourceMappingURL=41906.9d2838a2.chunk.js.map