/*! For license information please see 94906.5cf80f2e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[94906],{1319:function(t,n,e){e.d(n,{a:function(){return o}});var r=e(67450);function o(t,n,e){var o=(0,r._)((0,r._)({params:{}},e),t);return o.params=n.reduce((function(n,e){return(t[e]||"boolean"===typeof t[e])&&(n[e]=t[e]),n}),o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(t,n){return o[n]&&(t[n]=o[n]),t}),{})}},86847:function(t,n,e){e.r(n),e.d(n,{arcgis_hub_media_gallery:function(){return y}});var r=e(74165),o=e(15861),u=e(15671),i=e(43144),a=e(5692),c=e(13129),s=e(72652),f=e(54825),l=e(53031),h=e(69027),m=e(35137),p=e(13115),d=(e(7597),e(39318),e(67450),e(47268),e(1319),["B","KB","MB","GB","TB","PB","EB","ZB","YB"]);l.a.setLogLevel(l.L.info);var g=["jpg","jpeg","gif","png"],v={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},y=function(){function t(n){(0,u.Z)(this,t),(0,a.r)(this,n),this.portal="https://www.arcgis.com",this.layout="grid",this.resources=[],(0,f.b)(this,"renderImageResource")}return(0,i.Z)(t,[{key:"onPortalChange",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.A.create({portalUrl:this.portal});case 2:n=t.sent,this.context=n.context,console.log("this.context: ".concat(this.context)),console.log("this.portal: ".concat(this.portal));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getImageUrl",value:function(t){var n=this.itemId,e=this.context.sharingApiUrl;return"".concat(e,"/content/items/").concat(n,"/resources/").concat(t)}},{key:"parseCreatedDate",value:function(t){return this.intl.formatDate(t,v)}},{key:"fetchResources",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var n,e,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.itemId){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=this.context.sharingApiUrl,t.next=6,(0,m.f)(this.itemId,{portal:n});case 6:e=t.sent,this.resources=e.resources,t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),o=(0,p.g)(t.t0,"message"),l.a.error(o);case 14:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.i.loadIntlForComponent(this.element);case 2:if(this.intl=t.sent,this.context){t.next=8;break}return t.next=6,h.A.create({portalUrl:this.portal});case 6:n=t.sent,this.context=n.context;case 8:return t.abrupt("return",this.fetchResources());case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"imageResources",get:function(){return this.resources.filter((function(t){var n=t.resource.split(".")[1];return g.includes(n)}))}},{key:"getSummary",value:function(t,n){return n=this.parseCreatedDate(n),t=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=0===t?d.indexOf(e.unit||"KB"):e.unit?d.indexOf(e.unit):Math.min(Math.floor(Math.log10(t)/3),d.length-1);var r=Number.isInteger(e.round)?e.round:2,o=Math.pow(10,r);return t/=Math.pow(1e3,n),(t=Math.round(t*o)/o).toLocaleString(e.locale)+" "+d[n]}(t),this.intl.t("resourceDescription",{date:n,size:t})}},{key:"renderImageResource",value:function(t){return(0,a.h)("arcgis-hub-card",{context:this.context,corners:s.C.round,family:"image",imageType:s.I.thumbnail,itemTitle:t.resource,key:t.resource,layout:"grid"===this.layout?"card":"row",lazy:!0,selectable:this.selectable,shadow:s.D.medium,showThumbnail:!0,summary:this.getSummary(t.size,t.created),thumbnailUrl:this.getImageUrl(t.resource),type:"Image"})}},{key:"render",value:function(){return(0,a.h)(a.H,null,this.imageResources.map(this.renderImageResource))}},{key:"element",get:function(){return(0,a.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{portal:["onPortalChange"],context:["fetchResources"],itemId:["fetchResources"]}}}]),t}();y.style=":host([layout='grid']){display:grid;gap:0.5rem;grid-template-columns:repeat(auto-fill, minmax(max(400px, (100% - (4 - 1) * 0.5rem) / 4), 1fr))}:host([layout='list']) arcgis-hub-card{margin-bottom:0.5rem}"},64369:function(t,n,e){function r(t){return"string"!==typeof t||"/"===(t=t.trim())[t.length-1]&&(t=t.slice(0,-1)),t}e.d(n,{c:function(){return r}})},54825:function(t,n,e){e.d(n,{b:function(){return r}});var r=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];e.forEach((function(n){if("function"!==typeof t[n])throw new Error("Cannot bind context. ".concat(n," must be a function"));t[n]=t[n].bind(t)}))}},35137:function(t,n,e){e.d(n,{a:function(){return v},b:function(){return f},c:function(){return p},d:function(){return c},e:function(){return w},f:function(){return d},g:function(){return h},h:function(){return g},i:function(){return s},j:function(){return y},s:function(){return a}});var r=e(29847),o=e(46356),u=e(67450),i=e(1319);function a(t){var n=JSON.parse(JSON.stringify(t));return n.data&&("undefined"!==typeof Blob&&t.data instanceof Blob||"ReadStream"===t.data.constructor.name?n.file=t.data:n.text=t.data,delete n.data),n}function c(t){return t.owner?Promise.resolve(t.owner):t.item&&t.item.owner?Promise.resolve(t.item.owner):t.authentication&&t.authentication.getUsername?t.authentication.getUsername():Promise.reject(new Error("Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option."))}function s(t){return Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[1])}function f(t){return t.join(",")}var l=/[\x00-\x1F\x7F-\x9F\xA0]/g;function h(t,n){var e=m(t,n),o=(0,r._)({httpMethod:"GET"},n);return(0,u.r)(e,o)}var m=function(t,n){return("string"===typeof n?n:(0,o.g)(n))+"/content/items/"+t};function p(t,n){var e=m(t,n)+"/data",o=(0,r._)({httpMethod:"GET",params:{}},n);return o.file&&(o.params.f=null),(0,u.r)(e,o).catch((function(t){if(!RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i).test(t.message))throw t}))}function d(t,n){var e=m(t,n)+"/resources",o=(0,r._)({},n);return o.params=(0,r._)({num:1e3},o.params),(0,u.r)(e,o)}function g(t,n){var e=n.readAs||"blob";return x(t,"/resources/"+n.fileName,e,n)}function v(t,n){var e=m(t,n)+"/groups";return(0,u.r)(e,n)}function y(t){return c(t).then((function(n){var e=(0,o.g)(t)+"/content/users/"+n+"/items/"+t.id+"/status",a=(0,i.a)(t,["jobId","jobType"],{params:(0,r._)({},t.params)});return(0,u.r)(e,a)}))}function w(t,n){return function(t,n){var e=n||{},o=e.fileName,u=void 0===o?"iteminfo.xml":o,i=e.readAs;return x(t,"/info/"+u,void 0===i?"text":i,(0,r._)({httpMethod:"GET"},n))}(t,(0,r._)((0,r._)({},n),{fileName:"metadata/metadata.xml"}))}function x(t,n,e,o){var i=""+m(t,o)+n,a=(0,r._)({params:{}},o),c=a.rawResponse;return a.rawResponse=!0,a.params.f=null,(0,u.r)(i,a).then((function(t){return c?t:"json"!==e?t[e]():t.text().then((function(t){return JSON.parse(t.replace(l,""))}))}))}},47268:function(t,n,e){e.d(n,{a:function(){return a},g:function(){return i}});var r=e(29847),o=e(46356),u=e(67450);function i(t){return a(null,t)}function a(t,n){var e=t||"self",i=(0,o.g)(n)+"/portals/"+e,a=(0,r._)({httpMethod:"GET"},n);return(0,u.r)(i,a)}},46356:function(t,n,e){e.d(n,{g:function(){return o}});var r=e(64369);function o(t){return void 0===t&&(t={}),t.portal?(0,r.c)(t.portal):t.authentication?t.authentication.portal:"https://www.arcgis.com/sharing/rest"}},13115:function(t,n,e){function r(t,n){return n.split(".").reduce((function(t,n){return t?t[n]:void 0}),t)}e.d(n,{g:function(){return r}})},19420:function(t,n,e){e.d(n,{g:function(){return o}});var r=e(13115);function o(t,n,e){var o=(0,r.g)(t,n);return void 0!==o?o:e}},39318:function(t,n,e){e.d(n,{a:function(){return i},g:function(){return a}});var r=e(29847),o=e(46356),u=e(67450);function i(t){var n,e={httpMethod:"GET"};if("string"===typeof t)n="https://www.arcgis.com/sharing/rest/community/users/"+t;else{var i=t.username||t.authentication.username;n=(0,o.g)(t)+"/community/users/"+encodeURIComponent(i),e=(0,r._)((0,r._)({},t),e)}return(0,u.r)(n,e)}function a(t){var n=t;return t.match(/(qaext|\.mapsqa)\.arcgis.com/)?n="https://qaext.arcgis.com":t.match(/(devext|\.mapsdevext)\.arcgis.com/)?n="https://devext.arcgis.com":t.match(/(www|\.maps)\.arcgis.com/)&&(n="https://www.arcgis.com"),n}},72652:function(t,n,e){var r,o,u,i,a,c,s;e.d(n,{A:function(){return r},C:function(){return o},D:function(){return u},I:function(){return s},L:function(){return i},U:function(){return a},V:function(){return c}}),function(t){t.start="start",t.center="center",t.end="end"}(r||(r={})),function(t){t.square="square",t.round="round"}(o||(o={})),function(t){t.none="none",t.low="low",t.medium="medium",t.heavy="heavy"}(u||(u={})),function(t){t.simple="simple",t.dataViz="dataViz",t.moreInfo="moreInfo"}(i||(i={})),function(t){t.before="before",t.after="after",t.below="below"}(a||(a={})),function(t){t.none="none",t.sparkline="sparkline",t.icon="icon",t.logo="logo"}(c||(c={})),function(t){t.thumbnail="thumbnail",t.icon="icon"}(s||(s={}))},29847:function(t,n,e){e.d(n,{_:function(){return r},a:function(){return o}});var r=function(){return r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},r.apply(this,arguments)};function o(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var u=arguments[n],i=0,a=u.length;i<a;i++,o++)r[o]=u[i];return r}},12969:function(t,n,e){e.d(n,{a:function(){return a},b:function(){return f},c:function(){return o},d:function(){return m},e:function(){return c},f:function(){return p},g:function(){return u},i:function(){return h},m:function(){return s},u:function(){return l},w:function(){return i}});var r=e(13115);function o(t){var n={};if(Array.isArray(t))n=t.map(o);else if("object"===typeof t){for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];null!=r&&"object"===typeof r?r instanceof Date?n[e]=new Date(r.getTime()):"undefined"!==typeof Blob&&r instanceof Blob?n[e]=new Blob([r],{type:r.type}):n[e]=o(r):n[e]=r}}else n=t;return n}function u(t,n,e){return t?t.reduce((function(t,o){return(0,r.g)(o,n)===e&&(t=o),t}),null):null}function i(t,n){return t.filter((function(t){return t!==n}))}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"i";return"".concat(t).concat(Math.random().toString(36).substr(2,8))}function c(t,n,e){return null!==n&&void 0!==n&&((e=o(e))[t]=n),e}function s(t,n){return null!==t&&void 0!==t&&(n=o(n)).push(t),n}function f(t){return(t=(t=t.toLowerCase()).replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi," ")).replace(/(\-|\_|\.|\s)+(.)?/g,(function(t,n,e){return e?e.toUpperCase():""})).replace(/(^|\/)([A-Z])/g,(function(t,n,e){return t.toLowerCase()}))}function l(t,n,e){return e.indexOf(t)===n}var h=function(t){return null==t},m=function(t){var n=Array.from(t);return n[0]=n[0].toUpperCase(),n.join("")};function p(t){return t.reduce((function(t,n){return t.concat(n)}),[])}}}]);
//# sourceMappingURL=94906.5cf80f2e.chunk.js.map