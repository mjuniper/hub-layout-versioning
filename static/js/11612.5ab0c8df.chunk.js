"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[11612],{31629:function(e,t,i){i.d(t,{I:function(){return s},a:function(){return r},b:function(){return a},c:function(){return n}});var n={overview:!0,details:!0,settings:!0},a=[{entity:"initiative",capability:"overview",permissions:["hub:initiative:view"]},{entity:"initiative",capability:"details",permissions:["hub:initiative:edit"]},{entity:"initiative",capability:"settings",permissions:["hub:initiative:edit"]}],r=["hub:initiative:create","hub:initiative:delete","hub:initiative:edit","hub:initiative:view"],s=[{permission:"hub:initiative:create",subsystems:["projects"],authenticated:!0,privileges:["portal:user:createItem"],licenses:["hub-premium"]},{permission:"hub:initiative:view",subsystems:["projects"],authenticated:!1,licenses:["hub-premium"]},{permission:"hub:initiative:edit",authenticated:!0,subsystems:["projects"],entityEdit:!0,licenses:["hub-premium"]},{permission:"hub:initiative:delete",authenticated:!0,subsystems:["projects"],entityOwner:!0,licenses:["hub-premium"]}]},11612:function(e,t,i){i.r(t),i.d(t,{arcgis_hub_workspace:function(){return _}});var n=i(74165),a=i(15671),r=i(43144),s=i(15861),o=i(72585),c=i(32836),u=i(12868),h=i(66287),p=i(31629),l=i(82842),d=i(85822),v=i(69207),f=i(59002);i(84371),i(91466),i(90251),i(80046),i(77843),i(49799),i(77699),i(34601),i(21923),i(42016),i(21010),i(94062),i(9882),i(41817),i(88968),i(47493);function b(){var e=(0,h.i)();return e.push({objectKey:"status",modelKey:"data.status"}),e.push({objectKey:"catalog",modelKey:"data.catalog"}),e.push({objectKey:"permissions",modelKey:"data.permissions"}),e.push({objectKey:"capabilities",modelKey:"data.settings.capabilities"}),e.push({objectKey:"contacts",modelKey:"data.contacts"}),e.push({objectKey:"timeline",modelKey:"data.timeline"}),e}function y(e,t,i){var n,a;i.authentication&&(a=i.authentication.token);return t.thumbnailUrl=(0,l.a)(e.item,i,a),t.createdDate=new Date(e.item.created),t.createdDateSource="item.created",t.updatedDate=new Date(e.item.modified),t.updatedDateSource="item.modified",t.capabilities=(0,h.p)((null===(n=e.data.settings)||void 0===n?void 0:n.capabilities)||{},p.c),t}function m(e,t){return((0,d.i)(e)?(0,v.g)(e,t):(0,h.j)(e,t)).then((function(e){return e?function(e,t){return k.apply(this,arguments)}(e,t):null}))}function k(){return(k=(0,s.Z)((0,n.Z)().mark((function e(t,i){var a,r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.k)(t,i);case 2:return a=e.sent,r=new h.P(b()),s=r.modelToObject(a,{}),e.abrupt("return",y(a,s,i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,i){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)((0,n.Z)().mark((function e(t,i,a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="project"===e.t0?3:"site"===e.t0?7:"initiative"===e.t0?11:"page"===e.t0?15:16;break;case 3:return e.next=5,(0,f.a)(i,a.requestOptions);case 5:case 9:case 13:return r=e.sent,e.abrupt("break",16);case 7:return e.next=9,(0,f.f)(i,a.hubRequestOptions);case 11:return e.next=13,m(i,a.requestOptions);case 15:throw new Error("FetchPage not implemented");case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){function e(t){(0,a.Z)(this,e),(0,o.r)(this,t),this.panel="overview",(0,c.b)(this,"handleWorkspaceNavigationLinkClicked")}return(0,r.Z)(e,[{key:"fetchEntity",value:function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.entity)||!this.identifier){e.next=9;break}if(this.isLoading=!0,e.t0=this.context,!e.t0){e.next=8;break}return e.next=7,g(this.type,this.identifier,this.context);case 7:e.t0=e.sent;case 8:t=e.t0;case 9:this.isLoading=!this.context,this._entity=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.i.loadIntlForComponent(this.element);case 2:return this.intl=e.sent,e.next=5,this.fetchEntity();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"headerIcon",get:function(){return{project:"projects",site:"web"}[this.type]}},{key:"headerLabel",get:function(){return this.intl.t("".concat(this.type,"Workspace"))}},{key:"panelComponent",get:function(){return{overview:"arcgis-hub-entity-overview",details:"arcgis-hub-entity-editor",settings:"arcgis-hub-entity-settings"}[this.panel]||"arcgis-hub-workspace-missing-panel"}},{key:"handleWorkspaceNavigationLinkClicked",value:function(e){this.panel=e.detail}},{key:"renderHeader",value:function(){return(0,o.h)("div",{slot:"header"},(0,o.h)("div",{class:"workspace__top-navigation"},"This is a top navigation placeholder"),(0,o.h)("arcgis-hub-workspace-header",{class:"workspace__header",icon:this.headerIcon,label:this.headerLabel,text:this._entity.name}))}},{key:"renderNavigation",value:function(){return(0,o.h)("div",{class:"workspace__navigation",slot:"primary-panel"},(0,o.h)("slot",{name:"workspace-navigation"},(0,o.h)("arcgis-hub-workspace-navigation",{context:this.context,entity:this._entity,onArcgisHubWorkspaceNavigationLinkClicked:this.handleWorkspaceNavigationLinkClicked})))}},{key:"renderPanel",value:function(){var e=this.panelComponent;return(0,o.h)(e,{class:"workspace__panel",context:this.context,entity:this._entity,panel:this.panel})}},{key:"renderFooter",value:function(){return(0,o.h)("div",{class:"workspace__footer",slot:"footer"},"This is a footer placeholder")}},{key:"render",value:function(){return this.isLoading?(0,o.h)("arcgis-skeleton-loader",{active:!0,class:"workspace__loader",rows:3,"show-heading":"true"}):(0,o.h)(o.H,{"data-element":"workspace",unthemed:!0},(0,o.h)("calcite-shell",null,this.renderHeader(),this.renderNavigation(),this.renderPanel(),this.renderFooter()))}},{key:"element",get:function(){return(0,o.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{context:["fetchEntity"]}}}]),e}();_.style=".sc-arcgis-hub-workspace-h{position:relative;display:block;height:100vh}.workspace__navigation.sc-arcgis-hub-workspace{margin-top:1rem;margin-left:0.5rem;margin-right:2rem}.workspace__panel.sc-arcgis-hub-workspace{padding:10px}.workspace__top-navigation.sc-arcgis-hub-workspace,.workspace__footer.sc-arcgis-hub-workspace{background-color:var(--calcite-ui-text-2);display:flex;height:4rem;align-items:center;justify-content:center;color:var(--calcite-ui-text-inverse)}"},32836:function(e,t,i){i.d(t,{b:function(){return n}});var n=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i.forEach((function(t){if("function"!==typeof e[t])throw new Error("Cannot bind context. ".concat(t," must be a function"));e[t]=e[t].bind(e)}))}}}]);
//# sourceMappingURL=11612.5ab0c8df.chunk.js.map