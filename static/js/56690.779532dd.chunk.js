"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[56690],{74509:function(e,t,r){r.d(t,{Jn:function(){return c},Lt:function(){return f},Ou:function(){return v},RL:function(){return h},VW:function(){return u},W_:function(){return C},Zz:function(){return s},jG:function(){return b},mF:function(){return a},tR:function(){return k},tq:function(){return _},vQ:function(){return p},vu:function(){return l},zx:function(){return m}});var n=r(92026),i=r(88152);function o(e){return e?b:k}function s(e,t){return(0,n.Wi)(t)||!t.mode?o(e).mode:t.mode}function a(e,t){return(0,n.pC)(t)?t:o(e)}function u(e,t){return s(!!(0,n.pC)(e)&&e.hasZ,t)}function c(e,t){return a(!!(0,n.pC)(e)&&!!e.hasZ,t)}function l(e){var t=d(e);return u(e.geometry,t)}function h(e){var t=d(e),r=u(e.geometry,t);return{mode:r,offset:(0,n.pC)(t)&&"on-the-ground"!==r?(0,n.Pt)(t.offset,0)*(0,i.Z7)((0,n.Pt)(t.unit,"meters")):0}}function f(e){if("on-the-ground"===l(e))return!1;var t=d(e),r=(0,n.pC)(t)&&t.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!r||"0"===r)}function d(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function v(e,t,r){if(!(0,n.Wi)(r)&&r.mode){var i=e.hasZ?e.z:0,o=(0,n.pC)(r.offset)?r.offset:0;switch(r.mode){case"absolute-height":return i-o;case"on-the-ground":return 0;case"relative-to-ground":return i-((0,n.Pt)(t.elevationProvider.getElevation(e.x,e.y,i,e.spatialReference,"ground"),0)+o);case"relative-to-scene":return i-((0,n.Pt)(t.elevationProvider.getElevation(e.x,e.y,i,e.spatialReference,"scene"),0)+o)}}}function p(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,r,n)}function m(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return y(e,t[0],t[1],t.length>2?t[2]:0,r,n,i)}function y(e,t,r,i,o,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(!(0,n.Wi)(s)){var u=(0,n.pC)(a)?a.mode:"absolute-height";if("on-the-ground"===u)return 0;var c=_(t,r,i,o,e,s),l=c.absoluteZ;return g(l,t,r,i,o,e,a,u)}}function _(e,t,r,i,o,s){var a=(0,n.pC)(s.offset)?s.offset:0;switch(s.mode){case"absolute-height":return{absoluteZ:r+a,elevation:0};case"on-the-ground":var u=(0,n.Pt)(o.elevationProvider.getElevation(e,t,0,i,"ground"),0);return{absoluteZ:u,elevation:u};case"relative-to-ground":var c=(0,n.Pt)(o.elevationProvider.getElevation(e,t,r,i,"ground"),0);return{absoluteZ:r+c+a,elevation:c};case"relative-to-scene":var l=(0,n.Pt)(o.elevationProvider.getElevation(e,t,r,i,"scene"),0);return{absoluteZ:r+l+a,elevation:l}}}function g(e,t,r,i,o,s,a,u){var c=(0,n.pC)(a)&&(0,n.pC)(a.offset)?a.offset:0;switch(u){case"absolute-height":return e-c;case"relative-to-ground":return e-((0,n.Pt)(s.elevationProvider.getElevation(t,r,i,o,"ground"),0)+c);case"relative-to-scene":return e-((0,n.Pt)(s.elevationProvider.getElevation(t,r,i,o,"scene"),0)+c)}}function C(e,t){if((0,n.Wi)(t))return!1;var r=t.mode;return(0,n.pC)(r)&&("scene"===e&&"relative-to-scene"===r||"ground"===e&&"absolute-height"!==r)}var b={mode:"absolute-height",offset:0},k={mode:"on-the-ground",offset:null}},98074:function(e,t,r){r.d(t,{p:function(){return d}});var n=r(15671),i=r(43144),o=r(60136),s=r(92572),a=r(27366),u=r(42537),c=r(92026),l=r(67426),h=r(49861),f=(r(25243),r(63780),r(69912)),d=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).parent=null,e._userInteractive=!1,e._interactiveViewModelCount=0,e}return(0,i.Z)(r,[{key:"interactive",get:function(){return this._interactiveViewModelCount>0||this._userInteractive},set:function(e){this._userInteractive=e}},{key:"updating",get:function(){return!1}},{key:"visible",get:function(){return!(0,c.pC)(this.parent)||this.parent.visible&&!this.parent.suspended},set:function(e){this._overrideIfSome("visible",e)}},{key:"forceInteractiveForViewModel",value:function(){var e=this;return this._interactiveViewModelCount++,(0,u.kB)((function(){return e._interactiveViewModelCount--}))}}]),r}((0,l.v)(e));return(0,a._)([(0,h.Cb)({readOnly:!0})],t.prototype,"type",void 0),(0,a._)([(0,h.Cb)({constructOnly:!0})],t.prototype,"analysis",void 0),(0,a._)([(0,h.Cb)({constructOnly:!0})],t.prototype,"parent",void 0),(0,a._)([(0,h.Cb)({constructOnly:!0})],t.prototype,"view",void 0),(0,a._)([(0,h.Cb)({type:Boolean})],t.prototype,"interactive",null),(0,a._)([(0,h.Cb)()],t.prototype,"_userInteractive",void 0),(0,a._)([(0,h.Cb)({readOnly:!0})],t.prototype,"updating",null),(0,a._)([(0,h.Cb)()],t.prototype,"visible",null),(0,a._)([(0,h.Cb)()],t.prototype,"_interactiveViewModelCount",void 0),t=(0,a._)([(0,f.j)("esri.views.3d.analysis.AnalysisView3D")],t)}},33906:function(e,t,r){r.d(t,{G:function(){return s},e:function(){return a}});var n=r(92026),i=r(79803),o=r(77648);function s(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.fM)(e,t);return(0,n.Wi)(a)?null:(a.hasZ&&!s||!(0,n.pC)(r)||(a.z=(0,n.Pt)((0,o.KO)(r,a),0)),a)}function a(e,t,r){r.warnOnce("Failed to project analysis geometry (id: '".concat(e.id,"'), projection from spatial reference (wkid: '").concat(t.wkid,"') to view spatial reference is not supported. Projection may be possible after calling projection.load()."))}},33837:function(e,t,r){r.d(t,{r:function(){return _}});var n=r(37762),i=r(15671),o=r(43144),s=r(60136),a=r(92572),u=r(92026),c=r(14226),l=r(81949),h=r(11186),f=r(71353),d=r(67077),v=r(52168),p=r(79685),m=r(56529),y=r(58901),_=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,e))._hasExternalMaterial=!1,o._hasExternalMaterial=(0,u.pC)(n),o._material=(0,u.pC)(n)?n:new y.U({width:1,color:(0,d.f)(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:m.yD.OccludeAndTransparent,writeDepth:!0}),o.applyProps(e),o}return(0,o.Z)(r,[{key:"setGeometryFromRenderSpacePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.geometry=[[[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]],[[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]],[[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]]}},{key:"setGeometryFromExtent",value:function(e){var t=this.view.spatialReference,r=(0,f.c)(),n=(0,f.c)(),i=100,o=[];(0,h.s)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),(0,h.s)(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),(0,h.s)(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),(0,h.s)(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),(0,h.s)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),(0,h.s)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,n),o.push([n[0],n[1],n[2]]),this.geometry=[o]}},{key:"setGeometryFromFrustum",value:function(e){var t=[];e.lines.forEach((function(e){t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}},{key:"setGeometryFromBoundedPlane",value:function(e){var t=[],r=e.origin,n=e.basis1,i=e.basis2,o=.5,s=(0,f.c)(),a=(0,f.c)(),u=(0,f.c)(),c=(0,f.c)();s[0]=r[0]-n[0]*o-i[0]*o,s[1]=r[1]-n[1]*o-i[1]*o,s[2]=r[2]-n[2]*o-i[2]*o,a[0]=r[0]-n[0]*o+i[0]*o,a[1]=r[1]-n[1]*o+i[1]*o,a[2]=r[2]-n[2]*o+i[2]*o,u[0]=r[0]+n[0]*o+i[0]*o,u[1]=r[1]+n[1]*o+i[1]*o,u[2]=r[2]+n[2]*o+i[2]*o,c[0]=r[0]+n[0]*o-i[0]*o,c[1]=r[1]+n[1]*o-i[1]*o,c[2]=r[2]+n[2]*o-i[2]*o,t.push([s[0],s[1],s[2]]),t.push([a[0],a[1],a[2]]),t.push([u[0],u[1],u[2]]),t.push([c[0],c[1],c[2]]),t.push([s[0],s[1],s[2]]),this.geometry=[t]}},{key:"setGeometryFromSegment",value:function(e){var t=e.endRenderSpace;this.transform=(0,c.f)(g,t);var r=e.createRenderGeometry(t,this.view.renderCoordsHelper).points;this.geometry=[r]}},{key:"setGeometryFromSegments",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.Z;this.transform=(0,c.f)(g,r),this.geometry=e.map((function(e){return e.createRenderGeometry(r,t.view.renderCoordsHelper).points}))}},{key:"getTransformedGeometry",value:function(){var e=this;return(0,u.Wi)(this._geometry)?null:this._geometry.map((function(t){return t.map((function(t){return(0,h.m)((0,f.c)(),t,e.transform)}))}))}},{key:"renderOccluded",get:function(){return this._material.parameters.renderOccluded},set:function(e){this._material.setParameters({renderOccluded:e})}},{key:"geometry",get:function(){return this._geometry},set:function(e){this._geometry=e,this.recreateGeometry()}},{key:"width",get:function(){return this._material.parameters.width},set:function(e){this._material.setParameters({width:e})}},{key:"color",get:function(){return this._material.parameters.color},set:function(e){this._material.setParameters({color:(0,d.d)(e)})}},{key:"innerWidth",get:function(){return this._material.parameters.innerWidth},set:function(e){this._material.setParameters({innerWidth:e})}},{key:"innerColor",get:function(){return this._material.parameters.innerColor},set:function(e){this._material.setParameters({innerColor:(0,u.pC)(e)?(0,d.d)(e):null})}},{key:"stipplePattern",get:function(){return this._material.parameters.stipplePattern},set:function(e){(0,u.pC)(this._material)&&this._material.setParameters({stipplePattern:e})}},{key:"stippleOffColor",get:function(){return this._material.parameters.stippleOffColor},set:function(e){this._material.setParameters({stippleOffColor:(0,u.pC)(e)?(0,d.d)(e):null})}},{key:"stipplePreferContinuous",get:function(){return this._material.parameters.stipplePreferContinuous},set:function(e){this._material.setParameters({stipplePreferContinuous:e})}},{key:"writeDepthEnabled",get:function(){return this._material.parameters.writeDepth},set:function(e){this._material.setParameters({writeDepth:e})}},{key:"falloff",get:function(){return this._material.parameters.falloff},set:function(e){this._material.setParameters({falloff:e})}},{key:"polygonOffset",get:function(){return this._material.parameters.hasPolygonOffset},set:function(e){this._material.setParameters({hasPolygonOffset:e})}},{key:"createExternalResources",value:function(){}},{key:"destroyExternalResources",value:function(){}},{key:"createGeometries",value:function(e){var t,r=(0,n.Z)((0,p.c)(this.geometry));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=(0,p.Y)((0,u.Wg)(this._material),i);e.addGeometry(o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"forEachExternalMaterial",value:function(e){this._hasExternalMaterial||e((0,u.Wg)(this._material))}}]),r}(v._),g=(0,l.c)()},52168:function(e,t,r){r.d(t,{_:function(){return v}});var n=r(15671),i=r(43144),o=r(60136),s=r(92572),a=r(92026),u=r(14226),c=r(81949),l=r(86244),h=r(66327),f=r(78485),d=r(97882),v=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e.view))._resources=null,i._transform=(0,c.c)(),i}return(0,i.Z)(r,[{key:"object",get:function(){return(0,a.pC)(this._resources)?this._resources.object:null}},{key:"transform",get:function(){return this._transform},set:function(e){(0,u.c)(this._transform,e),(0,a.pC)(this._resources)&&(this._resources.object.transformation=this._transform)}},{key:"recreate",value:function(){this.attached&&this.createResources()}},{key:"recreateGeometry",value:function(){if(!(0,a.Wi)(this._resources)){var e=this._resources.object,t=this.view._stage;t.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,t.addMany(e.geometries)}}},{key:"createResources",value:function(){this.destroyResources();var e=this.view._stage;if(e){var t=new d.F({pickable:!1,updatePolicy:f.j.SYNC});e.add(t);var r=new h.T({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((function(t){return e.add(t)})),e.add(r),t.add(r),r.visible=this.visible,this._resources={layer:t,object:r}}}},{key:"destroyResources",value:function(){var e=this.view._stage;!(0,a.Wi)(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((function(t){e.remove(t),t.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}},{key:"updateVisibility",value:function(e){(0,a.Wi)(this._resources)||(this._resources.object.visible=e)}}]),r}(l.l)},86244:function(e,t,r){r.d(t,{l:function(){return s}});var n=r(15671),i=r(43144),o=r(94172),s=function(){function e(t){var r=this;(0,n.Z)(this,e),this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this._handle=(0,o.YP)((function(){return r.view.ready}),(function(e){r._resourcesCreated&&(e?r._createResources():r._destroyResources())}))}return(0,i.Z)(e,[{key:"applyProps",value:function(e){var t=!1;for(var r in e)r in this?"attached"===r?t=e[r]:this[r]=e[r]:console.error("Cannot set unknown property",r);this.attached=t}},{key:"destroy",value:function(){this.attached=!1,this._handle.remove()}},{key:"attached",get:function(){return this._attached},set:function(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}},{key:"onAttachedChange",value:function(e){}},{key:"visible",get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}},{key:"_createResources",value:function(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}},{key:"_destroyResources",value:function(){this.destroyResources(),this._resourcesCreated=!1}}]),e}()}}]);
//# sourceMappingURL=56690.779532dd.chunk.js.map