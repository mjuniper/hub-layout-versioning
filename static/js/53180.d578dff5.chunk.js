/*! For license information please see 53180.d578dff5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[53180],{53180:function(e,t,i){i.r(t),i.d(t,{arcgis_hub_date_range_facet:function(){return B},arcgis_hub_empty_state:function(){return q},arcgis_hub_facet_list:function(){return ie},arcgis_hub_facet_options:function(){return ae},arcgis_hub_gallery:function(){return le},arcgis_hub_layout_button:function(){return ue},arcgis_hub_search_input:function(){return he},arcgis_hub_search_sort:function(){return de},arcgis_hub_tree_facet:function(){return fe},calcite_accordion:function(){return pe},calcite_accordion_item:function(){return Me},calcite_tree:function(){return Ae},calcite_tree_item:function(){return Ue}});var n=i(74165),a=i(15861),r=i(93433),o=i(4942),c=i(15671),s=i(43144),l=i(29439),u=i(72585),h=i(25434),d=i(32836),f=i(62254),p=i(12868),m=i(85621),y=i(18436),v=i(96728),g=i(58318);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"OR",i=[];return e.length&&e.forEach((function(e){var n={label:e.field,key:e.field,field:e.field,display:"multi-select"},a=[];e.values.filter((function(e){return!!e})).forEach((function(i){var n={},r={};r["OR"===t?"any":"all"]=[i.value],n[e.field]=r;var o={label:i.value,key:i.value,count:i.count,selected:!1,predicates:[n]};a.push(o)})),n.options=a,i.push(n)})),i}var k=i(98410),w=i(85015),x=i(6200),S=i(40566),C=i(95640),O=i(84261),L=i(13966);i(84371),i(10625),i(21010),i(49799),i(77843),i(79399),i(9882),i(41016),i(41817),i(66287),i(91466),i(90251),i(80046),i(77699),i(69207),i(34601),i(21923),i(42016),i(34802),i(36106),i(94062),i(88968),i(59002),i(47493),i(9618),i(25831),i(84354);function T(e){return Object.keys(e).forEach((function(t){e[t]&&"object"===typeof e[t]?T(e[t]):null==e[t]&&delete e[t]})),e}function I(e){return"multi-select"===e.display||"single-select"===e.display}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(M);return t}function M(e){return"date-range"===e.display}function D(e){return"tree"===e.display}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter(Z);return t}function Z(e){return I(e)||D(e)}function _(e,t){var i=(0,h.c)(e);return t.query?i.query=t.query:null===t.query&&(i.query=""),i.sort=function(e,t){var i=(0,h.c)(e);if(t){var n=t.split("|"),a=(0,l.Z)(n,3),r=a[0],o=a[1],c=a[2];i.label=r,i.attribute=o,i.order=c}else null===t&&(i.attribute=null,i.order=null);return i}(i.sort,t.sort),i.facets=i.facets.map((function(e){if(t[e.key]){var i={};return i[e.key]=t[e.key],function(e,t){var i=(0,h.c)(e);switch(e.display){case"single-select":case"multi-select":case"tree":i=function(e,t){var i=(0,h.c)(e),n=t[e.key]||"",a="single-select"===e.display?[n]:n.split(",");return i.options=i.options.map((function(e){return e.selected=a.includes(e.key),e})),i}(e,t);break;case"date-range":i=function(e,t){var i,n=(0,h.c)(e),a=(null===(i=t[e.key])||void 0===i?void 0:i.split("|"))||[],r=(0,l.Z)(a,2),o=r[0],c=r[1],s={from:o,to:c};H(s)&&(n.value=s);return n}(e,t)}return i}(e,i)}return function(e){var t=(0,h.c)(e);switch(e.display){case"single-select":case"multi-select":t=function(e){var t=(0,h.c)(e);return t.options.forEach((function(e){e.selected=!1})),t}(e);break;case"date-range":t=function(e){var t=(0,h.c)(e);return t.value={from:null,to:null},t}(e)}return t}(e)})),Object.keys(t).forEach((function(t){var n;if(!["query","sort"].includes(t)){var a=i.facets.find((function(e){return e.key===t}));switch(a.display){case"single-select":case"multi-select":((null===(n=e[t])||void 0===n?void 0:n.split(","))||[]).forEach((function(e){if(!a.options.find((function(t){return t.key===e}))){var i={key:e,label:e,selected:!0,predicates:[]},n={};n[t]=e,i.predicates.push(n),a.options.push(i)}}))}}})),i}function R(e){var t,i,n={};e.query&&(n.query=e.query),(null===(t=e.sort)||void 0===t?void 0:t.attribute)&&(n.sort=(i=e.sort,"".concat(i.label,"|").concat(i.attribute,"|").concat(i.order))),e.layout&&(n.layout=e.layout);var a=(e.facets||[]).reduce((function(e,t){return Object.assign(Object.assign({},e),function(e){var t={};switch(e.display){case"single-select":case"multi-select":case"tree":t=function(e){var t={},i=e.options.filter((function(e){return e.selected})).map((function(e){return e.key})),n="single-select"===e.display?i[0]:i.join(",");t[e.key]=n||null;return t}(e);break;case"date-range":t=function(e){var t,i,n={},a=null===(t=e.value)||void 0===t?void 0:t.from,r=null===(i=e.value)||void 0===i?void 0:i.to;n[e.key]=a&&r?"".concat(a,"|").concat(r):null;return n}(e)}return t}(t))}),{});return Object.assign(Object.assign({},n),a)}function F(e){var t=Object.entries(e).map((function(e){var t=(0,l.Z)(e,2),i=t[0],n=t[1];return"".concat(i,"=").concat(n)})).join("&");return t&&"?".concat(t)}function H(e){return Date.parse(e.from)<Date.parse(e.to)}function z(e){return e.replace(/\(\d+\)/,"").replace("\u200e","").trim()}function P(e,t){var i=(0,h.c)(e.options);switch(e.field){case"type":i=i.map((function(e){var t=["csv","pdf","kml","wfs","wms"].includes(e.key)?e.key.toUpperCase():e.key.toLowerCase().split(" ").map((function(e){return(0,h.e)(e)})).join(" ");return e.label=t,e}));break;case"access":i=i.map((function(e){var i=z(e.label).toLowerCase();return e.label=t.t("facets.access.".concat(i)),e}));case"categories":i=i.map((function(e){var t=e.label.split("/");return e.label=t[t.length-1],e}))}return i=i.map((function(e){return e.label=function(e,t,i){return null==t?e:"rtl"===i.direction?"\u200e(".concat(t,") ").concat(e):"".concat(e," (").concat(t,")")}(e.label,e.count,t),e})),i}var B=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.arcgisHubDateRangeFacetChange=(0,u.c)(this,"arcgisHubDateRangeFacetChange",7),(0,d.b)("handleCalciteInputDatePickerRef")}return(0,s.Z)(e,[{key:"handleDateRangeChange",value:function(e){e.preventDefault();var t=(0,f.g)(e,"detail.startDate"),i=(0,f.g)(e,"detail.endDate");null===i||void 0===i||i.setHours(23,59,59,999);var n={from:null===t||void 0===t?void 0:t.toISOString(),to:null===i||void 0===i?void 0:i.toISOString()};H(n)?this.arcgisHubDateRangeFacetChange.emit({key:this.facet.key,value:n}):t||i||this.arcgisHubDateRangeFacetChange.emit({key:this.facet.key,value:{from:null,to:null}})}},{key:"handleCalciteInputDatePickerRef",value:function(e){if(e.shadowRoot&&!e.shadowRoot.querySelector("style[data-hub]")){var t=document.createElement("style");t.dataset.hub="",t.innerHTML=".menu-container { pointer-events: auto !important; }",e.shadowRoot.appendChild(t)}}},{key:"render",value:function(){var e=(0,f.g)(this.facet,"value.from")||null,t=(0,f.g)(this.facet,"value.to")||null,i=new Date;return(0,u.h)(u.H,{"data-element":"date-range-facet"},(0,u.h)("calcite-input-date-picker",{layout:"horizontal",max:i.toISOString(),range:!0,ref:this.handleCalciteInputDatePickerRef,value:[e,t]}))}}]),e}();B.style=":host{display:block}";var q=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.message="No results found."}return(0,s.Z)(e,[{key:"render",value:function(){return(0,u.h)(u.H,null,(0,u.h)("calcite-icon",{icon:"file-magnifying-glass"}),(0,u.h)("h3",null,this.message))}}]),e}();q.style=":host{display:flex;flex-direction:column;align-items:center;gap:2rem}calcite-icon{width:auto;height:16rem}";var j=function(e){var t=G(e),i=N(t),n=1===i.length?i[0]:t;return V(n)},G=function(e){var t={label:"root",children:{}};return e.forEach((function(e){var i=e.key.slice(1).split("/");K(t,e,i)})),t},K=function e(t,i,n){if(n.length){var a=n.shift(),r=t.children[a]||{label:a,children:{}};t.children[a]=r,e(r,i,n)}else t.label=i.label,t.option=i},U=function(e){return!!N(e).length},N=function(e){return Object.values(e.children)},W=function e(t){var i;return U(t)?N(t).every(e):!!(null===(i=t.option)||void 0===i?void 0:i.selected)},V=function(e){var t=(0,h.c)(e);return N(t).forEach((function(e){Q(e)})),t},Q=function e(t){U(t)&&(N(t).forEach((function(t){e(t)})),t.children=Object.assign((0,o.Z)({},t.label,{label:t.label,children:{},option:t.option,isParentSelf:!0}),t.children),delete t.option)},Y=function e(t){var i,n=null===(i=t.option)||void 0===i?void 0:i.key,a=t.option?t.option.selected:W(t);return(0,u.h)("calcite-tree-item",{"data-key":n,selected:a},(0,u.h)("div",{class:"option-label"},t.label),U(t)&&(0,u.h)("calcite-tree",{slot:"children"},N(t).map((function(t){return e(t)}))))},J=function(e){return e.options.filter((function(e){return e.selected})).map((function(t){var i=z(t.label);return{key:e.key,label:e.label,optionKey:t.key,optionLabel:i}}))},X=function(e){return $(e,j(e.options))};function $(e,t){var i=function(e){return N(e).find((function(e){return e.isParentSelf}))}(t),n=(null===i||void 0===i?void 0:i.option)||t.option;return W(t)&&n?[{key:e.key,label:e.label,optionKey:n.key,optionLabel:z(n.label)}]:N(t).map((function(t){return $(e,t)})).flat()}var ee=function(e,t){var i=(0,h.c)(e);return i.options.forEach((function(e){e.key===t.optionKey&&(e.selected=!1)})),i},te=function(e,t){var i=(0,h.c)(e),n=i.options.find((function(e){return e.key===t.optionKey})),a=i.options.filter((function(e){return e.key!==t.optionKey&&e.key.includes(t.optionKey)})),r=!!a.length&&a.every((function(e){return e.selected}));return n&&(n.selected=!1),r&&a.forEach((function(e){return e.selected=!1})),i},ie=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.arcgisHubFacetListChange=(0,u.c)(this,"arcgisHubFacetListChange",7),this.arcgisHubFacetListReset=(0,u.c)(this,"arcgisHubFacetListReset",7),this.hubTelemetry=(0,u.c)(this,"hubTelemetry",7),this.showChips=!1,this.facets=[],this.disableTelemetry=!1,(0,d.b)(this,"resetFacets")}return(0,s.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeSendTelemetry",value:function(e){this.disableTelemetry||this.hubTelemetry.emit(e)}},{key:"onListFacetChange",value:function(e){e.preventDefault(),this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.filter),{details:e.detail.checked?"".concat(e.detail.key,": ").concat(e.detail.optionKey):"".concat(e.detail.key,": Removed ").concat(e.detail.optionKey),element:e.detail.key,position:e.detail.optionIndex}));var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(I)}(this.facets).find((function(t){return t.key===e.detail.key}));t.options=t.options.map((function(i){return i.key===e.detail.optionKey?i.selected=e.detail.checked:"single-select"===t.display&&(i.selected=!1),i})),this.arcgisHubFacetListChange.emit(t)}},{key:"onTreeFacetChange",value:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(D)}(this.facets).find((function(t){return t.key===e.detail.key}));t.options=t.options.map((function(t){return t.selected=e.detail.selectedKeys.includes(t.key),t})),this.arcgisHubFacetListChange.emit(t)}},{key:"onDateRangeFacetChange",value:function(e){var t=e.detail,i=t.key,n=t.value,a=E(this.facets).find((function(e){return e.key===i}));H(n)&&this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.filter),{details:m.d.constants.details.DATE_UPDATED,element:a.key})),a.value=n,this.arcgisHubFacetListChange.emit(a)}},{key:"onChipDismiss",value:function(e){e.preventDefault();var t=e.detail["data-chip"],i=this.facets.findIndex((function(e){return e.key===t.key})),n=function(e,t){var i;switch(e.display){case"multi-select":i=ee(e,t);break;case"tree":i=te(e,t)}return i}(this.facets[i],t);this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.filter),{details:"".concat(n.key,": Removed ").concat(t.optionKey),element:m.d.constants.element.CHIPS})),this.facets[i]=n,this.arcgisHubFacetListChange.emit(n)}},{key:"resetFacets",value:function(){this.arcgisHubFacetListReset.emit()}},{key:"chips",get:function(){return this.facets.reduce((function(e,t){var i=[];switch(t.display){case"multi-select":i=J(t);break;case"tree":i=X(t)}return[].concat((0,r.Z)(e),(0,r.Z)(i))}),[])}},{key:"renderFacets",value:function(){var e=this;return this.facets.map((function(t){return!Z(t)||t.options.length>1?(0,u.h)("calcite-accordion-item",{"item-title":t.label,key:t.key},e.renderFacetComponent(t)):null}))}},{key:"renderFacetComponent",value:function(e){switch(e.display){case"single-select":case"multi-select":return(0,u.h)("arcgis-hub-facet-options",{facet:e});case"date-range":return(0,u.h)("arcgis-hub-date-range-facet",{facet:e});case"tree":return(0,u.h)("arcgis-hub-tree-facet",{facet:e})}}},{key:"renderChips",value:function(){return this.chips.map((function(e){var t="".concat(e.label,": ").concat(e.optionLabel);return(0,u.h)("calcite-chip",{"data-chip":e,key:e.optionKey,scale:"m",value:t},t)}))}},{key:"render",value:function(){if(this.facets.length)return(0,u.h)(u.H,null,(0,u.h)("div",{class:"header-container",id:"filters-header"},(0,u.h)("calcite-button",{appearance:"transparent","aria-labelledby":"filters-header",class:"reset-facets-button",color:"blue",onClick:this.resetFacets},this.intl.t("reset")),(0,u.h)("slot",{name:"header"})),this.showChips?this.renderChips():"",(0,u.h)("calcite-accordion",{appearance:"minimal",scale:"l"},(0,u.h)("div",{class:"additional-facet-container"},(0,u.h)("slot",{name:"additional-facet"})),this.renderFacets()))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();ie.style=":host{display:block}.header-container{display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between}.header-container calcite-button{font-size:1rem}calcite-accordion{border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2)}calcite-chip{margin-bottom:0.5rem;max-width:100%}calcite-chip:nth-last-of-type(1){margin-bottom:1.25rem}.reset-facets-button{--calcite-font-size--1:var(--hub-gallery-font-size-large)}.additional-facet-container{--calcite-font-size--1:var(--calcite-font-size-0)}";var ne,ae=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.arcgisHubFacetOptionsChange=(0,u.c)(this,"arcgisHubFacetOptionsChange",7),this.arcgisHubFacetMoreLessClicked=(0,u.c)(this,"arcgisHubFacetMoreLessClicked",7),this.showLimitedOptions=!1,this.query="",this.pageSize=5,(0,d.b)(this,"handleCalciteRadioButtonChangeEvent","handleCalciteCheckboxChangeEvent","toggleMoreOrLessButton","handleCalciteInputInput","setPageSeparator")}return(0,s.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.facet.optionLimit&&(this.pageSize=this.facet.optionLimit),e.next=3,p.i.loadIntlForComponent(this.element);case 3:this.intl=e.sent,this.facet.options.length>this.pageSize&&(this.showLimitedOptions=!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCalciteInputInput",value:function(e){this.query=e.detail.value}},{key:"handleCalciteRadioButtonChangeEvent",value:function(e){this.onFacetChanged(e.target.id,e.target.checked)}},{key:"handleCalciteCheckboxChangeEvent",value:function(e,t){this.onFacetChanged(t.target.id,t.target.checked,e)}},{key:"onFacetChanged",value:function(e,t,i){this.arcgisHubFacetOptionsChange.emit({key:this.facet.key,optionKey:e,checked:t,optionIndex:i})}},{key:"filteredOptions",get:function(){var e=this;return this.facet.options.filter((function(t){return t.label.toLowerCase().includes(e.query.toLowerCase())}))}},{key:"orderedOptions",get:function(){return"label"===this.facet.orderBy?this.filteredOptions.sort((function(e,t){return e.label.localeCompare(t.label)})):this.filteredOptions.sort((function(e,t){var i,n;return(null!==(i=t.count)&&void 0!==i?i:0)-(null!==(n=e.count)&&void 0!==n?n:0)}))}},{key:"setPageSeparator",value:function(e){this.pageSeparator=e}},{key:"renderCheckboxes",value:function(){var e=this,t=this.orderedOptions.map((function(t,i){var n=t.count?"".concat(t.key,":").concat(t.count):t.key,a=e.handleCalciteCheckboxChangeEvent.bind(e,i);return(0,u.h)("calcite-label",{key:n,layout:"inline"},(0,u.h)("calcite-checkbox",{checked:t.selected,id:t.key,name:t.label,onCalciteCheckboxChange:a}),(0,u.h)("span",{class:"option"},t.label))})),i=t.slice(0,this.pageSize),n=this.showLimitedOptions?[]:t.slice(this.pageSize);return[].concat((0,r.Z)(i),[(0,u.h)("span",{key:"page-separator",ref:this.setPageSeparator,tabIndex:-1})],(0,r.Z)(n))}},{key:"toggleMoreOrLessButton",value:function(){this.arcgisHubFacetMoreLessClicked.emit({facet:this.facet,isMore:this.showLimitedOptions}),this.showLimitedOptions=!this.showLimitedOptions,this.renderCheckboxes(),this.pageSeparator.focus()}},{key:"optionsLeftToDisplay",get:function(){return this.filteredOptions.length-this.pageSize}},{key:"moreOrLessButtonIconEnd",get:function(){return this.showLimitedOptions?"chevron-down":"chevron-up"}},{key:"moreOrLessButtonLabel",get:function(){return this.showLimitedOptions?this.intl.t("showMore",{num:this.optionsLeftToDisplay}):this.intl.t("showLess")}},{key:"renderMoreOrLessButton",value:function(){if("multi-select"===this.facet.display&&this.filteredOptions.length>this.pageSize)return(0,u.h)("div",{class:"more-or-less-container"},(0,u.h)("calcite-button",{appearance:"transparent",color:"blue","icon-end":this.moreOrLessButtonIconEnd,onClick:this.toggleMoreOrLessButton},this.moreOrLessButtonLabel))}},{key:"renderRadioButtons",value:function(){var e=this;return this.facet.options.map((function(t){return(0,u.h)("calcite-label",{key:t.key,layout:"inline"},(0,u.h)("calcite-radio-button",{checked:t.selected,id:t.key,name:t.label,onCalciteRadioButtonChange:e.handleCalciteRadioButtonChangeEvent,value:t.key}),(0,u.h)("span",{class:"option"},t.label))}))}},{key:"renderNoMatchesNotice",value:function(){return"multi-select"===this.facet.display&&!this.filteredOptions.length&&(0,u.h)("calcite-notice",{id:"no-match-notice",width:"full"},(0,u.h)("div",{slot:"message"},this.intl.t("noMatchesNotice")))}},{key:"render",value:function(){var e="multi-select"===this.facet.display;return(0,u.h)(u.H,{"data-element":"facet-options"},e&&(0,u.h)("calcite-input",{"aria-label":this.intl.t("inputAriaLabel"),"aria-labelledby":"no-match-notice",class:"option-search-bar",clearable:!0,placeholder:this.intl.t("inputPlaceholder")}),(0,u.h)("calcite-radio-button-group",{layout:"vertical",name:"facet-group"},e?this.renderCheckboxes():this.renderRadioButtons()),this.renderMoreOrLessButton(),this.renderNoMatchesNotice())}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();function re(e){return e.type,oe(e)}function oe(e){var t,i,n,a=e.type,r=e.typeKeywords,o={access:e.access,id:e.id,title:e.name,source:e.owner,summary:e.summary,family:e.family,type:a,additionalInfo:[],actionLinks:[],badges:[]};return o=(0,h.m)("thumbnailUrl",null===(t=e.links)||void 0===t?void 0:t.thumbnail,o),o=(0,h.m)("titleUrl",null===(i=e.links)||void 0===i?void 0:i.self,o),o=(0,h.m)("titleUrl",null===(n=e.links)||void 0===n?void 0:n.custom,o),o=(0,h.m)("source",e.orgName,o),o="User"===a?function(e,t){return t}(0,o):"Group"===a?function(e,t){e.isSharedUpdate&&t.badges.push({i18nKey:"sharedEdit",color:"grey",icon:"pencil-square"});e.isOpenData&&t.badges.push({i18nKey:"opendata",color:"grey",icon:"star-circle"});e.hasOwnProperty("membershipSummary")&&t.additionalInfo.push({i18nKey:"members",value:e.membershipSummary.total});e.hasOwnProperty("contentCount")&&t.additionalInfo.push({i18nKey:"content",value:e.contentCount});return t}(e,o):(0,y.e)(a,r)?function(e,t){var i;return t=(0,h.m)("titleUrl",null===(i=e.links)||void 0===i?void 0:i.self,t),t=ce(e,t),t}(e,o):ce(e,o),o}function ce(e,t){var i,n;return e.type&&t.additionalInfo.push({i18nKey:"type",value:e.type}),e.updatedDate&&t.additionalInfo.push({i18nKey:"dateUpdated",value:e.updatedDate.toLocaleDateString()}),(null===(i=e.tags)||void 0===i?void 0:i.length)&&t.additionalInfo.push({i18nKey:"tags",value:e.tags.join(", ")}),(null===(n=e.categories)||void 0===n?void 0:n.length)&&t.additionalInfo.push({i18nKey:"categories",value:e.categories.join(", ")}),e.hasOwnProperty("layerCount")&&t.additionalInfo.push({i18nKey:"layers",value:e.layerCount}),e.hasOwnProperty("pageCount")&&t.additionalInfo.push({i18nKey:"pages",value:e.pageCount}),e.createdDate&&t.additionalInfo.push({i18nKey:"dateCreated",value:e.createdDate.toLocaleDateString()}),t}ae.style=":host{display:block}calcite-input{--calcite-ui-foreground-1:var(--hub-gallery-input-background);--calcite-ui-text-1:var(--hub-gallery-input-text)}.option-search-bar{margin-bottom:0.75rem}.option{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:normal}calcite-radio-button-group>calcite-label{--calcite-font-size--1:var(--calcite-font-size-0)}@media (max-width: 576px){calcite-label{padding-top:0.5rem}calcite-label{padding-bottom:0.5rem}}.more-or-less-container{width:100%;display:flex;flex-direction:row-reverse}",function(e){e.asc="asc",e.desc="desc"}(ne||(ne={}));var se=function(e,t,i,n){var a,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(r<3?a(o):r>3?a(t,i,o):a(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},le=function(){function e(t){var i=this;(0,c.Z)(this,e),(0,u.r)(this,t),this.hubTelemetry=(0,u.c)(this,"hubTelemetry",7),this.arcgisHubGallerySelect=(0,u.c)(this,"arcgisHubGallerySelect",7),this.arcgisHubGalleryQueryChange=(0,u.c)(this,"arcgisHubGalleryQueryChange",7),this.arcgisHubGalleryStateChange=(0,u.c)(this,"arcgisHubGalleryStateChange",7),this.arcgisHubGalleryResultsChange=(0,u.c)(this,"arcgisHubGalleryResultsChange",7),this.arcgisHubGalleryAction=(0,u.c)(this,"arcgisHubGalleryAction",7),this.arcgisHubContentGalleryFacetModalClose=(0,u.c)(this,"arcgisHubContentGalleryFacetModalClose",7),this.portal="https://www.arcgis.com",this.apiType="arcgis",this.limit=10,this.sortField=null,this.sortOrder=null,this.layout="list",this.showThumbnail=!0,this.imageType=v.I.thumbnail,this.lazy=!1,this.showSort=!1,this.showSearch=!1,this.showChips=!1,this.showFacets=!1,this.newTab=!1,this.selectable=!1,this.showMoreResultsBtn=!1,this.showResultsCount=!1,this.showBackToTopBtn=!1,this.viewModels=[],this.include="",this.state={},this.corners=v.C.square,this.showAdditionalInfo=!0,this.showEmptyState=!0,this.disableTelemetry=!1,this.showLinkButton=!1,this.mobileView=!1,this.showFacetModal=!1,this.showBadges=!0,this.showType=!0,this.showOwner=!0,this.showLayoutSwitcher=!1,this.clickableCards=!1,this.showSelection=!1,this.loading=!0,this.actions=[],this.models=[],this._isStaticList=!1,this.sortOptions=[{attribute:null,label:"Relevance",defaultOrder:null,order:null},{attribute:"title",label:"Title",defaultOrder:"asc",order:"asc"},{attribute:"created",label:"Date Created",defaultOrder:"desc",order:"desc"},{attribute:"modified",label:"Date Updated",defaultOrder:"desc",order:"desc"}],this.gridColumns=4,this.getCardLayout=function(e,t,n){var a="list"===e?"row":"card";if("grid-filled"===e){var r=n%i.gridColumns;r<2&&t>=n-r&&(a="row")}return a},(0,d.b)(this,"changeSortField","fetchMore","actionHandler","handleResize","forceModalClose","onFacetModalClose","onFacetChange","resetFacets","backToTop","setResultTopSpan")}return(0,s.Z)(e,[{key:"_activeSortOption",get:function(){var e=this.sortField,t=this.sortOptions.find((function(t){return t.attribute===e}));return t&&Object.assign(Object.assign({},t),{order:this.sortOrder})}},{key:"handleResize",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.element.clientWidth,i=1,t>1090?i=4:t>810?i=3:t>530&&(i=2),this.element.style.setProperty("--columns","".concat(i)),this.gridColumns=i;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.i.loadIntlForComponent(this.element);case 2:if(this.intl=e.sent,this.viewModels.length&&(this._isStaticList=!0),this._context=this.context,this._context||!this.portal){e.next=10;break}return e.next=8,w.A.create({portalUrl:this.portal});case 8:t=e.sent,this._context=t.context;case 10:if(this.collection?(this.collection.include||(this.collection.include=[]),this.include&&(this.collection.include=this.include.split("|"))):this.collection={label:"Default",key:"default",include:[],targetEntity:this.galleryType||"item",scope:{targetEntity:this.galleryType||"item",filters:[{predicates:[{term:this.query}]}]}},!this.facets){e.next=14;break}return e.next=14,this.fetchDynamicFacetOptions();case 14:Object.keys(this.state).length>0&&this.applySerializedState(this.state),this._facetsCopy=(0,h.c)(this.facets),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.gallerySelection&&Object.entries(this.gallerySelection).length||(this.gallerySelection={item:[],group:[],user:[],groupMember:[],event:[]}),this._gallerySelection=(0,h.c)(this.gallerySelection),this.prepareAndExecuteSearch();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){"grid-filled"===this.layout&&g.R.addHandler(this.element,this.handleResize)}},{key:"disconnectedCallback",value:function(){g.R.unobserve(this.element)}},{key:"handleContextChange",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._context=this.context,!this.facets){e.next=4;break}return e.next=4,this.fetchDynamicFacetOptions();case 4:this.prepareAndExecuteSearch();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchFacetsAndSearch",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.facets){e.next=5;break}return e.next=3,this.fetchDynamicFacetOptions();case 3:this.applySerializedState({}),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState);case 5:this.prepareAndExecuteSearch();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prepareAndExecuteSearch",value:function(){this.search(this.activeQuery,this._searchOptions)}},{key:"onViewModelsChanged",value:function(){this._isStaticList=!!this.viewModels.length,this.prepareAndExecuteSearch()}},{key:"onStateChanged",value:function(){this.applySerializedState(this.state),this.prepareAndExecuteSearch()}},{key:"setResultTopSpan",value:function(e){this.resultTopSpan=e}},{key:"applySerializedState",value:function(e){var t=_(this.galleryState,e);t.query!==this.query&&(this.query=t.query),t.sort&&(this.sortField=t.sort.attribute,this.sortOrder=t.sort.order),t.facets&&(this.facets=t.facets)}},{key:"_aggFieldBatches",get:function(){for(var e=A(this.facets).reduce((function(e,t){return t.field&&e.push(t.field),e}),[]),t=[],i=0;i<e.length;i+=3)t.push(e.slice(i,i+3));return t}},{key:"_aggLimit",get:function(){return A(this.facets).reduce((function(e,t){return t.aggLimit&&t.aggLimit>e&&(e=t.aggLimit),e}),10)}},{key:"hasSearchResults",get:function(){return this.lastSearchResponse&&!!this.models.length}},{key:"activeFacetFilters",get:function(){var e=[];return A(this.facets).forEach((function(t){var i=t.options.reduce((function(e,t){return t.selected&&(e=[].concat((0,r.Z)(e),(0,r.Z)(t.predicates))),e}),[]);if(i.length){var n={operation:t.operation,predicates:i};e.push(n)}})),e}},{key:"activeDateRangeFilters",get:function(){var e=[];return E(this.facets||[]).forEach((function(t){if(t.value&&H(t.value)){var i={from:Date.parse(t.value.from),to:Date.parse(t.value.to)},n={operation:"OR",predicates:[(0,o.Z)({},t.field,i)]};e.push(n)}})),e}},{key:"fetchDynamicFacetOptions",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,i,a=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._aggSearchOptionBatches.length){e.next=14;break}return e.prev=1,t=this._aggSearchOptionBatches.map((function(e){return(0,x.h)(a.collection.scope,e)})),e.next=5,Promise.all(t);case 5:i=e.sent,i.reduce((function(e,t){var i=t.aggregations;if(i){var n=b(i);e=e.concat(n)}return e}),[]).forEach((function(e){var t=A(a.facets).find((function(t){return t.field===e.field}));t&&(t.options=P(e,a.intl))})),this.facets=this.facets.map((function(e){return(0,h.c)(e)})),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),new Error("Error loading facet options: ".concat(e.t0));case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,i){var a,r,o,c,s,l=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isStaticList){e.next=5;break}this.models=(0,h.c)(this.viewModels),this.loading=!1,e.next=27;break;case 5:return this.lastSearchResponse||(this.loading=!0),e.prev=6,e.next=9,(0,x.h)(t,i);case 9:a=e.sent,this.loading=!1,this.lastSearchResponse=a,this.arcgisHubGalleryResultsChange.emit(a.results),r=a.results.map((function(e){return e.links.custom=l.applyTitleLinkCallback(e),e})),o=this.sortByIds,c=r,o&&o.length&&(c=r.slice().sort((function(e,t){return(o.includes(e.id)?o.indexOf(e.id):1/0)-(o.includes(t.id)?o.indexOf(t.id):1/0)}))),s=c.map(re),this._cachedModels=s,s=this.maybeShowButtons(s),this.models=s,e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(6),this.loading=!1,new Error("Error loading results: ".concat(e.t0));case 27:case"end":return e.stop()}}),e,this,[[6,23]])})));return function(t,i){return e.apply(this,arguments)}}()},{key:"onLinkButtonPropsChange",value:function(){this.models=this.maybeShowButtons(this._cachedModels)}},{key:"maybeShowButtons",value:function(e){var t=this;return this.showLinkButton&&(e=e.map((function(e){return(e=Object.assign({},e)).titleUrl&&(e.actionLinks=[{label:t.linkButtonText,href:e.titleUrl}].concat((0,r.Z)(e.actionLinks))),e}))),e}},{key:"fetchMore",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,i,a=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.ceil(this.viewModels.length/this.limit),this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.loadMore),{search:F(this.serializedGalleryState),element:m.d.constants.element.RESULTS_LIST,position:t,count:this.lastSearchResponse.total})),e.prev=2,e.next=5,this.lastSearchResponse.next();case 5:this.lastSearchResponse=e.sent,i=this.lastSearchResponse.results.reduce((function(e,t){t.links.custom=a.applyTitleLinkCallback(t);var i=re(t);return e.push(i),e}),(0,r.Z)(this._cachedModels)),this._cachedModels=i,i=this.maybeShowButtons(i),this.models=i,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Unable to fetch more results: ".concat(e.t0));case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"backToTop",value:function(){this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.backToTop),{element:m.d.constants.element.BACK_TO_TOP})),this.resultTopSpan.focus({preventScroll:!0}),this.element.parentElement?this.element.parentElement.scrollIntoView({behavior:"smooth"}):this.element.scrollIntoView({behavior:"smooth"})}},{key:"applyTitleLinkCallback",value:function(e){var t=e.links.self;return this.computeUrlCallback&&"function"===typeof this.computeUrlCallback?t=this.computeUrlCallback(e):"string"===typeof this.baseUrl&&(t="".concat(this.baseUrl).concat(e.links.siteRelative)),t}},{key:"activeQuery",get:function(){var e=(0,h.c)(this.collection.scope);if(this.query&&e.filters.push({predicates:[{term:this.query}]}),this.activeFacetFilters.length&&(e.filters=[].concat((0,r.Z)(e.filters),(0,r.Z)(this.activeFacetFilters))),this.activeDateRangeFilters.length&&(e.filters=[].concat((0,r.Z)(e.filters),(0,r.Z)(this.activeDateRangeFilters))),e.filters.length||"user"!==this.collection.targetEntity||e.filters.push({predicates:[{term:""}]}),!this.showSelection&&this.gallerySelection&&(0,h.f)(Object.values(this.gallerySelection)).length)for(var t=0,i=Object.entries(this.gallerySelection);t<i.length;t++){var n=(0,l.Z)(i[t],2),a=n[0],o=n[1];a===e.targetEntity&&e.filters.push({predicates:[{id:{not:(0,r.Z)(o)}}]})}return e}},{key:"_apiUrl",get:function(){var e,t;return"arcgis-hub"===this.apiType?null===(e=this._context)||void 0===e?void 0:e.hubUrl:null===(t=this._context)||void 0===t?void 0:t.portalUrl}},{key:"_searchOptions",get:function(){var e;return{num:this.limit,sortField:this.sortField,sortOrder:ne[this.sortOrder],api:{type:this.apiType,url:this._apiUrl},include:(0,r.Z)(this.collection.include),requestOptions:null===(e=this._context)||void 0===e?void 0:e.hubRequestOptions}}},{key:"_aggSearchOptionBatches",get:function(){var e,t={num:1,api:{type:this.apiType,url:this._apiUrl},include:[],requestOptions:null===(e=this._context)||void 0===e?void 0:e.hubRequestOptions,aggLimit:this._aggLimit},i=[];return this._aggFieldBatches.forEach((function(e){i.push(Object.assign(Object.assign({},t),{aggFields:e}))})),i}},{key:"galleryState",get:function(){return{query:this.query,sort:this._activeSortOption,collection:this.collection,facets:this.facets,layout:this.layout}}},{key:"serializedGalleryState",get:function(){return T(R(this.galleryState))}},{key:"handleLayoutSelect",value:function(e){var t,i;this.layout=e.detail,this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.view),{element:m.d.constants.element.VIEW_BUTTON,details:"".concat((i=this.layout,i.replace(/\s\s+/g," ").split(" ").map((function(e){return(0,h.e)(e)})).join(" "))," View"),search:F(this.serializedGalleryState),count:(null===(t=this.lastSearchResponse)||void 0===t?void 0:t.total)||0})),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState)}},{key:"sendCardTitleClickTelemetry",value:function(e){var t,i=e.detail.model;this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.click),{type:i.type,search:F(this.serializedGalleryState),element:m.d.constants.element.RESULTS_LIST,position:i.index,count:null===(t=this.lastSearchResponse)||void 0===t?void 0:t.total}))}},{key:"sendMoreLessClickTelemetry",value:function(e){var t=e.detail,i=t.facet,n=t.isMore;this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.filter),{details:n?m.d.constants.details.MORE:m.d.constants.details.LESS,search:F(this.serializedGalleryState),element:i.key,count:this.lastSearchResponse.total}))}},{key:"handleSearchChange",value:function(e){e.stopPropagation(),this.query!==e.detail&&(this.query=e.detail,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.maybeSendTelemetry(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.query),{search:F(this.serializedGalleryState),element:m.d.constants.element.ON_PAGE})))}},{key:"onFacetChange",value:function(e){e.stopPropagation();var t=e.detail,i=this.facets.map((function(e){return e.key===t.key?(0,h.c)(t):e}));this.facets=i,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}},{key:"cardSelect",value:function(e){e.stopPropagation();var t=e.detail.id,i=this._gallerySelection[this.collection.targetEntity];i.includes(t)?this._gallerySelection[this.collection.targetEntity]=(0,h.w)(i,e.detail.id):this._gallerySelection[this.collection.targetEntity]=[].concat((0,r.Z)(i),[e.detail.id]),this.arcgisHubGallerySelect.emit(this._gallerySelection)}},{key:"resetFacets",value:function(){var e;this.hubTelemetry.emit(Object.assign(Object.assign({},m.d.dictionary.category.interaction.action.search.label.filter),{details:m.d.constants.details.RESET,search:F(this.serializedGalleryState),element:m.d.constants.element.RESET_FILTERS,count:null===(e=this.lastSearchResponse)||void 0===e?void 0:e.total})),this.facets=(0,h.c)(this._facetsCopy),this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}},{key:"maybeSendTelemetry",value:function(e){this.disableTelemetry||this.hubTelemetry.emit(e)}},{key:"changeSortField",value:function(e){this.sortField=e.detail.attribute,this.sortOrder=e.detail.order,this.arcgisHubGalleryStateChange.emit(this.serializedGalleryState),this.prepareAndExecuteSearch()}},{key:"renderSearch",value:function(){if(this.showSearch)return(0,u.h)("arcgis-hub-search-input",{class:"search-bar",placeholder:this.intl.t("search"),scale:"l",text:this.intl.t("search"),value:this.query})}},{key:"renderLayoutSwitcher",value:function(){var e=this;if(this.showLayoutSwitcher&&!this.mobileView){var t=[{tooltip:this.intl.t("layoutOptions.grid"),layout:"grid",icon:"grid"},{tooltip:this.intl.t("layoutOptions.list"),layout:"list",icon:"list"}];return(0,u.h)("div",{class:"layout-switcher-container"},t.map((function(t){return(0,u.h)("arcgis-hub-layout-button",{class:"layout-option",icon:t.icon,key:t.layout,layout:t.layout,selected:e.layout===t.layout,tooltip:t.tooltip})})))}}},{key:"renderMoreResultsBtn",value:function(){var e;if(this.showMoreResultsBtn&&(null===(e=this.lastSearchResponse)||void 0===e?void 0:e.hasNext))return(0,u.h)("calcite-button",{onClick:this.fetchMore},this.intl.t("moreResults"))}},{key:"renderBackToTopBtn",value:function(){if(this.showBackToTopBtn&&this.hasSearchResults)return(0,u.h)("calcite-button",{appearance:"outline",class:"back-to-top-btn",onClick:this.backToTop},this.intl.t("backToTop"))}},{key:"renderSort",value:function(){if(this.showSort&&this.hasSearchResults)return(0,u.h)("arcgis-hub-search-sort",{activeSortOption:this._activeSortOption,class:"search-sort",onHubSearchSortChange:this.changeSortField,sortOptions:this.sortOptions})}},{key:"forceModalClose",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showFacetModal=!1;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onFacetModalClose",value:function(e){e.stopPropagation(),this.arcgisHubContentGalleryFacetModalClose.emit()}},{key:"renderFacets",value:function(){if(this.showFacets)return this.mobileView?this.renderMobileFacets():this.renderDesktopFacets(this.facets)}},{key:"renderDesktopFacets",value:function(e){return(0,u.h)("arcgis-hub-facet-list",{disableTelemetry:this.disableTelemetry,facets:e,onArcgisHubFacetListChange:this.onFacetChange,onArcgisHubFacetListReset:this.resetFacets,showChips:this.showChips},(0,u.h)("div",{slot:"additional-facet"},this.additionalFacet),this.mobileView?"":(0,u.h)("h2",{class:"facet-list-header",slot:"header"},this.intl.t("filter")))}},{key:"renderMobileFacets",value:function(){var e,t=this.facets.map((function(e){return(0,h.c)(Object.assign(Object.assign({},e),{accordionClosed:!1}))}));return(0,u.h)("arcgis-wormhole",null,(0,u.h)("calcite-modal",{onCalciteModalClose:this.onFacetModalClose},(0,u.h)("span",{slot:"header"},this.intl.t("filter")),(0,u.h)("div",{slot:"content"},this.renderDesktopFacets(t)),(0,u.h)("calcite-button",{onClick:this.forceModalClose,slot:"primary",width:"full"},this.intl.t("viewResults",{numResults:null===(e=this.lastSearchResponse)||void 0===e?void 0:e.total}))))}},{key:"getCardComponentName",value:function(e){var t="arcgis-hub-card";if("Web Map"===e.type)t="arcgis-hub-card";return t}},{key:"actionHandler",value:function(e,t){console.log("arcgisHubGalleryAction",[e,t]),this.arcgisHubGalleryAction.emit({action:e,model:t})}},{key:"renderSkeletons",value:function(){var e=this,t=1;this.showType||this.showOwner&&t++,"list"!==this.layout&&t++;var i=(0,r.Z)(Array(this.limit).keys()).map((function(i){return(0,u.h)("arcgis-skeleton-loader",{active:!0,headingRows:t,key:i,rows:3,showHeading:!0,showThumbnail:"list"!==e.layout},e.showLinkButton&&(0,u.h)("div",{class:"loading-link-button"}))}));return(0,u.h)(u.F,null,i)}},{key:"renderList",value:function(e){var t,i=this,n=["card-container","cols-".concat(this.gridColumns)].join(" ");if(e.length){var a=e.map((function(t,n){var a=i.gallerySelection[i.collection.targetEntity].includes(t.id);t.index=n;var r=i.getCardComponentName(t);return(0,u.h)(r,{clickable:i.clickableCards,context:i._context,corners:i.corners,imageType:i.imageType,key:t.id,layout:i.getCardLayout(i.layout,n,e.length),lazy:i.lazy,model:t,newTab:i.newTab,selectable:i.selectable,selected:a,shadow:i.shadow,showAdditionalInfo:i.showAdditionalInfo,showBadges:i.showBadges,showOwner:i.showOwner,showThumbnail:i.showThumbnail,showType:i.showType,titleTag:i.cardTitleTag})}));t=(0,u.h)(u.F,null,(0,u.h)("div",{class:n},a),this.renderResultsCount(),this.renderListFooter())}else t=this.loading?(0,u.h)("div",{class:n},this.renderSkeletons()):this.showEmptyState?(0,u.h)(u.F,null,(0,u.h)("arcgis-hub-empty-state",null),(0,u.h)("div",{class:"no-results-action-container"},(0,u.h)("slot",{name:"no-results-action"}))):null;return(0,u.h)("div",{class:"gallery-list"},this.renderListHeader(),(0,u.h)("span",{class:"result-top",ref:this.setResultTopSpan,tabIndex:-1}),t)}},{key:"renderListHeader",value:function(){var e=this.renderResultsCount(),t=this.renderSort()||this.renderLayoutSwitcher();if(e||t)return(0,u.h)("div",{class:"gallery-list-header"},e&&(0,u.h)("div",{class:"results-count-container"},this.renderResultsCount()),t&&(0,u.h)("div",{class:"sort-and-layout-container"},this.renderSort(),this.renderLayoutSwitcher()))}},{key:"renderListFooter",value:function(){if(this.renderMoreResultsBtn()||this.renderBackToTopBtn())return(0,u.h)("div",{class:"gallery-list-footer"},(0,u.h)("div",null,this.renderMoreResultsBtn()),(0,u.h)("div",null,this.renderBackToTopBtn()))}},{key:"renderResultsCount",value:function(){if(this.showResultsCount&&this.hasSearchResults)return(0,u.h)("h2",{class:"results-count"},this.intl.t("resultsCount",{pageTotal:this.models.length,searchTotal:this.lastSearchResponse.total}))}},{key:"render",value:function(){return(0,u.h)(u.H,null,this.renderSearch(),(0,u.h)("slot",{name:"collection-select"}),(0,u.h)("div",{class:"gallery-main"},this.renderFacets(),this.renderList(this.models)),(0,u.h)("slot",{name:"click-actions"}))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{context:["handleContextChange"],collection:["fetchFacetsAndSearch"],apiType:["fetchFacetsAndSearch"],layout:["prepareAndExecuteSearch"],query:["prepareAndExecuteSearch"],limit:["prepareAndExecuteSearch"],viewModels:["onViewModelsChanged"],state:["onStateChanged"],showLinkButton:["onLinkButtonPropsChange"],linkButtonText:["onLinkButtonPropsChange"],linkButtonStyle:["onLinkButtonPropsChange"]}}}]),e}();se([(0,k.D)({timeout:100})],le.prototype,"prepareAndExecuteSearch",null),le.style=':host{display:flex;flex-direction:column;gap:1.25rem;--columns:4;--hub-gallery-input-background:#fff;--hub-gallery-input-text:#151515;--hub-gallery-font-size-large:var(--calcite-font-size-1)}h1,h2,h3,h4,h5,h6{font-family:var(--hub-heading-family, inherit)}arcgis-hub-facet-list{flex:0 0 25%;max-width:25%}.gallery-main{display:flex;flex-direction:row;align-items:flex-start;-moz-column-gap:1.25rem;column-gap:1.25rem}.gallery-list{display:flex;width:100%;flex-direction:column;gap:1.25rem}.gallery-list-footer{display:flex;justify-content:space-between}.gallery-list-header{display:grid;grid-template-areas:\'resultsCount sortAndLayout\';grid-template-columns:1fr 1fr}.results-count-container{grid-area:resultsCount}.sort-and-layout-container{display:flex;justify-content:flex-end;gap:0.5rem;grid-area:sortAndLayout}.layout-option{height:100%}.gallery-list>.results-count{margin-top:1.25rem}.no-results-action-container{display:grid;justify-content:center}.search-bar{margin-bottom:0px}.search-sort{margin-bottom:0px}.results-count{display:flex;align-items:center;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-normal)}:host([layout="list"]) .card-container,:host([layout="grid"]) .card-container,:host([layout="grid-filled"]) .card-container{display:grid;gap:1.5rem}:host([layout="grid"]) .card-container{grid-template-columns:repeat(auto-fill, minmax(max(240px, (100% - (4 - 1) * 24px) / 4), 1fr))}:host([layout="grid-filled"]) .card-container{grid-template-columns:repeat(12, 1fr)}:host([layout="grid-filled"]) .card-container>*{grid-column:span calc(12 / var(--columns))}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):last-of-type,:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+1):last-of-type,:host([layout="grid-filled"]) .card-container.cols-2>*:nth-of-type(2n+1):last-of-type{grid-column:span 12 / span 12}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+2):last-of-type,:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+1):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-3>*:nth-of-type(3n+2):last-of-type{grid-column:span 6 / span 6}:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+1):nth-last-of-type(3),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+2):nth-last-of-type(2),:host([layout="grid-filled"]) .card-container.cols-4>*:nth-of-type(4n+3):last-of-type{grid-column:span 4 / span 4}[slot="header"]{font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-normal)}.loading-link-button{position:relative}.loading-link-button:after{content:\'\';position:absolute;top:0;right:0;bottom:0;left:0}@-webkit-keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}@keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}.loading-link-button:after{-webkit-animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;background-image:linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%);background-color:var(--calcite-ui-foreground-3)}.loading-link-button{margin-top:1rem;height:2rem}.result-top{position:absolute}.layout-switcher-container{display:flex;align-items:center}';var ue=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.arcgisHubLayoutButtonSelect=(0,u.c)(this,"arcgisHubLayoutButtonSelect",7),(0,d.b)(this,"selectLayout","setPopoverElement","maybeOpenPopover","maybeClosePopover")}return(0,s.Z)(e,[{key:"color",get:function(){return this.selected?"neutral":"blue"}},{key:"appearance",get:function(){return this.selected?"solid":"transparent"}},{key:"setPopoverElement",value:function(e){this.popoverElement=e}},{key:"maybeOpenPopover",value:function(){this.tooltip&&this.popoverElement.toggle(!0)}},{key:"maybeClosePopover",value:function(){this.tooltip&&this.popoverElement.toggle(!1)}},{key:"selectLayout",value:function(){this.arcgisHubLayoutButtonSelect.emit(this.layout)}},{key:"render",value:function(){return(0,u.h)(u.H,{onMouseEnter:this.maybeOpenPopover,onMouseLeave:this.maybeClosePopover},(0,u.h)("calcite-button",{appearance:this.appearance,"aria-current":this.selected,color:this.color,id:"toggle-button",onClick:this.selectLayout,scale:"l"},(0,u.h)("calcite-icon",{icon:this.icon})),this.tooltip&&(0,u.h)("calcite-popover",{label:this.tooltip,ref:this.setPopoverElement,referenceElement:"toggle-button"},(0,u.h)("div",{class:"popover-content"},this.tooltip)))}}]),e}();ue.style='.popover-content{margin:0.75rem}#toggle-button{height:100%}#toggle-button[color="neutral"]{--calcite-ui-icon-color:#151515}#toggle-button[color="neutral"]:hover,#toggle-button[color="neutral"]:focus{--calcite-ui-icon-color:var(--calcite-ui-brand)}';var he=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.inputChange=(0,u.c)(this,"hubSearchInputChange",7),this.placeholder="Enter search term...",this.text="Search"}return(0,s.Z)(e,[{key:"handleInputChange",value:function(){this.inputChange.emit(this.value)}},{key:"handleInput",value:function(e){this.value=e.detail.value}},{key:"render",value:function(){return(0,u.h)(u.H,null,(0,u.h)("calcite-input",{clearable:!0,placeholder:this.placeholder,scale:this.scale,value:this.value},(0,u.h)("calcite-button",{scale:this.scale,slot:"action"},this.text)))}}]),e}();he.style=":host{margin-bottom:1.5rem;display:block}calcite-input{--calcite-ui-foreground-1:var(--hub-gallery-input-background);--calcite-ui-text-1:var(--hub-gallery-input-text)}";var de=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.hubSearchSortChange=(0,u.c)(this,"hubSearchSortChange",7),this.sortOptions=[],(0,d.b)(this,"setDropdownEl","handleOrderChange")}return(0,s.Z)(e,[{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillRender",value:function(){this.sortOrderIcon="asc"===this.activeSortOption.order?"sort-ascending-arrow":"sort-descending-arrow"}},{key:"handleFieldChangeEvent",value:function(){var e=this.dropdownEl.selectedItems;if(e.length){var t=e[0].dataset.value||null;this.activeSortOption=this.sortOptions.find((function(e){return e.attribute===t})),this.activeSortOption.order=ne[this.activeSortOption.defaultOrder],this.hubSearchSortChange.emit(this.activeSortOption)}}},{key:"setDropdownEl",value:function(e){this.dropdownEl=e}},{key:"handleOrderChange",value:function(){this.activeSortOption.order="asc"===this.activeSortOption.order?"desc":"asc",this.sortOrderIcon="asc"===this.activeSortOption.order?"sort-ascending-arrow":"sort-descending-arrow",this.hubSearchSortChange.emit(this.activeSortOption)}},{key:"render",value:function(){var e,t,i=this;return(0,u.h)(u.H,null,(0,u.h)("calcite-dropdown",{ref:this.setDropdownEl},(0,u.h)("calcite-button",{appearance:"transparent",color:"blue","icon-end":"caret-down",slot:"dropdown-trigger"},(0,u.h)("span",{title:this.intl.t(null!==(e=this.activeSortOption.attribute)&&void 0!==e?e:"relevance")},this.intl.t(null!==(t=this.activeSortOption.attribute)&&void 0!==t?t:"relevance"))),(0,u.h)("calcite-dropdown-group",{"selection-mode":"single"},this.sortOptions.map((function(e){var t,n;return(0,u.h)("calcite-dropdown-item",{"data-value":e.attribute,key:e.attribute,title:i.intl.t(null!==(t=e.attribute)&&void 0!==t?t:"relevance")},i.intl.t(null!==(n=e.attribute)&&void 0!==n?n:"relevance"))})))),this.activeSortOption.order&&(0,u.h)("calcite-button",{appearance:"transparent",class:"sort-order",color:"blue","icon-end":this.sortOrderIcon,onClick:this.handleOrderChange,title:this.intl.t(this.activeSortOption.order)}))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();de.style=":host{margin-bottom:1.25rem;display:flex;flex-direction:row;justify-content:flex-end;--calcite-font-size--1:var(--hub-gallery-font-size-large)}.sort-order{--calcite-font-size-0:var(--hub-gallery-font-size-large)}";var fe=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.arcgisHubTreeFacetChange=(0,u.c)(this,"arcgisHubTreeFacetChange",7),this.arcgisHubFacetMoreLessClicked=(0,u.c)(this,"arcgisHubFacetMoreLessClicked",7),this.showLimitedOptions=!0,this.topLevelPageSize=5,(0,d.b)(this,"toggleMoreOrLessButton","setPageSeparator")}return(0,s.Z)(e,[{key:"handleTreeSelect",value:function(e){e.stopPropagation();var t=e.detail.selected.filter((function(e){return!!e.dataset.key})).map((function(e){return e.dataset.key}));this.arcgisHubTreeFacetChange.emit({key:this.facet.key,selectedKeys:t})}},{key:"componentWillLoad",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"optionsAsTree",get:function(){return j(this.facet.options)}},{key:"numTopLevelOptions",get:function(){return N(this.optionsAsTree).length}},{key:"optionsLeftToDisplay",get:function(){return this.numTopLevelOptions-this.topLevelPageSize}},{key:"moreOrLessButtonIconEnd",get:function(){return this.showLimitedOptions?"chevron-down":"chevron-up"}},{key:"moreOrLessButtonLabel",get:function(){return this.showLimitedOptions?this.intl.t("showMore",{num:this.optionsLeftToDisplay}):this.intl.t("showLess")}},{key:"setPageSeparator",value:function(e){this.pageSeparator=e}},{key:"toggleMoreOrLessButton",value:function(){this.arcgisHubFacetMoreLessClicked.emit({facet:this.facet,isMore:this.showLimitedOptions}),this.showLimitedOptions=!this.showLimitedOptions,this.pageSeparator.focus()}},{key:"renderTopLevelOptions",value:function(){var e=N(this.optionsAsTree).map((function(e){return Y(e)})),t=e.slice(0,this.topLevelPageSize),i=this.showLimitedOptions?[]:e.slice(this.topLevelPageSize);return[].concat((0,r.Z)(t),[(0,u.h)("span",{key:"page-separator",ref:this.setPageSeparator,tabIndex:-1})],(0,r.Z)(i))}},{key:"renderMoreLessButton",value:function(){if(this.numTopLevelOptions>this.topLevelPageSize)return(0,u.h)("div",{class:"more-or-less-container"},(0,u.h)("calcite-button",{appearance:"transparent",color:"blue","icon-end":this.moreOrLessButtonIconEnd,onClick:this.toggleMoreOrLessButton},this.moreOrLessButtonLabel))}},{key:"render",value:function(){return(0,u.h)(u.H,{"data-element":"tree-facet"},(0,u.h)("div",null,(0,u.h)("calcite-tree",{"selection-mode":"ancestors"},this.renderTopLevelOptions()),this.renderMoreLessButton()))}},{key:"element",get:function(){return(0,u.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}}]),e}();fe.style=":host{display:block}calcite-tree-item{--calcite-font-size--1:16px;--calcite-ui-text-3:var(--calcite-ui-text-1)}.option-label{overflow-wrap:anywhere}.more-or-less-container{width:100%;display:flex;flex-direction:row-reverse;margin-top:0.5rem}";var pe=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.calciteInternalAccordionChange=(0,u.c)(this,"calciteInternalAccordionChange",6),this.appearance="solid",this.iconPosition="end",this.iconType="chevron",this.scale="m",this.selectionMode="multi",this.items=[],this.sorted=!1,this.sortItems=function(e){return e.sort((function(e,t){return e.position-t.position})).map((function(e){return e.item}))}}return(0,s.Z)(e,[{key:"componentDidLoad",value:function(){this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}},{key:"render",value:function(){var e="transparent"===this.appearance,t="minimal"===this.appearance;return(0,u.h)("div",{class:{"accordion--transparent":e,"accordion--minimal":t,accordion:!e&&!t}},(0,u.h)("slot",null))}},{key:"calciteInternalAccordionItemKeyEvent",value:function(e){var t=e.detail.item,i=e.detail.parent;if(this.el===i){var n=t.key,a=e.target,r=0===this.itemIndex(a),o=this.itemIndex(a)===this.items.length-1;switch(n){case"ArrowDown":o?this.focusFirstItem():this.focusNextItem(a);break;case"ArrowUp":r?this.focusLastItem():this.focusPrevItem(a);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem()}}e.stopPropagation()}},{key:"registerCalciteAccordionItem",value:function(e){var t={item:e.target,parent:e.detail.parent,position:e.detail.position};this.el===t.parent&&this.items.push(t),e.stopPropagation()}},{key:"updateActiveItemOnChange",value:function(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.calciteInternalAccordionChange.emit({requestedAccordionItem:this.requestedAccordionItem}),e.stopPropagation()}},{key:"focusFirstItem",value:function(){var e=this.items[0];this.focusElement(e)}},{key:"focusLastItem",value:function(){var e=this.items[this.items.length-1];this.focusElement(e)}},{key:"focusNextItem",value:function(e){var t=this.itemIndex(e),i=this.items[t+1]||this.items[0];this.focusElement(i)}},{key:"focusPrevItem",value:function(e){var t=this.itemIndex(e),i=this.items[t-1]||this.items[this.items.length-1];this.focusElement(i)}},{key:"itemIndex",value:function(e){return this.items.indexOf(e)}},{key:"focusElement",value:function(e){null===e||void 0===e||e.focus()}},{key:"el",get:function(){return(0,u.g)(this)}}]),e}();pe.style="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:block;max-inline-size:100%;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-ui-border-2);--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}.accordion--transparent{--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}.accordion--minimal{--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0}.accordion{border-width:1px;border-block-end-width:0px;border-style:solid;border-color:var(--calcite-ui-border-2)}";var me,ye="actions-start",ve="actions-end",ge="header",be="header-content",ke="actions-start",we="actions-end",xe="header-text",Se="heading",Ce="description",Oe="expand-icon",Le="content",Te="icon--start",Ie="icon--end",Ee="header-container",Me=function(){function e(t){var i=this;(0,c.Z)(this,e),(0,u.r)(this,t),this.calciteInternalAccordionItemKeyEvent=(0,u.c)(this,"calciteInternalAccordionItemKeyEvent",6),this.calciteInternalAccordionItemSelect=(0,u.c)(this,"calciteInternalAccordionItemSelect",6),this.calciteInternalAccordionItemClose=(0,u.c)(this,"calciteInternalAccordionItemClose",6),this.calciteInternalAccordionItemRegister=(0,u.c)(this,"calciteInternalAccordionItemRegister",6),this.active=!1,this.expanded=!1,this.iconPosition="end",this.itemHeaderClickHandler=function(){return i.emitRequestedItem()}}return(0,s.Z)(e,[{key:"activeHandler",value:function(e){this.expanded=e}},{key:"expandedHandler",value:function(e){this.active=e}},{key:"iconHandler",value:function(e){this.iconStart=e}},{key:"iconStartHandler",value:function(e){this.icon=e}},{key:"connectedCallback",value:function(){this.parent=this.el.parentElement,this.selectionMode=(0,S.g)(this.el,"selection-mode","multi"),this.iconType=(0,S.g)(this.el,"icon-type","chevron"),this.iconPosition=(0,S.g)(this.el,"icon-position",this.iconPosition);var e=this.active||this.expanded;e&&(this.activeHandler(e),this.expandedHandler(e)),this.iconStart?this.icon=this.iconStart:this.icon&&(this.iconStart=this.icon),(0,C.c)(this)}},{key:"componentDidLoad",value:function(){this.itemPosition=this.getItemPosition(),this.calciteInternalAccordionItemRegister.emit({parent:this.parent,position:this.itemPosition})}},{key:"disconnectedCallback",value:function(){(0,C.d)(this)}},{key:"renderActionsStart",value:function(){var e=this.el;return(0,S.b)(e,ye)?(0,u.h)("div",{class:ke},(0,u.h)("slot",{name:ye})):null}},{key:"renderActionsEnd",value:function(){var e=this.el;return(0,S.b)(e,ve)?(0,u.h)("div",{class:we},(0,u.h)("slot",{name:ve})):null}},{key:"render",value:function(){var e,t,i=(0,S.a)(this.el),n=this.iconStart?(0,u.h)("calcite-icon",{class:Te,icon:this.iconStart,key:"icon-start",scale:"s"}):null,a=this.iconEnd?(0,u.h)("calcite-icon",{class:Ie,icon:this.iconEnd,key:"icon-end",scale:"s"}):null,r=this.description||this.itemSubtitle;return(0,u.h)(u.H,null,(0,u.h)("div",{class:(e={},(0,o.Z)(e,"icon-position--".concat(this.iconPosition),!0),(0,o.Z)(e,"icon-type--".concat(this.iconType),!0),e)},(0,u.h)("div",{class:(t={},(0,o.Z)(t,ge,!0),(0,o.Z)(t,O.C.rtl,"rtl"===i),t)},this.renderActionsStart(),(0,u.h)("div",{"aria-expanded":(0,S.t)(this.active||this.expanded),class:be,onClick:this.itemHeaderClickHandler,role:"button",tabindex:"0"},(0,u.h)("div",{class:Ee},n,(0,u.h)("div",{class:xe},(0,u.h)("span",{class:Se},this.heading||this.itemTitle),r?(0,u.h)("span",{class:Ce},r):null),a),(0,u.h)("calcite-icon",{class:Oe,icon:"chevron"===this.iconType?"chevronDown":"caret"===this.iconType?"caretDown":this.expanded||this.active?"minus":"plus",scale:"s"})),this.renderActionsEnd()),(0,u.h)("div",{class:Le},(0,u.h)("slot",null))))}},{key:"keyDownHandler",value:function(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteInternalAccordionItemKeyEvent.emit({parent:this.parent,item:e}),e.preventDefault()}}},{key:"updateActiveItemOnChange",value:function(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.el.parentNode===this.requestedAccordionItem.parentNode&&(this.determineActiveItem(),e.stopPropagation())}},{key:"determineActiveItem",value:function(){switch(this.selectionMode){case"multi":case"multiple":this.el===this.requestedAccordionItem&&(this.expanded=!this.expanded);break;case"single":this.expanded=this.el===this.requestedAccordionItem&&!this.expanded;break;case"single-persist":this.expanded=this.el===this.requestedAccordionItem}}},{key:"emitRequestedItem",value:function(){this.calciteInternalAccordionItemSelect.emit({requestedAccordionItem:this.el})}},{key:"getItemPosition",value:function(){return Array.prototype.indexOf.call(this.parent.querySelectorAll("calcite-accordion-item"),this.el)}},{key:"el",get:function(){return(0,u.g)(this)}}],[{key:"watchers",get:function(){return{active:["activeHandler"],expanded:["expandedHandler"],icon:["iconHandler"],iconStart:["iconStartHandler"]}}}]),e}();function De(e,t){for(var i,n="down"===t?"nextElementSibling":"previousElementSibling",a=e,r=null;null===(i=a)||void 0===i?void 0:i.matches("calcite-tree-item");){if(!a.disabled){r=a;break}a=a[n]}return r}Me.style="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:calc(90deg * -1);--calcite-accordion-item-active-icon-rotation:0deg;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0deg}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0deg;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0deg;--calcite-accordion-item-active-icon-rotation-rtl:calc(180deg * -1)}:host{position:relative;display:flex;flex-direction:column;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;background-color:var(--calcite-accordion-item-background, var(--calcite-ui-foreground-1))}:host .header-content{outline-color:transparent}:host(:focus) .header-content{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([expanded]){color:var(--calcite-ui-text-1)}:host([expanded]) .content{display:block;color:var(--calcite-ui-text-1)}:host([expanded]) .header{border-block-end-color:transparent}:host .header{display:flex;align-items:stretch}:host .icon{position:relative;margin:0px;display:inline-flex;color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-end);margin-inline-start:var(--calcite-accordion-item-icon-spacing-end)}.icon--start{display:flex;align-items:center;-webkit-margin-end:var(--calcite-accordion-icon-margin);margin-inline-end:var(--calcite-accordion-icon-margin)}.icon--end{display:flex;align-items:center;-webkit-margin-end:var(--calcite-accordion-icon-margin);margin-inline-end:var(--calcite-accordion-icon-margin);-webkit-margin-start:var(--calcite-accordion-icon-margin);margin-inline-start:var(--calcite-accordion-icon-margin)}.header-container{inline-size:100%}.content{padding:var(--calcite-accordion-item-padding)}:host .content,:host .header{-webkit-border-after:1px solid var(--calcite-accordion-item-border, var(--calcite-ui-border-2));border-block-end:1px solid var(--calcite-accordion-item-border, var(--calcite-ui-border-2))}:host .header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .content{display:none;-webkit-padding-before:0px;padding-block-start:0px;color:var(--calcite-ui-text-3);text-align:initial}:host .expand-icon{color:var(--calcite-ui-text-3);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-end);margin-inline-end:var(--calcite-accordion-item-icon-spacing-end);transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([expanded]) .expand-icon{color:var(--calcite-ui-text-1);transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([expanded]) .calcite--rtl .expand-icon{transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .header-text{margin-block:0px;flex-grow:1;flex-direction:column;padding-block:0px;text-align:initial;-webkit-margin-end:auto;margin-inline-end:auto}:host .heading,:host .description{display:flex;inline-size:100%}:host .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .description{-webkit-margin-before:0.25rem;margin-block-start:0.25rem;color:var(--calcite-ui-text-3)}:host(:focus) .heading,:host(:hover) .heading{color:var(--calcite-ui-text-1)}:host(:focus) .icon,:host(:hover) .icon{color:var(--calcite-ui-text-1)}:host(:focus) .expand-icon,:host(:hover) .expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .description,:host(:hover) .description{color:var(--calcite-ui-text-2)}:host(:focus) .heading,:host(:active) .heading,:host([expanded]) .heading{color:var(--calcite-ui-text-1)}:host(:focus) .icon,:host(:active) .icon,:host([expanded]) .icon{color:var(--calcite-ui-text-1)}:host(:focus) .expand-icon,:host(:active) .expand-icon,:host([expanded]) .expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .description,:host(:active) .description,:host([expanded]) .description{color:var(--calcite-ui-text-2)}.header-content{flex-grow:1;cursor:pointer;padding:var(--calcite-accordion-item-padding);flex-direction:var(--calcite-accordion-item-flex-direction)}.actions-start,.actions-end{display:flex;align-items:center}@media (forced-colors: active){:host([expanded]) .header{-webkit-border-after:none;border-block-end:none}:host([expanded]) .heading{font-weight:bolder}:host(:hover) .heading,:host(:focus) .heading{text-decoration:underline}}",function(e){e.Single="single",e.Multi="multi",e.None="none",e.Children="children",e.MultiChildren="multichildren",e.Ancestors="ancestors",e.Multiple="multiple"}(me||(me={}));var Ae=function(){function e(t){(0,c.Z)(this,e),(0,u.r)(this,t),this.calciteTreeSelect=(0,u.c)(this,"calciteTreeSelect",6),this.lines=!1,this.inputEnabled=!1,this.scale="m",this.selectionMode=me.Single}return(0,s.Z)(e,[{key:"componentWillRender",value:function(){var e,t=null===(e=this.el.parentElement)||void 0===e?void 0:e.closest("calcite-tree");this.lines=t?t.lines:this.lines,this.scale=t?t.scale:this.scale,this.selectionMode=t?t.selectionMode:this.selectionMode,this.child=!!t}},{key:"render",value:function(){return(0,u.h)(u.H,{"aria-multiselectable":this.child?void 0:(this.selectionMode===me.Multi||this.selectionMode===me.Multiple||this.selectionMode===me.MultiChildren).toString(),role:this.child?void 0:"tree",tabIndex:this.getRootTabIndex()},(0,u.h)("slot",null))}},{key:"onFocus",value:function(){if(!this.child){var e=this.el.querySelector("calcite-tree-item[selected]:not([disabled])")||this.el.querySelector("calcite-tree-item:not([disabled])");(0,S.f)(e)}}},{key:"onFocusIn",value:function(e){(e.relatedTarget===this.el||!this.el.contains(e.relatedTarget))&&this.el.removeAttribute("tabindex")}},{key:"onFocusOut",value:function(e){!this.el.contains(e.relatedTarget)&&(this.el.tabIndex=this.getRootTabIndex())}},{key:"onClick",value:function(e){var t=e.target,i=(0,S.n)(t.querySelectorAll("calcite-tree-item"));if(!this.child)if(this.child||(e.preventDefault(),e.stopPropagation()),this.selectionMode!==me.Ancestors||this.child){var n=this.selectionMode===me.None,a=null!==this.selectionMode&&(!t.hasChildren||t.hasChildren&&(this.selectionMode===me.Children||this.selectionMode===me.MultiChildren)),r=!n&&e.detail.modifyCurrentSelection&&(this.selectionMode===me.Multi||this.selectionMode===me.Multiple||this.selectionMode===me.MultiChildren),o=this.selectionMode===me.MultiChildren||this.selectionMode===me.Children,c=!r&&((this.selectionMode===me.Single||this.selectionMode===me.Multi||this.selectionMode===me.Multiple)&&i.length<=0||this.selectionMode===me.Children||this.selectionMode===me.MultiChildren),s=this.selectionMode===me.Children||this.selectionMode===me.MultiChildren;if(!this.child){var l=[];if(a&&l.push(t),o&&i.forEach((function(e){l.push(e)})),c)(0,S.n)(this.el.querySelectorAll("calcite-tree-item[selected]")).forEach((function(e){l.includes(e)||(e.selected=!1)}));s&&!e.detail.forceToggle&&(t.expanded=!0),r&&window.getSelection().removeAllRanges(),r&&t.selected||o&&e.detail.forceToggle?l.forEach((function(e){e.disabled||(e.selected=!1)})):n||l.forEach((function(e){e.disabled||(e.selected=!0)}))}var u=n?[t]:(0,S.n)(this.el.querySelectorAll("calcite-tree-item")).filter((function(e){return e.selected}));this.calciteTreeSelect.emit({selected:u}),e.stopPropagation()}else this.updateAncestorTree(e)}},{key:"keyDownHandler",value:function(e){var t,i=this.el.closest("calcite-tree:not([child])"),n=e.target;if(i===this.el&&"CALCITE-TREE-ITEM"===n.tagName&&this.el.contains(n))if("ArrowDown"!==e.key){if("ArrowUp"===e.key){var a=De(n.previousElementSibling,"up");a&&(a.focus(),e.preventDefault())}if("ArrowLeft"===e.key&&!n.disabled){if(n.hasChildren&&n.expanded)return n.expanded=!1,void e.preventDefault();var r=n.parentElement.closest("calcite-tree-item");return!r||n.hasChildren&&!1!==n.expanded?void 0:(r.focus(),void e.preventDefault())}"ArrowRight"!==e.key||n.disabled||n.hasChildren&&(n.expanded&&(0,S.k)(this.el).activeElement===n?(null===(t=De(n.querySelector("calcite-tree-item"),"down"))||void 0===t||t.focus(),e.preventDefault()):(n.expanded=!0,e.preventDefault()))}else{var o=De(n.nextElementSibling,"down");o&&(o.focus(),e.preventDefault())}}},{key:"updateAncestorTree",value:function(e){var t=e.target;if(!t.disabled){for(var i=[],n=t.parentElement.closest("calcite-tree-item");n;)i.push(n),n=n.parentElement.closest("calcite-tree-item");var a=Array.from(t.querySelectorAll("calcite-tree-item:not([disabled])")),r=a.filter((function(e){return!e.hasChildren})),o=a.filter((function(e){return e.hasChildren})),c=t.hasChildren?!(t.selected||t.indeterminate):!t.selected;r.forEach((function(e){e.selected=c,e.indeterminate=!1})),o.forEach((function(e){s(Array.from(e.querySelectorAll(":scope > calcite-tree > calcite-tree-item")),e)})),t.hasChildren?s(a,t):(t.selected=c,t.indeterminate=!1),i.forEach((function(e){var t=(0,S.n)(e.querySelectorAll("calcite-tree-item")),i=t.filter((function(e){return e.selected}));if(0===i.length)return e.selected=!1,void(e.indeterminate=!1);var n=i.length<t.length;e.indeterminate=n,e.selected=!n})),this.calciteTreeSelect.emit({selected:(0,S.n)(this.el.querySelectorAll("calcite-tree-item")).filter((function(e){return e.selected}))})}function s(e,t){var i=e.filter((function(e){return e.selected})),n=e.filter((function(e){return!e.selected}));t.selected=i.length===e.length,t.indeterminate=i.length>0&&n.length>0}}},{key:"getRootTabIndex",value:function(){return this.child?-1:0}},{key:"el",get:function(){return(0,u.g)(this)}}]),e}();Ae.style="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host(:focus){outline:2px solid transparent;outline-offset:2px}";var Ze="checkbox-label",_e="checkbox",Re="chevron",Fe="node-container",He="children-container",ze="bullet-point",Pe="checkmark",Be="children",qe="bullet-point",je="check",Ge="chevron-right",Ke="blank",Ue=function(){function e(t){var i=this;(0,c.Z)(this,e),(0,u.r)(this,t),this.calciteInternalTreeItemSelect=(0,u.c)(this,"calciteInternalTreeItemSelect",6),this.disabled=!1,this.selected=!1,this.expanded=!1,this.parentExpanded=!1,this.depth=-1,this.hasChildren=null,this.iconClickHandler=function(e){e.stopPropagation(),i.expanded=!i.expanded},this.childrenClickHandler=function(e){return e.stopPropagation()},this.updateParentIsExpanded=function(e,t){(0,S.b)(e,Be,{all:!0,selector:"calcite-tree-item"}).forEach((function(e){return e.parentExpanded=t}))},this.updateAncestorTree=function(){var e;if(i.selected&&i.selectionMode===me.Ancestors){for(var t=[],n=i.parentTreeItem;n;)t.push(n),n=null===(e=n.parentElement)||void 0===e?void 0:e.closest("calcite-tree-item");t.forEach((function(e){return e.indeterminate=!0}))}else;}}return(0,s.Z)(e,[{key:"expandedHandler",value:function(e){this.updateParentIsExpanded(this.el,e)}},{key:"getselectionMode",value:function(){this.isSelectionMultiLike=this.selectionMode===me.Multiple||this.selectionMode===me.Multi||this.selectionMode===me.MultiChildren}},{key:"connectedCallback",value:function(){var e;if(this.parentTreeItem=null===(e=this.el.parentElement)||void 0===e?void 0:e.closest("calcite-tree-item"),this.parentTreeItem){var t=this.parentTreeItem.expanded;this.updateParentIsExpanded(this.parentTreeItem,t)}(0,C.c)(this)}},{key:"disconnectedCallback",value:function(){(0,C.d)(this)}},{key:"componentWillRender",value:function(){var e;this.hasChildren=!!this.el.querySelector("calcite-tree"),this.depth=0;var t,i=this.el.closest("calcite-tree");if(i)for(this.selectionMode=i.selectionMode,this.scale=i.scale||"m",this.lines=i.lines;i&&(t=null===(e=i.parentElement)||void 0===e?void 0:e.closest("calcite-tree"))!==i;)i=t,this.depth=this.depth+1}},{key:"componentDidLoad",value:function(){this.updateAncestorTree()}},{key:"componentDidRender",value:function(){var e=this;(0,L.u)(this,(function(){return e.parentExpanded||1===e.depth}))}},{key:"render",value:function(){var e,t,i,n,a=this,r="rtl"===(0,S.a)(this.el),c=this.selectionMode===me.Single||this.selectionMode===me.Children,s=this.selectionMode===me.Multi||this.selectionMode===me.Multiple||this.selectionMode===me.MultiChildren,l=this.selectionMode===me.None&&!this.hasChildren,h=this.hasChildren?(0,u.h)("calcite-icon",{class:(e={},(0,o.Z)(e,Re,!0),(0,o.Z)(e,O.C.rtl,r),e),"data-test-id":"icon",icon:Ge,onClick:this.iconClickHandler,scale:"s"}):null,d=(0,u.h)("slot",{key:"default-slot"}),f=this.selectionMode===me.Ancestors?(0,u.h)("label",{class:Ze,key:"checkbox-label"},(0,u.h)("calcite-checkbox",{checked:this.selected,class:_e,"data-test-id":"checkbox",indeterminate:this.hasChildren&&this.indeterminate,scale:this.scale,tabIndex:-1}),d):null,p=c?qe:s?je:l?Ke:null,m=p?(0,u.h)("calcite-icon",{class:(t={},(0,o.Z)(t,ze,p===qe),(0,o.Z)(t,Pe,p===je),(0,o.Z)(t,O.C.rtl,r),t),icon:p,scale:"s"}):null,y=!(this.parentExpanded||1===this.depth);return(0,u.h)(u.H,{"aria-expanded":this.hasChildren?(0,S.t)(this.expanded):void 0,"aria-hidden":(0,S.t)(y),"aria-selected":this.selected?"true":s?"false":void 0,"calcite-hydrated-hidden":y,role:"treeitem"},(0,u.h)("div",{class:(i={},(0,o.Z)(i,Fe,!0),(0,o.Z)(i,O.C.rtl,r),i),"data-selection-mode":this.selectionMode,ref:function(e){return a.defaultSlotWrapper=e}},h,m,f||d),(0,u.h)("div",{class:(n={},(0,o.Z)(n,He,!0),(0,o.Z)(n,O.C.rtl,r),n),"data-test-id":"calcite-tree-children",onClick:this.childrenClickHandler,ref:function(e){return a.childrenSlotWrapper=e},role:this.hasChildren?"group":void 0},(0,u.h)("slot",{name:Be})))}},{key:"onClick",value:function(e){var t=(0,S.j)(this.el,"a"),i=(0,l.Z)(t,1)[0];if(i&&"a"!==e.composedPath()[0].tagName.toLowerCase()){var n=""===i.target?"_self":i.target;window.open(i.href,n)}this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.selectionMode===me.Ancestors||this.isSelectionMultiLike,forceToggle:!1})}},{key:"keyDownHandler",value:function(e){var t;switch(e.key){case" ":this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Enter":var i=(0,S.n)(this.el.children).find((function(e){return e.matches("a")}));i?(i.click(),this.selected=!0):this.calciteInternalTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Home":var n=(t=this.el.closest("calcite-tree:not([child])")).querySelector("calcite-tree-item");null===n||void 0===n||n.focus();break;case"End":for(var a=(t=this.el.closest("calcite-tree:not([child])")).children[t.children.length-1],r=(0,S.n)(a.children).find((function(e){return e.matches("calcite-tree")}));r;)a=r.children[t.children.length-1],r=(0,S.n)(a.children).find((function(e){return e.matches("calcite-tree")}));null===a||void 0===a||a.focus()}}},{key:"el",get:function(){return(0,u.g)(this)}}],[{key:"watchers",get:function(){return{expanded:["expandedHandler"],selectionMode:["getselectionMode"]}}}]),e}();Ue.style='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:block;max-inline-size:100%;cursor:pointer;color:var(--calcite-ui-text-3)}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .node-container{--calcite-tree-padding-y:0.25rem}:host([scale=s]) .node-container .checkbox,:host([scale=s]) .node-container .chevron,:host([scale=s]) .node-container .checkmark,:host([scale=s]) .node-container .bullet-point{margin-inline:0.25rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .node-container{--calcite-tree-padding-y:0.5rem}:host([scale=m]) .node-container .checkbox,:host([scale=m]) .node-container .chevron,:host([scale=m]) .node-container .checkmark,:host([scale=m]) .node-container .bullet-point{margin-inline:0.5rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .node-container{--calcite-tree-padding-y:0.75rem}:host([scale=l]) .node-container .checkbox,:host([scale=l]) .node-container .chevron,:host([scale=l]) .node-container .checkmark,:host([scale=l]) .node-container .bullet-point{margin-inline:0.75rem}:host([lines]) .children-container:after{position:absolute;inset-block-start:0px;z-index:1;inline-size:1px;transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;block-size:96%;content:"";background-color:var(--calcite-ui-border-2)}:host(:not([lines])) .node-container:after{display:none}::slotted(*){min-inline-size:0px;max-inline-size:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){inline-size:100%;-webkit-text-decoration-line:none;text-decoration-line:none}:host{outline-color:transparent}:host(:focus:not([disabled])){outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.checkbox{line-height:0}.checkbox-label{pointer-events:none;display:flex;align-items:center}.checkbox:focus{outline:2px solid transparent;outline-offset:2px}.children-container{position:relative;block-size:0px;overflow:hidden;-webkit-margin-start:1.25rem;margin-inline-start:1.25rem;transform:scaleY(0);opacity:0;transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transform-origin:top}:host([expanded])>.children-container{transform:scaleY(1);opacity:1;block-size:auto}.node-container{position:relative;display:flex;align-items:center;padding-block:var(--calcite-tree-padding-y);padding-inline:0}.node-container .checkmark,.node-container .bullet-point{opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;color:var(--calcite-ui-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus:not([disabled])) .node-container .checkmark,:host(:focus:not([disabled])) .node-container .bullet-point{opacity:1}:host([selected])>.node-container,:host([selected])>.node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected])>.node-container .bullet-point,:host([selected])>.node-container .checkmark,:host([selected])>.node-container:hover .bullet-point,:host([selected])>.node-container:hover .checkmark{opacity:1;color:var(--calcite-ui-brand)}:host([selection-mode=none]:not([has-children])):host([scale=s])>.node-container{-webkit-padding-start:0.5rem;padding-inline-start:0.5rem}:host([selection-mode=none]:not([has-children])):host([scale=m])>.node-container{-webkit-padding-start:1rem;padding-inline-start:1rem}:host([selection-mode=none]:not([has-children])):host([scale=l])>.node-container{-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=s])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.25rem;padding-inline-start:1.25rem}:host(:not([has-children])):host([scale=m])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=l])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem}:host([has-children])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-margin-start:0;margin-inline-start:0}:host([has-children])>.node-container .bullet-point,:host([has-children])>.node-container .checkmark{display:none}:host([has-children][expanded]:not([selected]):not([selection-mode=none]))>.node-container ::slotted(*){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([has-children][selected])>.node-container[data-selection-mode=children],:host([has-children][selected])>.node-container[data-selection-mode=multichildren]{color:var(--calcite-ui-brand)}.chevron{position:relative;align-self:center;color:var(--calcite-ui-text-3);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;flex:0 0 auto;transform:rotate(0deg)}.calcite--rtl .chevron{transform:rotate(180deg)}:host([expanded])>.node-container>.chevron{transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-ui-brand)}'},95640:function(e,t,i){i.d(t,{c:function(){return u},d:function(){return h}});var n,a=i(29439),r=i(37762),o=i(72585),c=i(91864),s=new Set,l={childList:!0};function u(e){n||(n=(0,c.c)("mutation",d)),n.observe(e.el,l)}function h(e){s.delete(e.el),d(n.takeRecords()),n.disconnect();var t,i=(0,r.Z)(s.entries());try{for(i.s();!(t=i.n()).done;){var o=(0,a.Z)(t.value,1)[0];n.observe(o,l)}}catch(c){i.e(c)}finally{i.f()}}function d(e){e.forEach((function(e){var t=e.target;(0,o.f)(t)}))}},98410:function(e,t,i){i.d(t,{D:function(){return a}});var n=i(89682);function a(e){return function(t,i,a){var r=a.value,o="".concat(i.toString(),"Debounced");return Object.assign(Object.assign({},a),{value:function(){this[o]||Object.defineProperty(this,o,{value:(0,n.d)(r,e.timeout)});for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this[o].apply(this,[this].concat(i))}})}}},89682:function(e,t,i){function n(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];clearTimeout(t),t=setTimeout((function(){return e.apply(n,r)}),i)}}i.d(t,{d:function(){return n}})},40566:function(e,t,i){i.d(t,{a:function(){return h},b:function(){return C},c:function(){return y},d:function(){return b},e:function(){return I},f:function(){return w},g:function(){return d},h:function(){return u},i:function(){return M},j:function(){return L},k:function(){return f},l:function(){return s},m:function(){return k},n:function(){return l},q:function(){return m},s:function(){return T},t:function(){return E}});var n=i(74165),a=i(93433),r=i(15861),o=i(84261),c=i(88814);function s(e){return e?e.id=e.id||"".concat(e.tagName.toLowerCase(),"-").concat((0,c.g)()):""}function l(e){return Array.isArray(e)?e:Array.from(e)}function u(e){var t=y(e,".".concat(o.C.darkTheme,", .").concat(o.C.lightTheme));return(null===t||void 0===t?void 0:t.classList.contains("calcite-theme-dark"))?"dark":"light"}function h(e){var t=y(e,"[".concat("dir","]"));return t?t.getAttribute("dir"):"ltr"}function d(e,t,i){var n="[".concat(t,"]"),a=e.closest(n);return a?a.getAttribute(t):i}function f(e){return e.getRootNode()}function p(e){return e.host||null}function m(e,t){var i=t.selector,n=t.id;return function e(t){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);var a=f(t),r=n?"getElementById"in a?a.getElementById(n):null:i?a.querySelector(i):null,o=p(a);return r||(o?e(o):null)}(e)}function y(e,t){return function e(i){return i?i.closest(t)||e(p(f(i))):null}(e)}function v(e,t){return g(e,t)}function g(e,t){if(e){var i=t(e);if(void 0!==i)return i;var n=e.parentNode;return g(n instanceof ShadowRoot?n.host:n,t)}}function b(e,t){return!!v(t,(function(t){return t===e||void 0}))}function k(e){return"function"===typeof(null===e||void 0===e?void 0:e.setFocus)}function w(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",k(t)?t.setFocus():t.focus());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=":not([slot])";function C(e,t,i){t&&!Array.isArray(t)&&"string"!==typeof t&&(i=t,t=null);var n=t?Array.isArray(t)?t.map((function(e){return'[slot="'.concat(e,'"]')})).join(","):'[slot="'.concat(t,'"]'):S;return(null===i||void 0===i?void 0:i.all)?function(e,t,i){var n=t===S?O(e,S):Array.from(e.querySelectorAll(t));n=i&&!1===i.direct?n:n.filter((function(t){return t.parentElement===e})),n=(null===i||void 0===i?void 0:i.matches)?n.filter((function(e){return null===e||void 0===e?void 0:e.matches(i.matches)})):n;var r=null===i||void 0===i?void 0:i.selector;return r?n.map((function(e){return Array.from(e.querySelectorAll(r))})).reduce((function(e,t){return[].concat((0,a.Z)(e),(0,a.Z)(t))}),[]).filter((function(e){return!!e})):n}(e,n,i):function(e,t,i){var n=t===S?O(e,S)[0]||null:e.querySelector(t);n=i&&!1===i.direct||(null===n||void 0===n?void 0:n.parentElement)===e?n:null,n=(null===i||void 0===i?void 0:i.matches)?(null===n||void 0===n?void 0:n.matches(i.matches))?n:null:n;var a=null===i||void 0===i?void 0:i.selector;return a?null===n||void 0===n?void 0:n.querySelector(a):n}(e,n,i)}function O(e,t){return e?Array.from(e.children||[]).filter((function(e){return null===e||void 0===e?void 0:e.matches(t)})):[]}function L(e,t){return Array.from(e.children).filter((function(e){return e.matches(t)}))}function T(e,t,i){return"string"===typeof t&&""!==t?t:""===t?e[i]:void 0}function I(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function E(e){return Boolean(e).toString()}function M(e){return!(!e.isPrimary||0!==e.button)}},88814:function(e,t,i){i.d(t,{g:function(){return n}});var n=function(){return[2,1,1,1,3].map((function(e){for(var t="",i=0;i<e;i++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")}},13966:function(e,t,i){function n(){}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.disabled)return e.el.setAttribute("tabindex","-1"),e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),void(e.el.click=n);e.el.click=HTMLElement.prototype.click,"function"===typeof t?e.el.setAttribute("tabindex",t.call(e)?"0":"-1"):!0===t?e.el.setAttribute("tabindex","0"):!1===t&&e.el.removeAttribute("tabindex"),e.el.removeAttribute("aria-disabled")}i.d(t,{u:function(){return a}})},96728:function(e,t,i){var n,a,r,o,c,s,l;i.d(t,{A:function(){return n},C:function(){return a},D:function(){return r},I:function(){return l},L:function(){return o},U:function(){return c},V:function(){return s}}),function(e){e.start="start",e.center="center",e.end="end"}(n||(n={})),function(e){e.square="square",e.round="round"}(a||(a={})),function(e){e.none="none",e.low="low",e.medium="medium",e.heavy="heavy"}(r||(r={})),function(e){e.simple="simple",e.dataViz="dataViz",e.moreInfo="moreInfo"}(o||(o={})),function(e){e.before="before",e.after="after",e.below="below"}(c||(c={})),function(e){e.none="none",e.sparkline="sparkline",e.icon="icon",e.logo="logo"}(s||(s={})),function(e){e.thumbnail="thumbnail",e.icon="icon"}(l||(l={}))},91864:function(e,t,i){i.d(t,{c:function(){return l}});var n=i(15671),a=i(43144),r=i(11752),o=i(61120),c=i(60136),s=i(92572);function l(e,t,i){var l=function(e){var t=function(e){(0,c.Z)(i,e);var t=(0,s.Z)(i);function i(e){var a;return(0,n.Z)(this,i),(a=t.call(this,e)).observedEntry=[],a.callback=e,a}return(0,a.Z)(i,[{key:"observe",value:function(e,t){return this.observedEntry.push({target:e,options:t}),(0,r.Z)((0,o.Z)(i.prototype),"observe",this).call(this,e,t)}},{key:"unobserve",value:function(e){var t=this,n=this.observedEntry.filter((function(t){return t.target!==e}));this.observedEntry=[],this.callback((0,r.Z)((0,o.Z)(i.prototype),"takeRecords",this).call(this),this),this.disconnect(),n.forEach((function(e){return t.observe(e.target,e.options)}))}}]),i}(window.MutationObserver);return"intersection"===e?window.IntersectionObserver:"mutation"===e?t:window.ResizeObserver}(e);return new l(t,i)}},58318:function(e,t,i){i.d(t,{R:function(){return r}});var n=i(15671),a=i(43144),r=function(){function e(){(0,n.Z)(this,e),this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.handlers=new WeakMap}return(0,a.Z)(e,[{key:"addHandler",value:function(e,t){this.handlers.has(e)||(this.handlers.set(e,[]),this.resizeObserver.observe(e));var i=this.handlers.get(e);i.includes(t)||i.push(t)}},{key:"removeHandler",value:function(e,t){if(this.handlers.has(e)){var i=this.handlers.get(e),n=i.indexOf(t),a=i.filter((function(e,t){return t!==n}));a.length?this.handlers.set(e,a):(this.handlers.delete(e),this.resizeObserver.unobserve(e))}}},{key:"unobserve",value:function(e){this.handlers.has(e)&&(this.handlers.delete(e),this.resizeObserver.unobserve(e))}},{key:"onResize",value:function(e){var t=this;requestAnimationFrame((function(i){e.forEach((function(e){var i;(null!==(i=t.handlers.get(e.target))&&void 0!==i?i:[]).forEach((function(e){return e()}))}))}))}}],[{key:"create",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"addHandler",value:function(e,t){this.create(),this.instance.addHandler(e,t)}},{key:"removeHandler",value:function(e,t){this.instance&&this.instance.removeHandler(e,t)}},{key:"unobserve",value:function(e){this.instance&&this.instance.unobserve(e)}}]),e}()},37762:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(40181);function a(e,t){var i="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=(0,n.Z)(e))||t&&e&&"number"===typeof e.length){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}},11752:function(e,t,i){i.d(t,{Z:function(){return r}});var n=i(61120);function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,n.Z)(e)););return e}function r(){return r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,i){var n=a(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(arguments.length<3?e:i):r.value}},r.apply(this,arguments)}}}]);
//# sourceMappingURL=53180.d578dff5.chunk.js.map