"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[6356,65905],{65905:function(e,r,n){n.d(r,{V:function(){return l},b:function(){return c}});var t=n(42265),u=n(76200),i=n(10064),a=n(32718),o=n(35995),s=a.Z.getLogger("esri.assets");function c(e,r){return(0,u.default)(l(e),r)}function l(e){if(!t.Z.assetsPath)throw s.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.Z("assets:path-not-set","config.assetsPath is not set");return(0,o.v_)(t.Z.assetsPath,e)}},14921:function(e,r,n){n.d(r,{Ed:function(){return y},UI:function(){return h},mt:function(){return _},q6:function(){return w},vr:function(){return S},w6:function(){return Z}});var t=n(74165),u=n(15671),i=n(43144),a=n(60136),o=n(92572),s=n(15861),c=n(27366),l=n(31319),f=n(92026),p=n(66978),v=n(49861),d=(n(25243),n(63780),n(69912));function y(e,r,n){return(0,p.as)(e.map((function(e,t){return r.apply(n,[e,t])})))}function h(e,r,n){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)((0,t.Z)().mark((function e(r,n,u){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.as)(r.map((function(e,r){return n.apply(u,[e,r])})));case 2:return e.abrupt("return",e.sent.map((function(e){return e.value})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return{ok:!0,value:e}}function m(e){return{ok:!1,error:e}}function w(e){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.Wi)(r)){e.next=2;break}return e.abrupt("return",{ok:!1,error:new Error("no promise provided")});case 2:return e.prev=2,e.t0=g,e.next=6,r;case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:return e.prev=10,e.t2=e.catch(2),e.abrupt("return",m(e.t2));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function _(e){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=g,e.next=4,r;case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",((0,p.r9)(e.t2),m(e.t2)));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Z(e){if(!0===e.ok)return e.value;throw e.error}function S(e,r){return new x(e,r)}var x=function(e){(0,a.Z)(n,e);var r=(0,o.Z)(n);function n(e,t){var i;(0,u.Z)(this,n),(i=r.call(this,{}))._result=null,i._abortHandle=null,i.abort=function(){i._abortController=(0,f.IM)(i._abortController)},i.remove=i.abort,i._abortController=new AbortController;var a=i._abortController.signal;return i.promise=e(a),i.promise.then((function(e){i._result=g(e),i._cleanup()}),(function(e){i._result=m(e),i._cleanup()})),i._abortHandle=(0,p.fu)(t,i.abort),i}return(0,i.Z)(n,[{key:"value",get:function(){return e=this._result,(0,f.pC)(e)&&!0===e.ok?e.value:null;var e}},{key:"error",get:function(){return e=this._result,(0,f.pC)(e)&&!1===e.ok?e.error:null;var e}},{key:"finished",get:function(){return(0,f.pC)(this._result)}},{key:"normalizeCtorArgs",value:function(){return{}}},{key:"destroy",value:function(){this.abort()}},{key:"_cleanup",value:function(){this._abortHandle=(0,f.hw)(this._abortHandle),this._abortController=null}}]),n}(l.Z);(0,c._)([(0,v.Cb)()],x.prototype,"value",null),(0,c._)([(0,v.Cb)()],x.prototype,"error",null),(0,c._)([(0,v.Cb)()],x.prototype,"finished",null),(0,c._)([(0,v.Cb)()],x.prototype,"promise",void 0),(0,c._)([(0,v.Cb)()],x.prototype,"_result",void 0),x=(0,c._)([(0,d.j)("esri.core.asyncUtils.ReactiveTask")],x)},25899:function(e,r,n){n.d(r,{B5:function(){return p},DR:function(){return d},G:function(){return C},M8:function(){return b},Nm:function(){return g},Qc:function(){return v},XG:function(){return m},a7:function(){return h},h3:function(){return _},ld:function(){return y},wH:function(){return w}});var t=n(29439),u=n(92026),i=n(35995),a=n(53283),o={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},s=Object.values(o),c=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),l=new RegExp("^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(".concat(s.join("|"),"))(?:\\/(?:layers\\/)?(\\d+))?"),"i"),f=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function p(e){return!!c.test(e)}function v(e){if((0,u.Wi)(e))return null;var r=(0,i.mN)(e),n=r.path.match(c)||r.path.match(l);if(!n)return null;var a=(0,t.Z)(n,5),s=a[1],f=a[2],p=a[3],v=a[4],d=f.indexOf("/");return{title:y(-1!==d?f.slice(d+1):f),serverType:o[p.toLowerCase()],sublayer:null!=v&&""!==v?parseInt(v,10):null,url:{path:s}}}function d(e){var r=(0,i.mN)(e).path.match(f);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function y(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,r){var n=[];if(e){var t=v(e);(0,u.pC)(t)&&t.title&&n.push(t.title)}if(r){var i=y(r);n.push(i)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function b(e){if(!e)return!1;var r=(e=e.toLowerCase()).includes(".arcgis.com/"),n=e.includes("//services")||e.includes("//tiles")||e.includes("//features");return r&&n}function g(e,r){return e?(0,i.Qj)((0,i.Hu)(e,r)):e}function m(e){var r=e.url;if(!r)return{url:r};r=(0,i.Hu)(r,e.logger);var n,t=(0,i.mN)(r),a=v(t.path);if((0,u.pC)(a))null!=a.sublayer&&null==e.layer.layerId&&(n=a.sublayer),r=a.url.path;else if(e.nonStandardUrlAllowed){var o=d(t.path);(0,u.pC)(o)&&(r=o.serviceUrl,n=o.sublayerId)}return{url:(0,i.Qj)(r),layerId:n}}function w(e,r,n,t,u){(0,a.w)(r,t,"url",u),t.url&&null!=e.layerId&&(t.url=(0,i.v_)(t.url,n,e.layerId.toString()))}function C(e){if(!e)return!1;var r=e.toLowerCase(),n=r.includes("/services/"),t=r.includes("/mapserver/wmsserver"),u=r.includes("/imageserver/wmsserver"),i=r.includes("/wmsserver");return n&&(t||u||i)}function _(e){var r;if(!e)return!1;var n=null===(r=new i.R9((0,i.hF)(e)).authority)||void 0===r?void 0:r.toLowerCase();return"server.arcgisonline.com"===n||"services.arcgisonline.com"===n}},37933:function(e,r,n){n.d(r,{A2:function(){return f},Am:function(){return v},CY:function(){return c},S1:function(){return w},Tv:function(){return p},fb:function(){return l},iC:function(){return s},ln:function(){return C},mt:function(){return b},oP:function(){return g},rQ:function(){return y},sy:function(){return d},y2:function(){return h}});var t=n(74165),u=n(15861),i=n(19545),a=n(76200),o=n(92026);function s(e){var r=null===e||void 0===e?void 0:e.type;return"base-tile"===r||"tile"===r||"elevation"===r||"imagery-tile"===r||"base-elevation"===r||"open-street-map"===r||"wcs"===r||"web-tile"===r||"wmts"===r||"vector-tile"===r}function c(e){return null!=e&&"type"in e&&"group"===e.type}var l={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function f(e){var r=null===e||void 0===e?void 0:e.type;return"building-scene"===r||"integrated-mesh"===r||"point-cloud"===r||"scene"===r}function p(e){return"voxel"===(null===e||void 0===e?void 0:e.type)}function v(e){return"imagery-tile"===(null===e||void 0===e?void 0:e.type)}function d(e){return null!=e&&null!=e.parent&&"declaredClass"in e.parent&&"esri.Basemap"===e.parent.declaredClass&&e.parent.baseLayers.includes(e)}function y(e){var r;return"feature"===(null===e||void 0===e?void 0:e.type)&&!e.url&&"memory"===(null===(r=e.source)||void 0===r?void 0:r.type)}function h(e){var r;return"feature"===(null===e||void 0===e?void 0:e.type)&&"feature-layer"===(null===(r=e.source)||void 0===r?void 0:r.type)}function b(e){if(e.activeLayer){var r=e.activeLayer.tileMatrixSet;if(r)return r;var n=e.activeLayer.tileMatrixSets;if(n)return n}return null}function g(e,r){return m.apply(this,arguments)}function m(){return m=(0,u.Z)((0,t.Z)().mark((function e(r,n){var u,s,c,l,f,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(null===(u=null===i.id||void 0===i.id?void 0:i.id.findServerInfo(r))||void 0===u?void 0:u.currentVersion)){e.next=3;break}return e.abrupt("return",u.owningSystemUrl||null);case 3:if(-1!==(s=r.toLowerCase().indexOf("/rest/services"))){e.next=6;break}return e.abrupt("return",null);case 6:return c="".concat(r.substring(0,s),"/rest/info"),l=(0,o.pC)(n)?n.signal:null,e.next=10,(0,a.default)(c,{query:{f:"json"},responseType:"json",signal:l});case 10:return f=e.sent,p=f.data,e.abrupt("return",(null===p||void 0===p?void 0:p.owningSystemUrl)||null);case 13:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function w(e){return function(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function C(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}},73117:function(e,r,n){n.d(r,{$o:function(){return d},Kz:function(){return h},Ss:function(){return b},_$:function(){return p},ck:function(){return v},qj:function(){return f}});var t=n(37762),u=n(74165),i=n(15861),a=n(79803),o=n(78952),s=n(81753);function c(e){return l.apply(this,arguments)}function l(){return l=(0,i.Z)((0,u.Z)().mark((function e(r){var n,t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.spatialReference).isWGS84){e.next=3;break}return e.abrupt("return",r.clone());case 3:if(!n.isWebMercator){e.next=5;break}return e.abrupt("return",(0,s.Sx)(r));case 5:return t=o.Z.WGS84,e.next=8,(0,a.iQ)(n,t);case 8:return e.abrupt("return",(0,a.iV)(r,t));case 9:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function f(e,r){if(!p(e,r)){var n=e.typeKeywords;n?n.push(r):e.typeKeywords=[r]}}function p(e,r){var n;return!(null===(n=e.typeKeywords)||void 0===n||!n.includes(r))}function v(e,r){var n=e.typeKeywords;if(n){var t=n.indexOf(r);t>-1&&n.splice(t,1)}}function d(e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)((0,u.Z)().mark((function e(r){var n,i,a,o,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.clone().normalize()).length>1){a=(0,t.Z)(n);try{for(a.s();!(o=a.n()).done;)s=o.value,i?s.width>i.width&&(i=s):i=s}catch(u){a.e(u)}finally{a.f()}}else i=n[0];return e.abrupt("return",c(i));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table"};function b(e){var r,n=e.portal,t=e.isOrgItem,u=e.itemControl,i=null===(r=n.user)||void 0===r?void 0:r.privileges,a=!i||i.includes("features:user:edit"),o=!!t&&!(null===i||void 0===i||!i.includes("features:user:fullEdit")),s="update"===u||"admin"===u;return s?o=a=!0:o&&(a=!0),{features:{edit:a,fullEdit:o},content:{updateItem:s}}}},21371:function(e,r,n){n.d(r,{y:function(){return s}});var t=n(74165),u=n(15861),i=n(14921),a=n(66978),o=n(51370);function s(e,r,n){return c.apply(this,arguments)}function c(){return c=(0,u.Z)((0,t.Z)().mark((function e(r,n,u){var s,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r&&r.getAtOrigin&&r.getAtOrigin("renderer",n.origin))||"unique-value"!==s.type||!s.styleOrigin){e.next=6;break}return e.next=4,(0,i.q6)(s.populateFromStyle());case 4:c=e.sent,(0,a.k_)(u),!1===c.ok&&(l=c.error,n&&n.messages&&n.messages.push(new o.Z("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(l.message),{error:l,context:n})),r.clear("renderer",null===n||void 0===n?void 0:n.origin));case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}}}]);
//# sourceMappingURL=6356.9aca4baa.chunk.js.map