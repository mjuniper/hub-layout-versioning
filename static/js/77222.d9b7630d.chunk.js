"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[77222,65905],{62044:function(e,t,r){r.d(t,{Z:function(){return w}});var n,l=r(15671),i=r(43144),o=r(60136),s=r(92572),a=r(27366),u=r(46784),c=r(92026),p=r(86710),f=r(49861),v=(r(25243),r(63780),r(38511)),d=r(69912),h=r(31201),y=n=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).end=null,n.start=null,n}return(0,i.Z)(r,[{key:"readEnd",value:function(e,t){return null!=t.end?new Date(t.end):null}},{key:"writeEnd",value:function(e,t){t.end=e?e.getTime():null}},{key:"isAllTime",get:function(){return this.equals(n.allTime)}},{key:"isEmpty",get:function(){return this.equals(n.empty)}},{key:"readStart",value:function(e,t){return null!=t.start?new Date(t.start):null}},{key:"writeStart",value:function(e,t){t.start=e?e.getTime():null}},{key:"clone",value:function(){return new n({end:this.end,start:this.start})}},{key:"equals",value:function(e){if(!e)return!1;var t=(0,c.pC)(this.start)?this.start.getTime():this.start,r=(0,c.pC)(this.end)?this.end.getTime():this.end,n=(0,c.pC)(e.start)?e.start.getTime():e.start,l=(0,c.pC)(e.end)?e.end.getTime():e.end;return t===n&&r===l}},{key:"expandTo",value:function(e){if(this.isEmpty||this.isAllTime)return this.clone();var t=(0,c.yw)(this.start,(function(t){return(0,p.JE)(t,e)})),r=(0,c.yw)(this.end,(function(t){var r=(0,p.JE)(t,e);return t.getTime()===r.getTime()?r:(0,p.Nm)(r,1,e)}));return new n({start:t,end:r})}},{key:"intersection",value:function(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();var t,r,l=(0,c.R2)(this.start,-1/0,(function(e){return e.getTime()})),i=(0,c.R2)(this.end,1/0,(function(e){return e.getTime()})),o=(0,c.R2)(e.start,-1/0,(function(e){return e.getTime()})),s=(0,c.R2)(e.end,1/0,(function(e){return e.getTime()}));if(o>=l&&o<=i?t=o:l>=o&&l<=s&&(t=l),i>=o&&i<=s?r=i:s>=l&&s<=i&&(r=s),null!=t&&null!=r&&!isNaN(t)&&!isNaN(r)){var a=new n;return a.start=t===-1/0?null:new Date(t),a.end=r===1/0?null:new Date(r),a}return n.empty}},{key:"offset",value:function(e,t){if(this.isEmpty||this.isAllTime)return this.clone();var r=new n,l=this.start,i=this.end;return(0,c.pC)(l)&&(r.start=(0,p.Nm)(l,e,t)),(0,c.pC)(i)&&(r.end=(0,p.Nm)(i,e,t)),r}},{key:"union",value:function(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return g.clone();var t=(0,c.pC)(this.start)&&(0,c.pC)(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=(0,c.pC)(this.end)&&(0,c.pC)(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}}],[{key:"allTime",get:function(){return g}},{key:"empty",get:function(){return m}}]),r}(u.wq);(0,a._)([(0,f.Cb)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"end",void 0),(0,a._)([(0,v.r)("end")],y.prototype,"readEnd",null),(0,a._)([(0,h.c)("end")],y.prototype,"writeEnd",null),(0,a._)([(0,f.Cb)({readOnly:!0,json:{read:!1}})],y.prototype,"isAllTime",null),(0,a._)([(0,f.Cb)({readOnly:!0,json:{read:!1}})],y.prototype,"isEmpty",null),(0,a._)([(0,f.Cb)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"start",void 0),(0,a._)([(0,v.r)("start")],y.prototype,"readStart",null),(0,a._)([(0,h.c)("start")],y.prototype,"writeStart",null);var g=new(y=n=(0,a._)([(0,d.j)("esri.TimeExtent")],y)),m=new y({start:void 0,end:void 0}),w=y},65905:function(e,t,r){r.d(t,{V:function(){return c},b:function(){return u}});var n=r(42265),l=r(76200),i=r(10064),o=r(32718),s=r(35995),a=o.Z.getLogger("esri.assets");function u(e,t){return(0,l.default)(c(e),t)}function c(e){if(!n.Z.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new i.Z("assets:path-not-set","config.assetsPath is not set");return(0,s.v_)(n.Z.assetsPath,e)}},84397:function(e,t,r){r.d(t,{c:function(){return n},g:function(){return l}});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},86710:function(e,t,r){r.d(t,{JE:function(){return o},Nm:function(){return i},rJ:function(){return s}});r(93169);var n={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},l={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function i(e,t,r){var n=new Date(e.getTime());if(t&&r){var i=l[r],o=i.getter,s=i.setter,a=i.multiplier;if("months"===r){var u=function(e,t){var r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}(n.getFullYear(),n.getMonth()+t);n.getDate()>u&&n.setDate(u)}n[s](n[o]()+t*a)}return n}function o(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function s(e,t,r){return 0===e?0:e*n[t]/n[r]}},89200:function(e,t,r){r.r(t),r.d(t,{default:function(){return F}});var n,l=r(74165),i=r(15861),o=r(37762),s=r(1413),a=r(15671),u=r(43144),c=r(60136),p=r(92572),f=r(27366),v=(r(59486),r(76200)),d=r(10064),h=r(97642),y=r(643),g=r(35995),m=r(49861),w=(r(25243),r(63780),r(38511)),b=r(69912),Z=r(31201),T=r(30651),_=r(6693),C=r(6061),k=r(29598),x=r(71684),D=r(56811),M=r(83690),R=r(59068),S=r(22824),j=r(4961),E=r(53866),O=r(78952),z=r(585),P=n=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).copyright="",e.fullExtent=new E.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,O.Z.WebMercator),e.legendEnabled=!1,e.isReference=null,e.popupEnabled=!1,e.spatialReference=O.Z.WebMercator,e.subDomains=null,e.tileInfo=new S.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new z.Z({x:-20037508.342787,y:20037508.342787,spatialReference:O.Z.WebMercator}),spatialReference:O.Z.WebMercator,lods:[new R.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new R.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new R.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new R.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new R.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new R.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new R.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new R.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new R.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new R.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new R.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new R.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new R.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new R.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new R.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new R.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new R.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new R.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new R.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new R.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new R.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new R.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new R.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new R.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),e.type="web-tile",e.urlTemplate=null,e.wmtsInfo=null,e}return(0,u.Z)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?(0,s.Z)({urlTemplate:e},t):e}},{key:"load",value:function(e){var t=this,r=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((function(){var e="";if(t.urlTemplate)if(t.spatialReference.equals(t.tileInfo.spatialReference)){var r,n=new g.R9(t.urlTemplate);!(t.subDomains&&t.subDomains.length>0)&&(null===(r=n.authority)||void 0===r?void 0:r.includes("{subDomain}"))&&(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new d.Z("web-tile-layer:load","WebTileLayer (title: '".concat(t.title,"', id: '").concat(t.id,"') ").concat(e))}));return this.addResolvingPromise(r),Promise.resolve(this)}},{key:"levelValues",get:function(){var e=[];if(!this.tileInfo)return null;var t,r=(0,o.Z)(this.tileInfo.lods);try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.level]=n.levelValue||n.level}}catch(l){r.e(l)}finally{r.f()}return e}},{key:"readSpatialReference",value:function(e,t){return e||t.fullExtent&&t.fullExtent.spatialReference&&O.Z.fromJSON(t.fullExtent.spatialReference)}},{key:"tileServers",get:function(){if(!this.urlTemplate)return null;var e=[],t=this.urlTemplate,r=this.subDomains,n=new g.R9(t),l=n.scheme?n.scheme+"://":"//",i=l+n.authority+"/",s=n.authority;if(null!==s&&void 0!==s&&s.includes("{subDomain}")){if(r&&r.length>0&&s.split(".").length>1){var a,u=(0,o.Z)(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;e.push(l+s.replace(/\{subDomain\}/gi,c)+"/")}}catch(p){u.e(p)}finally{u.f()}}}else e.push(i);return e.map((function(e){return"/"!==e.charAt(e.length-1)&&(e+="/"),e}))}},{key:"urlPath",get:function(){if(!this.urlTemplate)return null;var e=this.urlTemplate,t=new g.R9(e),r=(t.scheme?t.scheme+"://":"//")+t.authority+"/";return e.substring(r.length)}},{key:"readUrlTemplate",value:function(e,t){return e||t.templateUrl}},{key:"writeUrlTemplate",value:function(e,t){e&&(0,g.oC)(e)&&(e="https:"+e),e&&(e=e.replace(/\{z\}/gi,"{level}").replace(/\{x\}/gi,"{col}").replace(/\{y\}/gi,"{row}"),e=(0,g.Fv)(e)),t.templateUrl=e}},{key:"fetchTile",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=n.signal,i=this.getTileUrl(e,t,r),o={responseType:"image",signal:l,query:(0,s.Z)({},this.refreshParameters)};return(0,v.default)(i,o).then((function(e){return e.data}))}},{key:"fetchImageBitmapTile",value:function(){var e=(0,i.Z)((0,l.Z)().mark((function e(t,r,i){var o,a,u,c,p,f,h,y=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=y.length>3&&void 0!==y[3]?y[3]:{},a=o.signal,this.fetchTile===n.prototype.fetchTile){e.next=13;break}return e.next=5,this.fetchTile(t,r,i,o);case 5:return u=e.sent,e.prev=6,e.abrupt("return",createImageBitmap(u));case 10:throw e.prev=10,e.t0=e.catch(6),new d.Z("request:server","Unable to load tile ".concat(t,"/").concat(r,"/").concat(i),{error:e.t0,level:t,row:r,col:i});case 13:return c=this.getTileUrl(t,r,i),p={responseType:"blob",signal:a,query:(0,s.Z)({},this.refreshParameters)},e.next=17,(0,v.default)(c,p);case 17:return f=e.sent,h=f.data,e.abrupt("return",(0,M.g)(h,c));case 20:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getTileUrl",value:function(e,t,r){var n=this.levelValues,l=this.tileServers,i=this.urlPath;if(!n||!l||!i)return"";var o=n[e];return l[t%l.length]+(0,y.gx)(i,{level:o,z:o,col:r,x:r,row:t,y:t})}}]),r}((0,_.h)((0,x.Q)((0,D.M)((0,C.q)((0,k.I)((0,h.R)(T.Z)))))));(0,f._)([(0,m.Cb)({type:String,value:"",json:{write:!0}})],P.prototype,"copyright",void 0),(0,f._)([(0,m.Cb)({type:E.Z,json:{write:!0},nonNullable:!0})],P.prototype,"fullExtent",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,json:{read:!1,write:!1}})],P.prototype,"legendEnabled",void 0),(0,f._)([(0,m.Cb)({type:["show","hide"]})],P.prototype,"listMode",void 0),(0,f._)([(0,m.Cb)({json:{read:!0,write:!0}})],P.prototype,"blendMode",void 0),(0,f._)([(0,m.Cb)()],P.prototype,"levelValues",null),(0,f._)([(0,m.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],P.prototype,"isReference",void 0),(0,f._)([(0,m.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],P.prototype,"operationalLayerType",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,json:{read:!1,write:!1}})],P.prototype,"popupEnabled",void 0),(0,f._)([(0,m.Cb)({type:O.Z})],P.prototype,"spatialReference",void 0),(0,f._)([(0,w.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],P.prototype,"readSpatialReference",null),(0,f._)([(0,m.Cb)({type:[String],json:{write:!0}})],P.prototype,"subDomains",void 0),(0,f._)([(0,m.Cb)({type:S.Z,json:{write:!0}})],P.prototype,"tileInfo",void 0),(0,f._)([(0,m.Cb)({readOnly:!0})],P.prototype,"tileServers",null),(0,f._)([(0,m.Cb)({json:{read:!1}})],P.prototype,"type",void 0),(0,f._)([(0,m.Cb)()],P.prototype,"urlPath",null),(0,f._)([(0,m.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],P.prototype,"urlTemplate",void 0),(0,f._)([(0,w.r)("urlTemplate",["urlTemplate","templateUrl"])],P.prototype,"readUrlTemplate",null),(0,f._)([(0,Z.c)("urlTemplate",{templateUrl:{type:String}})],P.prototype,"writeUrlTemplate",null),(0,f._)([(0,m.Cb)({type:j.B,json:{write:!0}})],P.prototype,"wmtsInfo",void 0);var F=P=n=(0,f._)([(0,b.j)("esri.layers.WebTileLayer")],P)},59068:function(e,t,r){r.d(t,{Z:function(){return d}});var n,l=r(15671),i=r(43144),o=r(60136),s=r(92572),a=r(27366),u=r(46784),c=r(49861),p=r(25243),f=(r(63780),r(69912)),v=n=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).cols=null,n.level=0,n.levelValue=null,n.origin=null,n.resolution=0,n.rows=null,n.scale=0,n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}}]),r}(u.wq);(0,a._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"cols",void 0),(0,a._)([(0,c.Cb)({type:p.z8,json:{write:!0}})],v.prototype,"level",void 0),(0,a._)([(0,c.Cb)({type:String,json:{write:!0}})],v.prototype,"levelValue",void 0),(0,a._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"origin",void 0),(0,a._)([(0,c.Cb)({type:Number,json:{write:!0}})],v.prototype,"resolution",void 0),(0,a._)([(0,c.Cb)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"rows",void 0),(0,a._)([(0,c.Cb)({type:Number,json:{write:!0}})],v.prototype,"scale",void 0);var d=v=n=(0,a._)([(0,f.j)("esri.layers.support.LOD")],v)},22824:function(e,t,r){r.d(t,{Z:function(){return M}});var n,l=r(1413),i=r(15671),o=r(43144),s=r(60136),a=r(92572),u=r(27366),c=r(43404),p=r(46784),f=r(92026),v=r(68860),d=r(49861),h=r(25243),y=(r(63780),r(38511)),g=r(69912),m=r(31201),w=r(585),b=r(78952),Z=r(65156),T=r(92975),_=r(81753),C=r(59068),k=r(87960),x=new c.X({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),D=n=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).dpi=96,n.format=null,n.origin=null,n.minScale=0,n.maxScale=0,n.size=null,n.spatialReference=null,n}return(0,o.Z)(r,[{key:"isWrappable",get:function(){var e=this.spatialReference,t=this.origin;if(e&&t){var r=(0,T.C5)(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-t.x)<=r.dx}return!1}},{key:"readOrigin",value:function(e,t){return w.Z.fromJSON((0,l.Z)({spatialReference:t.spatialReference},e))}},{key:"lods",set:function(e){var t=0,r=0,n=[],l=this._levelToLOD={};e&&(t=-1/0,r=1/0,e.forEach((function(e){n.push(e.scale),t=e.scale>t?e.scale:t,r=e.scale<r?e.scale:r,l[e.level]=e}))),this._set("scales",n),this._set("minScale",t),this._set("maxScale",r),this._set("lods",e),this._initializeUpsampleLevels()}},{key:"readSize",value:function(e,t){return[t.cols,t.rows]}},{key:"writeSize",value:function(e,t){t.cols=e[0],t.rows=e[1]}},{key:"zoomToScale",value:function(e){var t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];var r=Math.floor(e),n=r+1;return t[r]/Math.pow(t[r]/t[n],e-r)}},{key:"scaleToZoom",value:function(e){for(var t=this.scales,r=t.length-1,n=0;n<r;n++){var l=t[n],i=t[n+1];if(l<=e)return n;if(i===e)return n+1;if(l>e&&i<e)return n+Math.log(l/e)/Math.log(l/i)}return n}},{key:"snapScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=this.scaleToZoom(e);return r%Math.floor(r)>=t?this.zoomToScale(Math.ceil(r)):this.zoomToScale(Math.floor(r))}},{key:"tileAt",value:function(e,t,r,n){var l,i,o=this.lodAt(e);if(!o)return null;if("number"==typeof t)l=t,i=r;else if((0,T.fS)(t.spatialReference,this.spatialReference))l=t.x,i=t.y,n=r;else{var s=(0,_.iV)(t,this.spatialReference);if((0,f.Wi)(s))return null;l=s.x,i=s.y,n=r}var a=o.resolution*this.size[0],u=o.resolution*this.size[1];return n||(n=new k.f(null,0,0,0,(0,Z.Ue)())),n.level=e,n.row=Math.floor((this.origin.y-i)/u+.001),n.col=Math.floor((l-this.origin.x)/a+.001),this.updateTileInfo(n),n}},{key:"updateTileInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.ExtrapolateOptions.NONE,r=this.lodAt(e.level);if(!r&&t===n.ExtrapolateOptions.POWER_OF_TWO){var l=this.lods[this.lods.length-1];l.level<e.level&&(r=l)}if(r){var i=e.level-r.level,o=r.resolution*this.size[0]/Math.pow(2,i),s=r.resolution*this.size[1]/Math.pow(2,i);e.id="".concat(e.level,"/").concat(e.row,"/").concat(e.col),e.extent||(e.extent=(0,Z.Ue)()),e.extent[0]=this.origin.x+e.col*o,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+o,e.extent[3]=e.extent[1]+s}}},{key:"upsampleTile",value:function(e){var t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}},{key:"getTileBounds",value:function(e,t){var r=this.lodAt(t.level);if(null==r)return null;var n=r.resolution,l=n*this.size[0],i=n*this.size[1];return e[0]=this.origin.x+t.col*l,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+l,e[3]=e[1]+i,e}},{key:"lodAt",value:function(e){var t,r;return null!==(t=null===(r=this._levelToLOD)||void 0===r?void 0:r[e])&&void 0!==t?t:null}},{key:"clone",value:function(){return n.fromJSON(this.write({}))}},{key:"getOrCreateCompatible",value:function(e,t){if(256===this.size[0]&&256===this.size[1])return 256===e?this:null;for(var r=[],l=this.lods.length,i=0;i<l;i++){var o=this.lods[i],s=o.resolution*t;r.push(new C.Z({level:o.level,scale:o.scale,resolution:s}))}return new n({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}},{key:"_initializeUpsampleLevels",value:function(){var e=this.lods;this._upsampleLevels=[];for(var t=null,r=0;r<e.length;r++){var n=e[r];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolutionFactor,r=void 0===t?1:t,l=e.scales,i=e.size,o=void 0===i?256:i,s=e.spatialReference,a=void 0===s?b.Z.WebMercator:s,u=e.numLODs,c=void 0===u?24:u;if(!(0,T.JY)(a)){var p=[];if(l)for(var f=0;f<l.length;f++){var d=l[f];p.push(new C.Z({level:f,scale:d,resolution:d}))}else for(var h=5e-4,y=c-1;y>=0;y--)p.unshift(new C.Z({level:y,scale:h,resolution:h})),h*=2;return new n({dpi:96,lods:p,origin:new w.Z(0,0,a),size:[o,o],spatialReference:a})}var g=(0,T.C5)(a),m=e.origin?new w.Z({x:e.origin.x,y:e.origin.y,spatialReference:a}):new w.Z(g?{x:g.origin[0],y:g.origin[1],spatialReference:a}:{x:0,y:0,spatialReference:a}),Z=96,_=1/(39.37*(0,v.c9)(a)*Z),k=[];if(l)for(var x=0;x<l.length;x++){var D=l[x],M=D*_;k.push(new C.Z({level:x,scale:D,resolution:M}))}else{var R=(0,T.sT)(a)?512/o*591657527.5917094:256/o*591657527.591555,S=Math.ceil(c/r);k.push(new C.Z({level:0,scale:R,resolution:R*_}));for(var j=1;j<S;j++){var E=R/Math.pow(2,r),O=E*_;k.push(new C.Z({level:j,scale:E,resolution:O})),R=E}}return new n({dpi:Z,lods:k,origin:m,size:[o,o],spatialReference:a})}}]),r}(p.wq);(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],D.prototype,"compressionQuality",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],D.prototype,"dpi",void 0),(0,u._)([(0,d.Cb)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"format",void 0),(0,u._)([(0,d.Cb)({readOnly:!0})],D.prototype,"isWrappable",null),(0,u._)([(0,d.Cb)({type:w.Z,json:{write:!0}})],D.prototype,"origin",void 0),(0,u._)([(0,y.r)("origin")],D.prototype,"readOrigin",null),(0,u._)([(0,d.Cb)({type:[C.Z],value:null,json:{write:!0}})],D.prototype,"lods",null),(0,u._)([(0,d.Cb)({readOnly:!0})],D.prototype,"minScale",void 0),(0,u._)([(0,d.Cb)({readOnly:!0})],D.prototype,"maxScale",void 0),(0,u._)([(0,d.Cb)({readOnly:!0})],D.prototype,"scales",void 0),(0,u._)([(0,d.Cb)({cast:function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]}})],D.prototype,"size",void 0),(0,u._)([(0,y.r)("size",["rows","cols"])],D.prototype,"readSize",null),(0,u._)([(0,m.c)("size",{cols:{type:h.z8},rows:{type:h.z8}})],D.prototype,"writeSize",null),(0,u._)([(0,d.Cb)({type:b.Z,json:{write:!0}})],D.prototype,"spatialReference",void 0),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}((D=n=(0,u._)([(0,g.j)("esri.layers.support.TileInfo")],D))||(D={}));var M=D},87960:function(e,t,r){r.d(t,{f:function(){return i}});var n=r(43144),l=r(15671),i=(0,n.Z)((function e(t,r,n,i,o){(0,l.Z)(this,e),this.id=t,this.level=r,this.row=n,this.col=i,this.extent=o}))},4961:function(e,t,r){r.d(t,{B:function(){return v}});var n,l=r(15671),i=r(43144),o=r(60136),s=r(92572),a=r(27366),u=r(46784),c=r(84652),p=r(49861),f=(r(25243),r(69912)),v=n=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){return(0,l.Z)(this,r),t.call(this,e)}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({customLayerParameters:(0,c.d9)(this.customLayerParameters),customParameters:(0,c.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}}]),r}(u.wq);(0,a._)([(0,p.Cb)({json:{type:Object,write:!0}})],v.prototype,"customLayerParameters",void 0),(0,a._)([(0,p.Cb)({json:{type:Object,write:!0}})],v.prototype,"customParameters",void 0),(0,a._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"layerIdentifier",void 0),(0,a._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"tileMatrixSet",void 0),(0,a._)([(0,p.Cb)({type:String,json:{write:!0}})],v.prototype,"url",void 0),v=n=(0,a._)([(0,f.j)("esri.layer.support.WMTSLayerInfo")],v)},83690:function(e,t,r){r.d(t,{g:function(){return o}});var n=r(74165),l=r(15861),i=r(10064);function o(e,t){return s.apply(this,arguments)}function s(){return s=(0,l.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,createImageBitmap(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),new i.Z("request:server","Unable to load ".concat(r),{url:r,error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),s.apply(this,arguments)}}}]);
//# sourceMappingURL=77222.d9b7630d.chunk.js.map