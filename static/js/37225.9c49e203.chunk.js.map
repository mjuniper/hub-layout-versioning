{"version":3,"file":"static/js/37225.9c49e203.chunk.js","mappings":"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","sources":["../node_modules/@esri/hub-components/dist/esm/arcgis-hub-discussions-channel-settings-editor.entry.js","../node_modules/@esri/hub-components/dist/esm/utils-b3c19803.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-0d95d9d4.js';\nimport { d as dist } from './index-910a8794.js';\nimport { b as bind } from './context-7d8f7366.js';\nimport { i as intlManager } from './intl-manager-821aea3b.js';\nimport { f as fetchChannelNotifcationOptOut, e as enrichChannelDetails, s as searchPosts, r as removeChannelActivity, c as createChannelNotificationOptOut, a as removeChannelNotificationOptOut } from './discussions-c83a0f6c.js';\nimport { g as getGroupThumbnailUrl } from './utils-b3c19803.js';\nimport './_commonjsHelpers-11ca3be1.js';\nimport './index-4e91769f.js';\nimport './getPortalBaseFromOrgUrl-6a5781aa.js';\nimport './tslib.es6-3669ad41.js';\nimport './get-portal-url-423a76f5.js';\nimport './clean-url-be7c0879.js';\nimport './request-c15cc2af.js';\nimport './get-859a2960.js';\nimport './append-custom-params-fd9b7e72.js';\nimport './get-portal-06f7947b.js';\nimport './query-15c2c6ed.js';\nimport './tslib.es6-b2e8cdb8.js';\nimport './fetch-e59da0af.js';\nimport './tslib.es6-e75776ba.js';\nimport './_enrichments-7716cdcc.js';\nimport './util-3c40fe6c.js';\nimport './get-prop-d82e4fa6.js';\nimport './get-with-default-6db049d8.js';\nimport './_internal-89d3dc92.js';\nimport './extent-0f42acfc.js';\nimport './helpers-a80c0291.js';\nimport './OperationError-85fd80c7.js';\nimport './get-f2cd18e7.js';\nimport './getService-49b539e3.js';\nimport './slugs-150ad0db.js';\nimport './is-guid-8127621d.js';\nimport './request-f9ca03b5.js';\nimport './api-196fe0e3.js';\nimport './get-portal-api-url-ccd8fd10.js';\nimport './compose-bfd77ec4.js';\nimport './get-structured-license-d1e63636.js';\nimport './get-item-thumbnail-url-7e5ae2fd.js';\nimport './get-item-home-url-9ff2898b.js';\nimport './update-fec93fc5.js';\nimport './UserSession-d3a97494.js';\n\nconst arcgisHubDiscussionsChannelSettingsEditorCss = \":host{display:block}calcite-modal{z-index:1030}section{display:grid;gap:1rem}calcite-notice{display:none}calcite-notice[active]{display:block}calcite-stepper-item calcite-notice{margin-top:1rem}address{display:flex;gap:1rem}address div{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:0.125rem}address b{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-bold);font-style:normal;color:var(--calcite-ui-text-1)}address span{font-size:var(--calcite-font-size--1);line-height:1rem;font-style:normal;color:var(--calcite-ui-text-2)}div{display:flex;align-items:center;justify-content:space-between}\";\n\nconst ArcgisHubDiscussionsChannelSettingsEditor = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.hubTelemetry = createEvent(this, \"hubTelemetry\", 7);\n    /**\n     * Whether the component is in a saving state\n     */\n    this.saving = false;\n    /**\n     * Whether user has selected to keep their post activity\n     */\n    this.activity = true;\n    /**\n     * Error messages\n     */\n    this.notices = [];\n    bind(this, 'handleStepperItemSelected', 'handleLinkClicked', 'handleCancelButtonClicked', 'handleSaveButtonClicked', 'handleModalClosed', 'handleTileSelect', 'handleNoticeClosed');\n  }\n  /**\n   * Whether the currently authenticated user is a member of this channel\n   */\n  get isMember() {\n    const { channelDetails: { channel }, context } = this;\n    return Boolean(channel) && (context.currentUser.groups.some(({ id }) => channel.groups.includes(id)));\n  }\n  /**\n   * Lifecycle \"componentWillLoad\" method\n   */\n  async componentWillLoad() {\n    const [intl, notificationOptOut, channelDetails] = await Promise.all([\n      intlManager.loadIntlForComponent(this.element),\n      fetchChannelNotifcationOptOut(Object.assign({ channelId: this.channelId }, this.context.hubRequestOptions)).catch(() => null),\n      this.fetchChannelDetails(this.channelId)\n    ]);\n    this.intl = intl;\n    this.notifications = !notificationOptOut;\n    this.channelDetails = channelDetails;\n    this.postTotal = await this.fetchTotalPosts();\n    this.activeStepIndex = this.isMember ? 0 : 1;\n  }\n  get stepItems() {\n    const { isMember, intl, notifications, activity } = this;\n    return [\n      {\n        name: 'notifications',\n        description: isMember\n          ? ''\n          : intl.t('notifications-disabled'),\n        disabled: !isMember,\n        heading: intl.t('notifications'),\n        options: [\n          {\n            checked: notifications,\n            description: intl.t('receiveDesc'),\n            heading: intl.t('receive'),\n            icon: 'email-address',\n            value: true,\n          },\n          {\n            checked: !notifications,\n            description: intl.t('stopDesc'),\n            heading: intl.t('stop'),\n            icon: 'circle-disallowed',\n            value: false,\n          },\n        ],\n        notice: {\n          title: intl.t('stopNotice'),\n          message: intl.t('stopNoticeMessage'),\n          link: intl.t('noticeLink'),\n          url: 'https://doc.arcgis.com/en/hub/team/how-discussions-work.htm'\n        }\n      },\n      {\n        name: 'activity',\n        disabled: false,\n        heading: intl.t('activity'),\n        options: [\n          {\n            checked: activity,\n            description: intl.t('keepDesc'),\n            heading: intl.t('keep'),\n            icon: 'speech-bubble-check',\n            value: true,\n          },\n          {\n            checked: !activity,\n            description: intl.t('deleteDesc'),\n            heading: intl.t('delete'),\n            icon: 'trash',\n            value: false,\n          },\n        ],\n        notice: {\n          color: 'red',\n          title: intl.t('deleteNotice'),\n          message: intl.t('deleteNoticeMessage'),\n          link: intl.t('noticeLink'),\n          url: 'https://doc.arcgis.com/en/hub/team/how-discussions-work.htm'\n        }\n      },\n    ];\n  }\n  /**\n   * Fetches channel details from channelId\n   * @param channelId\n   * @returns Promise<IChannelDetails>\n   */\n  fetchChannelDetails(channelId) {\n    const { hubRequestOptions } = this.context;\n    const options = Object.assign({ channelDetails: {\n        channelId\n      } }, hubRequestOptions);\n    return enrichChannelDetails(options);\n  }\n  /**\n   * Gets number of posts user has posted in channel\n   */\n  async fetchTotalPosts() {\n    const { channelId, context: { hubRequestOptions, currentUser } } = this;\n    const { total } = await searchPosts(Object.assign({ params: {\n        start: 1,\n        num: 1,\n        channels: channelId,\n        creator: currentUser.username\n      } }, hubRequestOptions));\n    return total;\n  }\n  /**\n   * Sets activeStepIndex and emits telemetry for stepper item selected\n   * @param evt\n   */\n  handleStepperItemSelected(evt) {\n    const target = evt.currentTarget;\n    const { activeStepIndex, stepItems } = this;\n    const activeItem = stepItems[activeStepIndex];\n    if (!target.disabled && target.dataset.name !== activeItem.name) {\n      const name = target.dataset.name === 'notifications' ? 'emailNotifications' : 'postActivity';\n      this.hubTelemetry.emit(dist.dictionary.category.interaction.action.open.label.stepper.details[name]);\n      this.activeStepIndex = stepItems.findIndex(({ name }) => name === target.dataset.name);\n    }\n  }\n  /**\n   * Emits telemetry for link clicked\n   */\n  handleLinkClicked(evt) {\n    evt.preventDefault();\n    this.hubTelemetry.emit(dist.dictionary.category.navigation.action.view.label.groups);\n    const target = evt.target;\n    setTimeout(() => {\n      // allow time for event to race up the DOM so the telemetry is captured before\n      // redirecting the user\n      window.location.href = target.href;\n    }, 250);\n  }\n  /**\n   * Closes modal when cancel button clicked\n   */\n  handleCancelButtonClicked() {\n    this.open = false;\n  }\n  async removeChannelActivity() {\n    const { channelId, intl, context } = this;\n    try {\n      await removeChannelActivity(Object.assign({ channelId }, context.hubRequestOptions));\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.content.action.delete.details.allPosts), { response: dist.constants.response.SUCCESS }));\n      this.postTotal = await this.fetchTotalPosts();\n    }\n    catch (e) {\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.content.action.delete.details.allPosts), { response: dist.constants.response.FAILURE }));\n      this.notices = [\n        ...this.notices,\n        {\n          color: 'red',\n          title: intl.t('deleteError'),\n          message: intl.t('deleteErrorMessage'),\n        }\n      ];\n    }\n  }\n  async createChannelNotificationOptOut() {\n    const { channelId, intl, context } = this;\n    try {\n      await createChannelNotificationOptOut(Object.assign({ channelId }, context.hubRequestOptions));\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.users.action.update.label.notifications.details.disabled), { response: dist.constants.response.SUCCESS }));\n    }\n    catch (e) {\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.users.action.update.label.notifications.details.disabled), { response: dist.constants.response.FAILURE }));\n      this.notices = [\n        ...this.notices,\n        {\n          color: 'red',\n          title: intl.t('stopError'),\n          message: intl.t('stopErrorMessage'),\n        }\n      ];\n    }\n  }\n  async removeChannelNotificationOptOut() {\n    const { channelId, intl, context } = this;\n    try {\n      await removeChannelNotificationOptOut(Object.assign({ channelId }, context.hubRequestOptions));\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.users.action.update.label.notifications.details.enabled), { response: dist.constants.response.SUCCESS }));\n    }\n    catch (e) {\n      this.hubTelemetry.emit(Object.assign(Object.assign({}, dist.dictionary.category.users.action.update.label.notifications.details.enabled), { response: dist.constants.response.FAILURE }));\n      this.notices = [\n        ...this.notices,\n        {\n          color: 'red',\n          title: intl.t('receiveError'),\n          message: intl.t('receiveErrorMessage'),\n        }\n      ];\n    }\n  }\n  /**\n   * On \"Save Preferences\" run the relevant API calls\n   */\n  handleSaveButtonClicked() {\n    this.saving = true;\n    this.notices = [];\n    const promises = [];\n    if (!this.activity) {\n      promises.push(this.removeChannelActivity());\n    }\n    promises.push(this.notifications\n      ? this.removeChannelNotificationOptOut()\n      : this.createChannelNotificationOptOut());\n    Promise.all(promises).then(() => {\n      this.saving = false;\n      if (!this.notices.length) {\n        this.notices = [{\n            title: this.intl.t('updated'),\n            message: this.intl.t('updatedMessage'),\n          }];\n      }\n    });\n  }\n  /**\n   * Emits telemetry for modal close\n   */\n  handleModalClosed() {\n    this.hubTelemetry.emit(dist.dictionary.category.interaction.action.close.label.modal.details.managePreferences);\n  }\n  /**\n   * Opens relevant notices and sets selected options\n   */\n  handleTileSelect(evt) {\n    const target = evt.target;\n    this[target.name] = target.value;\n  }\n  handleNoticeClosed() {\n    this.notices = [];\n  }\n  renderMetadata() {\n    const { channelDetails: { groups: [group] }, context, postTotal, intl } = this;\n    return (h(\"address\", null, h(\"calcite-avatar\", { fullName: group.title, scale: \"l\", thumbnail: getGroupThumbnailUrl(context.session.portal, group, context.session.token) }), h(\"div\", null, h(\"b\", null, group.title), h(\"span\", null, intl.t('totalPosts', { count: postTotal })))));\n  }\n  renderChannelDetails() {\n    const { channelDetails: { groups: [group] }, intl } = this;\n    return (h(\"calcite-card\", null, h(\"div\", null, this.renderMetadata(), h(\"calcite-link\", { href: `${window.location.origin}/teams/${group.id}`, onClick: this.handleLinkClicked, target: \"_blank\" }, intl.t('viewGroup')))));\n  }\n  renderContent() {\n    const { activeStepIndex, isMember } = this;\n    return (h(\"section\", { slot: 'content' }, isMember && this.renderChannelDetails(), h(\"calcite-stepper\", { layout: \"vertical\" }, this.stepItems.map((stepItem, idx) => (h(\"calcite-stepper-item\", { active: idx === activeStepIndex, \"data-name\": stepItem.name, description: stepItem.description, disabled: stepItem.disabled, heading: stepItem.heading, key: stepItem.heading, onClick: this.handleStepperItemSelected }, h(\"calcite-tile-select-group\", null, stepItem.options.map(option => (h(\"calcite-tile-select\", { checked: option.checked, description: option.description, heading: option.heading, icon: option.icon, inputEnabled: true, key: option.icon, name: stepItem.name, onCalciteTileSelectChange: this.handleTileSelect, type: \"radio\", value: option.value })))), stepItem.options[1].checked && (h(\"calcite-notice\", { active: true, color: stepItem.notice.color, width: \"full\" }, h(\"p\", { slot: \"title\" }, stepItem.notice.title), h(\"p\", { slot: \"message\" }, stepItem.notice.message), h(\"calcite-link\", { href: stepItem.notice.url, slot: \"link\" }, stepItem.notice.link))))))), this.renderNotice()));\n  }\n  renderNotice() {\n    const { notices, intl } = this;\n    const notice = (notices.length > 1)\n      ? {\n        color: 'red',\n        title: intl.t('multipleError'),\n        message: intl.t('multipleErrorMessage'),\n      }\n      : notices[0];\n    if (notice) {\n      return (h(\"calcite-notice\", { active: true, closable: true, color: notice.color, onCalciteNoticeClose: this.handleNoticeClosed, width: \"full\" }, h(\"p\", { slot: \"title\" }, notice.title), h(\"p\", { slot: \"message\" }, notice.message)));\n    }\n  }\n  renderModal() {\n    const { intl, saving, open } = this;\n    return (h(\"calcite-modal\", { backgroundColor: 'grey', disableCloseButton: saving, disableEscape: saving, disableOutsideClose: true, open: open }, h(\"p\", { slot: 'header' }, intl.t('header')), h(\"calcite-button\", { disabled: saving, loading: saving, onClick: this.handleSaveButtonClicked, round: true, scale: 'l', slot: 'primary' }, intl.t('save')), h(\"calcite-button\", { appearance: 'outline', disabled: saving, onClick: this.handleCancelButtonClicked, round: true, scale: 'l', slot: 'secondary' }, intl.t('cancel')), this.renderContent()));\n  }\n  render() {\n    return (h(Host, { \"data-element\": \"discussions-channel-settings-editor\" }, this.renderModal()));\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get element() { return getElement(this); }\n};\nArcgisHubDiscussionsChannelSettingsEditor.style = arcgisHubDiscussionsChannelSettingsEditorCss;\n\nexport { ArcgisHubDiscussionsChannelSettingsEditor as arcgis_hub_discussions_channel_settings_editor };\n","import { c as cloneObject } from './util-3c40fe6c.js';\nimport { U as UserSession } from './UserSession-d3a97494.js';\n\n/* Copyright (c) 2018-2021 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Well known APIs\n * Short-forms for specifying common APIs\n * We will likely deprecate this\n */\nconst SEARCH_APIS = {\n    arcgis: {\n        label: \"ArcGIS Online\",\n        url: \"https://www.arcgis.com\",\n        type: \"arcgis\",\n    },\n    arcgisQA: {\n        label: \"ArcGIS Online QAEXT\",\n        url: \"https://qaext.arcgis.com\",\n        type: \"arcgis\",\n    },\n    arcgisDEV: {\n        label: \"ArcGIS Online DEVEXT\",\n        url: \"https://devext.arcgis.com\",\n        type: \"arcgis\",\n    },\n    hub: {\n        label: \"ArcGIS Hub\",\n        url: \"https://hub.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n    hubDEV: {\n        label: \"ArcGIS Hub DEV\",\n        url: \"https://hubdev.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n    hubQA: {\n        label: \"ArcGIS Hub QA\",\n        url: \"https://hubqa.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n};\n/**\n * @private\n * Convert an api \"name\" into a full ApiDefinition\n * @param api\n * @returns\n */\nfunction expandApi(api) {\n    if (typeof api === \"string\" && api in SEARCH_APIS) {\n        return SEARCH_APIS[api];\n    }\n    else {\n        // it's an object, so we trust that it's well formed\n        return api;\n    }\n}\n/**\n * @private\n * Convert a field value into a MatchOptions if it's not already one\n * @param value\n * @returns\n */\nfunction valueToMatchOptions(value) {\n    let result = {};\n    if (Array.isArray(value)) {\n        result = {\n            any: value,\n        };\n    }\n    else {\n        if (typeof value === \"string\") {\n            result = {\n                any: [value],\n            };\n        }\n        if (typeof value === \"object\") {\n            result = value;\n        }\n    }\n    return result;\n}\n/**\n * @private\n * Convert a RelativeDate to a DateRange<number>\n * @param relative\n * @returns\n */\nfunction relativeDateToDateRange(relative) {\n    // hash of offsets\n    const offsetMs = {\n        min: 1000 * 60,\n        hours: 1000 * 60 * 60,\n        days: 1000 * 60 * 60 * 24,\n        weeks: 1000 * 60 * 60 * 24 * 7,\n    };\n    const now = new Date();\n    // default\n    const result = {\n        type: \"date-range\",\n        from: now.getTime(),\n        to: now.getTime(),\n    };\n    //\n    switch (relative.unit) {\n        case \"hours\":\n        case \"days\":\n        case \"weeks\":\n            result.from = result.to - offsetMs[relative.unit] * relative.num;\n            break;\n        case \"months\":\n            // get the current month and subtract num\n            // NOTE: when the previous month has fewer days than this month\n            // setMonth() will return a date w/in the current month\n            // example: 3/30 -> 3/2 b/c there is no 2/28\n            now.setMonth(now.getMonth() - relative.num);\n            result.from = now.getTime();\n            break;\n        case \"years\":\n            now.setFullYear(now.getFullYear() - relative.num);\n            result.from = now.getTime();\n            break;\n    }\n    return result;\n}\n/**\n * Create a `.next()` function for a type\n * @param request\n * @param nextStart\n * @param total\n * @param fn\n * @returns\n */\nfunction getNextFunction(request, nextStart, total, fn) {\n    const clonedRequest = cloneObject(request);\n    // clone will not handle authentication so we do it manually\n    if (request.authentication) {\n        clonedRequest.authentication = UserSession.deserialize(request.authentication.serialize());\n    }\n    // figure out the start\n    clonedRequest.start = nextStart > -1 ? nextStart : total + 1;\n    return (authentication) => {\n        if (authentication) {\n            clonedRequest.authentication = authentication;\n        }\n        return fn(clonedRequest);\n    };\n}\n/**\n * Construct a the full url to a group thumbnail\n *\n * - If the group has a thumbnail, construct the full url\n * - If the group is not public, append on the token (if passed in)\n * @param portalUrl\n * @param group\n * @param token\n * @returns\n */\nfunction getGroupThumbnailUrl(portalUrl, group, token) {\n    let thumbnailUrl = null;\n    if (group.thumbnail) {\n        thumbnailUrl = `${portalUrl}/community/groups/${group.id}/info/${group.thumbnail}`;\n        if (token && group.access !== \"public\") {\n            thumbnailUrl = `${thumbnailUrl}?token=${token}`;\n        }\n    }\n    return thumbnailUrl;\n}\n/**\n * Construct a the full url to a user thumbnail\n *\n * - If the user has a thumbnail, construct the full url\n * - If the user is not public, append on the token\n * @param portalUrl\n * @param user\n * @param token\n * @returns\n */\nfunction getUserThumbnailUrl(portalUrl, user, token) {\n    let thumbnailUrl = null;\n    if (user.thumbnail) {\n        thumbnailUrl = `${portalUrl}/community/users/${user.username}/info/${user.thumbnail}`;\n        if (token && user.access !== \"public\") {\n            thumbnailUrl = `${thumbnailUrl}?token=${token}`;\n        }\n    }\n    return thumbnailUrl;\n}\n\nexport { getUserThumbnailUrl as a, getNextFunction as b, expandApi as e, getGroupThumbnailUrl as g, relativeDateToDateRange as r, valueToMatchOptions as v };\n"],"names":["ArcgisHubDiscussionsChannelSettingsEditor","hostRef","registerInstance","this","hubTelemetry","createEvent","saving","activity","notices","bind","channel","channelDetails","context","Boolean","currentUser","groups","some","id","includes","Promise","all","intlManager","element","fetchChannelNotifcationOptOut","Object","assign","channelId","hubRequestOptions","catch","fetchChannelDetails","intl","notificationOptOut","notifications","fetchTotalPosts","postTotal","activeStepIndex","isMember","name","description","t","disabled","heading","options","checked","icon","value","notice","title","message","link","url","color","enrichChannelDetails","searchPosts","params","start","num","channels","creator","username","total","evt","target","currentTarget","stepItems","activeItem","dataset","emit","dist","findIndex","preventDefault","setTimeout","window","location","href","open","removeChannelActivity","response","createChannelNotificationOptOut","removeChannelNotificationOptOut","promises","push","then","length","group","h","fullName","scale","thumbnail","getGroupThumbnailUrl","session","portal","token","count","renderMetadata","origin","onClick","handleLinkClicked","slot","renderChannelDetails","layout","map","stepItem","idx","active","key","handleStepperItemSelected","option","inputEnabled","onCalciteTileSelectChange","handleTileSelect","type","width","renderNotice","closable","onCalciteNoticeClose","handleNoticeClosed","backgroundColor","disableCloseButton","disableEscape","disableOutsideClose","loading","handleSaveButtonClicked","round","appearance","handleCancelButtonClicked","renderContent","Host","renderModal","getElement","style","SEARCH_APIS","arcgis","label","arcgisQA","arcgisDEV","hub","hubDEV","hubQA","expandApi","api","valueToMatchOptions","result","Array","isArray","any","relativeDateToDateRange","relative","now","Date","from","getTime","to","unit","min","hours","days","weeks","setMonth","getMonth","setFullYear","getFullYear","getNextFunction","request","nextStart","fn","clonedRequest","cloneObject","authentication","UserSession","serialize","portalUrl","thumbnailUrl","access","getUserThumbnailUrl","user"],"sourceRoot":""}