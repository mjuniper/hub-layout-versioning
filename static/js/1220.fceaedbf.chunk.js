"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[1220],{62204:function(e,t,r){r.d(t,{P:function(){return s}});var n=r(37762),i=r(92026),o=r(68860),a=r(92975);function l(e,t,r){if(null==e.hasM||e.hasZ){var i,o=(0,n.Z)(t);try{for(o.s();!(i=o.n()).done;){var a,l=i.value,s=(0,n.Z)(l);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.length>2&&(u[2]*=r)}}catch(f){s.e(f)}finally{s.f()}}}catch(f){o.e(f)}finally{o.f()}}}function s(e,t,r){if((e||t)&&r){var n=(0,o._R)(r);u(e,r,n),u(t,r,n)}}function u(e,t,r){if(e){var i,o=(0,n.Z)(e);try{for(o.s();!(i=o.n()).done;){f(i.value.geometry,t,r)}}catch(a){o.e(a)}finally{o.f()}}}function f(e,t,r){if(!(0,i.Wi)(e)&&e.spatialReference&&!(0,a.fS)(e.spatialReference,t)){var s=(0,o._R)(e.spatialReference)/r;if(1!==s)if("x"in e)null!=e.z&&(e.z*=s);else if("rings"in e)l(e,e.rings,s);else if("paths"in e)l(e,e.paths,s);else if("points"in e&&(null==e.hasM||e.hasZ)){var u,f=(0,n.Z)(e.points);try{for(f.s();!(u=f.n()).done;){var y=u.value;y.length>2&&(y[2]*=s)}}catch(p){f.e(p)}finally{f.f()}}}}},68620:function(e,t,r){r.d(t,{p:function(){return a}});var n=r(37762),i=r(92026),o=r(93501);function a(e,t,r){if(r&&r.features&&r.hasZ){var a=(0,o.k)(r.geometryType,t,e.outSpatialReference);if(!(0,i.Wi)(a)){var l,s=(0,n.Z)(r.features);try{for(s.s();!(l=s.n()).done;){a(l.value.geometry)}}catch(u){s.e(u)}finally{s.f()}}}}},49818:function(e,t,r){r.d(t,{Z:function(){return k}});var n,i=r(29439),o=r(37762),a=r(15671),l=r(43144),s=r(60136),u=r(92572),f=r(27366),y=r(59486),p=r(52639),c=r(43404),v=r(46784),h=r(84652),m=r(92026),d=r(49861),g=(r(25243),r(38511)),Z=r(69912),_=r(31201),R=r(78952),w=r(77981),x=r(83040),C=new c.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),b=n=function(e){(0,s.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,l.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=R.Z.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var o=e[i],a=p.Z.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;(0,m.pC)(a.geometry)&&!l&&(a.geometry.spatialReference=r);var s=o.aggregateGeometries,u=a.aggregateGeometries;if(s&&(0,m.pC)(u))for(var f in u){var y,c=u[f],v=null===(y=s[f])||void 0===y?void 0:y.spatialReference;(0,m.pC)(c)&&!v&&(c.spatialReference=r)}n.push(a)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)C.write(e,t,r,n);else{var i=this.features;if(i){var a,l=(0,o.Z)(i);try{for(l.s();!(a=l.n()).done;){var s=a.value;if(s&&(0,m.pC)(s.geometry))return void C.write(s.geometry.type,t,r,n)}}catch(u){l.e(u)}finally{l.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,w.im)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=R.Z.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a&&(0,m.pC)(a.geometry)&&a.geometry.spatialReference)return void(t.spatialReference=a.geometry.spatialReference.toJSON())}}catch(l){i.e(l)}finally{i.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,i.Z)(e.scale,2),r=t[0],n=t[1],o=(0,i.Z)(e.translate,2),a=o[0],l=o[1],s=this.features,u=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-a)/r)}),(function(e){return Math.round((l-e)/n)})),f=0,y=s.length;f<y;f++)(null===u||void 0===u?void 0:u((0,m.Wg)(s[f].geometry)))||(s.splice(f,1),f--,y--);return this.transform=e,this}},{key:"unquantize",value:function(){var e=this.geometryType,t=this.features,r=this.transform;if(!r)return this;var n,a=(0,i.Z)(r.translate,2),l=a[0],s=a[1],u=(0,i.Z)(r.scale,2),f=u[0],y=u[1],p=this._getHydrationFunction(e,(function(e){return e*f+l}),(function(e){return s-e*y})),c=(0,o.Z)(t);try{for(c.s();!(n=c.n()).done;){var v=n.value.geometry;(0,m.pC)(v)&&p&&p(v)}}catch(h){c.e(h)}finally{c.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,o=[],a=0,l=e.length;a<l;a++){var s=e[a];if(a>0){var u=t(s[0]),f=r(s[1]);u===n&&f===i||(o.push([u-n,f-i]),n=u,i=f)}else n=t(s[0]),i=r(s[1]),o.push([n,i])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,w.oU)(e)?e.rings:e.paths,o=[],a=0,l=i.length;a<l;a++){var s=i[a],u=n._quantizePoints(s,t,r);u&&o.push(u)}return o.length>0?((0,w.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?function(e){for(var n,i,o=(0,w.oU)(e)?e.rings:e.paths,a=0,l=o.length;a<l;a++)for(var s=o[a],u=0,f=s.length;u<f;u++){var y=s[u];u>0?(n+=y[0],i+=y[1]):(n=y[0],i=y[1]),y[0]=t(n),y[1]=r(i)}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?function(e){for(var n,i,o=e.points,a=0,l=o.length;a<l;a++){var s=o[a];a>0?(n+=s[0],i+=s[1]):(n=s[0],i=s[1]),s[0]=t(n),s[1]=r(i)}}:null}}]),r}(v.wq);(0,f._)([(0,d.Cb)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,f._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"exceededTransferLimit",void 0),(0,f._)([(0,d.Cb)({type:[p.Z],json:{write:!0}})],b.prototype,"features",void 0),(0,f._)([(0,g.r)("features")],b.prototype,"readFeatures",null),(0,f._)([(0,d.Cb)({type:[x.Z],json:{write:!0}})],b.prototype,"fields",void 0),(0,f._)([(0,d.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:C.read}}})],b.prototype,"geometryType",void 0),(0,f._)([(0,_.c)("geometryType")],b.prototype,"writeGeometryType",null),(0,f._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasM",void 0),(0,f._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"hasZ",void 0),(0,f._)([(0,d.Cb)({types:y.qM,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,f._)([(0,g.r)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,f._)([(0,d.Cb)({type:R.Z,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,f._)([(0,_.c)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,f._)([(0,d.Cb)({json:{write:!0}})],b.prototype,"transform",void 0),(b=n=(0,f._)([(0,Z.j)("esri.rest.support.FeatureSet")],b)).prototype.toJSON.isDefaultToJSON=!0;var k=b}}]);
//# sourceMappingURL=1220.fceaedbf.chunk.js.map