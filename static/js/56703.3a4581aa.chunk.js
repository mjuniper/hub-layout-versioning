"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[56703],{36231:function(t,e,n){n.d(e,{q:function(){return s}});var r,u,i,a={},o={get exports(){return a},set exports(t){a=t}};r=o,u=function(){function t(n,r,u,i,a){for(;i>u;){if(i-u>600){var o=i-u+1,s=r-u+1,c=Math.log(o),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(o-l)/o)*(s-o/2<0?-1:1);t(n,r,Math.max(u,Math.floor(r-s*l/o+f)),Math.min(i,Math.floor(r+(o-s)*l/o+f)),a)}var p=n[r],h=u,v=i;for(e(n,u,r),a(n[i],p)>0&&e(n,u,i);h<v;){for(e(n,h,v),h++,v--;a(n[h],p)<0;)h++;for(;a(n[v],p)>0;)v--}0===a(n[u],p)?e(n,u,v):e(n,++v,i),v<=r&&(u=v+1),r<=v&&(i=v-1)}}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}return function(e,r,u,i,a){t(e,r,u||0,i||e.length-1,a||n)}},void 0!==(i=u())&&(r.exports=i);var s=a},59026:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(15671),u=n(43144),i=n(18759),a=function(){function t(e,n){(0,r.Z)(this,t),this._storage=new i.WJ,this._storage.maxSize=e,n&&this._storage.registerRemoveFunc("",n)}return(0,u.Z)(t,[{key:"put",value:function(t,e){this._storage.put(t,e,1,1)}},{key:"pop",value:function(t){return this._storage.pop(t)}},{key:"get",value:function(t){return this._storage.get(t)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"destroy",value:function(){this._storage.destroy()}}]),t}()},93963:function(t,e,n){n.d(e,{f:function(){return o}});var r=n(15671),u=n(43144),i=n(39052),a=n(56885),o=function(){function t(e){(0,r.Z)(this,t),this._observable=new a.s,this._value=e}return(0,u.Z)(t,[{key:"get",value:function(){return(0,i.it)(this._observable),this._value}},{key:"set",value:function(t){t!==this._value&&(this._value=t,this._observable.notify())}}]),t}()},14921:function(t,e,n){n.d(e,{Ed:function(){return y},UI:function(){return d},mt:function(){return b},q6:function(){return x},vr:function(){return q},w6:function(){return k}});var r=n(74165),u=n(15671),i=n(43144),a=n(60136),o=n(92572),s=n(15861),c=n(27366),l=n(85015),f=n(92026),p=n(66978),h=n(49861),v=(n(25243),n(63780),n(69912));function y(t,e,n){return(0,p.as)(t.map((function(t,r){return e.apply(n,[t,r])})))}function d(t,e,n){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)((0,r.Z)().mark((function t(e,n,u){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p.as)(e.map((function(t,e){return n.apply(u,[t,e])})));case 2:return t.abrupt("return",t.sent.map((function(t){return t.value})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return{ok:!0,value:t}}function _(t){return{ok:!1,error:t}}function x(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,f.Wi)(e)){t.next=2;break}return t.abrupt("return",{ok:!1,error:new Error("no promise provided")});case 2:return t.prev=2,t.t0=m,t.next=6,e;case 6:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 10:return t.prev=10,t.t2=t.catch(2),t.abrupt("return",_(t.t2));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=m,t.next=4,e;case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 8:return t.prev=8,t.t2=t.catch(0),t.abrupt("return",((0,p.r9)(t.t2),_(t.t2)));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function k(t){if(!0===t.ok)return t.value;throw t.error}function q(t,e){return new C(t,e)}var C=function(t){(0,a.Z)(n,t);var e=(0,o.Z)(n);function n(t,r){var i;(0,u.Z)(this,n),(i=e.call(this,{}))._result=null,i._abortHandle=null,i.abort=function(){i._abortController=(0,f.IM)(i._abortController)},i.remove=i.abort,i._abortController=new AbortController;var a=i._abortController.signal;return i.promise=t(a),i.promise.then((function(t){i._result=m(t),i._cleanup()}),(function(t){i._result=_(t),i._cleanup()})),i._abortHandle=(0,p.fu)(r,i.abort),i}return(0,i.Z)(n,[{key:"value",get:function(){return t=this._result,(0,f.pC)(t)&&!0===t.ok?t.value:null;var t}},{key:"error",get:function(){return t=this._result,(0,f.pC)(t)&&!1===t.ok?t.error:null;var t}},{key:"finished",get:function(){return(0,f.pC)(this._result)}},{key:"normalizeCtorArgs",value:function(){return{}}},{key:"destroy",value:function(){this.abort()}},{key:"_cleanup",value:function(){this._abortHandle=(0,f.hw)(this._abortHandle),this._abortController=null}}]),n}(l.Z);(0,c._)([(0,h.Cb)()],C.prototype,"value",null),(0,c._)([(0,h.Cb)()],C.prototype,"error",null),(0,c._)([(0,h.Cb)()],C.prototype,"finished",null),(0,c._)([(0,h.Cb)()],C.prototype,"promise",void 0),(0,c._)([(0,h.Cb)()],C.prototype,"_result",void 0),C=(0,c._)([(0,v.j)("esri.core.asyncUtils.ReactiveTask")],C)},58971:function(t,e,n){n.d(e,{G6:function(){return q},Ie:function(){return k},J9:function(){return b},RF:function(){return m},U1:function(){return w},vY:function(){return c},ym:function(){return Z}});var r=n(29439),u=n(92026),i=n(77981);var a=function(t,e,n){return[e,n]},o=function(t,e,n){return[e,n,t[2]]},s=function(t,e,n){return[e,n,t[2],t[3]]};function c(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:(0,u.pC)(t.extent)?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function l(t,e){var n=t.scale,r=t.translate;return Math.round((e-r[0])/n[0])}function f(t,e){var n=t.scale,r=t.translate;return Math.round((r[1]-e)/n[1])}function p(t,e,n){for(var r,u,i,a,o=[],s=0;s<n.length;s++){var c=n[s];s>0?(i=l(t,c[0]),a=f(t,c[1]),i===r&&a===u||(o.push(e(c,i-r,a-u)),r=i,u=a)):(r=l(t,c[0]),u=f(t,c[1]),o.push(e(c,r,u)))}return o.length>0?o:null}function h(t,e){var n=t.scale,r=t.translate;return e*n[0]+r[0]}function v(t,e){var n=t.scale;return t.translate[1]-e*n[1]}function y(t,e,n){var u=new Array(n.length);if(!n.length)return u;var i=(0,r.Z)(t.scale,2),a=i[0],o=i[1],s=h(t,n[0][0]),c=v(t,n[0][1]);u[0]=e(n[0],s,c);for(var l=1;l<n.length;l++){var f=n[l];s+=f[0]*a,c-=f[1]*o,u[l]=e(f,s,c)}return u}function d(t,e,n){for(var r=new Array(n.length),u=0;u<n.length;u++)r[u]=y(t,e,n[u]);return r}function g(t,e,n,r,u){var i;return e.points=null!==(i=function(t,e,n,r){return p(t,n?r?s:o:r?o:a,e)}(t,n.points,r,u))&&void 0!==i?i:[],e}function m(t,e,n,r,u){return e.x=l(t,n.x),e.y=f(t,n.y),e!==n&&(r&&(e.z=n.z),u&&(e.m=n.m)),e}function _(t,e,n,r,u){var i=function(t,e,n,r){for(var u=[],i=n?r?s:o:r?o:a,c=0;c<e.length;c++){var l=p(t,i,e[c]);l&&l.length>=3&&u.push(l)}return u.length?u:null}(t,n.rings,r,u);return i?(e.rings=i,e):null}function x(t,e,n,r,u){var i=function(t,e,n,r){for(var u=[],i=n?r?s:o:r?o:a,c=0;c<e.length;c++){var l=p(t,i,e[c]);l&&l.length>=2&&u.push(l)}return u.length?u:null}(t,n.paths,r,u);return i?(e.paths=i,e):null}function Z(t,e){return t&&e?(0,i.wp)(e)?m(t,{},e,!1,!1):(0,i.l9)(e)?x(t,{},e,!1,!1):(0,i.oU)(e)?_(t,{},e,!1,!1):(0,i.aW)(e)?g(t,{},e,!1,!1):(0,i.YX)(e)?function(t,e,n,r,u){return e.xmin=l(t,n.xmin),e.ymin=f(t,n.ymin),e.xmax=l(t,n.xmax),e.ymax=f(t,n.ymax),e!==n&&(r&&(e.zmin=n.zmin,e.zmax=n.zmax),u&&(e.mmin=n.mmin,e.mmax=n.mmax)),e}(t,{},e,!1,!1):null:null}function b(t,e,n,r,i){return(0,u.pC)(n)&&(e.points=function(t,e,n,r){return y(t,n?r?s:o:r?o:a,e)}(t,n.points,r,i)),e}function w(t,e,n,r,i){return(0,u.Wi)(n)||(e.x=h(t,n.x),e.y=v(t,n.y),e!==n&&(r&&(e.z=n.z),i&&(e.m=n.m))),e}function k(t,e,n,r,i){return(0,u.pC)(n)&&(e.rings=function(t,e,n,r){return d(t,n?r?s:o:r?o:a,e)}(t,n.rings,r,i)),e}function q(t,e,n,r,i){return(0,u.pC)(n)&&(e.paths=function(t,e,n,r){return d(t,n?r?s:o:r?o:a,e)}(t,n.paths,r,i)),e}},34311:function(t,e,n){function r(t,e,n){return{objectId:t,target:e,distance:n,type:"vertex"}}function u(t,e,n,r,u){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{objectId:t,target:e,distance:n,type:"edge",start:r,end:u,draped:i}}n.d(e,{p:function(){return u},u:function(){return r}})},58178:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(74165),u=n(37762),i=n(15861),a=n(15671),o=n(43144),s=n(14921),c=n(10064),l=n(32718),f=n(92026),p=n(66978),h=n(92975),v=n(83406),y=n(68928),d=n(19995),g=n(14e3),m=n(47615),_=n(68808),x=n(12622),Z=n(52410),b=function(){function t(){var e=this;(0,a.Z)(this,t),this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n){var i,a,o,s,c,l,y,g,Z,b,w,k;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e._queryEngine.objectIdField,t.next=3,(0,x.Bm)(null!==(i=e._getFeatureUrl)&&void 0!==i?i:"",e._featureType.typeName,e._getFeatureOutputFormat,{customParameters:e._customParameters,dateFields:e._queryEngine.fieldsIndex.dateFields.map((function(t){return t.name})),signal:n});case 3:return o=t.sent,t.next=6,(0,m.O3)(o);case 6:if((0,p.k_)(n),s=(0,m.lG)(o,{geometryType:e._queryEngine.geometryType,hasZ:!1,objectIdField:a}),!(0,h.fS)(e._queryEngine.spatialReference,h.Zn)){c=(0,u.Z)(s);try{for(c.s();!(l=c.n()).done;)y=l.value,(0,f.pC)(y.geometry)&&(y.geometry=(0,v.GH)((0,d.iV)((0,v.di)(y.geometry,e._queryEngine.geometryType,!1,!1),h.Zn,e._queryEngine.spatialReference)))}catch(r){c.e(r)}finally{c.f()}}g=1,Z=(0,u.Z)(s);try{for(Z.s();!(b=Z.n()).done;)w=b.value,k={},(0,_.O0)(e._fieldsIndex,k,w.attributes,!0),w.attributes=k,null==w.attributes[a]&&(w.objectId=w.attributes[a]=g++)}catch(r){Z.e(r)}finally{Z.f()}return t.abrupt("return",s);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}return(0,o.Z)(t,[{key:"destroy",value:function(){var t;null!==(t=this._queryEngine)&&void 0!==t&&t.destroy(),this._queryEngine=null}},{key:"load",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var u,i,a,o,s,c,l,h,v;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=e.getFeatureUrl,i=e.getFeatureOutputFormat,a=e.spatialReference,o=e.fields,s=e.geometryType,c=e.featureType,l=e.objectIdField,h=e.customParameters,this._featureType=c,this._customParameters=h,this._getFeatureUrl=u,this._getFeatureOutputFormat=i,this._fieldsIndex=new Z.Z(o),t.next=8,this._checkProjection(a);case 8:return(0,p.k_)(n),this._queryEngine=new g.q({fields:o,geometryType:s,hasM:!1,hasZ:!1,objectIdField:l,spatialReference:a,timeInfo:null,featureStore:new y.Z({geometryType:s,hasM:!1,hasZ:!1})}),t.next=12,this._snapshotFeatures((0,f.Wg)(n.signal));case 12:return v=t.sent,this._queryEngine.featureStore.addMany(v),t.next=16,this._queryEngine.fetchRecomputedExtents();case 16:return t.t0=t.sent.fullExtent,t.abrupt("return",{extent:t.t0});case 18:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new c.Z("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},t.next=4,this._waitSnapshotComplete();case 4:return t.abrupt("return",this._queryEngine.executeQuery(e,n.signal));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},t.next=4,this._waitSnapshotComplete();case 4:return t.abrupt("return",this._queryEngine.executeQueryForCount(e,n.signal));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},t.next=4,this._waitSnapshotComplete();case 4:return t.abrupt("return",this._queryEngine.executeQueryForIds(e,n.signal));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},n=u.length>1&&void 0!==u[1]?u[1]:{},t.next=4,this._waitSnapshotComplete();case 4:return t.abrupt("return",this._queryEngine.executeQueryForExtent(e,n.signal));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,u=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,this._waitSnapshotComplete();case 3:return t.abrupt("return",this._queryEngine.executeQueryForSnapping(e,n.signal));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"refresh",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,u=this;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._customParameters=e,null!==(n=this._snapshotTask)&&void 0!==n&&n.abort(),this._snapshotTask=(0,s.vr)(this._snapshotFeatures),this._snapshotTask.promise.then((function(t){u._queryEngine.featureStore.clear(),t&&u._queryEngine.featureStore.addMany(t)}),(function(t){u._queryEngine.featureStore.clear(),(0,p.D_)(t)||l.Z.getLogger("esri.layers.WFSLayer").error(new c.Z("wfs-layer:getfeature-error","An error occurred during the GetFeature request",{error:t}))})),t.next=6,this._waitSnapshotComplete();case 6:return t.next=8,this._queryEngine.fetchRecomputedExtents();case 8:return t.t0=t.sent.fullExtent,t.abrupt("return",{extent:t.t0});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){t.next=9;break}return t.prev=1,t.next=4,this._snapshotTask.promise;case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:return t.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return t.stop()}}),t,this,[[1,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"_checkProjection",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d._W)(h.Zn,e);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new c.Z("unsupported-projection","Projection not supported",{spatialReference:e});case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}]),t}()},68808:function(t,e,n){n.d(e,{O0:function(){return m},av:function(){return h},b:function(){return w},d1:function(){return y},og:function(){return x}});var r=n(74165),u=n(15861),i=n(37762),a=n(43144),o=n(15671),s=n(92026),c=n(92975),l=n(80031),f=(0,a.Z)((function t(){(0,o.Z)(this,t),this.code=null,this.description=null})),p=(0,a.Z)((function t(e){(0,o.Z)(this,t),this.error=new f,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}));function h(t){return new p(t)}var v=(0,a.Z)((function t(e){(0,o.Z)(this,t),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}));function y(t){return new v(t)}var d,g=new Set;function m(t,e,n){var r,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;for(var o in g.clear(),n){var s=t.get(o);if(s){var c=n[o],f=_(s,c);if(f!==c&&a&&a.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:s,originalValue:c,sanitizedValue:f}}),g.add(s.name),s&&(u||s.editable)){var p=(0,l.Qc)(s,f);if(p)return h((0,l.vP)(p,s,f));e[s.name]=f}}}var v,y=(0,i.Z)(null!==(r=null===t||void 0===t?void 0:t.requiredFields)&&void 0!==r?r:[]);try{for(y.s();!(v=y.n()).done;){var d=v.value;if(!g.has(d.name))return h('missing required field "'.concat(d.name,'"'))}}catch(m){y.e(m)}finally{y.f()}return null}function _(t,e){var n=e;return"string"==typeof e&&(0,l.H7)(t)?n=parseFloat(e):null!=e&&(0,l.qN)(t)&&"string"!=typeof e&&(n=String(e)),(0,l.Pz)(n)}function x(t,e){if(!t||!(0,c.JY)(e))return t;if("rings"in t||"paths"in t){if((0,s.Wi)(d))throw new TypeError("geometry engine not loaded");return d.simplify(e,t)}return t}function Z(){return b.apply(this,arguments)}function b(){return(b=(0,u.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=(0,s.Wi)(d),!t.t0){t.next=5;break}return t.next=4,Promise.all([n.e(99058),n.e(63645)]).then(n.bind(n,50309));case 4:d=t.sent;case 5:return t.abrupt("return",d);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!(0,c.JY)(e)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n,t.t0){t.next=4;break}return t.next=4,Z();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=56703.3a4581aa.chunk.js.map