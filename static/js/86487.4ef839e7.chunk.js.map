{"version":3,"file":"static/js/86487.4ef839e7.chunk.js","mappings":"iOAIgH,SAAeA,EAAE,EAAD,uDAA4sB,OAA5sB,0BAAhB,WAAiBA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,GAAC,oFAAY,GAANC,EAAE,OAAQC,EAAAA,EAAAA,IAAEL,GAAE,iBAAsE,OAA9DM,EAAC,UAAIR,EAAC,eAAcC,EAAEO,EAAEC,KAAKC,MAAMR,EAAES,UAAUT,EAAEU,cAAa,mBAAwCC,EAAAA,EAAAA,SAAEZ,EAAE,CAACa,MAAM,CAACC,EAAE,OAAOC,MAAMb,GAAGc,aAAa,OAAOC,OAAOb,IAAG,OAAmG,OAAnG,YAAEc,KAAI,KAAWjB,EAAES,UAAS,KAAUT,EAAEU,aAAY,KAAWV,EAAEkB,uBAAsB,KAAWZ,EAAC,mBAA3La,KAAK,OAAOC,SAAQ,KAA2EX,UAAS,KAAaY,SAAQ,KAAgBC,UAAS,KAA0BC,UAAS,0CAAalB,EAAAA,EAAAA,IAAEH,IAAIA,EAAEsB,KAAK,oBAAoB,iEAAiEzB,EAAC,MAAIK,EAAC,KAAE,WAAML,EAAC,0CAAQ,MAAI,QAAkD,OAA3C0B,EAAC,UAAI3B,EAAC,WAAU4B,EAAED,GAAG1B,GAAGA,EAAE4B,MAAM,KAAKC,OAAM,qBAAwCjB,EAAAA,EAAAA,SAAEe,EAAE,CAACd,MAAM,CAACC,EAAE,OAAOC,MAAMb,GAAGc,aAAa,OAAOC,OAAOb,IAAG,QAAkB,OAAlB,YAAEc,KAAI,KAAWQ,EAAC,mBAA1GN,KAAK,OAAOU,SAAQ,KAA2EN,UAAS,gDAAmB,IAAIjB,EAAAA,EAAE,iCAAiC,qBAAqB,CAACwB,UAAU1B,EAAE2B,UAAS,KAAGC,IAAIN,IAAG,kEAAE,wB,+ECA50B,IAAMO,EAAE,quCCAFC,EAAE,ilF,UCAwIpC,EAAE,CAACqC,QAAO,EAAGC,kBAAiB,EAAGC,MAAM,GAAGC,OAAO,IAAI,SAAShC,EAAED,GAAG,OAAOA,EAAEkC,SAASxC,GAAG,kBAAI,IAAIY,EAAAA,EAAEZ,EAAED,EAAE,GAAE,CAAC,SAASI,EAAEH,GAAG,OAAOA,EAAEwC,SAASlC,GAAG,kBAAI,IAAIM,EAAAA,EAAEN,EAAEP,EAAE,GAAE,C,wTCA6xB,IAAM0C,EAAE,+CAA+CC,EAAEzC,EAAAA,EAAAA,UAAYwC,GAAOE,EAAC,0CAAiB,WAAY/B,GAAE,MAAkF,OAAlF,gBAAC,cAAMA,IAAQgC,SAAS,IAAI5C,EAAAA,EAAE,EAAK6C,iBAAgB,EAAG,EAAKC,mBAAmB,KAAI,EAA8gH,OAA7gH,6CAAY,WAACC,KAAKH,SAASI,IAAID,KAAKE,SAASC,eAAeC,GAAG,cAAc,SAAAvC,GAAI,IAAMT,EAAES,EAAEwC,KAAK,MAAMjD,IAAIA,aAAaC,EAAAA,GAAGD,aAAakD,EAAAA,GAAGlD,aAAaC,EAAAA,GCAj2C,SAAWH,GAAG,OAAOA,EAAEmB,MAAM,IAAI,iBAAiB,IAAI,MAAM,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,kBAAkB,IAAI,MAAM,IAAI,kBAAkB,IAAI,aAAa,IAAI,2BAA2B,IAAI,gBAAgB,IAAI,YAAY,IAAI,cAAc,IAAI,mBAAmB,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,gBAAgB,IAAI,UAAU,IAAI,cAAc,IAAI,MAAM,KAAK,KAAK,OAAM,EAAG,IAAI,eAAe,IAAI,iBAAiB,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,eAAe,IAAI,YAAY,IAAI,QAAQ,IAAI,kBAAkB,IAAI,OAAO,IAAI,cAAc,IAAI,MAAM,IAAI,WAAW,IAAI,MAAM,IAAI,OAAO,OAAM,EAAG,QAAQ,OAAOR,EAAAA,EAAAA,IAAEX,EAAEmB,OAAM,EAAG,CDAinBkC,CAAEnD,IAAIuC,EAAEa,MAAM,iBAAgB,iBAAWpD,EAAEqD,MAAK,gBAAQrD,EAAEsD,GAAE,sBAActD,EAAEiB,KAAI,yFAAwFR,EAAE8C,kBAAkB,EAAKT,SAASC,eAAeS,SAASxD,IAAIS,EAAE8C,kBAAkBhB,EAAEa,MAAM,iBAAiB,iFAAiF3C,EAAE8C,iBAAiB,KAAu3G,SAAW9C,EAAET,GAAE,MAACyD,EAAEC,IAAIjD,IAAIgD,EAAEE,IAAIlD,EAAE,CAACmD,IAAI,GAAGC,iBAAiB,OAAe,QAAT,EAACJ,EAAEK,IAAIrD,UAAE,OAAR,EAAUmD,IAAIG,KAAK/D,EAAE,CAAz8GgE,CAAEpB,KAAKqB,KAAKrB,MAAMA,KAAKH,SAASI,IAAI,EAAC1C,EAAAA,EAAAA,KAAG,kBAAI,EAAK+D,iBAAiBC,KAAK,IAAG,WAAK,EAAKzB,iBAAiB,EAAK0B,oCAAoC,EAAKC,mBAAmB,GAAG,CAACC,MAAK,KAAKnE,EAAAA,EAAAA,KAAG,kBAAI,EAAK2C,SAASyB,oBAAoB,IAAG,kBAAI,EAAKF,mBAAmB,GAAE,CAACC,MAAK,IAAK1B,KAAKE,SAASC,eAAeC,GAAG,UAAU,kBAAI,EAAKqB,mBAAmB,KAAGlE,EAAAA,EAAAA,KAAG,iBAAI,CAAC,EAAK+D,iBAAiBM,OAAO,EAAKN,iBAAiBO,QAAQ,IAAG,WAAK,EAAKC,0BAA0B,EAAKC,uBAAuB,GAAG,CAACL,MAAK,KAAKnE,EAAAA,EAAAA,KAAG,kBAAI,EAAKyE,yBAAyB,IAAG,kBAAI,EAAKP,mBAAmB,MAAKzB,KAAKH,SAASI,IAAI,EAAC1C,EAAAA,EAAAA,KAAG,kBAAI,EAAK2C,SAAS+B,KAAK,IAAG,WAAK,EAAKnC,kBAAkB,EAAKoC,oCAAoC,EAAKH,wBAAwB,GAAG,CAACL,MAAK,KAAM,YAAY1B,KAAK8B,0BAA0B9B,KAAKkC,oCAAoClC,KAAK+B,uBAAuB,GAAC,gCAAU/B,KAAKsB,iBAAiBM,SAAS5B,KAAKsB,iBAAiBM,QAAO,EAAG5B,KAAKqB,KAAKc,WAAW,MAAykF,SAAWtE,EAAET,GAAE,MAAC,IAAIyD,EAAEC,IAAIjD,GAAG,MAAM,IAAIuE,MAAM,0CAA0C,IAAMjF,EAAE0D,EAAEK,IAAIrD,GAAGZ,EAAuB,QAAtB,EAAE,OAADE,QAAC,IAADA,OAAC,EAADA,EAAG6D,IAAIqB,YAAYjF,UAAE,SAAG,EAAE,IAAID,IAAI,IAAIF,EAAE,MAAM,IAAImF,MAAM,gDAAgDjF,EAAE6D,IAAIsB,OAAOrF,EAAE,GAAG,IAAIE,EAAE6D,IAAIuB,QAAQ1B,EAAE2B,OAAO3E,EAAE,CAAp0FuB,CAAEY,KAAKqB,KAAKrB,MAAMA,KAAKH,SAAS4C,UAAUzC,KAAKe,IAAI,OAAO,KAAK,GAAC,iCAAAG,IAAA,WAAgC,IAAMrD,EAAEmC,KAAKqB,KAAKqB,cAAcC,MAAM,OAAO9E,EAAE+E,OAAO/E,EAAEgF,OAAOlE,EAAAA,IAAGmE,SAAS,YAAe,OAAE,EAAfC,cAAqBJ,KAAK,IAAG,GAAC,0DAAoC,IAAM9E,EAAEmC,KAAKE,SAAS+B,MAAM7E,EAAE4C,KAAKD,mBAAmB,MAAGzC,EAAAA,EAAAA,IAAEF,KAAIE,EAAAA,EAAAA,IAAEO,KAAIb,EAAAA,EAAAA,IAAEI,KAAIJ,EAAAA,EAAAA,IAAEa,IAAIA,EAAEmF,OAAO5F,IAApC,CAA8C,IAAID,EAAE,KAAKF,EAAE,KAAK,IAAGD,EAAAA,EAAAA,IAAEa,KAAIb,EAAAA,EAAAA,IAAEa,EAAEoF,UAAU,CAAC,IAAM7F,EAAES,EAAEoF,SAASC,iBAAiBhG,GAAEiG,EAAAA,EAAAA,IAAEtF,EAAEmC,KAAKqB,OAAM/D,EAAAA,EAAAA,IAAEJ,KAAIa,EAAAA,EAAAA,GAAEiC,KAAKE,SAAS9C,EAAEuC,GAAGxC,GAAEiG,EAAAA,EAAAA,IAAElG,EAAE8C,KAAKqB,KAAK,CAACgC,YAAYrD,KAAKE,SAASmD,cAAaC,EAAAA,EAAAA,OAAKtG,EAAAA,EAAAA,IAAEG,KAAKF,EAAE,CAACsG,QAAQ1F,EAAE0F,QAAQC,KAAK3F,EAAE2F,KAAKP,SAASpF,EAAEoF,SAAS1D,MAAM1B,EAAE0B,MAAMC,OAAO3B,EAAE2B,QAAQ,CAACQ,KAAKD,mBAAmB9C,EAAE+C,KAAKF,iBAAgB,EAAGE,KAAKsB,iBAAiBC,MAAMpE,EAAE6C,KAAKF,iBAAgB,CAAzX,CAA2X,GAAC,0DAAoC,IAAMjC,EAAEmC,KAAKsB,iBAAiBC,MAAMpE,GAAEsG,EAAAA,EAAAA,IAAE5F,EAAEmC,KAAKqB,KAAKrB,KAAKqB,KAAK6B,iBAAiB,IAAI9F,EAAAA,GAAOH,EAAE,MAAKD,EAAAA,EAAAA,IAAEG,KAAKF,EAAE,CAACsG,QAAQpG,EAAEoG,QAAQC,KAAKrG,EAAEqG,KAAKP,SAAS9F,EAAE8F,SAAS1D,MAAMpC,EAAEoC,MAAMC,OAAOrC,EAAEqC,SAASQ,KAAKD,mBAAmB9C,EAAE+C,KAAKF,iBAAgB,EAAGE,KAAKE,SAAS+B,MAAM9E,EAAE6C,KAAKF,iBAAgB,EAAGE,KAAK+B,uBAAuB,GAAC,gDAA0B,IAAG2B,EAAH,CAAY,IAAM7F,EAAE8F,EAAE3D,KAAKqB,MAAM,GAAIxD,EAAS,GAAGmC,KAAKsB,iBAAiBM,QAAO5E,EAAAA,EAAAA,IAAEa,EAAEoD,mBAAmBpD,EAAEoD,mBAAmBjB,MAAM0D,GAAE,EAAG7F,EAAEoD,iBAAiBK,iBAAiBM,QAAO,EAAG8B,GAAE,IAAI1G,EAAAA,EAAAA,IAAEa,EAAEoD,mBAAmBpD,EAAEoD,iBAAiBjB,KAAKyB,oBAAoB5D,EAAEoD,iBAAiBjB,SAAS,CAAC,IAAGhD,EAAAA,EAAAA,IAAEa,EAAEoD,mBAAmBpD,EAAEoD,mBAAmBjB,KAAK,QAAOhD,EAAAA,EAAAA,IAAEa,EAAEoD,mBAAmBpD,EAAEoD,mBAAmBjB,OAAOnC,EAAEoD,iBAAiB,KAAKjB,KAAKyB,oBAAoB,CAA7a,CAA8a,GAAC,+CAA0yB,SAAW5D,GAAE,MAAOT,EAAM,QAAL,EAACuG,EAAE9F,UAAE,aAAJ,EAAMoD,kBAAiBjE,EAAAA,EAAAA,IAAEI,KAAIJ,EAAAA,EAAAA,IAAEI,EAAEkE,iBAAiBC,QAAQnE,EAAEkE,iBAAiBO,QAAQhE,EAAEsE,WAAW/E,EAAEkE,iBAAiBC,MAAM1D,EAAEsE,WAAW,IAAI,CAAp7ByB,CAAE5D,KAAKqB,KAAK,GAAC,0CAAoB,IAAMxD,GAAEb,EAAAA,EAAAA,IAAEgD,KAAKsB,iBAAiBC,QAAQvB,KAAKsB,iBAAiBO,SAAS7B,KAAKsB,iBAAiBM,OAAOxE,EAAE,GAAqD4C,KAAKE,SAASC,eAAe0D,SAA7E,SAAF1G,EAAEU,GAAI,WAAWA,EAAEA,EAAEiG,OAAOD,QAAQ1G,GAAGC,EAAE+D,KAAKtD,EAAE,IAA0CmC,KAAKqB,KAAKqB,cAAcmB,SAAS,SAAA1G,GAAIA,EAAE4G,YAAY,sBAAsB5G,IAAIA,EAAE6G,kBAAkBnG,IAAIT,EAAEwD,SAASzD,EAAE8G,QAAQ,kBAAkB9G,GAAGA,EAAE4F,cAAcc,SAAS,SAAA1G,GAAIA,EAAE6G,kBAAkBnG,IAAIT,EAAEwD,SAASzD,EAAE+G,SAAS,IAAI,IAAI,MAAMlE,KAAKqB,KAAK8C,iBAAiBnE,KAAKqB,KAAK8C,eAAeH,kBAAkBnG,IAAImC,KAAKE,SAASyB,qBAAqB,KAAC,EAA/nH,CAAexE,EAAAA,IAAknHU,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKoC,EAAEwE,UAAU,YAAO,IAAQvG,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKoC,EAAEwE,UAAU,gBAAW,IAAQvG,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKoC,EAAEwE,UAAU,wBAAmB,IAAQvG,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKoC,EAAEwE,UAAU,4BAA4B,MAAMxE,GAAE/B,EAAAA,EAAAA,GAAE,EAACe,EAAAA,EAAAA,GAAEc,IAAIE,GAAG,IAAMiB,EAAE,IAAIwD,IAAQX,GAAE,EAA8P,SAASC,EAAE9F,GAAG,OAAOgD,EAAEK,IAAIrD,EAAE,C,IEAp1EyG,E,0NAAOC,EAAGD,EAAE,0CAAkB,WAAYrH,GAAE,MAAiyB,OAAjyB,gBAAC,cAAMA,IAAQuH,OAAOpH,EAAAA,EAAE,EAAKqH,qBAAqB,EAAE,EAAKC,0BAAyB,EAAG,EAAKC,WAAW,OAAO,EAAKC,iBAAiB,KAAK,EAAKC,yBAAyB,KAAK,EAAKC,sBAAsB,KAAK,EAAKC,mBAAmB,KAAK,EAAKlF,SAAS,IAAI1C,EAAAA,EAAE,EAAK6H,aAAa,IAAI7H,EAAAA,EAAE,EAAK8H,WAAW,KAAK,EAAKC,oBAAoBC,EAAAA,GAAE,EAAKC,wBAAwB,KAAK,EAAKC,+BAA+B,KAAK,EAAKC,kCAAkC,KAAK,EAAKC,aAAYC,EAAAA,EAAAA,KAAI,EAAKC,cAAc,KAAK,EAAKC,oBAAoB,CAAC,EAAE,EAAKC,qBAAoBtI,EAAAA,EAAAA,MAAI,EAAKuI,eAAe,CAAC,CAACC,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,KAAK,EAAKC,cAAaC,EAAAA,EAAAA,IAAG9I,EAAEoE,KAAK2E,MAAMC,aAAa,EAAKH,aAAaI,QAAQC,MAAMC,EAAAA,GAAAA,IAAM,EAA+4d,OAA94d,6CAAY,WAAC,GAAG,MAAMpG,KAAKE,SAAS,MAAM,IAAIkC,MAAM,6DAA6DpC,KAAKqG,qBAAoBC,EAAAA,EAAAA,GAAGtG,KAAKqB,KAAKkF,gBAAgBC,UAAUxG,KAAKyG,kBAAiBC,EAAAA,EAAAA,GAAG1G,KAAKqB,KAAKkF,gBAAgBC,UAAU,IAAMvJ,EAAE,SAAAA,GAAI,EAAK0J,+BAA+B1J,GAAGA,EAAE2J,YAAWrJ,EAAAA,EAAAA,IAAE,EAAK+D,iBAAiBC,SAAQsF,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,MAAM,EAAKgE,aAAa,EAAKuB,WAAW,KAAK,EAAE9G,KAAK4E,kBAAiBmC,EAAAA,EAAAA,IAAE/G,KAAKqB,MAAMrB,KAAKgH,aAAa/G,IAAID,KAAK4E,kBAAkB5E,KAAK4E,iBAAiBqC,OAAO7G,GAAG,gBAAgB,SAAAvC,GAAI,EAAKqJ,aAAarJ,GAAGZ,EAAE,EAAK2H,iBAAiB,IAAI5E,KAAKH,SAASI,IAAID,KAAKmH,yBAAyBnH,KAAK4E,mBAAmB5E,KAAK6E,0BAAyBuC,EAAAA,EAAAA,IAAEpH,KAAKqB,KAAKrB,KAAKqG,oBAAoBgB,SAASrH,KAAKgH,aAAa/G,IAAID,KAAK6E,0BAA0B7E,KAAK6E,yBAAyBoC,OAAO7G,GAAG,gBAAgB,SAAAvC,GAAI,EAAKyJ,qBAAqBzJ,GAAGZ,EAAE,EAAK4H,yBAAyB,IAAI7E,KAAKH,SAASI,IAAID,KAAKuH,iCAAiCvH,KAAK6E,2BAA2B7E,KAAK8E,uBAAsBsC,EAAAA,EAAAA,IAAEpH,KAAKqB,KAAKrB,KAAKyG,iBAAiBY,SAASrH,KAAKgH,aAAa/G,IAAID,KAAK8E,uBAAuB9E,KAAK8E,sBAAsBmC,OAAO7G,GAAG,gBAAgB,SAAAvC,GAAI,EAAK2J,kBAAkB3J,GAAGZ,EAAE,EAAK6H,sBAAsB,IAAI9E,KAAKH,SAASI,IAAID,KAAKyH,8BAA8BzH,KAAK8E,wBAAwB9E,KAAK+E,mBAAmB/E,KAAK4F,eAAe8B,KAAK,SAAC7J,EAAET,GAAK,IAAMD,GAAEwK,EAAAA,EAAAA,IAAG,EAAKtG,KAAKxD,GAAG,OAAOV,EAAE8J,OAAO7G,GAAG,gBAAgB,SAAAvC,GAAI,EAAK+J,cAAc/J,EAAET,GAAGH,EAAEE,EAAE,IAAI,EAAK0C,SAASI,IAAI,EAAK4H,0BAA0B1K,IAAIA,CAAC,IAAI6C,KAAKgH,aAAac,QAAQ9H,KAAK+E,oBAAoB/E,KAAKqF,gCAA+B0C,EAAAA,EAAAA,IAAG/H,KAAKqB,MAAMrB,KAAKsF,mCAAkC0C,EAAAA,EAAAA,IAAGhI,KAAKqB,MAAMrB,KAAKsF,kCAAkC/F,MAAM0I,EAAAA,GAAEjI,KAAKH,SAASI,KAAIqD,EAAAA,EAAAA,KAAG,kBAAI,EAAKhC,iBAAiBC,KAAK,IAAG,kBAAI,EAAK2G,qBAAqB,GAAEvJ,EAAAA,KAAI,IAAMd,GAAEyF,EAAAA,EAAAA,KAAG,kBAAI,EAAK0C,KAAK,IAAG,SAAA/I,GAAI,WAAWA,GAAG,EAAKkL,oBAAoB,GAAG7H,EAAAA,IAAGN,KAAKH,SAASI,IAAI,CAACpC,GAAEyF,EAAAA,EAAAA,KAAG,kBAAI,EAAKjC,KAAK2E,MAAMoC,MAAM,IAAG,kBAAI,EAAKC,iBAAiB,KAAI,GAAC,gCAAUrI,KAAKqG,qBAAoBnJ,EAAAA,EAAAA,IAAE8C,KAAKqG,qBAAqBrG,KAAKyG,kBAAiBvJ,EAAAA,EAAAA,IAAE8C,KAAKyG,kBAAkBzG,KAAKH,UAAS7C,EAAAA,EAAAA,IAAEgD,KAAKH,UAAUG,KAAKgF,cAAahI,EAAAA,EAAAA,IAAEgD,KAAKgF,cAAchF,KAAKsI,mBAAmBtI,KAAKuI,2BAA2BvI,KAAKsF,mCAAkCtI,EAAAA,EAAAA,IAAEgD,KAAKsF,mCAAmCtF,KAAKqF,gCAA+BrI,EAAAA,EAAAA,IAAEgD,KAAKqF,+BAA+B,GAAC,aAAAnE,IAAA,WAAY,IAAMjE,IAAI+C,KAAKsB,iBAAiBC,MAAM1D,IAAImC,KAAK8G,WAAW,OAAO7J,EAAEA,GAAGY,EAAE,UAAUZ,IAAIY,EAAE,SAAS,QAAQ,OAAO,GAAC,cAAAqD,IAAA,WAAa,OAAOlB,KAAKwI,sBAAsB,YAAYxI,KAAK2E,WAAW,aAAYpH,EAAAA,EAAAA,IAAEyC,KAAKyI,oBAAoB,WAAW,IAAI,GAAC,gBAAA1H,IAAA,SAAa9D,GAAG,GAAG,MAAMA,EAAE,MAAM,IAAImF,MAAM,6DAA6DpC,KAAKH,SAAS6I,OAAO,YAAY1I,KAAK2I,KAAK,WAAW1L,EAAE,GAAC,kBAAAiE,IAAA,WAAiB,OAAOlB,KAAK4I,KAAK,aAAa,EAAC7H,IAAA,SAAe9D,GAAG+C,KAAK2I,KAAK,aAAa1L,GAAG+C,KAAKsB,iBAAiBuH,UAAStL,EAAAA,EAAAA,IAAEN,IAAI,WAAWA,EAAEoB,KAAK2B,KAAK8I,kBAAkB,GAAC,4BAAA5H,IAAA,WAA2B,OAAOlB,KAAK8G,aAAa9G,KAAKsB,iBAAiBC,OAAOvB,KAAK4B,MAAM,GAAC,0BAAAV,IAAA,WAAyB,OAAO3D,EAAAA,EAAAA,IAAEyC,KAAK8G,aAAa,UAAU9G,KAAK8G,WAAWzI,KAAK2B,KAAK8G,WAAWiC,kBAAkB,IAAI,GAAC,+CAAwBzL,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,SAASvB,KAAK2I,KAAK,aAAa,WAAW3I,KAAK4B,SAAS5B,KAAKqB,KAAK2H,WAAWhJ,MAAM,GAAC,8CAAuB1C,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,SAASvB,KAAK2I,KAAK,aAAa,QAAQ3I,KAAK4B,SAAS5B,KAAKqB,KAAK2H,WAAW,MAAM,GAAC,qCAAehJ,KAAK2I,KAAK,aAAa,QAAQ3I,KAAKiJ,oBAAoB,KAAK,GAAC,+BAASjJ,KAAKkJ,mBAAkB,EAAG,GAAC,+BAASlJ,KAAKkJ,mBAAkB,EAAG,GAAC,wCAAkBjM,GAAG+C,KAAKkI,sBAAsBjL,GAAG+C,KAAKuI,0BAA0B,GAAC,mCAAatL,GAAG,OAAOA,EAAEoB,MAAM,IAAI,eAAe,IAAI8K,EAAGlM,GAAG,OAAO+C,KAAKwI,qBAAqBxI,KAAKoJ,mBAAmBnM,IAAIA,EAAEoM,kBAAkBrJ,KAAKsJ,eAAerM,IAAIA,EAAEoM,kBAAkB,MAAM,IAAI,eAAerJ,KAAKuJ,eAAetM,GAAG,MAAM,IAAI,aAAa+C,KAAKwJ,aAAavM,IAAIA,EAAEoM,kBAAkB,MAAM,IAAI,kBAAkB,IAAIF,EAAGlM,GAAG,OAAO+C,KAAKoJ,mBAAmBnM,IAAIA,EAAEoM,kBAAkB,MAAM,IAAI,QAAQ,IAAIF,EAAGlM,GAAG,OAAO+C,KAAKyJ,qBAAqBxM,IAAIA,EAAEoM,kBAAkB,MAAM,IAAI,OAAOrJ,KAAK8G,YAAY7J,EAAEoM,kBAAkB,MAAM,IAAI,WAAWrJ,KAAK0J,WAAWzM,IAAIA,EAAEoM,kBAAkB,MAAM,IAAI,SAASrJ,KAAK2J,SAAS1M,IAAIA,EAAEoM,kBAAkB,GAAC,yCAAmBrJ,KAAKsB,iBAAiBsI,SAAS5J,KAAK6J,kBAAkB,GAAC,qCAAe5M,GAAG,IAAMY,EAAEmC,KAAK8G,WAAW,GAAG7J,EAAE6M,YAAY9J,KAAKyI,qBAAoBlL,EAAAA,EAAAA,IAAEM,IAAI,UAAUA,EAAEQ,KAAK,CAAC,IAAMjB,GAAE2M,EAAAA,EAAAA,IAAG9M,GAAG,OAAO+C,KAAK4E,iBAAiBqC,OAAO+C,KAAK,OAAO,CAACC,OAAOpM,EAAEqM,eAAe,SAAS,QAAQC,YAAYlN,EAAEkN,YAAYC,MAAMhN,EAAEiN,YAAYjN,IAAIS,EAAEqM,gBAAe,GAAG,CAAE,CAAC,OAAM,CAAE,GAAC,qCAAejN,GAAG+C,KAAK2F,oBAAoBH,EAAEvI,EAAEuI,EAAExF,KAAK2F,oBAAoBxC,EAAElG,EAAEkG,EAAEnD,KAAKsK,2BAA2B,UAAUrN,EAAEkN,aAAanK,KAAKiJ,qBAAoBc,EAAAA,EAAAA,IAAG9M,GAAG+C,KAAK0F,oBAAoB,GAAC,wCAAkB1F,KAAKiJ,oBAAoBjJ,KAAK2F,oBAAoB3F,KAAK0F,qBAAqB1F,KAAKkI,qBAAqB,GAAC,mCAAajL,GAAG,GAAGA,EAAE6M,YAAY9J,KAAKyI,qBAAoBlL,EAAAA,EAAAA,IAAEyC,KAAKsB,iBAAiBC,OAAO,CAAC,IAAM1D,GAAEkM,EAAAA,EAAAA,IAAG9M,GAAG,OAAO+C,KAAK4E,iBAAiBqC,OAAO+C,KAAK,OAAO,CAACC,OAAO,MAAMG,MAAMvM,EAAEwM,YAAYxM,KAAIgJ,EAAAA,EAAAA,GAAE7G,KAAKsB,iBAAiBC,MAAMvB,KAAKuF,aAAavF,KAAK8G,WAAW,MAAK,CAAE,CAAC,OAAM,CAAE,GAAC,yCAAmB7J,GAAG,GAAG,YAAY+C,KAAK2E,WAAW,OAAM,EAAG,GAAG3E,KAAKwI,qBAAqB,CAAC,IAAMpL,GAAE2M,EAAAA,EAAAA,IAAG9M,GAAGE,GAAEqI,EAAAA,EAAAA,KAAI,GAAGxF,KAAKuK,WAAWnN,GAAE,EAAG4C,KAAK0F,oBAAoBvI,GAAG,CAAC,IAAG0J,EAAAA,EAAAA,GAAE1J,EAAE6C,KAAKuF,aAAavF,KAAKE,SAAS+B,OAAMuI,EAAAA,EAAAA,IAAGrN,EAAE6C,KAAKqB,KAAKrB,KAAKqB,KAAK6B,iBAAiB,IAAIrF,EAAAA,GAAG,iBAAiBZ,EAAEoB,KAAK,CAAC,IAAMR,EAAEmC,KAAKyK,kBAAkBrN,GAAG4C,KAAK8G,WAAW4D,EAAG7M,EAAEZ,EAAE6M,UAAU3M,EAAEwN,OAAOxN,EAAE,CAAC,OAAM,CAAE,CAAC,CAAC,OAAM,CAAE,GAAC,2CAAqBF,GAAE,WAAC,QAAQ,YAAY+C,KAAK2E,aAAa3E,KAAK4K,WAAW5K,KAAKqB,KAAKwJ,SAAQd,EAAAA,EAAAA,IAAG9M,IAAI6N,MAAM,SAAA7N,GAAI,GAAGA,EAAE8N,QAAQxI,OAAO,CAAC,IAAM1E,EAAEZ,EAAE8N,QAAQ,GAAG3N,EAAE,aAAa,OAADS,QAAC,IAADA,OAAC,EAADA,EAAGQ,OAAMR,EAAEmN,QAAQ,GAAG5N,EAAE,CAAC,IAAMH,EAAEG,EAAE6N,aAAa7N,EAAE6G,MAAMhH,GAAG,EAAKiD,SAASC,eAAegB,KAAKlE,EAAE,CAAC,MAAMA,EAAEiO,OAAOjH,MAAM,EAAK/D,SAASC,eAAegB,KAAKlE,EAAEiO,OAAOjH,OAAO,EAAK/D,SAASyB,sBAAqB,CAAE,IAAI3B,KAAK2I,KAAK,aAAa,QAAQ3I,KAAK4B,SAAS5B,KAAKqB,KAAK2H,WAAW,OAAM,EAAG,GAAC,iCAAW/L,GAAG,OAAOA,EAAEkO,MAAMC,EAAAA,IAAGnO,EAAEkO,MAAME,EAAAA,MAAKrL,KAAK0F,oBAAoBzI,EAAEkO,MAAK,GAAG5N,EAAAA,EAAAA,IAAEyC,KAAKyF,gBAAgBzF,KAAKiJ,oBAAoBjJ,KAAK2F,oBAAoB3F,KAAK0F,sBAAqB,EAAG,GAAC,+BAASzI,GAAG,QAAQA,EAAEkO,MAAMC,EAAAA,IAAGnO,EAAEkO,MAAME,EAAAA,KAAIrL,KAAK0F,oBAAoBzI,EAAEkO,eAAenL,KAAK0F,oBAAoBzI,EAAEkO,MAAK5N,EAAAA,EAAAA,IAAEyC,KAAKyF,gBAAgBzF,KAAKiJ,oBAAoBjJ,KAAK2F,oBAAoB3F,KAAK0F,sBAAqB,EAAG,GAAC,mCAAazI,GAAG,GAAG,UAAUA,EAAEgN,UAAQ3M,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,QAAStE,EAAEoN,YAA1D,CAA6E,IAAMxM,EAAEmC,KAAKyK,kBAAkBxN,EAAEoN,cAAaxD,EAAAA,EAAAA,GAAE7G,KAAKsB,iBAAiBC,MAAMvB,KAAKuF,aAAavF,KAAK8G,WAAW4D,EAAG7M,EAAE,KAAKmC,KAAK4E,iBAAiB0G,eAAetL,KAAKsB,iBAAiBC,MAApL,CAA0L,GAAC,+CAAyBtE,GAAE,WAAC,OAAOsO,EAAAA,EAAAA,IAAGtO,GAAG,SAACA,EAAEY,EAAET,GAAK,IAAMD,EAAE,EAAK2J,WAAW,KAAGxJ,EAAAA,EAAAA,IAAEH,IAAI,UAAUA,EAAEkB,KAArB,CAAiC,IAAMnB,GAAEK,EAAAA,EAAAA,IAAE,EAAK+D,iBAAiBC,QAAOsF,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,OAAMiE,EAAAA,EAAAA,MAAK,KAAK3H,EAAE2N,MAAKC,EAAAA,EAAAA,IAAG,EAAKpK,KAAKlE,EAAEuO,aAAaF,KAAK,EAAKG,4BAA4BxO,IAAIqO,KAAK,EAAKI,sBAAsBzO,IAAIC,EAAEoO,MAAM,YAAKjO,EAAAA,EAAAA,IAAEL,IAAI,EAAK2O,oBAAoB3O,EAAE,GAA/O,CAAkP,GAAG,GAAC,kDAA4BD,GAAE,WAAC,OAAO,SAAAY,GAAI,IAAGP,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAAO,OAAO,KAAK,IAAapE,EAAEM,KAAKqO,KAAK,EAAErO,KAAKsO,KAAIhO,EAAAA,EAAAA,IAAEiO,EAAAA,EAAAA,GAAE,EAAK1K,iBAAiBC,OAAO1D,EAAEoO,IAAIpG,YAAWqG,EAAAA,EAAAA,GAAErO,EAAEoO,IAAIpG,aAAtF,KAAqG,GAAG3I,IAAGiP,EAAAA,EAAAA,IAAE,EAAK5G,YAAYhE,MAAM1D,EAAEuO,WAAWpP,IAAGmP,EAAAA,EAAAA,IAAE,EAAK5G,YAAYhE,MAAMtE,EAAEoP,YAAY,OAAOpP,EAAEqP,MAAMrP,EAAEqP,OAAO,EAAEnP,GAAGD,EAAEC,EAAEH,EAAEa,CAAC,CAAC,GAAC,4CAAsBZ,GAAE,WAAC,OAAM,WAAK,KAAGK,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAA3B,CAAyC,IAAM1D,GAAEuB,EAAAA,EAAAA,GAAEgC,EAAAA,GAAAA,MAAQ,EAAKmE,YAAYoF,QAAQvN,GAAEgC,EAAAA,EAAAA,GAAEgC,EAAAA,GAAAA,OAAQ4K,EAAAA,EAAAA,GAAE,EAAKzG,eAAcgH,EAAAA,EAAAA,GAAEnP,EAAEA,GAAGH,EAAEqP,QAAO3M,EAAAA,EAAAA,GAAEvC,EAAEA,EAAES,GAAG,IAAMV,GAAEqP,EAAAA,EAAAA,GAAEpP,EAAE,EAAKkE,iBAAiBC,MAAMkL,OAAO,EAAKnL,iBAAiBC,MAAMmL,QAAOlH,EAAAA,EAAAA,MAAK,EAAKqG,oBAAoB1O,EAAtN,CAAwN,CAAC,GAAC,2CAAqBF,GAAG,GAAG,UAAUA,EAAEgN,UAAQ3M,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,QAAStE,EAAEoN,YAA1D,CAA6E,IAAMxM,GAAE8O,EAAAA,EAAAA,IAAG3M,KAAKsB,iBAAiBC,MAAMvB,KAAKqB,KAAKuL,mBAAmBC,EAAAA,GAAAA,SAAWlJ,EAAAA,EAAAA,OAAKvG,EAAE4C,KAAKyK,kBAAkBxN,EAAEoN,aAAalN,GAAE2P,EAAAA,EAAAA,MAAIC,EAAAA,EAAAA,IAAElP,EAAET,EAAED,MAAK0J,EAAAA,EAAAA,GAAE7G,KAAKsB,iBAAiBC,MAAMvB,KAAKuF,aAAavF,KAAK8G,WAAW,CAACzI,KAAK,SAAS2O,YAAYnP,EAAEwO,WAAWlP,GAAtP,CAAyP,GAAC,uDAAiCF,GAAE,WAAC,OAAOsO,EAAAA,EAAAA,IAAGtO,GAAG,SAACA,EAAEY,EAAET,GAAK,IAAMD,EAAE,EAAK2J,WAAW,KAAGxJ,EAAAA,EAAAA,IAAEH,IAAI,WAAWA,EAAEkB,KAAtB,CAAkC,IAAMnB,GAAEK,EAAAA,EAAAA,IAAE,EAAK+D,iBAAiBC,QAAOsF,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,OAAMiE,EAAAA,EAAAA,MAAK,KAAK3H,EAAE2N,MAAKC,EAAAA,EAAAA,IAAG,EAAKpK,KAAKlE,EAAE6P,cAAcxB,KAAK,EAAKyB,+BAA+B9P,IAAIqO,KAAK,EAAK0B,oCAAoC9P,EAAEoO,MAAM,YAAKjO,EAAAA,EAAAA,IAAEL,IAAI,EAAK2O,oBAAoB3O,EAAE,GAA7P,CAAgQ,GAAG,GAAC,wCAAkBD,GAAG,GAAG,UAAUA,EAAEgN,UAAQ3M,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,QAAStE,EAAEoN,YAA1D,CAA6E,IAAMxM,GAAE8O,EAAAA,EAAAA,IAAG3M,KAAKsB,iBAAiBC,MAAMvB,KAAKqB,KAAKuL,mBAAmBC,EAAAA,GAAAA,MAAQlJ,EAAAA,EAAAA,OAAKvG,EAAE4C,KAAKyK,kBAAkBxN,EAAEoN,aAAalN,GAAE2P,EAAAA,EAAAA,MAAIC,EAAAA,EAAAA,IAAElP,EAAET,EAAED,MAAK0J,EAAAA,EAAAA,GAAE7G,KAAKsB,iBAAiBC,MAAMvB,KAAKuF,aAAavF,KAAK8G,WAAW,CAACzI,KAAK,SAAS2O,YAAYnP,EAAEwO,WAAWlP,GAAnP,CAAsP,GAAC,oDAA8BF,GAAE,WAAC,OAAOsO,EAAAA,EAAAA,IAAGtO,GAAG,SAACA,EAAEY,EAAET,GAAK,IAAMD,EAAE,EAAK2J,WAAW,KAAGxJ,EAAAA,EAAAA,IAAEH,IAAI,WAAWA,EAAEkB,KAAtB,CAAkC,IAAMnB,GAAEK,EAAAA,EAAAA,IAAE,EAAK+D,iBAAiBC,QAAOsF,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,OAAMiE,EAAAA,EAAAA,MAAK,KAAK3H,EAAE2N,MAAKC,EAAAA,EAAAA,IAAG,EAAKpK,KAAKlE,EAAE6P,cAAcxB,KAAK,EAAKyB,+BAA+B9P,IAAIqO,KAAK,EAAK0B,oCAAoC9P,EAAEoO,MAAM,YAAKjO,EAAAA,EAAAA,IAAEL,IAAI,EAAK2O,oBAAoB3O,EAAE,GAA7P,CAAgQ,GAAG,GAAC,qDAA+BD,GAAE,WAAC,OAAO,SAAAY,GAAI,IAAGP,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAAO,OAAO,KAAK,IAAMnE,GAAE+P,EAAAA,EAAAA,IAAElQ,EAAE+P,aAAa7P,GAAEiQ,EAAAA,EAAAA,IAAGnQ,EAAEoP,WAAWxO,EAAEuO,UAAU,EAAK9K,iBAAiBC,MAAMoJ,OAAOvN,GAAG,yBAAUS,GAAC,IAACwP,WAAWjQ,EAAEkQ,YAAYnQ,GAAE,CAAC,GAAC,yDAAkC,WAAC,OAAO,SAAAF,GAAI,KAAGK,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAA3B,CAAyC,IAAM1D,GAAE0C,EAAAA,EAAAA,GAAEgN,EAAAA,GAAAA,MAAQtQ,EAAEqQ,YAAYrQ,EAAEoQ,YAAY,KAAG/P,EAAAA,EAAAA,IAAEO,GAAL,CAAe,IAAMT,GAAEyD,EAAAA,EAAAA,GAAEO,EAAAA,GAAAA,MAAQ,EAAKmE,YAAYkH,OAAO5O,GAAGV,GAAE0D,EAAAA,EAAAA,GAAEO,EAAAA,GAAAA,MAAQ,EAAKmE,YAAYmH,OAAO7O,GAAGX,GAAEsP,EAAAA,EAAAA,GAAE,EAAKlL,iBAAiBC,MAAMoJ,OAAOvN,EAAED,GAAEqI,EAAAA,EAAAA,MAAK,EAAKqG,oBAAoB3O,EAA9J,CAA7D,CAA6N,CAAC,GAAC,oCAAcD,EAAEY,GAAG,GAAG,UAAUZ,EAAEgN,UAAQ3M,EAAAA,EAAAA,IAAE0C,KAAKsB,iBAAiBC,QAAStE,EAAEoN,YAA1D,CAA6E,IAAMjN,EAAE4C,KAAKyK,kBAAkBxN,EAAEoN,aAAalN,EAAEiE,EAAAA,GAAAA,OAAQ2L,EAAAA,EAAAA,IAAE/M,KAAKsB,iBAAiBC,MAAMA,MAAMnE,EAAED,MAAK0J,EAAAA,EAAAA,GAAE7G,KAAKsB,iBAAiBC,MAAMvB,KAAKuF,aAAavF,KAAK8G,WAAW,CAACzI,KAAK,SAASmP,gBAAgB3P,EAAEwO,YAAW3I,EAAAA,EAAAA,GAAEvG,IAAlN,CAAsN,GAAC,gDAA0BF,GAAE,WAAC,OAAOsO,EAAAA,EAAAA,IAAGtO,GAAG,SAACA,EAAEY,EAAET,GAAK,IAAMD,EAAE,EAAK2J,WAAW,KAAGxJ,EAAAA,EAAAA,IAAEH,IAAI,WAAWA,EAAEkB,QAAMf,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAApD,CAAkE,IAAMrE,GAAE2J,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,OAAMiE,EAAAA,EAAAA,MAAK3H,EAAE2N,MAAKC,EAAAA,EAAAA,IAAG,EAAKpK,KAAK,EAAKC,iBAAiBC,MAAMA,QAAQiK,KAAK,EAAKiC,uBAAuBtQ,IAAIC,EAAEoO,MAAM,WAAK,EAAKK,oBAAoB3O,EAAE,GAAjL,CAAoL,GAAG,GAAC,6CAAuBD,GAAE,WAAC,OAAO,SAAAY,GAAI,KAAGP,EAAAA,EAAAA,IAAE,EAAKgE,iBAAiBC,OAA3B,CAAyC,IAAMnE,EAAE,EAAKwI,eAAe3I,EAAEuQ,iBAAiBrQ,GAAEuQ,EAAAA,EAAAA,IAAGtQ,EAAEH,EAAEoP,WAAWxO,EAAEuO,UAAU,EAAK/K,KAAK2E,MAAMoC,OAAO,EAAK7C,aAAYsB,EAAAA,EAAAA,GAAE,EAAKvF,iBAAiBC,QAAQ,EAAKsK,oBAAoB1O,EAAjL,CAAmL,CAAC,GAAC,0CAAoBF,GAAG,IAAMY,EAAEmC,KAAKsB,iBAAiB,KAAI/D,EAAAA,EAAAA,IAAEM,GAAG,MAAM,IAAIuE,MAAM,kCAAkCvE,EAAE0D,MAAMtE,CAAC,GAAC,0CAAoBA,GAAO,WAALY,EAAC,uDAAC,CAAC,EAAOT,EAAE4C,KAAKyF,cAAc,GAAGzF,KAAKyF,cAAc,MAAKnI,EAAAA,EAAAA,IAAEL,GAAG,OAAO+C,KAAKsI,wBAAwBtI,KAAKkI,sBAAsB,IAAIlI,KAAKsB,iBAAiBC,OAAOvB,KAAK4B,OAAO,CAAC,IAAMzE,GAAEI,EAAAA,EAAAA,IAAEH,GAAGA,GAAEoI,EAAAA,EAAAA,KAAI,GAAGpI,GAAEG,EAAAA,EAAAA,IAAEH,IAAGyJ,EAAAA,EAAAA,GAAEzJ,EAAEuQ,GAAI,KAAK3N,KAAKuK,WAAWtN,GAAE,EAAGY,EAAEV,GAAG,CAAC,IAAMF,EAAE2Q,EAAAA,GAAM/P,GAAE,GAAGN,EAAAA,EAAAA,IAAEH,KAAKS,GAAEE,EAAAA,EAAAA,GAAEX,EAAEmE,MAAMpE,EAAEoE,OAAOtE,IAAGc,EAAAA,EAAAA,IAAE8P,EAAAA,EAAAA,GAAEzM,EAAAA,GAAAA,MAAQhE,EAAEqP,SAAQoB,EAAAA,EAAAA,GAAEzM,EAAAA,GAAAA,MAAQjE,EAAEsP,SAASxP,GAAGY,IAAImC,KAAKyE,qBAAqB,GAAGzE,KAAKyF,cAActI,CAAC,CAAC,EAACI,EAAAA,EAAAA,IAAEyC,KAAKyF,iBAAgBnI,EAAAA,EAAAA,IAAE0C,KAAKiF,aAAa,IAAIjF,KAAKyE,qBAAqBzE,KAAKiF,YAAWrG,EAAAA,EAAAA,GAAE,CAACkP,OAAO,YAAiB,IAAL7Q,EAAC,EAAX8Q,UAAgB,EAAKtJ,qBAAqBhH,KAAKqO,IAAI,EAAKrH,qBAAqBxH,GAAG,IAAI+Q,EAAAA,IAAG,GAAG,EAAK9F,sBAAsB,IAAI,EAAKzD,sBAAsB,EAAK6D,kBAAkB,KAAIhL,EAAAA,EAAAA,IAAE0C,KAAKyF,iBAAgBlI,EAAAA,EAAAA,IAAEyC,KAAKiF,YAAYjF,KAAKsI,oBAAmB/K,EAAAA,EAAAA,IAAEyC,KAAKyF,gBAAgBzF,KAAKkI,qBAAqB,GAAC,yCAAmBlI,KAAKiF,YAAWzH,EAAAA,EAAAA,IAAEwC,KAAKiF,WAAW,GAAC,wCAAkBhI,GAAG,IAAMY,GAAEoQ,EAAAA,EAAAA,MAAI7Q,GAAEsC,EAAAA,EAAAA,IAAEzC,EAAEiR,IAAI,OAAOC,EAAAA,EAAAA,IAAGnO,KAAKqB,KAAK2E,MAAMoC,OAAOhL,EAAES,IAAGgQ,EAAAA,EAAAA,GAAEhQ,EAAEgI,UAAUhI,EAAEgI,WAAWhI,CAAC,GAAC,qCAAeZ,GAAG,IAAMY,GAAE6B,EAAAA,EAAAA,IAAEzC,EAAEkC,EAAAA,GAAAA,OAAS,OAAOa,KAAKqB,KAAK+M,wBAAwBC,+BAA+BxQ,EAAEmC,KAAK8F,cAAc9F,KAAK8F,aAAaiF,QAAQe,GAAG,GAAC,iCAAW7O,EAAEY,EAAET,EAAED,GAAG,IAAMD,EAAE8C,KAAKsO,eAAerR,GAAGD,EAAEoE,EAAAA,GAAAA,MAAQ,IAAIlE,EAAEqR,qBAAqBvR,GAAG,OAAM,EAAG,IAAMO,EAAEL,EAAEsR,qBAAqBpN,EAAAA,GAAAA,OAAS9D,EAAE0C,KAAKqB,KAAK2E,MAAMoC,QAAOrK,EAAAA,EAAAA,GAAER,EAAED,EAAEmR,aAAa,IAAGlC,EAAAA,EAAAA,GAAEhP,EAAEA,GAAG,GAAG,IAAMC,GAAEkR,EAAAA,EAAAA,IAAG1R,EAAEM,GAAGgG,GAAGzF,EAAE,GAAG,GAAGL,EAAEmR,EAAAA,GAAEhQ,GAAE4N,EAAAA,EAAAA,GAAEnL,EAAAA,GAAAA,MAAQ7D,EAAE+F,IAAG3D,EAAAA,EAAAA,GAAEhB,EAAEA,EAAE3B,GAAG,IAAMsD,EAAEN,KAAKE,SAASmD,YAAYuL,EAAAA,GAAAA,OAAUA,EAAAA,GAAAA,uBAA0BhQ,EAAExB,EAAEgO,EAAAA,IAAGwD,EAAAA,GAAAA,SAAYxR,EAAEiO,EAAAA,IAAGuD,EAAAA,GAAAA,WAActO,EAAE,OAAOuO,EAAAA,EAAAA,IAAGlQ,EAAEpB,EAAEC,EAAEA,EAAEF,EAAEsB,EAAEoB,KAAKqB,KAAKuL,mBAAmBzP,IAAG,CAAE,GAAC,iDAA2B6C,KAAKoF,yBAAwB5H,EAAAA,EAAAA,IAAEwC,KAAKoF,wBAAwB,GAAC,iDAA0B,WAACpF,KAAKuI,2BAA2BvI,KAAK4E,iBAAiBoB,OAAO8I,EAAAA,GAAG9O,KAAK6E,yBAAyBmB,OAAO8I,EAAAA,GAAG9O,KAAK8E,sBAAsBkB,OAAO8I,EAAAA,GAAG9O,KAAKoF,wBAAwBpF,KAAKwE,OAAOuK,YAAY,WAAK,EAAKnK,iBAAiBoB,QAAQ8I,EAAAA,GAAG,EAAKjK,yBAAyBmB,QAAQ8I,EAAAA,GAAG,EAAKhK,sBAAsBkB,QAAQ8I,EAAAA,EAAE,GAAG9O,KAAKkF,oBAAoB,GAAC,4CAAqB,WAAC,IAAGZ,EAAG0K,oBAAN,CAAiC,IAAI/R,EAAEY,GAAE,EAAG,IAAGN,EAAAA,EAAAA,IAAEyC,KAAKsB,iBAAiBC,OAAOtE,EAAE+C,KAAKsB,iBAAiBC,MAAM1D,GAAE,MAAO,CAAC,KAAIN,EAAAA,EAAAA,IAAEyC,KAAKyF,eAAe,OAAOzF,KAAK4E,iBAAiBqK,WAAU,EAAGjP,KAAK6E,yBAAyBoK,WAAU,EAAGjP,KAAK8E,sBAAsBmK,WAAU,EAAGjP,KAAK+E,mBAAmBlB,SAAS,SAAA5G,GAAC,OAAEA,EAAEgS,WAAU,CAAE,IAAGjP,KAAKsF,kCAAkCzD,SAAQ,OAAQ7B,KAAKqF,+BAA+BxD,SAAQ,GAAI5E,EAAE+C,KAAKyF,cAAc5H,GAAE,CAAE,CAAC,IAAMT,GAAE8R,EAAAA,EAAAA,IAAGjS,EAAEsQ,EAAAA,GAAAA,OAAS1P,GAAGmC,KAAK4E,iBAAiBqK,WAAU,EAAGjP,KAAK6E,yBAAyBoK,WAAU,EAAGjP,KAAK8E,sBAAsBmK,WAAU,EAAGjP,KAAK+E,mBAAmBlB,SAAS,SAAA5G,GAAC,OAAEA,EAAEgS,WAAU,CAAE,IAAGjP,KAAKsF,kCAAkC6J,UAAS,EAAGnP,KAAKqF,+BAA+B8J,UAAS,EAAGnP,KAAKsF,kCAAkCzD,SAAQ,EAAG7B,KAAKqF,+BAA+BxD,SAAQ,IAAK7B,KAAK4E,iBAAiBqK,WAAU,EAAGjP,KAAK6E,yBAAyBoK,WAAU,EAAGjP,KAAK8E,sBAAsBmK,UAAUjP,KAAKE,SAASmD,YAAYrD,KAAK+E,mBAAmBlB,SAAS,SAAA5G,GAAC,OAAEA,EAAEgS,WAAU,CAAE,KAAGG,EAAAA,EAAAA,IAAGpP,KAAK4E,iBAAiBxH,EAAEH,EAAE+C,KAAKqB,KAAK2E,MAAMoC,SAAQiH,EAAAA,EAAAA,IAAGrP,KAAK6E,yBAAyBzH,EAAEH,EAAE+C,KAAKqB,KAAKuL,qBAAoB0C,EAAAA,EAAAA,IAAGtP,KAAK8E,sBAAsB1H,EAAEH,GAAG+C,KAAK+E,mBAAmBlB,SAAS,SAAChG,EAAEV,GAAC,OAAGoS,EAAAA,EAAAA,IAAG1R,EAAE,EAAK+H,eAAezI,GAAGC,EAAEH,EAAE,IAAG+C,KAAKsF,kCAAkCzD,SAAQ,EAAG7B,KAAKqF,+BAA+BxD,SAAQ,GAAI,IAAM1E,GAAEqS,EAAAA,EAAAA,GAAEpO,EAAAA,GAAAA,OAAQ8K,EAAAA,EAAAA,GAAEjP,EAAEwP,SAAQP,EAAAA,EAAAA,GAAEjP,EAAEyP,QAAQ,GAAGxP,GAAE0C,EAAAA,EAAAA,GAAE2N,EAAAA,GAAAA,MAAQpQ,GAAGH,GAAEoG,EAAAA,EAAAA,GAAElG,EAAEE,EAAEF,GAAG8C,KAAKsF,kCAAkCmK,UAAUzS,EAAEgD,KAAKqF,+BAA+BoK,UAAUzS,EAAEgD,KAAK8I,kBAAt+C,CAAw/C,GAAC,yCAAmB,IAAM7L,EAAE,CAACyS,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAK1P,KAAKyE,sBAAsBzE,KAAKsF,kCAAkCqK,MAAM1S,EAAE,IAAMY,EAAE,CAAC+R,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAKA,EAAAA,GAAAA,GAAK5P,KAAKyE,sBAAkCzE,KAAKqF,+BAA+BwK,gBAAgBhS,EAAEmC,KAAKqF,+BAA+ByK,UAApG,CAAC,EAAE,EAAE,EAAE,EAAwG,GAAC,qDAA+B7S,GAAG,IAAIA,EAAE2J,SAAS,OAAO5G,KAAK4E,iBAAiBmL,aAAY,EAAG/P,KAAK6E,yBAAyBkL,aAAY,EAAG/P,KAAK8E,sBAAsBiL,aAAY,OAAQ/P,KAAK+E,mBAAmBlB,SAAS,SAAA5G,GAAIA,EAAE8S,aAAY,CAAE,IAAI/P,KAAK4E,iBAAiBmL,YAAY/P,KAAK4E,mBAAmB3H,EAAE+C,KAAK6E,yBAAyBkL,YAAY/P,KAAK6E,2BAA2B5H,EAAE+C,KAAK8E,sBAAsBiL,YAAY/P,KAAK8E,wBAAwB7H,EAAE+C,KAAK+E,mBAAmBlB,SAAS,SAAAhG,GAAIA,EAAEkS,YAAYlS,IAAIZ,CAAC,GAAG,GAAC,iCAAU,WAAC,MAAM,CAACsE,MAAMvB,KAAKsB,iBAAiBC,MAAMyO,sBAAsB,SAAA/S,GAAI,EAAKiI,oBAAoBjI,CAAC,EAAE,KAAC,EAAhtf,CAAegT,EAAAA,GAAmsf,SAASvF,EAAGzN,EAAEY,EAAET,EAAED,GAAG,IAAMD,GAAEgT,EAAAA,EAAAA,IAAG9S,GAAE4O,EAAAA,EAAAA,GAAE7O,GAAGF,EAAE4I,WAAUlC,EAAAA,EAAAA,OAAK3G,GAAE8P,EAAAA,EAAAA,KAAI,OAAOC,EAAAA,EAAAA,IAAE7P,EAAED,EAAED,GAAG,CAACqB,KAAK,QAAQ0K,kBAAkBlL,EAAEqM,gBAAe,EAAGwB,WAAWxO,EAAEoP,MAAM,EAAED,WAAWrP,GAAG,IAAI,CAAC,SAASmM,EAAGlM,GAAG,MAAM,UAAUA,EAAEkN,aAAa,IAAIlN,EAAEkT,MAAM,CAAC5L,EAAGyK,qBAAoB,GAAG/R,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,cAAS,IAAQnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,IAAE,CAACwM,eAAc,KAAM7L,EAAGH,UAAU,YAAO,IAAQnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,wBAAmB,IAAQnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,IAAE,CAACyM,UAAS,KAAM9L,EAAGH,UAAU,QAAQ,OAAMnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,IAAE,CAACyM,UAAS,KAAM9L,EAAGH,UAAU,SAAS,OAAMnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,WAAW,OAAMnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,gCAA2B,IAAQnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,IAAE,CAACyM,UAAS,KAAM9L,EAAGH,UAAU,kBAAa,IAAQnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,IAAE,CAAC0M,MAAM,QAAQ/L,EAAGH,UAAU,aAAa,OAAMnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,uBAAuB,OAAMnH,EAAAA,EAAAA,GAAE,EAAC2G,EAAAA,EAAAA,OAAKW,EAAGH,UAAU,qBAAqB,MAAMG,EAAGD,GAAGrH,EAAAA,EAAAA,GAAE,EAACkG,EAAAA,EAAAA,GAAE,2CAA2CoB,GAAI,IAAMoJ,GAAGnI,EAAAA,EAAAA,KAAI0I,IAAGzK,EAAAA,EAAAA,MAAI8M,GAAGhM,E,wBCAl1kBsJ,GAAC,0CAAiB,WAAYzQ,GAAE,MAA2H,OAA3H,gBAAC,cAAMA,IAAQyC,SAAS,IAAI3C,EAAAA,EAAE,EAAKsT,mBAAmB,KAAK,EAAKC,sBAAsB,KAAK,EAAK5H,UAAS,EAAG,EAAK6H,SAAQ,EAAE,EAAyrC,OAAxrC,6CAAY,WAAOtT,EAAE4C,KAAKsB,iBAAiB,IAAGrE,EAAAA,EAAAA,IAAEG,GAAG,MAAM,IAAIgF,MAAM,wCAAwCpC,KAAKwQ,oBAAmBrN,EAAAA,EAAAA,IAAEnD,KAAKqB,MAAMrB,KAAKyQ,uBAAsBjE,EAAAA,EAAAA,IAAExM,KAAKqB,MAAMrB,KAAKH,SAASI,IAAI,EAAC3C,EAAAA,EAAAA,KAAG,iBAAK,CAACuE,SAAQtE,EAAAA,EAAAA,IAAEH,EAAEmE,QAAQ,EAAKD,iBAAiBO,QAAQD,OAAO,EAAKN,iBAAiBM,OAAO8O,QAAQ,EAAKA,QAAQ7H,SAAS,EAAKA,SAAS,IAAI,SAAAzL,GAAC,OAAE,EAAK0L,iBAAiB1L,EAAE,GAAED,EAAAA,KAAGG,EAAAA,EAAAA,KAAG,kBAAIF,EAAEmE,KAAK,IAAG,SAAAnE,GAAC,OAAE,EAAKuT,aAAavT,EAAE,GAAED,EAAAA,KAAI,WAAW,GAAC,gCAAU6C,KAAKH,SAAS4C,UAAUzC,KAAKwQ,oBAAmBhT,EAAAA,EAAAA,IAAEwC,KAAKwQ,oBAAoBxQ,KAAKyQ,uBAAsBjT,EAAAA,EAAAA,IAAEwC,KAAKyQ,uBAAuBzQ,KAAKe,IAAI,OAAO,KAAK,GAAC,mCAAa3D,GAAG,KAAGH,EAAAA,EAAAA,IAAEG,GAAL,CAAe4C,KAAKwQ,mBAAmBrB,UAAS,EAAGnP,KAAKyQ,sBAAsBtB,UAAS,EAAG,IAAMtR,GAAEyF,EAAAA,EAAAA,GAAEG,EAAAA,GAAAA,OAAQ7E,EAAAA,EAAAA,GAAExB,EAAEqP,SAAQ7N,EAAAA,EAAAA,GAAExB,EAAEsP,QAAQ,GAAGxP,GAAEyB,EAAAA,EAAAA,GAAEe,EAAAA,GAAAA,MAAQ7B,GAAGN,GAAEsD,EAAAA,EAAAA,IAAEzD,EAAEsC,EAAAA,GAAAA,OAASlC,GAAE8C,EAAAA,EAAAA,GAAEpD,EAAEK,EAAEL,GAAG8C,KAAKyQ,sBAAsBhB,UAAUjS,EAAEwC,KAAKwQ,mBAAmBf,UAAUjS,CAA3O,CAA4O,GAAC,0CAA2D,IAAjCJ,EAAC,EAATyE,QAAiBhE,EAAC,EAAR+D,OAAiB1E,EAAC,EAATwT,QAAmBzT,EAAC,EAAV4L,SAAa7I,KAAKyQ,sBAAsBd,MAAMvM,EAAAA,GAAEpD,KAAKyQ,sBAAsBlR,MAAMrC,EAAEyC,EAAAA,GAAE6P,EAAAA,GAAExP,KAAKyQ,sBAAsBG,eAAe/S,EAAE,MAAK6F,EAAAA,GAAAA,IAAE,GAAG1D,KAAKwQ,mBAAmBX,gBAAgB9R,EAAAA,GAAEiC,KAAKwQ,mBAAmBV,UAAU7S,EAAE2C,EAAAA,EAAEvC,GAAAA,EAAE2C,KAAKwQ,mBAAmB3O,QAAQzE,EAAE4C,KAAKyQ,sBAAsB5O,QAAQzE,CAAC,KAAC,EAAn1C,CAAeS,EAAAA,IAAs0CT,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK6Q,GAAEzJ,UAAU,YAAO,IAAQhH,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK6Q,GAAEzJ,UAAU,gBAAW,IAAQhH,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK6Q,GAAEzJ,UAAU,wBAAmB,IAAQhH,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK6Q,GAAEzJ,UAAU,gBAAW,IAAQhH,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAK6Q,GAAEzJ,UAAU,eAAU,GAAQyJ,IAAEzQ,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,GAAE,oDAAoDsN,I,gBCA/hEjP,GAAC,0CAAqB,SAAAA,EAAY1B,GAAE,MAAiK,OAAjK,gBAAC,cAAMA,IAAQmB,KAAK,gBAAgB,EAAK6B,SAAS,KAAK,EAAK2Q,KAAK,KAAK,EAAKC,sBAAsB,KAAK,EAAKC,mBAAmB,KAAK,EAAKxP,MAAM,KAAK,EAAKK,QAAO,EAAE,EAA2tB,OAA1tB,6CAAa5B,KAAK8Q,sBAAsB,IAAI3N,GAAE,CAAC9B,KAAKrB,KAAKqB,KAAKnB,SAASF,KAAKE,SAASoB,iBAAiBtB,OAAOA,KAAK+Q,mBAAmB,IAAIxT,EAAE,CAAC8D,KAAKrB,KAAKqB,KAAKnB,SAASF,KAAKE,SAASoB,iBAAiBtB,OAAOA,KAAKgR,YAAWrS,EAAAA,GAAAA,IAAEqB,KAAKhD,IAAG,GAAC,iCAAUsG,EAAAA,GAAAA,IAAEtD,MAAMA,KAAK8Q,uBAAsB7T,EAAAA,EAAAA,IAAE+C,KAAK8Q,uBAAuB9Q,KAAK+Q,oBAAmB9T,EAAAA,EAAAA,IAAE+C,KAAK+Q,mBAAmB,GAAC,gBAAA7P,IAAA,WAAc,QAAC,OAA2C,QAA3C,EAAiC,QAAjC,EAAOlB,KAAK8Q,6BAAqB,aAA1B,EAA4BjI,gBAAQ,QAAI,EAAC9H,IAAA,SAAa7D,GAAG8C,KAAK8Q,wBAAwB9Q,KAAK8Q,sBAAsBjI,SAAS3L,EAAE,GAAC,gBAAAgE,IAAA,WAAe,OAAOlB,KAAK8Q,sBAAsBJ,OAAO,EAAC3P,IAAA,SAAa7D,GAAG8C,KAAK8Q,sBAAsBJ,SAASxT,CAAC,GAAC,gBAAAgE,IAAA,WAAe,MAAM,CAAC+P,cAAcjR,KAAK8Q,sBAAsBI,WAAWlR,KAAK+Q,mBAAmBF,MAAK1T,EAAAA,EAAAA,IAAE6C,KAAK6Q,MAAM,KAAC,EAA/5B,EAAehT,EAAAA,EAAAA,GAAET,EAAAA,KAAg5BF,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,IAAE,CAAC6S,UAAS,KAAMzR,GAAEwF,UAAU,YAAO,IAAQlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,IAAE,CAAC4S,eAAc,EAAGe,aAAY,KAAMvS,GAAEwF,UAAU,gBAAW,IAAQlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKoB,GAAEwF,UAAU,YAAO,IAAQlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKoB,GAAEwF,UAAU,aAAQ,IAAQlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKoB,GAAEwF,UAAU,cAAS,IAAQlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKoB,GAAEwF,UAAU,WAAW,OAAMlH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKoB,GAAEwF,UAAU,WAAW,MAA+D,IAAM9D,GAA/D1B,IAAE1B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,GAAE,+CAA+CsB,G,4PCA2gCyM,EAAg/BxN,E,+KAAzxF,SAAS8F,EAAE9F,EAAEN,GAAG,OAAO6B,EAAEvB,GAAG,kBAAIN,CAAC,GAAE,CAAC,SAASgP,EAAE1O,GAAG,OAAOuB,EAAEvB,GAAG,SAAAA,GAAC,OAAEA,EAAE0D,KAAK,GAAE,CAAC,SAASnC,EAAEnC,EAAEC,GAAG,IAAM0B,GAAEvB,EAAAA,EAAAA,KAAIC,GAAED,EAAAA,EAAAA,KAAQD,GAAE,EAAG,OAAO,SAAAD,GAAI,IAAMmD,EAAEpD,EAAEC,GAAG,GAAG,UAAUA,EAAE8M,OAAO,CAAC,IAAM1M,GAAEP,EAAAA,EAAAA,IAAEG,EAAEiU,aAAY5T,EAAAA,EAAAA,IAAEiG,EAAAA,GAAAA,QAAUvG,GAAE8O,EAAAA,EAAAA,IAAE/O,EAAE+I,MAAMoC,OAAO7K,EAAE6D,IAAGvD,EAAAA,EAAAA,IAAEX,KAAKE,GAAEwC,EAAAA,EAAAA,IAAEU,EAAEpD,EAAE0B,GAAG,CAAC,IAAIxB,EAAE,OAAO,KAAK,IAAMuB,GAAE3B,EAAAA,EAAAA,IAAEG,EAAEkU,WAAU7T,EAAAA,EAAAA,IAAEiG,EAAAA,GAAAA,QAAUlD,GAAEyL,EAAAA,EAAAA,IAAE/O,EAAE+I,MAAMoC,OAAOzJ,EAAEyC,GAAG,OAAO7D,EAAAA,EAAAA,IAAEgD,GAAG,MAAKX,EAAAA,EAAAA,IAAEU,EAAEC,EAAEjD,IAAE,kBAAKH,GAAC,IAACmU,YAAY1S,EAAEwN,UAAU9O,EAAEiE,MAAMjB,EAAE2L,IAAI1L,IAAG,IAAI,CAAC,CAAC,SAAS2L,EAAEjP,EAAED,GAAoB,IAAlBQ,EAAC,uDAAC,EAAEoB,EAAC,uDAAC,KAAKtB,EAAC,uDAAC,KAAUF,EAAE,KAAK,OAAO,SAAAD,GAAI,GAAG,UAAUA,EAAE8M,SAAS7M,EAAEH,EAAEmR,wBAAwBmD,8BAA6BrU,EAAAA,EAAAA,IAAEC,EAAEiU,YAAY5L,EAAErI,EAAEiU,YAAYjO,GAAGnG,EAAEQ,EAAEF,IAAGO,EAAAA,EAAAA,IAAET,KAAIS,EAAAA,EAAAA,IAAEe,MAAKb,EAAAA,EAAAA,IAAEX,EAAEA,EAAEwB,IAAI,OAAO,KAAK,IAAGrB,EAAAA,EAAAA,IAAEH,GAAG,OAAO,KAAK,IAAMkD,EAAErD,EAAEmR,wBAAwBmD,8BAA6BrU,EAAAA,EAAAA,IAAEC,EAAEkU,UAAU7L,EAAErI,EAAEkU,UAAUlO,GAAGnG,EAAEQ,EAAEF,GAAG,OAAOO,EAAAA,EAAAA,IAAEyC,IAAGzC,EAAAA,EAAAA,IAAEe,MAAKb,EAAAA,EAAAA,IAAEuC,EAAEA,EAAE1B,GAAG,MAAI,kBAAKzB,GAAC,IAACqU,SAASpU,EAAEqU,OAAOnR,IAAG,IAAI,CAAC,CAAC,SAAS8K,EAAEvN,EAAEN,EAAEN,GAAgB,IAAdD,EAAC,uDAAC,KAAKQ,EAAC,uDAAC,KAAM,OAAO0O,EAAErO,EAAEZ,GAAE4D,EAAAA,EAAAA,IAAEtD,EAAEM,EAAEZ,GAAGD,EAAEQ,EAAE,CAAC,SAASoG,EAAE/F,EAAEN,EAAEN,GAAgB,IAAdD,EAAC,uDAAC,KAAKQ,EAAC,uDAAC,KAAM,OAAO4N,EAAEvN,EAAEZ,GAAEuI,EAAAA,EAAAA,IAAEjI,GAAGP,EAAEQ,EAAE,CAAC,SAAS8F,EAAE/F,EAAEN,EAAED,EAAEQ,GAAG,IAAMN,EAAED,EAAEyU,MAAMnU,EAAE6T,YAAY,CAACO,QAAQ,CAAC3U,KAAK,OAAOa,EAAAA,EAAAA,IAAEX,GAAG0G,EAAE3G,EAAED,EAAEE,EAAEM,GAAG,IAAI,CAAmJ,SAAS2P,EAAEtP,EAAEN,EAAEN,GAAG,IAAID,EAAE,KAAWQ,EAAE,IAAI2O,EAAAA,GAAE,OAAO3O,EAAEgO,KAAK7H,EAAE9F,EAA7M,SAAWA,EAAEN,GAAG,IAAMN,EAAE2S,EAAE5S,EAAEuQ,EAAE/P,GAAE2F,EAAAA,EAAAA,MAAItF,EAAE+O,mBAAmBgF,kBAAkBrU,EAAEN,GAAG,IAAMC,GAAEE,EAAAA,EAAAA,GAAEI,EAAEP,GAAEE,EAAAA,EAAAA,GAAEH,EAAEO,EAAEM,EAAEmI,MAAMoC,OAAOyJ,MAAM,OAAOzU,EAAAA,EAAAA,GAAEF,EAAEA,EAAED,IAAGuS,EAAAA,EAAAA,IAAEjS,EAAEL,EAAEM,EAAE,CAA8DqQ,CAAEhQ,EAAEN,KAAKiO,KAAsH,SAAW3N,EAAEN,GAAG,IAAMN,GAAEI,EAAAA,EAAAA,KAAIL,GAAE4B,EAAAA,EAAAA,GAAErB,GAAGM,EAAE+O,mBAAmBgF,kBAAkBrU,EAAEN,GAAG,IAAMO,GAAEH,EAAAA,EAAAA,KAAIH,GAAEG,EAAAA,EAAAA,KAAID,EAAE,SAAAI,GAAqG,OAA9FL,EAAAA,EAAAA,GAAEK,EAAEA,EAAED,IAAGiP,EAAAA,EAAAA,IAAEvP,EAAEO,EAAEA,GAAG,WAAWK,EAAEoI,cAAarH,EAAAA,EAAAA,GAAEpB,GAAGC,KAAKqU,MAAKxR,EAAAA,EAAAA,GAAErD,EAAEO,IAAI,KAAKR,IAAGG,EAAAA,EAAAA,GAAEK,GAAEmB,EAAAA,EAAAA,GAAEnB,EAAEP,EAAE,MAAMM,IAAUgD,EAAAA,EAAAA,GAAE/C,EAAEA,EAAED,GAAGC,CAAC,EAAE,OAAO,SAAAK,GAAC,OAAGA,EAAEyT,YAAYlU,GAAEE,EAAAA,EAAAA,GAAEE,EAAEK,EAAEyT,cAAczT,EAAEuO,UAAUhP,GAAEE,EAAAA,EAAAA,GAAEJ,EAAEW,EAAEuO,YAAYvO,CAAC,CAAC,CAA7ZsB,CAAEtB,EAAEN,IAAIiO,KAAKvD,EAAEpK,EAAEZ,IAAIuO,MAAM,SAAA3N,GAAIA,EAAE4T,OAAOjM,EAAE3H,EAAE2T,SAAShM,EAAE3H,EAAE4T,OAAOtO,EAAEtF,EAAE2T,SAASrO,EAAEnG,EAAEa,CAAC,IAAI,SAAAA,GAAC,OAAGb,EAAE,KAAKQ,EAAEuU,QAAQlU,GAAGb,CAAC,CAAC,CAA8S,SAASiL,EAAE1K,EAAEN,GAAG,IAAMD,EAAEO,EAAEqP,mBAAmB,OAAO,SAAArP,GAAI,IAAMC,EAAER,EAAEgV,iBAAiBzU,EAAE+T,YAAYrU,GAAGC,EAAEF,EAAEgV,iBAAiBzU,EAAE6O,UAAUnP,GAAG,OAAOY,EAAAA,EAAAA,IAAEL,KAAIK,EAAAA,EAAAA,IAAEX,IAAE,kBAAKK,GAAC,IAACiU,SAAShU,EAAEiU,OAAOvU,IAAG,IAAI,CAAC,CAAO,SAAS6P,EAAExP,GAAG,IAAIN,EAAE,KAAK,OAAO,SAAAD,GAAI,OAAOA,EAAEiN,QAAQ,IAAI,QAAQhN,EAAEM,EAAE0U,iBAAiB,MAAM,IAAI,MAAM,IAAI,UAASpU,EAAAA,EAAAA,IAAEZ,KAAKA,EAAEyL,SAASzL,EAAE,MAAM,OAAOD,CAAC,CAAC,CAAC,SAASmI,EAAE3H,GAAS,IAAPoB,EAAC,uDAAC,KAAYtB,GAAEuJ,EAAAA,EAAAA,IAAErJ,EAAEwI,MAAMC,aAAa3I,EAAE4I,QAAQgM,eAAc,EAAG5U,EAAE4I,QAAQC,MAAM/C,EAAAA,GAAAA,IAAM9F,EAAE4I,QAAQiM,KAAI,EAAG,IAAyfpU,EAAnfX,GAAEF,EAAAA,EAAAA,MAAIC,EAAE,CAACiV,wBAAuB,EAAGC,cAAa,EAAGC,QAAQ,IAAIC,KAAKjS,GAAEjD,EAAAA,EAAAA,KAAIsB,GAAE1B,EAAAA,EAAAA,IAAE2B,EAAEpB,EAAE0F,kBAAkB3C,EAAE,SAAA1C,GAAIL,EAAEkK,IAAIwD,QAAQ1N,EAAEkK,IAAIwD,OAAOsH,QAAQ,EAAErV,EAAEmV,QAAQrS,IAAIgO,EAAAA,IAAG9Q,EAAEmV,QAAQ9P,OAAOyL,EAAAA,IAAGzQ,EAAE4Q,wBAAwBqE,4BAA2BzV,EAAAA,EAAAA,IAAEa,EAAET,GAAGE,EAAEH,GAAG,IAA0BF,EAApBM,EAAED,EAAEyN,QAAQe,IAAU,GAAGvO,EAAEgR,qBAAqBjO,GAAGrD,EAAEM,EAAEmV,cAAc5F,EAAAA,GAAAA,QAAUzB,EAAEsH,OAAOtH,EAAEuH,UAAU,CAAC,IAAItV,EAAEyN,QAAQG,OAAOqD,qBAAqBjO,GAAG,OAAO,KAAKrD,EAAEoO,EAAEsH,MAAM,CAAC,MAAM,CAACE,SAASrV,EAAEoP,mBAAmBoF,iBAAiB1R,EAAE3B,GAAGmU,YAAY7V,EAAE,EAAQ,OAAO,SAAAA,GAAI,GAAG,UAAUA,EAAEgN,OAAO,CAAC,IAAM1M,EAAEgD,EAAEtD,EAAEmU,aAAarT,GAAEF,EAAAA,EAAAA,IAAEN,GAAGA,EAAEsV,SAAS,IAAI,CAAC,IAAGtV,EAAAA,EAAAA,IAAEQ,GAAG,OAAO,KAAK,IAAMf,EAAEuD,EAAEtD,EAAEoU,WAAW,OAAOxT,EAAAA,EAAAA,IAAEb,KAAIa,EAAAA,EAAAA,IAAEb,EAAE6V,WAAS,kBAAK5V,GAAC,IAACuU,SAASzT,EAAE0T,OAAOzU,EAAE6V,SAASC,YAAY9V,EAAE8V,cAAa,IAAI,CAAC,EAAWjV,EAAgDwN,IAAIA,EAAE,CAAC,IAAlDxN,EAAE8U,OAAO,GAAG,SAAS9U,EAAEA,EAAE+U,MAAM,GAAG,QAAoB,IAAMhD,GAAEvS,EAAAA,EAAAA,KAAIkQ,GAAElQ,EAAAA,EAAAA,KAAI+D,GAAEsC,EAAAA,EAAAA,K,+KCA9yH,SAAS9E,EAAErB,EAAEJ,GAAGI,EAAEwS,aAAY,EAAG,IAAWnR,EAAUrB,EAAfsT,KAAY3T,EAAGK,EAAR8D,KAAUnE,EAAE8L,WAAWpK,EAAE,IAAItB,GAAEO,EAAAA,EAAAA,IAAEV,GAAG,WAAKD,EAAE8L,aAAapK,IAAI1B,EAAE8L,WAAW,KAAK,IAAI,OAAOxL,EAAAA,EAAAA,IAAC,yCAAE,WAAMA,GAAC,uFAASR,EAAAA,EAAAA,KAAG,kBAAII,EAAAA,EAAAA,IAAEwB,KAAKA,EAAEgD,MAAM,GAAEpE,GAAE,OAACF,GAAEL,EAAAA,EAAAA,IAAEK,GAAE,2CAAC,mDAApD,GAAsDH,EAAE,CAAC,SAASD,EAAEM,EAAEP,GAAG,OAAOM,EAAAA,EAAAA,KAAG,kBAAIC,EAAEuS,WAAW,IAAG,kBAAe,SAAWvS,EAAEP,GAAGO,EAAEuS,YAAwB,SAAWvS,EAAEP,GAAGsD,EAAE/C,GAAG,IAAWJ,EAAcI,EAAnB6D,KAAgBxD,EAAGL,EAAZ0C,SAAclD,EAAE,IAAIC,EAAE,CAACoE,KAAKjE,EAAE8C,SAASrC,EAAEyD,iBAAiB9D,IAAWA,EAAEqT,KAAK7T,EAAEI,EAAE2V,MAAM9S,IAAIjD,EAAI,CAA5IyG,CAAEjG,EAAEP,GAAGsD,EAAE/C,EAAE,CAApDF,CAAEE,EAAEP,EAAE,GAAEE,EAAAA,GAAE,CAA4K,SAASoD,EAAE/C,GAAG,IAAWP,EAAUO,EAAf6D,KAAYxD,EAAGL,EAARqT,MAAUzT,EAAAA,EAAAA,IAAES,KAAKZ,EAAE8V,MAAMrK,OAAO7K,GAAGL,EAAEqT,KAAK,KAAK,C,wKCA7U1T,EAAC,0CAAiB,WAAYD,GAAE,kCAAOA,EAAE,CAAwM,OAAvM,6CAAY,WAAC8C,KAAKgR,YAAWnT,EAAAA,EAAAA,KAAG,kBAAI,EAAKyD,iBAAiBO,OAAO,IAAG,SAAA3E,GAAC,OAAE,EAAK2E,QAAQ3E,CAAC,GAAED,EAAAA,IAAG,GAAC,mCAAa+C,KAAKgT,eAAehT,KAAK4K,SAAS5K,KAAKE,SAAS+S,OAAO,GAAC,qCAAejT,KAAK2I,KAAK,WAAU,EAAG,KAAC,EAAhP,C,SAAevL,IAAmOF,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,IAAE,CAAC6S,eAAc,KAAMjT,EAAEiH,UAAU,gBAAW,IAAQlH,EAAAA,EAAAA,GAAE,EAACK,EAAAA,EAAAA,OAAKJ,EAAEiH,UAAU,wBAAmB,GAAQjH,GAAED,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,GAAE,4CAA4CL,E,0ICA3pB,SAAeE,EAAE,GAAD,4CAA8e,OAA9e,0BAAhB,WAAiBC,GAAC,4GAAkB,GAAjBD,EAAC,+BAACC,EAAE4V,gBAAkBrV,EAAAA,EAAAA,IAAER,GAAE,yCAAO,IAAE,uBAAeA,EAAE8V,kBAAkB7V,EAAE8V,aAAY,OAAuF,GAAjIlW,EAAC,OAA+DE,EAAGC,EAAvBgW,oBAAwCrW,EAAiDM,EAA/DgW,cAA4BhT,EAAmChD,EAA/CiW,YAA4BpW,EAAmBG,EAAjCkW,cAA8BhW,EAAGF,EAAjBmW,eAAsBvW,EAAE0D,SAAS,KAAI,0CAAO,CAAC,MAAI,YAASxD,EAAC,mCAAOuB,EAAAA,EAAAA,IAAErB,GAAE,iDAAC,GAAE,QAA+B,OAAhDC,EAAC,KAAiBQ,GAAEd,EAAAA,EAAAA,IAAEK,EAAE8V,YAAW,kBAAKlW,IAAC,OAAIK,KAAG,mBAAQ+C,GAAGvC,EAAEoD,KAAKb,GAAGvC,GAAGf,GAAgB,QAAf,EAAEM,EAAE8V,mBAAW,OAAb,EAAetS,IAAI9D,KAAKe,EAAE6C,SAAS5D,IAAIe,EAAEoD,KAAKnE,GAAGe,GAAGZ,GAAgB,QAAf,EAAEG,EAAE8V,mBAAW,OAAb,EAAetS,IAAI3D,KAAKY,EAAE6C,SAASzD,IAAIY,EAAEoD,KAAKhE,GAAGK,GAAGA,EAAEqG,SAAS,SAAAhG,GAAG,MAAgBc,EAAGd,EAAZ6V,SAAc3V,GAAGY,IAAgB,QAAf,EAAErB,EAAE8V,mBAAW,aAAb,EAAetS,IAAInC,MAAKZ,EAAE6C,SAASjC,IAAIZ,EAAEoD,KAAKxC,EAAE,IAAIZ,IAAC,4CAAC,iCAASb,EAAEW,EAAEc,GAAG,OAAOd,EAAEqV,cAAcrV,EAAEqV,eAAc5V,EAAAA,EAAAA,IAAEqB,IAAIA,EAAEgV,8BAA6BrW,EAAAA,EAAAA,IAAEO,EAAE+V,sBAAsB/V,EAAE+V,qBAAqB,IAAI,C","sources":["../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/heading-rotate-png.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/tilt-rotate-png.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/images/Factory.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst A=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAnFBMVEUAAAD/gAD/gAD/cAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fAD/gAD/fAD/fQD/fQD/fQD/fQD/fQD/fgD/jR7/mjn/mjf/p1H/plH/smf/sWb/vHr/u3n/xYz/xIv/zZz/zJv/zJr/1Kv/1Kr/06r/06n/27n/27f/4cX/4cT/59D/7dr/8uX/9u7/+/f////u2EN0AAAAM3RSTlMACBAQICAoKDAwODhAQEhIUFBYYGhweICIkJCXmJ+gp6ivsLe4uL+/wMDHx8/P19/n7/cWvjXwAAACeUlEQVR42tWX3XqiMBCGY2pbtbrUnzhhdak/lHWliJD7v7fdJ+KG5AMhh30P8zCTmS+TycDaeBoHi5Wgf4jVYvbKmRfPgSAHMX9mPRnM1tSIGHM/c2QddLp4c8wxCvYIvqROBPfbHlm/sRYC6smMNTKn3sxZAyvyYNW1v38MM/IkcPQnZHPMLtciz9P9hhqwzoLD+cnfpTIUaYinyZlBkE2YKZcMXCyN/YhsPkuFlMfWJLiwo89VMxfpJDForMCwuG+Zx7ttGO2S/w4LJ42ZURDty5M0a4dqsZAQAihQfXqWdlhnpcmdEPAI0tv2EbnsbsKmdgi6/1GN7T1XJLx5sF0P9SWABMC+co5JBE4Ge/1NTM3EGIJgjFONXCdAbeQYwhN7pRrRV20LJNIhWOczdu+xPFzIBiQ62iIsyIOTvlZUY+HXySLQaMUEeSC1CPYxENIlwk+q8e0clFAIfiKG+qpaIvod4wfU8sqvkDLda+xCCqgDaAk7uyeNqD+feFlfGCcg3Hzsk+xS7Nz1Aq4CcauhhMc0uxaqIgcFsF0J+1WQyoCN7Y9ezeCVH5LhSxmyRvsihKbK1m7LafpSpkpj6yJgtsiVBh6AX5UyCVmMbrNpcwj5/h6DPN79JjAiQAhXVeN6SZI0q5bQnn4wBiHEqpUybp1ZJzWxStVCHhKhAhVLp/Emh6trHpGLaB6yZHk7wu3Z+ChOxhwUNEmYYjpUvqJDksSHraQmJm2DdqQK6sGUObybYtpSN+8Phm3pN2xjDH33R6b0CKxAZNLvl8foD3BBnSw5e8RI+G2P8GD9wHw6YN3wkfA0R4Zz8CGCIfOCv8zM738walXuLw6nXBvPr8wvAAAAAElFTkSuQmCC\";export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst D=\"data:image/png;base64,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\";export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport t from\"./heading-rotate-png.js\";import r from\"./tilt-rotate-png.js\";import{Texture as e}from\"../../../webgl-engine/lib/Texture.js\";const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(t,(()=>new e(t,n)))}function i(t){return t.fromData(r,(()=>new e(r,n)))}export{o as getRotateHeadingTexture,i as getTiltRotateTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Handles.js\";import s from\"../../../../core/Logger.js\";import{isNone as l,isSome as n}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../../../chunks/boundedPlane.js\";import d from\"../../../../layers/Layer.js\";import u from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as p,projectAndElevationAlignShape as y,projectedShapeToPlane as w,planeToShape as v}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as f}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as m}from\"../../terrain/isTerrainSurfaceLayer.js\";const _=\"esri.views.3d.analysis.Slice.SliceController\",V=s.getLogger(_);let g=class extends a{constructor(e){super(e),this._handles=new t,this._internalChange=!1,this._currentSlicePlane=null}initialize(){this._handles.add(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof d||i instanceof u)?i instanceof d&&m(i)?(V.error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(V.error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),L(this.view,this),this._handles.add([r((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),r((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),r((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),r((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this._handles.add([r((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null),D(this.view,this),this._handles.destroy(),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(p).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(l(i)&&l(e)||n(i)&&n(e)&&e.equals(i))return;let a=null,t=null;if(n(e)&&n(e.position)){const i=e.position.spatialReference,s=y(e,this.view);l(s)&&f(this.analysis,i,V),a=w(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},h()),n(a)&&(t={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=t,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=v(e,this.view,this.view.spatialReference,new i);let t=null;n(a)&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(S)return;const e=C(this.view);if(!e)return;if(this.analysisViewData.active)n(e.activeController)&&e.activeController!==this?(S=!0,e.activeController.analysisViewData.active=!1,S=!1):n(e.activeController)&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(n(e.activeController)&&e.activeController!==this)return;n(e.activeController)&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){P(this.view)}_updateLayerViews(){const e=n(this.analysisViewData.plane)&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([o()],g.prototype,\"view\",void 0),e([o()],g.prototype,\"analysis\",void 0),e([o()],g.prototype,\"analysisViewData\",void 0),e([o()],g.prototype,\"_allLayerAndSubLayerViews\",null),g=e([c(_)],g);const b=new Map;let S=!1;function P(e){const i=C(e)?.activeController;n(i)&&n(i.analysisViewData.plane)&&i.analysisViewData.visible?e.slicePlane=i.analysisViewData.plane:e.slicePlane=null}function L(e,i){b.has(e)||b.set(e,{all:[],activeController:null}),b.get(e)?.all.push(i)}function C(e){return b.get(e)}function D(e,i){if(!b.has(e))throw new Error(\"view expected in global slice register\");const a=b.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&b.delete(e)}export{g as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function s(s){switch(s.type){case\"building-scene\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(s.type),!1}}export{s as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import a from\"../../../../core/Handles.js\";import{releaseMaybe as s,destroyMaybe as n,isSome as r,isNone as l,removeMaybe as o}from\"../../../../core/maybe.js\";import{watch as h,sync as p,syncAndInitial as u}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as c}from\"../../../../core/scheduling.js\";import{createScreenPoint as d,screenPointObjectToArray as _,createScreenPointArray as v}from\"../../../../core/screenUtils.js\";import{property as P}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as y}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as m,E as g,m as w}from\"../../../../chunks/mat4.js\";import{e as f,l as M,c as D,g as T,a as V,m as b,n as k,s as E}from\"../../../../chunks/vec3.js\";import{a as S,c as H}from\"../../../../chunks/vec3f64.js\";import{a as x,c as I,n as R,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as O,create as C,intersectRay as z,normal as G}from\"../../../../geometry/support/plane.js\";import{create as U}from\"../../../../geometry/support/ray.js\";import{sv3d as L,sm4d as K,sv2d as A}from\"../../../../geometry/support/vectorStacks.js\";import{POINTER_MOVE_TIMER_MS as B,PLANE_PREVIEW_OUTLINE_WIDTH as F,forceVerticalModifier as N,forceHorizontalModifier as q,PLANE_OUTLINE_COLOR as Z,PLANE_BACKGROUND_COLOR as J,PREVIEW_FADE_DOT_THRESHOLD as Q,PREVIEW_FADE_DURATION_SECONDS as W,INITIAL_DEPTH_OFFSET_FRAC as X}from\"./sliceToolConfig.js\";import{createShiftManipulator as Y,createRotateManipulator as $,createResizeManipulator as tt,createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{getRotateHeadingTexture as yt,getTiltRotateTexture as mt}from\"./images/Factory.js\";import{calculateInputRotationTransform as gt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as wt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreen as ft}from\"../../support/geometryUtils/ray.js\";import{newIntersector as Mt}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as Dt}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{AnalysisToolBase as Tt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as Vt}from\"../../../interactive/dragEventPipeline.js\";import{createScreenPointFromEvent as bt}from\"../../../support/screenUtils.js\";var kt;let Et=kt=class extends Tt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this.layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._handles=new a,this._viewHandles=new a,this._frameTask=null,this._pointerMoveTimerMs=B,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=x(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=d(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode),this._intersector.options.store=Dt.MIN}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this._rotateHeadingImage=yt(this.view.toolViewManager.textures),this._rotateTiltImage=mt(this.view.toolViewManager.textures);const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(r(this.analysisViewData.plane)&&I(this.analysisViewData.plane,this._startPlane),this.inputState=null)};this.shiftManipulator=Y(this.view),this.manipulators.add(this.shiftManipulator),this.shiftManipulator.events.on(\"grab-changed\",(e=>{this._onShiftGrab(e),t(this.shiftManipulator)})),this._handles.add(this._createShiftDragPipeline(this.shiftManipulator)),this.rotateHeadingManipulator=$(this.view,this._rotateHeadingImage.texture),this.manipulators.add(this.rotateHeadingManipulator),this.rotateHeadingManipulator.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(this.rotateHeadingManipulator)})),this._handles.add(this._createRotateHeadingDragPipeline(this.rotateHeadingManipulator)),this.rotateTiltManipulator=$(this.view,this._rotateTiltImage.texture),this.manipulators.add(this.rotateTiltManipulator),this.rotateTiltManipulator.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(this.rotateTiltManipulator)})),this._handles.add(this._createRotateTiltDragPipeline(this.rotateTiltManipulator)),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=tt(this.view,e);return a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)})),this._handles.add(this._createResizeDragPipeline(a)),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=F,this._handles.add(h((()=>this.analysisViewData.plane),(()=>this._updateManipulators()),p));const e=h((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),u);this._handles.add([e,h((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._rotateHeadingImage=s(this._rotateHeadingImage),this._rotateTiltImage=s(this._rotateTiltImage),this._handles=n(this._handles),this._viewHandles=n(this._viewHandles),this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=n(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=n(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":r(this._creatingPointerId)?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this._handles.remove(\"analysis\"),this._set(\"analysis\",t)}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=r(t)&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return r(this.inputState)&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){l(this.analysisViewData.plane)||(this._set(\"layersMode\",\"exclude\"),this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){l(this.analysisViewData.plane)||(this._set(\"layersMode\",\"none\"),this.active&&(this.view.activeTool=null))}onDeactivate(){this._set(\"layersMode\",\"none\"),this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!Ht(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!Ht(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!Ht(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&r(e)&&\"shift\"===e.type){const i=bt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(bt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&r(this.analysisViewData.plane)){const e=bt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),I(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=bt(t),a=x();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(I(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),\"pointer-drag\"===t.type){const e=this._calculatePickRay(i);this.inputState=St(e,t.pointerId,a.origin,a)}return!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(bt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this._set(\"layersMode\",\"none\"),this.active&&(this.view.activeTool=null),!0)}_onKeyDown(t){return(t.key===N||t.key===q)&&(this._activeKeyModifiers[t.key]=!0,r(this._previewPlane)&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==N&&t.key!==q||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],r(this._previewPlane)&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane)||!t.screenPoint)return;const e=this._calculatePickRay(t.screenPoint);I(this.analysisViewData.plane,this._startPlane),this.inputState=St(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"shift\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(l(this.analysisViewData.plane))return null;const i=.001,a=Math.min((1-Math.abs(f(R(this.analysisViewData.plane),e.ray.direction)/M(e.ray.direction)))/i,1),s=-O(this._startPlane.plane,e.renderEnd),n=-O(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(l(this.analysisViewData.plane))return;const e=D(L.get(),this._startPlane.origin),i=D(L.get(),R(this._startPlane));T(i,i,-t.depth),V(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,x());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane)||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=this._calculatePickRay(t.screenPoint),a=H();z(e,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"rotate\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||l(this.analysisViewData.plane)||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=this._calculatePickRay(t.screenPoint),a=H();z(e,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"rotate\"!==a.type)return;const s=r(this.analysisViewData.plane)?I(this.analysisViewData.plane,x()):null;e.next(wt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{r(s)&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(l(this.analysisViewData.plane))return null;const i=G(t.rotatePlane),a=gt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(l(this.analysisViewData.plane))return;const e=m(K.get(),t.rotateAngle,t.rotateAxis);if(l(e))return;const i=b(L.get(),this._startPlane.basis1,e),a=b(L.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,x());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||l(this.analysisViewData.plane)||!t.screenPoint)return;const i=this._calculatePickRay(t.screenPoint),a=L.get();z(this.analysisViewData.plane.plane,i,a)&&(I(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:S(a)})}_createResizeDragPipeline(t){return Vt(t,((t,e,i)=>{const a=this.inputState;if(l(a)||\"resize\"!==a.type||l(this.analysisViewData.plane))return;const s=I(this.analysisViewData.plane,x());e.next(wt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(l(this.analysisViewData.plane))return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,I(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(!r(e))throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,l(t))return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=r(i)?i:x();if(i=r(i)?I(i,xt):null,this._pickPlane(t,!0,e,a)){const t=Q;let e=!1;r(i)&&(e=f(i.plane,a.plane)<t||f(k(L.get(),i.basis1),k(L.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}r(this._previewPlane)&&l(this._frameTask)&&0===this._previewPlaneOpacity?this._frameTask=c({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*W),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):l(this._previewPlane)&&r(this._frameTask)?this._removeFrameTask():r(this._previewPlane)&&this._updateManipulators()}_removeFrameTask(){this._frameTask=o(this._frameTask)}_calculatePickRay(t){const e=U(),i=_(t,It);return ft(this.view.state.camera,i,e),k(e.direction,e.direction),e}_pickMinResult(t){const e=_(t,A.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=L.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(L.get()),l=this.view.state.camera;f(r,l.viewForward)>0&&T(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*X,p=T(L.get(),r,h);V(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[N]?ot.VERTICAL:i[q]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=o(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(kt.disableEngineLayers)return;let t,e=!1;if(r(this.analysisViewData.plane))t=this.analysisViewData.plane,e=!1;else{if(!r(this._previewPlane))return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,K.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=E(L.get(),M(t.basis1),M(t.basis2),1),s=g(K.get(),a),n=w(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=[Z[0],Z[1],Z[2],Z[3]*this._previewPlaneOpacity];this._previewPlaneOutlineVisualElement.color=t;const e=[J[0],J[1],J[2],J[3]*this._previewPlaneOpacity],i=[0,0,0,0];this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=i}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}testData(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};function St(t,e,i,a){const s=Pt(i,R(a),t.direction,C()),n=H();return z(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function Ht(t){return\"mouse\"!==t.pointerType||0===t.button}Et.disableEngineLayers=!1,t([P()],Et.prototype,\"_clock\",void 0),t([P({constructOnly:!0})],Et.prototype,\"view\",void 0),t([P()],Et.prototype,\"analysisViewData\",void 0),t([P({readOnly:!0})],Et.prototype,\"state\",null),t([P({readOnly:!0})],Et.prototype,\"cursor\",null),t([P()],Et.prototype,\"analysis\",null),t([P()],Et.prototype,\"removeIncompleteOnCancel\",void 0),t([P({readOnly:!0})],Et.prototype,\"layersMode\",void 0),t([P({value:null})],Et.prototype,\"inputState\",null),t([P()],Et.prototype,\"_isPlacingSlicePlane\",null),t([P()],Et.prototype,\"_creatingPointerId\",null),Et=kt=t([y(\"esri.views.3d.analysis.Slice.SliceTool\")],Et);const xt=x(),It=v(),Rt=Et;export{Rt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/Handles.js\";import{isNone as t,isSome as r,destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as l,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{E as p,m as u}from\"../../../../chunks/mat4.js\";import{s as h,l as c}from\"../../../../chunks/vec3.js\";import{Z as d}from\"../../../../chunks/vec4f64.js\";import{sv3d as v,sm4d as _}from\"../../../../geometry/support/vectorStacks.js\";import{PLANE_OUTLINE_COLOR as w,PLANE_PREVIEW_OUTLINE_WIDTH as V,PLANE_OUTLINE_WIDTH as E,PLANE_BACKGROUND_COLOR as f,GRID_COLOR as g}from\"./sliceToolConfig.js\";import{createGridVisualElement as y,createOutlineVisualElement as j,calculateBoundedPlaneTranslateRotate as b}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as S}from\"../../webgl-engine/materials/lineStippleUtils.js\";let k=class extends e{constructor(i){super(i),this._handles=new s,this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(t(i))throw new Error(\"expected internal object to be valid\");this._gridVisualElement=y(this.view),this._outlineVisualElement=j(this.view),this._handles.add([l((()=>({visible:r(i.plane)&&this.analysisViewData.visible,active:this.analysisViewData.active,preview:this.preview,showGrid:this.showGrid})),(i=>this._updateMaterials(i)),a),l((()=>i.plane),(i=>this._updatePlane(i)),a)],\"internal\")}destroy(){this._handles.destroy(),this._gridVisualElement=o(this._gridVisualElement),this._outlineVisualElement=o(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(t(i))return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=h(v.get(),c(i.basis1),c(i.basis2),1),s=p(_.get(),e),r=b(i,_.get()),o=u(s,r,s);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:s,showGrid:t}){this._outlineVisualElement.color=w,this._outlineVisualElement.width=s?V:E,this._outlineVisualElement.stipplePattern=e?null:S(5),this._gridVisualElement.backgroundColor=f,this._gridVisualElement.gridColor=t?g:d,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([n()],k.prototype,\"view\",void 0),i([n()],k.prototype,\"analysis\",void 0),i([n()],k.prototype,\"analysisViewData\",void 0),i([n()],k.prototype,\"showGrid\",void 0),i([n()],k.prototype,\"preview\",void 0),k=i([m(\"esri.views.3d.analysis.Slice.SliceVisualization\")],k);export{k as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import{destroyMaybe as t,unwrap as a}from\"../../../core/maybe.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as e}from\"./AnalysisView3D.js\";import{SliceController as r}from\"./Slice/SliceController.js\";import n from\"./Slice/SliceTool.js\";import{SliceVisualization as y}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as h}from\"../../analysis/analysisViewUtils.js\";let c=class extends(e(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new y({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new r({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,n))}destroy(){h(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){return{visualization:this.analysisVisualization,controller:this.analysisController,tool:a(this.tool)}}};s([o({readOnly:!0})],c.prototype,\"type\",void 0),s([o({constructOnly:!0,nonNullable:!0})],c.prototype,\"analysis\",void 0),s([o()],c.prototype,\"tool\",void 0),s([o()],c.prototype,\"plane\",void 0),s([o()],c.prototype,\"active\",void 0),s([o()],c.prototype,\"showGrid\",null),s([o()],c.prototype,\"editable\",null),c=s([l(\"esri.views.3d.analysis.SliceAnalysisView3D\")],c);const u=c;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{l as c,c as l,f as i,b as a,e as u,g as p,a as m}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,create as y,fromPositionAndNormal as E}from\"../../../../geometry/support/plane.js\";import{create as S}from\"../../../../geometry/support/ray.js\";import{projectPoint as j}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as x}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as R}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as w,IntersectorType as H}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{TERRAIN_ID as U}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as O}from\"../../../interactive/dragEventPipeline.js\";function C(e,r){return D(e,(()=>r))}function T(e){return D(e,(e=>e.plane))}function D(t,s){const c=d(),l=d();let i=!1;return a=>{const u=s(a);if(\"start\"===a.action){const r=n(a.screenStart,o(v.get())),s=R(t.state.camera,r,L);e(s)&&(i=g(u,s,c))}if(!i)return null;const p=n(a.screenEnd,o(v.get())),m=R(t.state.camera,p,L);return r(m)?null:g(u,m,l)?{...a,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function M(t,n,o=0,c=null,l=null){let i=null;return a=>{if(\"start\"===a.action&&(i=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenStart.x,a.screenStart.y),n,o,l),e(i)&&e(c)&&!f(i,i,c)))return null;if(r(i))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(a.screenEnd.x,a.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...a,mapStart:i,mapEnd:u}:null}}function N(e,r,t,n=null,o=null){return M(e,t,b(r,e,t),n,o)}function P(e,r,t,n=null,o=null){return N(e,t,x(r),n,o)}function h(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?P(t,n,s,o):null}function k(e,r){const t=J,n=K,o=y();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=i(o,t,a(n,r,e.state.camera.eye));return i(s,s,t),E(r,s,o)}function G(e,r,t){let n=null;const o=new O;return o.next(C(e,k(e,r))).next(A(e,r)).next(F(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function A(e,r){const t=d(),n=c(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=d(),s=d(),i=o=>{if(a(o,o,r),j(t,o,o),\"global\"===e.viewingMode){c(o)*Math.sign(u(t,o))<.001-n&&a(o,p(o,t,.001),r)}return m(o,o,r),o};return e=>(e.renderStart=i(l(o,e.renderStart)),e.renderEnd=i(l(s,e.renderEnd)),e)}function F(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}var q;function z(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function B(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=w.MIN,l.options.hud=!1;const i=s(),a={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=d(),p=t(c,o.spatialReference),m=e=>{o.map.ground&&o.map.ground.opacity<1?a.exclude.add(U):a.exclude.delete(U),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,i),l,a);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=r.intersector===H.TERRAIN?q.GROUND:q.OTHER;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=q.GROUND}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=m(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=m(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]=\"GROUND\",e[e.OTHER=1]=\"OTHER\"}(q||(q={}));const J=d(),K=d(),L=S();export{q as SurfaceType,F as convertToMapCoordinates,z as hideManipulatorWhileDragging,A as projectToWorldUp,B as screenToMap3D,N as screenToMapXYAtLocation,h as screenToMapXYForGraphic,P as screenToMapXYForGraphicAtLocation,C as screenToRenderPlane,T as screenToRenderPlaneFromEvent,G as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t,isNone as i}from\"../../core/maybe.js\";import{onAbort as e}from\"../../core/promiseUtils.js\";import{whenOnce as n,watch as r,syncAndInitial as a}from\"../../core/reactiveUtils.js\";function c(r,a){r.interactive=!0;const{tool:c,view:s}=r;s.activeTool=c;let l=e(a,(()=>{s.activeTool===c&&(s.activeTool=null)}));return o((async o=>{await n((()=>i(c)||!c.active),o),l=t(l)}),a)}function s(o,t){return r((()=>o.interactive),(()=>l(o,t)),a)}function l(o,t){o.interactive?v(o,t):m(o)}function v(o,t){m(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function m(o){const{view:t,tool:e}=o;i(e)||(t.tools.remove(e),o.tool=null)}export{c as activateAnalysisViewTool,s as connectAnalysisViewToTool,m as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let a=class extends i{constructor(s){super(s)}initialize(){this.addHandles(e((()=>this.analysisViewData.visible),(s=>this.visible=s),t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};s([r({constructOnly:!0})],a.prototype,\"analysis\",void 0),s([r()],a.prototype,\"analysisViewData\",void 0),a=s([o(\"esri.views.interactive.AnalysisToolBase\")],a);export{a as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as l}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as t}from\"../../../layers/support/fieldUtils.js\";async function d(l,d=l.popupTemplate){if(e(d))return[];const s=await d.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=d,{objectIdField:n,typeIdField:u,globalIdField:a,relationships:o}=l;if(s.includes(\"*\"))return[\"*\"];const r=i?await p(l):[],f=t(l.fieldsIndex,[...s,...r]);return u&&f.push(u),f&&n&&l.fieldsIndex?.has(n)&&!f.includes(n)&&f.push(n),f&&a&&l.fieldsIndex?.has(a)&&!f.includes(a)&&f.push(a),o&&o.forEach((e=>{const{keyField:p}=e;f&&p&&l.fieldsIndex?.has(p)&&!f.includes(p)&&f.push(p)})),f}function s(e,p){return e.popupTemplate?e.popupTemplate:l(p)&&p.defaultPopupTemplateEnabled&&l(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}export{s as getFetchPopupTemplate,d as getRequiredFields};\n"],"names":["n","t","s","a","i","d","l","r","o","Math","floor","rootIndex","nodesPerPage","e","query","f","token","responseType","signal","data","lodSelectionMetricType","type","rootPage","pageSize","lodMetric","urlPrefix","warn","p","c","split","pop","rootNode","pageError","nodeError","url","A","D","mipmap","preMultiplyAlpha","width","height","fromData","_","V","g","_handles","_internalChange","_currentSlicePlane","this","add","analysis","excludedLayers","on","item","u","m","error","title","id","preventDefault","includes","b","has","set","all","activeController","get","push","L","view","analysisViewData","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","active","visible","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","slicePlane","Error","lastIndexOf","splice","length","delete","destroy","allLayerViews","items","concat","filter","flatMap","sublayerViews","equals","position","spatialReference","y","w","tiltEnabled","h","heading","tilt","v","S","C","P","forEach","layers","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","prototype","Map","kt","Et","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_viewHandles","_frameTask","_pointerMoveTimerMs","B","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","x","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","options","store","Dt","_rotateHeadingImage","yt","toolViewManager","textures","_rotateTiltImage","mt","_updateManipulatorsInteractive","grabbing","I","inputState","Y","manipulators","events","_onShiftGrab","_createShiftDragPipeline","$","texture","_onRotateHeadingGrab","_createRotateHeadingDragPipeline","_onRotateTiltGrab","_createRotateTiltDragPipeline","map","tt","_onResizeGrab","_createResizeDragPipeline","addMany","et","it","F","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","_isPlacingSlicePlane","_creatingPointerId","remove","_set","_get","showGrid","_updateMaterials","creatingPointerId","activeTool","_updatePreviewPlane","_updateVisibility","Ht","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","editable","internallyEditable","pointerId","bt","emit","action","hasBeenDragged","pointerType","start","screenPoint","_resetPointerMoveTimeout","_pickPlane","at","_calculatePickRay","St","origin","created","hitTest","then","results","graphic","sourceLayer","ground","key","N","q","renderLocation","Vt","next","wt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","min","abs","R","ray","M","O","renderEnd","startPoint","depth","T","j","basis1","basis2","st","renderCoordsHelper","nt","H","z","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","G","gt","rotateAxis","rotateAngle","K","activeHandleIdx","_resizeDragUpdatePlane","rt","xt","Q","k","update","deltaTime","W","U","It","ft","sceneIntersectionHelper","intersectToolIntersectorScreen","_pickMinResult","getIntersectionPoint","getTransformedNormal","viewForward","lt","X","ot","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","E","transform","Z","color","J","backgroundColor","gridColor","interactive","setPointerMoveTimerMs","Tt","Pt","button","constructOnly","readOnly","value","Rt","_gridVisualElement","_outlineVisualElement","preview","_updatePlane","stipplePattern","tool","analysisVisualization","analysisController","addHandles","visualization","controller","nonNullable","screenStart","screenEnd","renderStart","intersectElevationFromScreen","mapStart","mapEnd","toMap","include","worldUpAtPosition","eye","sign","execute","fromRenderCoords","disableDisplay","selectionMode","hud","requiresGroundFeedback","enableDraped","exclude","Set","opacity","intersectIntersectorScreen","intersector","GROUND","OTHER","location","surfaceType","tools","onDeactivate","clear","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}