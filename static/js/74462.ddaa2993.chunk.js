"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[74462],{74462:function(e,t,a){a.r(t),a.d(t,{arcgis_hub_input_color:function(){return g}});var o=a(4942),i=a(74165),r=a(15861),l=a(15671),n=a(43144),s=a(72585),c=a(32836),u=a(68146),h=a(12868),d=(a(10625),a(84371),"no-color"),v="swatch",p="--swatch-color",g=function(){function e(t){(0,l.Z)(this,e),(0,s.r)(this,t),this.arcgisHubInputColorChange=(0,s.c)(this,"arcgisHubInputColorChange",7),this.disabled=!1,this.required=!1,this.savedColors=[],this.status="idle",this.storageId="saved-colors",(0,c.b)(this,"handleColorPickerChange","handleInputInput","setColorPickerEl")}return(0,n.Z)(e,[{key:"handleValueChanged",value:function(e){this.setColor(e)}},{key:"handleColorPickerChange",value:function(e){var t;e.stopPropagation();var a=null!==(t=this.colorPickerEl.value)&&void 0!==t?t:"";if(a!==this.value){var o=this.setColor(a);this.emitChangeEvent(a,o)}}},{key:"handleInputInput",value:function(e){var t;e.stopPropagation();var a=null!==(t=e.detail.value)&&void 0!==t?t:"",o=this.setColor(a);this.emitChangeEvent(a,o)}},{key:"componentWillLoad",value:function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.i.loadIntlForComponent(this.element);case 2:this.intl=e.sent,localStorage.setItem("calcite-color-".concat(this.storageId),JSON.stringify(this.savedColors)),t=new u.a({allErrors:!0}),a=this.required?/^#(?:[0-9a-fA-F]{6})$/:/^$|^#(?:[0-9a-fA-F]{6})$/,t.addFormat("hex-color",a),o={type:"object",properties:{color:{type:"string",format:"hex-color"}}},this.validator=t.compile(o),this.setColor(this.value);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.validator({color:e});return t?{valid:t}:{valid:t,errors:this.validator.errors}}},{key:"emitChangeEvent",value:function(e,t){if(!this.disabled){var a=t.valid,o={valid:a};a&&(o.value=e),this.arcgisHubInputColorChange.emit(o)}}},{key:"setColor",value:function(e){var t=this.validate(e),a=t.valid;return this.value=e,a&&(this.element.style.setProperty(p,e),this._colorPickerColor=e),this.status=a?"valid":"invalid",t}},{key:"setColorPickerEl",value:function(e){this.colorPickerEl=e}},{key:"render",value:function(){var e;return(0,s.h)("calcite-popover-manager",{"auto-close":!0},(0,s.h)("calcite-input",{disabled:this.disabled,label:this.label,onCalciteInputInput:this.handleInputInput,placeholder:this.placeholder,status:this.status,value:this.value},(0,s.h)("calcite-button",{appearance:"outline",disabled:this.disabled,id:"color-picker-toggle-button",label:this.intl.t("colorPickerToggleButtonLabel"),slot:"action"},(0,s.h)("div",{class:(e={},(0,o.Z)(e,v,!0),(0,o.Z)(e,d,!this.value),e)},"\xa0"))),(0,s.h)("calcite-popover",{label:this.intl.t("popoverLabel"),placement:"auto",referenceElement:"color-picker-toggle-button"},(0,s.h)("calcite-color-picker",{allowEmpty:!this.required,format:"hex",onCalciteColorPickerChange:this.handleColorPickerChange,ref:this.setColorPickerEl,scale:"m",storageId:this.storageId,value:this._colorPickerColor})))}},{key:"element",get:function(){return(0,s.g)(this)}}],[{key:"assetsDirs",get:function(){return["locales"]}},{key:"watchers",get:function(){return{value:["handleValueChanged"]}}}]),e}();g.style=":host{display:block}#color-picker-toggle-button{--calcite-ui-brand:var(--calcite-ui-border-input);margin-left:-1px}.swatch{background-color:var(--swatch-color, transparent);width:1.25rem}.swatch.no-color{background-image:linear-gradient(45deg, #ededed 25%, #a6a6a6 25%, #a6a6a6 50%, #ededed 50%, #ededed 75%, #a6a6a6 75%, #a6a6a6 100%);background-size:15px 15px;outline:solid 1px #a6a6a6}"}}]);
//# sourceMappingURL=74462.ddaa2993.chunk.js.map