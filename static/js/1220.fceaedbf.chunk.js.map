{"version":3,"file":"static/js/1220.fceaedbf.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/query/operations/editsZScale.js","../node_modules/@arcgis/core/rest/query/operations/queryZScale.js","../node_modules/@arcgis/core/rest/support/FeatureSet.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../core/maybe.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../core/unitUtils.js\";import{equals as o}from\"../../../geometry/support/spatialReferenceUtils.js\";function t(e,n,o){if(null==e.hasM||e.hasZ)for(const t of n)for(const e of t)e.length>2&&(e[2]*=o)}function i(e,o,t){if(!e&&!o||!t)return;const i=n(t);s(e,t,i),s(o,t,i)}function s(e,n,o){if(e)for(const t of e)f(t.geometry,n,o)}function f(i,s,f){if(e(i)||!i.spatialReference||o(i.spatialReference,s))return;const r=n(i.spatialReference)/f;if(1!==r)if(\"x\"in i)null!=i.z&&(i.z*=r);else if(\"rings\"in i)t(i,i.rings,r);else if(\"paths\"in i)t(i,i.paths,r);else if(\"points\"in i&&(null==i.hasM||i.hasZ))for(const e of i.points)e.length>2&&(e[2]*=r)}export{i as unapplyEditsZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../core/maybe.js\";import{getGeometryZScaler as o}from\"../../../geometry/support/zscale.js\";function r(r,t,f){if(!f||!f.features||!f.hasZ)return;const s=o(f.geometryType,t,r.outSpatialReference);if(!e(s))for(const e of f.features)s(e.geometry)}export{r as applyFeatureSetZUnitScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import r from\"../../Graphic.js\";import{JSONMap as o}from\"../../core/jsonMap.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as i}from\"../../core/lang.js\";import{isSome as n,unwrap as a}from\"../../core/maybe.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../../core/accessorSupport/decorators/writer.js\";import c from\"../../geometry/SpatialReference.js\";import{fromJSON as u,isPolygon as f}from\"../../geometry/support/jsonUtils.js\";import h from\"../../layers/support/Field.js\";var d;const g=new o({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryEnvelope:\"extent\",mesh:\"mesh\",\"\":null});let j=d=class extends s{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const o=c.fromJSON(t.spatialReference),s=[];for(let i=0;i<e.length;i++){const t=e[i],a=r.fromJSON(t),p=t.geometry&&t.geometry.spatialReference;n(a.geometry)&&!p&&(a.geometry.spatialReference=o);const l=t.aggregateGeometries,y=a.aggregateGeometries;if(l&&n(y))for(const e in y){const t=y[e],r=l[e]?.spatialReference;n(t)&&!r&&(t.spatialReference=o)}s.push(a)}return s}writeGeometryType(e,t,r,o){if(e)return void g.write(e,t,r,o);const{features:s}=this;if(s)for(const i of s)if(i&&n(i.geometry))return void g.write(i.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=u(e);return o&&!r&&t.spatialReference&&(o.spatialReference=c.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&n(o.geometry)&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new d(this.cloneProperties())}cloneProperties(){return i({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e&&e[r];o.geometry=t&&t.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,i=e=>Math.round((e-o)/t),n=e=>Math.round((s-e)/r),p=this.features,l=this._getQuantizationFunction(this.geometryType,i,n);for(let y=0,m=p.length;y<m;y++)l?.(a(p[y].geometry))||(p.splice(y,1),y--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[i,a]}=r,p=e=>e*i+o,l=e=>s-e*a,y=this._getHydrationFunction(e,p,l);for(const{geometry:m}of t)n(m)&&y&&y(m);return this.transform=null,this}_quantizePoints(e,t,r){let o,s;const i=[];for(let n=0,a=e.length;n<a;n++){const a=e[n];if(n>0){const e=t(a[0]),n=r(a[1]);e===o&&n===s||(i.push([e-o,n-s]),o=e,s=n)}else o=t(a[0]),s=r(a[1]),i.push([o,s])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return\"point\"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):\"polyline\"===e||\"polygon\"===e?e=>{const o=f(e)?e.rings:e.paths,s=[];for(let i=0,n=o.length;i<n;i++){const e=o[i],n=this._quantizePoints(e,t,r);n&&s.push(n)}return s.length>0?(f(e)?e.rings=s:e.paths=s,e):null}:\"multipoint\"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:\"extent\"===e?e=>e:null}_getHydrationFunction(e,t,r){return\"point\"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:\"polyline\"===e||\"polygon\"===e?e=>{const o=f(e)?e.rings:e.paths;let s,i;for(let n=0,a=o.length;n<a;n++){const e=o[n];for(let o=0,n=e.length;o<n;o++){const n=e[o];o>0?(s+=n[0],i+=n[1]):(s=n[0],i=n[1]),n[0]=t(s),n[1]=r(i)}}}:\"extent\"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:\"multipoint\"===e?e=>{const o=e.points;let s,i;for(let n=0,a=o.length;n<a;n++){const e=o[n];n>0?(s+=e[0],i+=e[1]):(s=e[0],i=e[1]),e[0]=t(s),e[1]=r(i)}}:null}};e([p({type:String,json:{write:!0}})],j.prototype,\"displayFieldName\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,\"exceededTransferLimit\",void 0),e([p({type:[r],json:{write:!0}})],j.prototype,\"features\",void 0),e([l(\"features\")],j.prototype,\"readFeatures\",null),e([p({type:[h],json:{write:!0}})],j.prototype,\"fields\",void 0),e([p({type:[\"point\",\"multipoint\",\"polyline\",\"polygon\",\"extent\",\"mesh\"],json:{read:{reader:g.read}}})],j.prototype,\"geometryType\",void 0),e([m(\"geometryType\")],j.prototype,\"writeGeometryType\",null),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,\"hasM\",void 0),e([p({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],j.prototype,\"hasZ\",void 0),e([p({types:t,json:{write:!0}})],j.prototype,\"queryGeometry\",void 0),e([l(\"queryGeometry\")],j.prototype,\"readQueryGeometry\",null),e([p({type:c,json:{write:!0}})],j.prototype,\"spatialReference\",void 0),e([m(\"spatialReference\")],j.prototype,\"writeSpatialReference\",null),e([p({json:{write:!0}})],j.prototype,\"transform\",void 0),j=d=e([y(\"esri.rest.support.FeatureSet\")],j),j.prototype.toJSON.isDefaultToJSON=!0;const x=j;export{x as default};\n"],"names":["t","e","n","o","hasM","hasZ","length","i","s","f","geometry","spatialReference","r","z","rings","paths","points","features","geometryType","outSpatialReference","d","g","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","mesh","j","displayFieldName","exceededTransferLimit","fields","queryGeometry","c","a","p","l","aggregateGeometries","y","push","write","this","type","u","toJSON","cloneProperties","transform","Array","isArray","scale","translate","_getQuantizationFunction","Math","round","m","splice","_getHydrationFunction","x","_quantizePoints","xmin","ymin","xmax","ymax","String","json","prototype","Boolean","overridePolicy","enabled","h","read","reader","types","isDefaultToJSON"],"sourceRoot":""}