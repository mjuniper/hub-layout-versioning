{"version":3,"file":"static/js/26823.256dcf85.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/candidates/VertexSnappingCandidate.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/FeatureCollectionSnappingSource.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/queryEngineUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{PointConstraint as t}from\"../SnappingConstraint.js\";import{FeatureSnappingCandidate as n}from\"./FeatureSnappingCandidate.js\";import{PointSnappingHint as i}from\"../hints/PointSnappingHint.js\";class r extends n{constructor(n){super({...n,constraint:new t(n.targetPoint)})}get hints(){return[new i(this.targetPoint,this.isDraped,this.domain)]}}export{r as VertexSnappingCandidate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{isSome as i,toNullable as r,unwrap as o}from\"../../../../core/maybe.js\";import{throwIfAborted as n,whenOrAbort as a}from\"../../../../core/promiseUtils.js\";import{watch as s,initial as p,on as l}from\"../../../../core/reactiveUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{elevationContextAffectsAlignment as g}from\"../../../../support/elevationInfoUtils.js\";import{makeFilter as u,makeSnappingQuery as h}from\"../snappingUtils.js\";import{convertSnappingCandidate as m,makeGetGroundElevation as d}from\"./queryEngineUtils.js\";import{getSnappingCandidateElevationAligner as v}from\"./snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as S}from\"./snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as f}from\"./symbologySnappingCandidates.js\";let w=class extends t{get availability(){return 1}get updating(){return this.layerSource.updating}get _snappingElevationAligner(){const{view:e}=this,{layer:t}=this.layerSource,r=i(e)&&\"3d\"===e.type;if(!r||\"subtype-group\"===t.type)return v();const o=async(i,r)=>(await a(e.whenLayerView(t),r)).elevationAlignPointsInFeatures(i,r);return v(r,{elevationInfo:t.elevationInfo,alignPointsInFeatures:o,spatialReference:e.spatialReference})}get _snappingElevationFilter(){const{view:e}=this,t=i(e)&&\"3d\"===e.type&&\"subtype-group\"!==this.layerSource.layer.type;return S(t)}get _symbologySnappingFetcher(){const{view:e}=this,{layer:t}=this.layerSource;return i(e)&&\"3d\"===e.type&&\"subtype-group\"!==t.type?f(this._symbologySnappingSupported,(async(i,r)=>{const o=await e.whenLayerView(t);return n(r),o.queryForSymbologySnapping({candidates:i,spatialReference:e.spatialReference},r)})):f()}get _symbologySnappingSupported(){return i(this._layerView3D)&&this._layerView3D.symbologySnappingSupported}initialize(){const{view:e}=this,{layer:t}=this.layerSource;i(e)&&\"3d\"===e.type&&\"subtype-group\"!==t.type&&(e.whenLayerView(t).then((e=>this._layerView3D=e)),this.addHandles([e.elevationProvider.on(\"elevation-change\",(({context:e})=>{const{elevationInfo:i}=t;g(e,i)&&this._snappingElevationAligner.notifyElevationSourceChange()})),s((()=>t.elevationInfo),(()=>this._snappingElevationAligner.notifyElevationSourceChange()),p),s((()=>i(this._layerView3D)?this._layerView3D.processor?.renderer:null),(()=>this._symbologySnappingFetcher.notifySymbologyChange()),p),l((()=>r(this._layerView3D)?.layer),[\"edits\",\"apply-edits\",\"graphic-update\"],(()=>this._symbologySnappingFetcher.notifySymbologyChange()))]))}constructor(e){super(e),this.view=null,this._layerView3D=null}refresh(){}async fetchCandidates(e,t){const{layer:i}=this.layerSource,r=i.source;if(!r?.querySnapping)return[];const a=u(i),s=h(e,o(this.view)?.type??\"2d\",a),p=await r.querySnapping(s,{signal:t});n(t);const l=await this._snappingElevationAligner.alignCandidates(p.candidates,t);n(t);const y=await this._symbologySnappingFetcher.fetch(l,t);n(t);const c=0===y.length?l:[...l,...y],g=this._snappingElevationFilter.filter(s,c),d=this._getGroundElevation;return g.map((e=>m(e,d)))}get _getGroundElevation(){return d(this.view)}};e([y({constructOnly:!0})],w.prototype,\"layerSource\",void 0),e([y({constructOnly:!0})],w.prototype,\"view\",void 0),e([y()],w.prototype,\"_snappingElevationAligner\",null),e([y()],w.prototype,\"_snappingElevationFilter\",null),e([y()],w.prototype,\"_symbologySnappingFetcher\",null),e([y()],w.prototype,\"_layerView3D\",void 0),e([y()],w.prototype,\"_symbologySnappingSupported\",null),e([y()],w.prototype,\"_getGroundElevation\",null),w=e([c(\"esri.views.interactive.snapping.featureSources.FeatureCollectionSnappingSource\")],w);export{w as FeatureCollectionSnappingSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{f as t}from\"../../../../chunks/vec3f64.js\";import{asSnappingPoint as n}from\"../SnappingPoint.js\";import{DrapedEdgeSnappingCandidate as r}from\"../candidates/DrapedEdgeSnappingCandidate.js\";import{EdgeSnappingCandidate as a}from\"../candidates/EdgeSnappingCandidate.js\";import{VertexSnappingCandidate as d}from\"../candidates/VertexSnappingCandidate.js\";function o({x:e,y:r,z:a}){return n(t(e,r,a??0))}function i(e,t){switch(e.type){case\"edge\":return e.draped?new r({edgeStart:o(e.start),edgeEnd:o(e.end),targetPoint:o(e.target),objectId:e.objectId,getGroundElevation:t}):new a({edgeStart:o(e.start),edgeEnd:o(e.end),targetPoint:o(e.target),objectId:e.objectId,isDraped:!1});case\"vertex\":return new d({targetPoint:o(e.target),objectId:e.objectId,isDraped:!1})}}function p(t){return e(t)&&\"3d\"===t.type?(e,n,r)=>t.elevationProvider.getElevation(e,n,r??0,t.spatialReference,\"ground\"):()=>null}export{i as convertSnappingCandidate,p as makeGetGroundElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{k as t}from\"../../../../chunks/vec3.js\";import{SnappingHint as s}from\"./SnappingHint.js\";class n extends s{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&t(this.point,s.point)}}export{n as PointSnappingHint};\n"],"names":["r","n","constraint","t","targetPoint","get","i","this","isDraped","domain","w","e","view","_layerView3D","layerSource","updating","layer","type","v","o","a","whenLayerView","elevationAlignPointsInFeatures","elevationInfo","alignPointsInFeatures","spatialReference","S","f","_symbologySnappingSupported","queryForSymbologySnapping","candidates","symbologySnappingSupported","then","addHandles","elevationProvider","on","context","g","_snappingElevationAligner","notifyElevationSourceChange","s","p","processor","renderer","_symbologySnappingFetcher","notifySymbologyChange","l","source","querySnapping","u","h","signal","alignCandidates","fetch","y","c","length","_snappingElevationFilter","filter","d","_getGroundElevation","map","m","constructOnly","prototype","x","z","draped","edgeStart","start","edgeEnd","end","target","objectId","getGroundElevation","getElevation","point"],"sourceRoot":""}