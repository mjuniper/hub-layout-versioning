{"version":3,"file":"static/js/62358.83a84f57.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js","../node_modules/@arcgis/core/views/layers/ImageryLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as l}from\"../../engine/BitmapContainer.js\";import{Container as c}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import m from\"../support/ExportStrategy.js\";let d=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new c,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new l}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(e){this.strategy.update(e).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}hitTest(e){return new t({attributes:{},geometry:e.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new m({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async e=>{const{source:t}=e;if(!t||t instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:t.extent,pixelBlock:t.originalPixelBlock??t.pixelBlock});t.filter=e=>this.layer.pixelFilter?this.layer.applyFilter(e):{...i,extent:t.extent}})).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.bitmaps;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,i=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),r=n(i,t);return s(r)?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(e,t,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(e,t,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new h(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=e=>this.layer.applyFilter(e),o}};e([o()],d.prototype,\"attached\",void 0),e([o()],d.prototype,\"container\",void 0),e([o()],d.prototype,\"layer\",void 0),e([o()],d.prototype,\"strategy\",void 0),e([o()],d.prototype,\"timeExtent\",void 0),e([o()],d.prototype,\"view\",void 0),e([o()],d.prototype,\"updateRequested\",void 0),e([o()],d.prototype,\"updating\",null),e([o()],d.prototype,\"type\",void 0),d=e([p(\"esri.views.2d.layers.imagery.ImageryView2D\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{debounce as s,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as c}from\"../../engine/imagery/RasterVFDisplayObject.js\";let p=class extends t{constructor(e){super(e),this._loading=null,this.update=s(((e,t)=>this._update(e,t).catch((e=>{o(e)||r.getLogger(this.declaredClass).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new l({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,n]=e.state.size;this._loading=this.fetchPixels(o,a,n,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(i(e.pixelBlock))return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:s,pixelBlock:o}=e,a=new c(o);a.offset=[0,0],a.symbolizerParameters=t,a.rawPixelData=e,a.invalidateVAO(),a.x=s.xmin,a.y=s.ymax,a.pixelRatio=r.pixelRatio,a.rotation=r.rotation,a.resolution=r.resolution,a.width=o.width*t.symbolTileSize,a.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(a)}};e([a()],p.prototype,\"fetchPixels\",void 0),e([a()],p.prototype,\"container\",void 0),e([a()],p.prototype,\"_loading\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{isSome as s,isNone as a,unwrap as o}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Extent.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as d}from\"../../engine/imagery/RasterVFContainer.js\";import x from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new d,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const n=await this._projectFullExtentPromise,{symbolTileSize:l}=this.layer.renderer,{extent:m,width:c,height:p}=y(t,e,r,l,n);if(s(n)&&!n.intersects(t))return{extent:m,pixelBlock:null};const h={bbox:`${m.xmin}, ${m.ymin}, ${m.xmax}, ${m.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:l,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(h)){const t=this.getPixelData();if(s(t)){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===h.bbox)return t}}const{pixelData:d}=await this.layer.fetchImage(m,c,p,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=h;const x=d?.pixelBlock;if(a(x))return{extent:m,pixelBlock:null};return{extent:m,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?o(u(x,\"vector-uv\")):x}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new x({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add(n((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),l),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.handles.remove(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams)}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return await h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:t.wkid||JSON.stringify(t.toJSON()),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?p.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([m()],f.prototype,\"attached\",void 0),t([m()],f.prototype,\"container\",void 0),t([m()],f.prototype,\"layer\",void 0),t([m()],f.prototype,\"timeExtent\",void 0),t([m()],f.prototype,\"type\",void 0),t([m()],f.prototype,\"view\",void 0),t([m()],f.prototype,\"updating\",null),f=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{watch as r,syncAndInitial as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import p from\"./graphics/HighlightGraphicContainer.js\";import u from\"./imagery/ImageryView2D.js\";import d from\"./imagery/VectorFieldView2D.js\";import m from\"../../layers/ImageryLayerView.js\";import y from\"../../layers/LayerView.js\";import v from\"../../layers/RefreshableLayerView.js\";let g=class extends(m(v(c(y)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new p(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([r((()=>this.layer.blendMode??\"normal\"),(e=>this.subview&&(this.subview.container.blendMode=e)),s),r((()=>this.layer.effect??null),(e=>this.subview&&(this.subview.container.effect=e)),s),r((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),r((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),r((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:i.isCollection(e)?e.getItemAt(0):e)instanceof t))return{remove:()=>{}};let s=[];return Array.isArray(e)||i.isCollection(e)?s=e.map((e=>e.clone())):e instanceof t&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===e?t=\"imageryVF\":\"flow\"===e&&(t=\"flow\"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===t?new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===t?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],g.prototype,\"pixelData\",null),e([h()],g.prototype,\"subview\",void 0),g=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],g);const b=g;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/Error.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n"],"names":["d","arguments","attached","container","c","updateRequested","type","_bitmapView","l","this","detach","get","isUpdating","e","strategy","update","catch","a","r","declaredClass","error","t","attributes","geometry","clone","layer","addChild","version","imageMaxHeight","i","imageMaxWidth","m","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","destroy","removeAllChildren","updateExports","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","view","updating","bitmaps","length","map","intersects","n","s","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","signal","o","h","prototype","u","p","symbolTypes","registerRenderPass","name","brushes","target","children","drawPhase","visible","forEach","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","state","spatialReference","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","pixelRatio","rotation","resolution","width","symbolTileSize","height","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","getPixelData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","handles","add","_updateSymbolizerParams","remove","_symbolizerParams","redraw","fullExtent","url","query","option","outSR","wkid","toJSON","data","featureCollection","layers","layerDefinition","symbolizer","generateWebGLParameters","g","_exportImageVersion","_highlightGraphics","_highlightView","subview","graphic","hitTest","mapPoint","increaseRasterJobHandlerUsage","_setSubView","w","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","blendMode","effect","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","Array","isArray","getItemAt","addMany","removeMany","_attachSubview","format","layerView","attach","addChildAt","removeChild","v","b","attributeView","some","hasData","bindTextures","context","painter","effects","highlight","setColorMask","clear","_renderChildren","defines","concat","draw","unbind","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","layerOptions","returnTopmostRaster","showNoDataRecords","R","returnDomainValues","pixelSize","queryVisibleRasters","then","isEmpty"],"sourceRoot":""}