{"version":3,"file":"static/js/48506.70beecac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/maybeUpdating.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/I3SIndexInfo.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t&&t.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));const d=c;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import o from\"../../core/Error.js\";import{isSome as r}from\"../../core/maybe.js\";async function n(n,t,s,a,i,d){let l=null;if(r(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:\"page\",rootPage:(await e(t,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){r(i)&&i.warn(\"#fetchIndexInfo()\",\"Failed to load root node page. Falling back to node documents.\",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split(\"/\").pop());try{return{type:\"node\",rootNode:(await e(c,{query:{f:\"json\",token:a},responseType:\"json\",signal:d})).data,urlPrefix:p}}catch(f){throw new o(\"sceneservice:root-node-missing\",\"Root node missing.\",{pageError:l,nodeError:f,url:c})}}export{n as fetchIndexInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{d as r}from\"../../../../chunks/vec4f64.js\";import{createMaterialFromEdges as o}from\"../support/edgeUtils.js\";import{ColorMixModeEnum as a}from\"../support/symbolColorUtils.js\";var l;!function(e){e[e.Solid=0]=\"Solid\",e[e.WireFrame=1]=\"WireFrame\",e[e.XRay=2]=\"XRay\"}(l||(l={}));const t=.15,i=.5*t;function c(e){switch(e.filterMode.type){case\"solid\":return{mode:l.Solid};case\"wire-frame\":return{mode:l.WireFrame,edgeMaterial:o(e.filterMode.edges,{})};case\"x-ray\":return{mode:l.XRay}}}function s(r,o){if(e(o))return r.color[3]=0,r.edgeMaterial=null,void(r.pickable=!1);switch(o.mode){case l.Solid:return;case l.WireFrame:return r.color[3]=0,r.edgeMaterial=o.edgeMaterial,void(r.pickable=!1);case l.XRay:return r.color[0]=1,r.color[1]=1,r.color[2]=1,r.color[3]*=t,r.colorMixMode=a.Replace,r.castShadows=!1,r.pickable=!1,void(r.edgeMaterial=d(r.edgeMaterial))}}function d(r){return e(r)?null:(u.lastMaterial!==r&&(u.cachedMaterial=n(r),u.lastMaterial=r),u.cachedMaterial)}function n(e){const o=r(e.color);return o[3]*=i,{...e,color:o}}const u={cachedMaterial:null,lastMaterial:null};export{l as FilterModeEnum,s as applyFilterMode,c as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Evented.js\";import{HandleOwnerMixin as t}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const l=(l,n)=>{let u=class extends(i(t(s(r.EventedMixin(l))))){constructor(e){super(e),this.sublayer=null,this.parent=null,this.view=null}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.get(\"sublayer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([o()],u.prototype,\"sublayer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"visible\",null),e([o()],u.prototype,\"fullOpacity\",null),u=e([p(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{l as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{isSome as s,isNone as l}from\"../../../core/maybe.js\";import{initial as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as u}from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import d from\"../../../layers/support/FeatureFilter.js\";import{fixFields as p,unpackFieldNames as h,populateMissingFields as y}from\"../../../layers/support/fieldUtils.js\";import c from\"../../../rest/support/Query.js\";import{BuildingSublayerView3DMixin as f}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as g}from\"./I3SMeshView3D.js\";import{ForAllFeaturesVisibilityMode as m}from\"./II3SMeshView3D.js\";import{applyFilterMode as b}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as F}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as _}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as E}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as w}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as x}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as S,getIndexCrs as j}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as I}from\"./support/DefinitionExpressionSceneLayerView.js\";import v from\"../../layers/BuildingComponentSublayerView.js\";import{getRequiredFields as Q,getFetchPopupTemplate as q}from\"../../layers/support/popupUtils.js\";import{TaskPriority as L}from\"../../support/Scheduler.js\";let R=class extends(I(g(f(v)))){constructor(){super(...arguments),this.type=\"building-component-sublayer-3d\",this.layerView=null,this._elevationContext=\"scene\",this._isIntegratedMesh=!1,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerUid(){return this.sublayer.layer.uid}get sublayerUid(){return this.sublayer.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabled(){return this.sublayer.popupEnabled}initialize(){this.updatingHandles.add((()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields]),(()=>this._updateRequiredFields())),this.updatingHandles.add((()=>this.sublayer.renderer),(e=>this._rendererChange(e)),a);const e=()=>this._filterChange();this.updatingHandles.add((()=>this.parsedDefinitionExpression),e),this.updatingHandles.add((()=>s(this._filter)?this._filter.sortedObjectIds:null),e),this.updatingHandles.add((()=>s(this._filter)?this._filter.parsedWhereClause:null),e),this.updatingHandles.add((()=>[s(this._filter)?this._filter.parsedGeometry:null,s(this.filter)?this.filter.spatialRelationship:null]),(()=>this._geometryFilterChange())),this.updatingHandles.add((()=>this.parsedFilterExpressions),(()=>this._updateSymbologyOverride()),a),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"!==this.sublayer.modelName&&this.layerView?this.layerView.filterExpressions.map((([e,r])=>{let t;try{t=u.create(e,this.sublayer.fieldsIndex)}catch(a){return i.getLogger(this.declaredClass).error(\"Failed to parse filterExpression: \"+a),null}if(!t.isStandardized)return i.getLogger(this.declaredClass).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return S(l,this.sublayer.fields,{missingFields:s}),s.length>0?(i.getLogger(this.declaredClass).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]})).filter((e=>null!=e)):[]}get filter(){return s(this._filter)?this._filter.viewFilter:null}set filter(e){!l(e)&&_.checkSupport(e)?s(this._filter)?this._filter.viewFilter=e:this._filter=new _({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError)}):this._filter=null}isUpdating(){return super.isUpdating()||s(this._filter)&&this._filter.updating}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride(((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return b(t,l)}catch(i){this.logError(i)}return b(t,null)}),this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return p(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce(((e,[r])=>e.concat(r.fieldNames)),new Array))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...h(r,i),...t]}return p(r,t)}_createLayerGraphic(e){const t=new r(null,null,e);return t.layer=this.sublayer.layer,t.sourceLayer=this.sublayer,t}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeatures(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(l(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const a=[],n=[],o=s(this.sublayer.associatedLayer)?await this.sublayer.associatedLayer.load():this.sublayer,u=h(this.sublayer.fieldsIndex,await Q(o,q(this.sublayer,r))),d=new Set;for(const i of r.clientGraphics)y(u,i,d)?n.push(i):a.push(i);return 0===n.length?a:(s(this.sublayer.associatedLayer)&&await this.sublayer.associatedLayer.load().catch((()=>i.getLogger(this.declaredClass).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\"))),this.whenGraphicAttributes(n,Array.from(d)).catch((()=>n)).then((e=>a.concat(e))))}async _updateRequiredFields(){const e=p(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields||[],...this.filterExpressionFields||[]]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?q(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),s(this._filter)&&this._filter.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return s(this.filter)?this.filter.createQuery(e):new c(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then((e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer;for(const i of e.features)i.layer=t,i.sourceLayer=r;return e}))}queryObjectIds(e,r){return this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)}_ensureQueryEngine(){return l(this._queryEngine)&&(this._queryEngine=this._createQueryEngine()),this._queryEngine}_createQueryEngine(){const e=F(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new E({layerView:this,priority:L.FEATURE_QUERY_ENGINE,spatialIndex:new x({featureAdapter:new w({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures(((r,t,i)=>e({id:r,index:t,meta:i})),r,m.ALL_IN_CLIPPING_AREA),getFeatureExtent:e,sourceSpatialReference:j(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(l(e)?this.createQuery():c.from(e))}};e([n()],R.prototype,\"i3slayer\",null),e([n()],R.prototype,\"layerView\",void 0),e([n()],R.prototype,\"lodFactor\",null),e([n({readOnly:!0})],R.prototype,\"parsedFilterExpressions\",null),e([n({type:d})],R.prototype,\"filter\",null),e([n()],R.prototype,\"_filter\",void 0),e([n({type:[String],readOnly:!0})],R.prototype,\"filterExpressionFields\",null),e([n({type:[String],readOnly:!0})],R.prototype,\"requiredFields\",void 0),e([n({type:[String],readOnly:!0})],R.prototype,\"availableFields\",null),R=e([o(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],R);const C=R;export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class s extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r){throw new Error(\"Not implemented\")}}r([o()],s.prototype,\"layer\",void 0),r([o()],s.prototype,\"sublayerViews\",void 0);export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import s from\"../../../core/Accessor.js\";import{groupToMap as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import{handlesGroup as o}from\"../../../core/handleUtils.js\";import n from\"../../../core/Logger.js\";import{abortMaybe as l,isNone as a,isSome as u}from\"../../../core/maybe.js\";import{isAbortError as p,eachAlwaysValues as h,createResolver as c}from\"../../../core/promiseUtils.js\";import{watch as y,syncAndInitial as d}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as f}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import m from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as b}from\"./BuildingSublayerView3D.js\";import{LayerView3D as w}from\"./LayerView3D.js\";import{parseFilterMode as V}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as j}from\"./i3s/I3SUtil.js\";import{updatingProgress as _}from\"../support/updatingProperties.js\";import C from\"../../layers/BuildingSceneLayerView.js\";const S=b(s);let B=class extends(w(C)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null,s=null!=r?r.filterBlocks?.find((e=>\"solid\"===e.filterMode.type)):null;return s?s.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find((r=>r.id===e)):null;return r&&r.filterBlocks?r.filterBlocks.toArray().map((e=>[e.filterExpression??\"\",V(e)])):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce(((e,r)=>e+r.updatingProgress),0)/r}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some((e=>e.updating))}initialize(){j(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSubLayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach((e=>e.destroy())),this.sublayerViews=null),this._abortController=l(this._abortController)}_initializeSubLayerViews(e,r){const s=this,t=this.view;e.forEach((e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const s=new S({sublayer:e,view:t,parent:r});this._initializeSubLayerViews(e.sublayers,s)}else\"mesh\"===e.geometryType&&(this._loadingComponents++,e.load({signal:this._abortController.signal}).then((()=>{const i=new m({sublayer:e,layerView:s,view:t,parent:r});this.sublayerViews.push(i);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(i);this._pendingWhenSublayerViews.delete(e)}this.handles.add([y((()=>i.updating),(()=>this.notifyChange(\"updating\")),d),y((()=>i.updatingProgress),(()=>this.notifyChange(\"updatingProgressValue\")),d)])})).catch((r=>{p(r)||n.getLogger(this.declaredClass).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r)})).then((()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})))}))}getGraphicFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getGraphicFromIntersectorTarget(e);return null}async fetchPopupFeatures(e,r){if(a(r)||!r.clientGraphics||0===r.clientGraphics.length)return[];const s=t(r.clientGraphics,(e=>e.sourceLayer)),i=[];for(const[t,o]of s){const s=this._findComponent(t);u(s)&&i.push(s.fetchPopupFeatures(e,{...r,clientGraphics:o}))}return h(i).then((e=>e.flat()))}whenGraphicBounds(e){const r=this._findComponent(e.sourceLayer);return a(r)?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.uid===e.sublayerUid)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(u(r))return r;const s=this._pendingWhenSublayerViews.get(e),t=c();return s?s.push(t):this._pendingWhenSublayerViews.set(e,[t]),t.promise}_findComponent(e){return this.sublayerViews.find((r=>e===r.sublayer))}highlight(e){e instanceof r?e=[e]:e instanceof i&&(e=e.toArray());const s=[];if(Array.isArray(e)&&e.length>0&&e[0]instanceof r){const r=e,t=new Map;for(const e of r){let r=t.get(e.sourceLayer);null==r&&(r=[],t.set(e.sourceLayer,r)),r.push(e)}this.sublayerViews.forEach((e=>{const r=t.get(e.sublayer);r&&s.push(e.highlight(r))}))}return o(s)}getUsedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUsedMemory()),0)}getUnloadedMemory(){return this.sublayerViews.reduce(((e,r)=>e+r.getUnloadedMemory()),0)}ignoresMemoryFactor(){return!1}};e([g()],B.prototype,\"sublayerViews\",void 0),e([g({readOnly:!0})],B.prototype,\"filterExpression\",null),e([g({readOnly:!0})],B.prototype,\"filterExpressions\",null),e([g(_)],B.prototype,\"updatingProgress\",void 0),e([g({readOnly:!0,dependsOn:[]})],B.prototype,\"updatingProgressValue\",null),B=e([f(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],B);const v=B;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WhereClause as o}from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let a=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this.declaredClass).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this.declaredClass).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer||!this.i3slayer.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,this.i3slayer.fieldsIndex);if(!r.isStandardized)return e.getLogger(this.declaredClass).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this.declaredClass).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this.declaredClass).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i()],a.prototype,\"i3slayer\",void 0),r([i({readOnly:!0})],a.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],a.prototype,\"definitionExpressionFields\",null),a=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],a),a};export{t as DefinitionExpressionSceneLayerView};\n"],"names":["n","t","u","a","l","type","e","readOnly","json","origins","service","read","source","reader","p","r","o","Array","isArray","map","layerType","c","y","messages","push","s","definition","context","listMode","sublayers","this","forEachSublayer","write","prototype","i","sublayersProperty","readSublayers","forEach","d","Math","floor","rootIndex","nodesPerPage","query","f","token","responseType","signal","data","lodSelectionMetricType","rootPage","pageSize","lodMetric","urlPrefix","warn","split","pop","rootNode","pageError","nodeError","url","sublayer","parent","view","get","canResume","suspended","isUpdating","visible","set","_overrideIfSome","ready","Boolean","Solid","WireFrame","XRay","filterMode","mode","edgeMaterial","edges","color","pickable","colorMixMode","castShadows","lastMaterial","cachedMaterial","arguments","Error","R","layerView","_elevationContext","_isIntegratedMesh","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","layer","uid","id","popupEnabled","updatingHandles","add","renderer","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_filter","sortedObjectIds","parsedWhereClause","parsedGeometry","filter","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","addResolvingPromise","qualitySettings","sceneService","object","lodFactor","modelName","filterExpressions","fieldsIndex","declaredClass","error","isStandardized","fieldNames","S","fields","missingFields","length","join","viewFilter","_","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","updating","_setSymbologyOverride","testFeature","b","reduce","concat","outFields","h","sourceLayer","_controller","rootNodeVisible","_validateFetchPopupFeatures","clientGraphics","associatedLayer","load","Q","q","Set","catch","whenGraphicAttributes","from","then","getRequiredFields","_set","addFilters","crsIndex","_collection","returnGeometry","outSpatialReference","spatialReference","createQuery","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","features","executeQueryForIds","_createQueryEngine","F","renderSpatialReference","E","priority","L","spatialIndex","x","featureAdapter","w","objectIdField","attributeStorageInfo","getFeatureExtent","forAllFeatures","_forAllFeatures","index","meta","m","sourceSpatialReference","j","viewSpatialReference","_addDefinitionExpressionToQuery","I","g","v","String","C","sublayerViews","B","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","Map","activeFilterId","filters","find","filterBlocks","filterExpression","toArray","V","updatingProgress","some","viewingMode","_initializeSubLayerViews","destroy","isEmpty","geometryType","resolve","delete","handles","notifyChange","items","sublayerUid","getGraphicFromIntersectorTarget","_findComponent","fetchPopupFeatures","flat","Promise","reject","whenGraphicBounds","getAABBFromIntersectorTarget","promise","highlight","getUsedMemory","getUnloadedMemory","dependsOn","_definitionExpressionErrors","_maxDefinitionExpressionErrors","i3slayer","definitionExpression","clone","where"],"sourceRoot":""}