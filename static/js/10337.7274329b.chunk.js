"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[10337,99086],{40743:function(e,t,r){r.d(t,{Z:function(){return _e}});var n,i=r(15671),o=r(43144),a=r(60136),s=r(92572),u=r(27366),l=r(46784),p=r(84652),d=r(49861),c=r(89125),y=r(38511),v=r(69912),f=r(31201),h=r(25243),b=(r(63780),n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).expression=null,n.name=null,n.returnType="boolean",n.title=null,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new n({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}}]),r}(l.wq));(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],b.prototype,"expression",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],b.prototype,"name",void 0),(0,u._)([(0,d.Cb)({type:["boolean","date","number","string"],json:{write:!0}})],b.prototype,"returnType",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],b.prototype,"title",void 0);var m=b=n=(0,u._)([(0,v.j)("esri.form.ExpressionInfo")],b),w=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).description=null,n.label=null,n.type=null,n.visibilityExpression=null,n}return(0,o.Z)(r)}(l.wq);(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,u._)([(0,d.Cb)()],w.prototype,"type",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],w.prototype,"visibilityExpression",void 0);var g,Z=w=(0,u._)([(0,v.j)("esri.form.elements.Element")],w),_=g=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type=null,n}return(0,o.Z)(r,[{key:"clone",value:function(){return new g({type:this.type})}}]),r}(l.wq);(0,u._)([(0,d.Cb)({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],_.prototype,"type",void 0);var x,C=_=g=(0,u._)([(0,v.j)("esri.form.elements.inputs.AttachmentInput")],_),j=x=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).attachmentKeyword=null,n.editable=!0,n.input=null,n.type="attachment",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new x({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}(Z);(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],j.prototype,"attachmentKeyword",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],j.prototype,"editable",void 0),(0,u._)([(0,d.Cb)({type:C,json:{read:{source:"inputType"},write:{target:"inputType"}}})],j.prototype,"input",void 0),(0,u._)([(0,d.Cb)({type:["attachment"],json:{read:!1,write:!0}})],j.prototype,"type",void 0);var I=j=x=(0,u._)([(0,v.j)("esri.form.elements.AttachmentElement")],j),k=r(44927),F=r(32718),S=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type=null,n}return(0,o.Z)(r)}(l.wq);(0,u._)([(0,d.Cb)()],S.prototype,"type",void 0);var E=S=(0,u._)([(0,v.j)("esri.form.elements.inputs.Input")],S),M=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).maxLength=null,n.minLength=0,n}return(0,o.Z)(r)}(E);(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],M.prototype,"maxLength",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],M.prototype,"minLength",void 0);var O,T=M=(0,u._)([(0,v.j)("esri.form.elements.inputs.TextInput")],M),R=O=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="barcode-scanner",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new O({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(T);(0,u._)([(0,d.Cb)({type:["barcode-scanner"],json:{read:!1,write:!0}})],R.prototype,"type",void 0);var V,A=R=O=(0,u._)([(0,v.j)("esri.form.elements.inputs.BarcodeScannerInput")],R),L=V=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!0,n.type="combo-box",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new V({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}}]),r}(E);(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],L.prototype,"noValueOptionLabel",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],L.prototype,"showNoValueOption",void 0),(0,u._)([(0,d.Cb)({type:["combo-box"],json:{read:!1,write:!0}})],L.prototype,"type",void 0);var q,U=L=V=(0,u._)([(0,v.j)("esri.form.elements.inputs.ComboBoxInput")],L);function D(e){return null!=e?new Date(e):null}function N(e){return e?e.getTime():null}var P=q=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).includeTime=!1,n.max=null,n.min=null,n.type="datetime-picker",n}return(0,o.Z)(r,[{key:"readMax",value:function(e,t){return D(t.max)}},{key:"writeMax",value:function(e,t){t.max=N(e)}},{key:"readMin",value:function(e,t){return D(t.min)}},{key:"writeMin",value:function(e,t){t.min=N(e)}},{key:"clone",value:function(){return new q({includeTime:this.includeTime,max:this.max,min:this.min})}}]),r}(E);(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],P.prototype,"includeTime",void 0),(0,u._)([(0,d.Cb)({type:Date,json:{type:Number,write:!0}})],P.prototype,"max",void 0),(0,u._)([(0,y.r)("max")],P.prototype,"readMax",null),(0,u._)([(0,f.c)("max")],P.prototype,"writeMax",null),(0,u._)([(0,d.Cb)({type:Date,json:{type:Number,write:!0}})],P.prototype,"min",void 0),(0,u._)([(0,y.r)("min")],P.prototype,"readMin",null),(0,u._)([(0,f.c)("min")],P.prototype,"writeMin",null),(0,u._)([(0,d.Cb)({type:["datetime-picker"],json:{read:!1,write:!0}})],P.prototype,"type",void 0);var B,G=P=q=(0,u._)([(0,v.j)("esri.form.elements.inputs.DateTimePickerInput")],P),H=B=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).noValueOptionLabel=null,n.showNoValueOption=!0,n.type="radio-buttons",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new B({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}}]),r}(E);(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],H.prototype,"noValueOptionLabel",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],H.prototype,"showNoValueOption",void 0),(0,u._)([(0,d.Cb)({type:["radio-buttons"],json:{read:!1,write:!0}})],H.prototype,"type",void 0);var J,Q=H=B=(0,u._)([(0,v.j)("esri.form.elements.inputs.RadioButtonsInput")],H),W=J=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).offValue=null,n.onValue=null,n.type="switch",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new J({offValue:this.offValue,onValue:this.onValue})}}]),r}(E);(0,u._)([(0,d.Cb)({type:[String,Number],json:{write:!0}})],W.prototype,"offValue",void 0),(0,u._)([(0,d.Cb)({type:[String,Number],json:{write:!0}})],W.prototype,"onValue",void 0),(0,u._)([(0,d.Cb)({type:["switch"],json:{read:!1,write:!0}})],W.prototype,"type",void 0);var z,K=W=J=(0,u._)([(0,v.j)("esri.form.elements.inputs.SwitchInput")],W),X=z=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="text-area",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new z({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(T);(0,u._)([(0,d.Cb)({type:["text-area"],json:{read:!1,write:!0}})],X.prototype,"type",void 0);var Y,$=X=z=(0,u._)([(0,v.j)("esri.form.elements.inputs.TextAreaInput")],X),ee=Y=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).type="text-box",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new Y({maxLength:this.maxLength,minLength:this.minLength})}}]),r}(T);(0,u._)([(0,d.Cb)({type:["text-box"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0);var te,re={base:E,key:"type",typeMap:{"barcode-scanner":A,"combo-box":U,"datetime-picker":G,"radio-buttons":Q,switch:K,"text-area":$,"text-box":ee=Y=(0,u._)([(0,v.j)("esri.form.elements.inputs.TextBoxInput")],ee)}},ne=r(67755),ie="esri.form.elements.FieldElement",oe=F.Z.getLogger(ie),ae=te=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).domain=null,n.editableExpression=null,n.fieldName=null,n.hint=null,n.input=null,n.requiredExpression=null,n.type="field",n.valueExpression=null,n}return(0,o.Z)(r,[{key:"editable",get:function(){var e;return(0,k.Mr)(oe,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),null===(e=this._get("editable"))||void 0===e||e},set:function(e){(0,k.Mr)(oe,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",e)}},{key:"clone",value:function(){return new te({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}}]),r}(Z);(0,u._)([(0,d.Cb)({types:ne.V5,json:{read:{reader:ne.im},write:!0}})],ae.prototype,"domain",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],ae.prototype,"editable",null),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],ae.prototype,"editableExpression",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],ae.prototype,"fieldName",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],ae.prototype,"hint",void 0),(0,u._)([(0,d.Cb)({types:re,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ae.prototype,"input",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],ae.prototype,"requiredExpression",void 0),(0,u._)([(0,d.Cb)({type:String,json:{read:!1,write:!0}})],ae.prototype,"type",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],ae.prototype,"valueExpression",void 0);var se,ue=ae=te=(0,u._)([(0,v.j)(ie)],ae),le=r(28914),pe=se=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).displayCount=null,n.displayType="list",n.editable=!0,n.orderByFields=null,n.relationshipId=null,n.type="relationship",n}return(0,o.Z)(r,[{key:"clone",value:function(){return new se({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:(0,p.d9)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}}]),r}(Z);(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],pe.prototype,"displayCount",void 0),(0,u._)([(0,d.Cb)({type:["list"],json:{write:!0}})],pe.prototype,"displayType",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],pe.prototype,"editable",void 0),(0,u._)([(0,d.Cb)({type:[le.Z],json:{write:!0}})],pe.prototype,"orderByFields",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],pe.prototype,"relationshipId",void 0),(0,u._)([(0,d.Cb)({type:["relationship"],json:{read:!1,write:!0}})],pe.prototype,"type",void 0);var de,ce=pe=se=(0,u._)([(0,v.j)("esri.form.elements.RelationshipElement")],pe);function ye(e){return{typesWithGroup:{base:Z,key:"type",typeMap:{attachment:I,field:ue,group:e,relationship:ce}},typesWithoutGroup:{base:Z,key:"type",typeMap:{attachment:I,field:ue,relationship:ce}}}}function ve(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return n[e.type].fromJSON(e)}))}function fe(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;var n=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((function(e){return n[e.type]})).map((function(e){return e.toJSON()}))}function he(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?e.map((function(e){return(0,h.N7)(r?t.typesWithGroup:t.typesWithoutGroup,e)})):null}var be=de=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).elements=null,n.initialState="expanded",n.type="group",n}return(0,o.Z)(r,[{key:"castElements",value:function(e){return he(e,we,!1)}},{key:"readElements",value:function(e,t){return ve(t.formElements,we,!1)}},{key:"writeElements",value:function(e,t){t.formElements=fe(e,we,!1)}},{key:"clone",value:function(){return new de({description:this.description,elements:(0,p.d9)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}}]),r}(Z);(0,u._)([(0,d.Cb)({json:{write:!0}})],be.prototype,"elements",void 0),(0,u._)([(0,c.p)("elements")],be.prototype,"castElements",null),(0,u._)([(0,y.r)("elements",["formElements"])],be.prototype,"readElements",null),(0,u._)([(0,f.c)("elements")],be.prototype,"writeElements",null),(0,u._)([(0,d.Cb)({type:["collapsed","expanded"],json:{write:!0}})],be.prototype,"initialState",void 0),(0,u._)([(0,d.Cb)({type:String,json:{read:!1,write:!0}})],be.prototype,"type",void 0);var me,we=ye(be=de=(0,u._)([(0,v.j)("esri.form.elements.GroupElement")],be)),ge=ye(be),Ze=me=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).description=null,n.elements=null,n.expressionInfos=null,n.preserveFieldValuesWhenHidden=!1,n.title=null,n}return(0,o.Z)(r,[{key:"castElements",value:function(e){return he(e,ge)}},{key:"readElements",value:function(e,t){return ve(t.formElements,ge)}},{key:"writeElements",value:function(e,t){t.formElements=fe(e,ge)}},{key:"clone",value:function(){return new me({description:this.description,expressionInfos:(0,p.d9)(this.expressionInfos),elements:(0,p.d9)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}}]),r}(l.wq);(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],Ze.prototype,"description",void 0),(0,u._)([(0,d.Cb)({json:{write:!0}})],Ze.prototype,"elements",void 0),(0,u._)([(0,c.p)("elements")],Ze.prototype,"castElements",null),(0,u._)([(0,y.r)("elements",["formElements"])],Ze.prototype,"readElements",null),(0,u._)([(0,f.c)("elements")],Ze.prototype,"writeElements",null),(0,u._)([(0,d.Cb)({type:[m],json:{write:!0}})],Ze.prototype,"expressionInfos",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{default:!1,write:!0}})],Ze.prototype,"preserveFieldValuesWhenHidden",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],Ze.prototype,"title",void 0);var _e=Ze=me=(0,u._)([(0,v.j)("esri.form.FormTemplate")],Ze)},90724:function(e,t,r){r.d(t,{Z:function(){return I}});var n,i=r(1413),o=r(15671),a=r(43144),s=r(11752),u=r(61120),l=r(60136),p=r(92572),d=r(27366),c=r(63780),y=r(43404),v=r(46784),f=r(68860),h=r(51370),b=r(49861),m=(r(25243),r(38511)),w=r(69912),g=r(31201),Z=(0,y.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),_=Z.jsonValues.slice();(0,c.e$)(_,"orthometric");var x=(0,y.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),C=n=function(e){(0,l.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).heightModel="gravity-related-height",n.heightUnit="meters",n.vertCRS=null,n}return(0,a.Z)(r,[{key:"writeHeightModel",value:function(e,t,r){return Z.write(e,t,r)}},{key:"readHeightModel",value:function(e,t,r){return Z.read(e)||(r&&r.messages&&r.messages.push(function(e,t){return new h.Z("height-model:unsupported","Height model of value '".concat(e,"' is not supported"),t)}(e,{context:r})),null)}},{key:"readHeightUnit",value:function(e,t,r){return x.read(e)||(r&&r.messages&&r.messages.push(j(e,{context:r})),null)}},{key:"readHeightUnitService",value:function(e,t,r){return(0,f.$C)(e)||x.read(e)||(r&&r.messages&&r.messages.push(j(e,{context:r})),null)}},{key:"readVertCRS",value:function(e,t){return t.vertCRS||t.ellipsoid||t.geoid}},{key:"clone",value:function(){return new n({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}},{key:"equals",value:function(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}},{key:"write",value:function(e,t){return t=(0,i.Z)({origin:"web-scene"},t),(0,s.Z)((0,u.Z)(r.prototype),"write",this).call(this,e,t)}}],[{key:"deriveUnitFromSR",value:function(e,t){var r=(0,f.cM)(t);return new n({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}},{key:"fromJSON",value:function(e){if(!e)return null;var t=new n;return t.read(e,{origin:"web-scene"}),t}}]),r}(v.wq);function j(e,t){return new h.Z("height-unit:unsupported","Height unit of value '".concat(e,"' is not supported"),t)}(0,d._)([(0,b.Cb)({type:Z.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:_,default:"ellipsoidal"}}}})],C.prototype,"heightModel",void 0),(0,d._)([(0,g.c)("web-scene","heightModel")],C.prototype,"writeHeightModel",null),(0,d._)([(0,m.r)(["web-scene","service"],"heightModel")],C.prototype,"readHeightModel",null),(0,d._)([(0,b.Cb)({type:x.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:x.jsonValues,write:x.write}}}})],C.prototype,"heightUnit",void 0),(0,d._)([(0,m.r)("web-scene","heightUnit")],C.prototype,"readHeightUnit",null),(0,d._)([(0,m.r)("service","heightUnit")],C.prototype,"readHeightUnitService",null),(0,d._)([(0,b.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],C.prototype,"vertCRS",void 0),(0,d._)([(0,m.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],C.prototype,"readVertCRS",null);var I=C=n=(0,d._)([(0,w.j)("esri.geometry.HeightModelInfo")],C)},56601:function(e,t,r){r.d(t,{dU:function(){return c},lQ:function(){return f},o1:function(){return h}});var n=r(43144),i=r(15671),o=r(97326),a=r(60136),s=r(92572),u=r(27366),l=r(91505),p=r(84652),d=(r(32718),r(25243),r(10064),r(93169),r(69912)),c=new l.Z.EventEmitter,y="esri.layers.mixins.EditBusLayer",v=Symbol(y);function f(e){return null!=e&&"object"==typeof e&&v in e}var h=function(e){var t,r=function(e){(0,a.Z)(u,e);var r=(0,s.Z)(u);function u(){var e;(0,i.Z)(this,u);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=r.call.apply(r,[this].concat(a)))[t]=!0,e.when().then((function(){e.own([c.on("edits",(function(t){var r,n,i,a="layer"in t?t.layer:null,s="layer"in t?null===(r=t.layer)||void 0===r?void 0:r.url:t.serviceUrl,u="layer"in t?null===(n=t.layer)||void 0===n?void 0:n.layerId:t.layerId,l=t.event;if(a!==(0,o.Z)(e)&&s===e.url)if(null==u||null==e.layerId||u!==e.layerId){var d=null===(i=l.editedFeatures)||void 0===i?void 0:i.find((function(t){return t.layerId===e.layerId}));if(d){var c=d.editedFeatures,y=c.adds,v=c.updates,f=c.deletes,h={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:y?y.map((function(t){var r=t.attributes;return{objectId:e.objectIdField&&r[e.objectIdField],globalId:e.globalIdField&&r[e.globalIdField]}})):[],deletedFeatures:f?f.map((function(t){var r=t.attributes;return{objectId:e.objectIdField&&r[e.objectIdField],globalId:e.globalIdField&&r[e.globalIdField]}})):[],updatedFeatures:v?v.map((function(t){var r=t.current.attributes;return{objectId:e.objectIdField&&r[e.objectIdField],globalId:e.globalIdField&&r[e.globalIdField]}})):[],editedFeatures:(0,p.d9)(l.editedFeatures),exceededTransferLimit:!1};e.emit("edits",h)}}else e.emit("edits",(0,p.d9)(l))}))])}),(function(){})),e}return(0,n.Z)(u)}(e);return t=v,r=(0,u._)([(0,d.j)(y)],r),r}},32526:function(e,t,r){r.d(t,{B:function(){return L}});var n=r(15671),i=r(43144),o=r(60136),a=r(92572),s=r(27366),u=r(80987),l=r(84652),p=r(32718),d=r(49861),c=(r(25243),r(38511)),y=r(69912),v=r(31201),f=r(53866),h=r(90724),b=r(78952),m=r(25899),w=r(70361),g=r(11582),Z=r(46784),_=(r(63780),r(16354)),x=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).creatorField=null,i.creationDateField=null,i.editorField=null,i.editDateField=null,i.realm=null,i.dateFieldsTimeReference=null,i}return(0,i.Z)(r)}((0,g.J)(Z.wq));(0,s._)([(0,d.Cb)()],x.prototype,"creatorField",void 0),(0,s._)([(0,d.Cb)()],x.prototype,"creationDateField",void 0),(0,s._)([(0,d.Cb)()],x.prototype,"editorField",void 0),(0,s._)([(0,d.Cb)()],x.prototype,"editDateField",void 0),(0,s._)([(0,d.Cb)()],x.prototype,"realm",void 0),(0,s._)([(0,d.Cb)({type:_.Z})],x.prototype,"dateFieldsTimeReference",void 0);var C=x=(0,s._)([(0,y.j)("esri.layers.support.EditFieldsInfo")],x),j=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){return(0,n.Z)(this,r),t.call(this,e)}return(0,i.Z)(r)}((0,g.J)(Z.wq));(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"name",void 0),(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"fields",void 0),(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"isAscending",void 0),(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"indexType",void 0),(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"isUnique",void 0),(0,s._)([(0,d.Cb)({constructOnly:!0,json:{write:!0}})],j.prototype,"description",void 0),j=(0,s._)([(0,y.j)("esri.layers.support.FeatureIndex")],j);var I=r(62594),k=r(68860),F=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).shapeAreaField=null,i.shapeLengthField=null,i.units=null,i}return(0,i.Z)(r)}((0,g.J)(Z.wq));(0,s._)([(0,d.Cb)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],F.prototype,"shapeAreaField",void 0),(0,s._)([(0,d.Cb)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],F.prototype,"shapeLengthField",void 0),(0,s._)([(0,d.Cb)({type:String,json:{read:function(e){return k.gV.read(e)||k.Jo.read(e)}}})],F.prototype,"units",void 0);var S=F=(0,s._)([(0,y.j)("esri.layers.support.GeometryFieldsInfo")],F),E=r(71065),M=r(43404),O=new M.X({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),T=new M.X({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"}),R=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).cardinality=null,i.composite=null,i.id=null,i.keyField=null,i.keyFieldInRelationshipTable=null,i.name=null,i.relatedTableId=null,i.relationshipTableId=null,i.role=null,i}return(0,i.Z)(r)}((0,g.J)(Z.wq));(0,s._)([(0,d.Cb)({json:{read:O.read,write:O.write}})],R.prototype,"cardinality",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"composite",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"id",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"keyField",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"keyFieldInRelationshipTable",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"name",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"relatedTableId",void 0),(0,s._)([(0,d.Cb)({json:{read:!0,write:!0}})],R.prototype,"relationshipTableId",void 0),(0,s._)([(0,d.Cb)({json:{read:T.read,write:T.write}})],R.prototype,"role",void 0);var V=R=(0,s._)([(0,y.j)("esri.layers.support.Relationship")],R),A=r(94582),L=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,n.Z)(this,r),(e=t.apply(this,arguments)).capabilities=null,e.copyright=null,e.dateFieldsTimeReference=null,e.datesInUnknownTimezone=!1,e.displayField=null,e.definitionExpression=null,e.editFieldsInfo=null,e.editingInfo=null,e.elevationInfo=null,e.floorInfo=null,e.fullExtent=null,e.gdbVersion=null,e.geometryFieldsInfo=null,e.geometryType=null,e.hasM=void 0,e.hasZ=void 0,e.heightModelInfo=null,e.historicMoment=null,e.isTable=!1,e.layerId=void 0,e.minScale=0,e.maxScale=0,e.globalIdField=null,e.objectIdField=null,e.preferredTimeReference=null,e.relationships=null,e.sourceJSON=null,e.returnM=void 0,e.returnZ=void 0,e.serviceDefinitionExpression=null,e.serviceItemId=null,e.spatialReference=b.Z.WGS84,e.subtypeField=null,e.trackIdField=null,e.indexes=new(u.Z.ofType(j)),e.version=void 0,e}return(0,i.Z)(r,[{key:"readCapabilitiesFromService",value:function(e,t){return(0,A.h)(t,this.url)}},{key:"effectiveCapabilities",get:function(){var e,t=this.capabilities;if(!t)return null;var r=(0,l.d9)(t),n=r.operations,i=r.editing;return null!==(e=this.sourceJSON)&&void 0!==e&&e.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(n.supportsQuery=!0),r):this.userHasUpdateItemPrivileges?(n.supportsAdd=n.supportsDelete=n.supportsEditing=n.supportsQuery=n.supportsUpdate=i.supportsDeleteByOthers=i.supportsGeometryUpdate=i.supportsUpdateByOthers=!0,r):(this.userHasFullEditingPrivileges&&n.supportsEditing&&(n.supportsAdd=n.supportsDelete=n.supportsUpdate=i.supportsGeometryUpdate=!0),r)}},{key:"readEditingInfo",value:function(e,t){var r=t.editingInfo;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}},{key:"readIsTableFromService",value:function(e,t){return"Table"===t.type}},{key:"readMinScale",value:function(e,t){return t.effectiveMinScale||e||0}},{key:"readMaxScale",value:function(e,t){return t.effectiveMaxScale||e||0}},{key:"readGlobalIdFieldFromService",value:function(e,t){return(0,I.rk)(t)}},{key:"readObjectIdFieldFromService",value:function(e,t){return(0,I.kZ)(t)}},{key:"readServiceDefinitionExpression",value:function(e,t){return t.definitionQuery||t.definitionExpression}},{key:"url",set:function(e){var t=(0,m.XG)({layer:this,url:e,nonStandardUrlAllowed:!0,logger:p.Z.getLogger(this.declaredClass)});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}},{key:"writeUrl",value:function(e,t,r,n){(0,m.wH)(this,e,null,t,n)}},{key:"readVersion",value:function(e,t){return(0,I.JY)(t)}}]),r}(e);return(0,s._)([(0,d.Cb)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),(0,s._)([(0,c.r)("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"effectiveCapabilities",null),(0,s._)([(0,d.Cb)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),(0,s._)([(0,d.Cb)({type:_.Z})],t.prototype,"dateFieldsTimeReference",void 0),(0,s._)([(0,d.Cb)({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),(0,s._)([(0,d.Cb)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),(0,s._)([(0,d.Cb)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),(0,s._)([(0,d.Cb)({readOnly:!0,type:C})],t.prototype,"editFieldsInfo",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"editingInfo",void 0),(0,s._)([(0,c.r)("editingInfo")],t.prototype,"readEditingInfo",null),(0,s._)([(0,d.Cb)(function(){var e=(0,l.d9)(w.PV),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e}())],t.prototype,"elevationInfo",void 0),(0,s._)([(0,d.Cb)({type:E.Z,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],t.prototype,"floorInfo",void 0),(0,s._)([(0,d.Cb)({type:f.Z,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),(0,s._)([(0,d.Cb)()],t.prototype,"gdbVersion",void 0),(0,s._)([(0,d.Cb)({readOnly:!0,type:S,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),(0,s._)([(0,d.Cb)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:I.Fr.read}}}})],t.prototype,"geometryType",void 0),(0,s._)([(0,d.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),(0,s._)([(0,d.Cb)({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),(0,s._)([(0,d.Cb)({readOnly:!0,type:h.Z})],t.prototype,"heightModelInfo",void 0),(0,s._)([(0,d.Cb)({type:Date})],t.prototype,"historicMoment",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"isTable",void 0),(0,s._)([(0,c.r)("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),(0,s._)([(0,d.Cb)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),(0,s._)([(0,d.Cb)(w.rO)],t.prototype,"minScale",void 0),(0,s._)([(0,c.r)("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),(0,s._)([(0,d.Cb)(w.u1)],t.prototype,"maxScale",void 0),(0,s._)([(0,c.r)("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),(0,s._)([(0,d.Cb)({type:String})],t.prototype,"globalIdField",void 0),(0,s._)([(0,c.r)("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),(0,s._)([(0,d.Cb)({type:String})],t.prototype,"objectIdField",void 0),(0,s._)([(0,c.r)("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),(0,s._)([(0,d.Cb)({type:_.Z})],t.prototype,"preferredTimeReference",void 0),(0,s._)([(0,d.Cb)({type:[V],readOnly:!0})],t.prototype,"relationships",void 0),(0,s._)([(0,d.Cb)()],t.prototype,"sourceJSON",void 0),(0,s._)([(0,d.Cb)({type:Boolean})],t.prototype,"returnM",void 0),(0,s._)([(0,d.Cb)({type:Boolean})],t.prototype,"returnZ",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),(0,s._)([(0,c.r)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),(0,s._)([(0,d.Cb)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),(0,s._)([(0,d.Cb)({type:b.Z,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),(0,s._)([(0,d.Cb)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),(0,s._)([(0,d.Cb)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),(0,s._)([(0,d.Cb)({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),(0,s._)([(0,d.Cb)({type:u.Z.ofType(j),readOnly:!0})],t.prototype,"indexes",void 0),(0,s._)([(0,d.Cb)(w.HQ)],t.prototype,"url",null),(0,s._)([(0,v.c)("url")],t.prototype,"writeUrl",null),(0,s._)([(0,d.Cb)({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),(0,s._)([(0,c.r)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=(0,s._)([(0,y.j)("esri.layers.mixins.FeatureLayerBase")],t)}},62594:function(e,t,r){r.d(t,{C9:function(){return q},Ci:function(){return I},FV:function(){return C},Fr:function(){return h},JD:function(){return b},JY:function(){return H},Jj:function(){return _},KE:function(){return R},SU:function(){return F},VG:function(){return O},Y5:function(){return g},gG:function(){return D},kZ:function(){return G},kp:function(){return A},nU:function(){return K},rP:function(){return P},rk:function(){return B},sX:function(){return Y},tD:function(){return E}});var n=r(1413),i=r(74165),o=r(37762),a=r(15861),s=r(19545),u=r(10064),l=r(43404),p=r(92026),d=r(76672),c=r(37933),y=r(99837),v=r(21149),f=r(99086),h=new l.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function b(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return a=e.sent,e.next=5,w(t,r,o);case 5:if(a.addAttachment){e.next=7;break}throw new u.Z(o,"Layer source does not support addAttachment capability");case 7:return e.abrupt("return",a.addAttachment(r,n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){var n=t.attributes,i=e.objectIdField;return e.get("capabilities.data.supportsAttachment")?t?n?i&&n[i]?Promise.resolve():Promise.reject(new u.Z(r,"feature is missing the identifying attribute ".concat(i))):Promise.reject(new u.Z(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new u.Z(r,"A feature is required to add/delete/update attachments")):Promise.reject(new u.Z(r,"this layer doesn't support attachments"))}function g(e,t,r,n,i){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o,a){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return s=e.sent,e.next=5,w(t,r,a);case 5:if(s.updateAttachment){e.next=7;break}throw new u.Z(a,"Layer source does not support updateAttachment capability");case 7:return e.abrupt("return",s.updateAttachment(r,n,o));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,r){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,i.Z)().mark((function e(t,n,o){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(91340),r.e(80010),r.e(71907)]).then(r.bind(r,80010));case 2:return a=e.sent,e.next=5,t.load();case 5:return s=e.sent,e.abrupt("return",a.applyEdits(s,s.source,n,o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,r,n){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return a=e.sent,e.next=5,w(t,r,o);case 5:if(a.deleteAttachments){e.next=7;break}throw new u.Z(o,"Layer source does not support deleteAttachments capability");case 7:return e.abrupt("return",a.deleteAttachments(r,n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,r){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,i.Z)().mark((function e(t,r,n){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load({signal:null===r||void 0===r?void 0:r.signal});case 2:if((o=e.sent.source).fetchRecomputedExtents){e.next=5;break}throw new u.Z(n,"Layer source does not support fetchUpdates capability");case 5:return e.abrupt("return",o.fetchRecomputedExtents(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,r,n){return S.apply(this,arguments)}function S(){return S=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a,s,l,p,d,c,v,f,h,b,m,w;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.Z.from(r),e.next=3,t.load();case 3:if(l=t.source,null!==(p=t.capabilities)&&void 0!==p&&null!==(a=p.data)&&void 0!==a&&a.supportsAttachment){e.next=6;break}throw new u.Z(o,"this layer doesn't support attachments");case 6:if(c=(d=r).attachmentTypes,v=d.objectIds,f=d.globalIds,h=d.num,b=d.size,m=d.start,w=d.where,null!==p&&void 0!==p&&null!==(s=p.operations)&&void 0!==s&&s.supportsQueryAttachments){e.next=10;break}if(!((null===c||void 0===c?void 0:c.length)>0||(null===f||void 0===f?void 0:f.length)>0||(null===b||void 0===b?void 0:b.length)>0||h||m||w)){e.next=10;break}throw new u.Z(o,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",r);case 10:if(null!==v&&void 0!==v&&v.length||null!==f&&void 0!==f&&f.length||w){e.next=12;break}throw new u.Z(o,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",r);case 12:if(l.queryAttachments){e.next=14;break}throw new u.Z(o,"Layer source does not support queryAttachments capability",r);case 14:return e.abrupt("return",l.queryAttachments(r));case 15:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function E(e,t,r,n){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if((s=e.sent).queryObjectIds){e.next=5;break}throw new u.Z(o,"Layer source does not support queryObjectIds capability");case 5:return e.abrupt("return",s.queryObjectIds(null!==(a=v.Z.from(r))&&void 0!==a?a:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,r,n){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if((s=e.sent).queryFeatureCount){e.next=5;break}throw new u.Z(o,"Layer source does not support queryFeatureCount capability");case 5:return e.abrupt("return",s.queryFeatureCount(null!==(a=v.Z.from(r))&&void 0!==a?a:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,r,n){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if((s=e.sent).queryExtent){e.next=5;break}throw new u.Z(o,"Layer source does not support queryExtent capability");case 5:return e.abrupt("return",s.queryExtent(null!==(a=v.Z.from(r))&&void 0!==a?a:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r,n){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if((a=e.sent).queryRelatedFeatures){e.next=5;break}throw new u.Z(o,"Layer source does not support queryRelatedFeatures capability");case 5:return e.abrupt("return",a.queryRelatedFeatures(f.default.from(r),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,r,n){return U.apply(this,arguments)}function U(){return(U=(0,a.Z)((0,i.Z)().mark((function e(t,r,n,o){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if((a=e.sent).queryRelatedFeaturesCount){e.next=5;break}throw new u.Z(o,"Layer source does not support queryRelatedFeaturesCount capability");case 5:return e.abrupt("return",a.queryRelatedFeaturesCount(f.default.from(r),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)((0,i.Z)().mark((function e(t){var r,o,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=t.source)||void 0===r||!r.refresh){e.next=14;break}return e.prev=2,e.next=5,r.refresh();case 5:if(o=e.sent,a=o.dataChanged,s=o.updates,(0,p.pC)(s)&&(t.sourceJSON=(0,n.Z)((0,n.Z)({},t.sourceJSON),s),t.read(s,{origin:"service",url:t.parsedUrl})),!a){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:if(!t.definitionExpression){e.next=23;break}return e.prev=15,e.next=18,(0,d.E)(t.definitionExpression,t.fieldsIndex);case 18:return e.abrupt("return",e.sent.hasDateFunctions);case 21:e.prev=21,e.t1=e.catch(15);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[2,12],[15,21]])})))).apply(this,arguments)}function P(e){var t=new v.Z,r=e.get("capabilities.data"),n=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),r&&(r.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),r.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];var i=e.timeOffset,o=e.timeExtent;return t.timeExtent=null!=i&&null!=o?o.offset(-i.value,i.unit):o||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function B(e){var t=e.globalIdField,r=e.fields;if(t)return t;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("esriFieldTypeGlobalID"===a.type)return a.name}}catch(s){i.e(s)}finally{i.f()}}}function G(e){var t=e.objectIdField,r=e.fields;if(t)return t;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("esriFieldTypeOID"===a.type)return a.name}}catch(s){i.e(s)}finally{i.f()}}}function H(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function J(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",e.sent.source);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return z.apply(this,arguments)}function z(){return(z=(0,a.Z)((0,i.Z)().mark((function e(t,r){var n,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.id){e.next=2;break}return e.abrupt("return");case 2:if(!s.id.findCredential(t)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,c.oP)(t,r);case 7:if(o=e.sent,e.t0=o,!e.t0){e.next=13;break}return e.next=12,s.id.checkSignInStatus("".concat(o,"/sharing"));case 12:n=e.sent;case 13:e.next=17;break;case 15:e.prev=15,e.t1=e.catch(4);case 17:if(!n){e.next=26;break}return e.prev=18,a=(0,p.pC)(r)?r.signal:null,e.next=22,s.id.getCredential(t,{signal:a});case 22:e.next=26;break;case 24:e.prev=24,e.t2=e.catch(18);case 26:case"end":return e.stop()}}),e,null,[[4,15],[18,24]])})))).apply(this,arguments)}function K(e,t){return X.apply(this,arguments)}function X(){return(X=(0,a.Z)((0,i.Z)().mark((function e(t,r){var n,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(n=t.parsedUrl)||void 0===n?void 0:n.path){e.next=3;break}return e.abrupt("return");case 3:if(a=t.editFieldsInfo,e.t0=t.userHasUpdateItemPrivileges||t.userHasFullEditingPrivileges&&t.capabilities.operations.supportsEditing||(null===a||void 0===a?void 0:a.creatorField)||(null===a||void 0===a?void 0:a.editorField),!e.t0){e.next=8;break}return e.next=8,W(o,r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){var t;return!(null!==(t=e.sourceJSON)&&void 0!==t&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}},26704:function(e,t,r){r.d(t,{D:function(){return a}});var n=r(37762),i=r(25899),o=[];function a(e,t){var r;if((0,i.M8)(null!==(r=e.url)&&void 0!==r?r:""))return!0;var a,s=t.wkid,u=(0,n.Z)(o);try{for(u.s();!(a=u.n()).done;){var l,p=a.value;if((null!==(l=e.version)&&void 0!==l?l:0)>=p[0])return!0;if("function"==typeof p[1]&&(p[1]=p[1]()),p[1].has(s))return!1}}catch(d){u.e(d)}finally{u.f()}return!0}o.push([10.91,function(){for(var e=new Set([9709,9716,9741,9761,9766]),t=9712;t<=9713;t++)e.add(t);for(var r=9748;r<=9749;r++)e.add(r);for(var n=20904;n<=20932;n++)e.add(n);for(var i=21004;i<=21032;i++)e.add(i);for(var o=21207;o<=21264;o++)e.add(o);for(var a=21307;a<=21364;a++)e.add(a);for(var s=102759;s<=102760;s++)e.add(s);for(var u=102901;u<=102955;u++)e.add(u);return e}]),o.push([10.9,function(){for(var e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]),t=9356;t<=9360;t++)e.add(t);for(var r=9404;r<=9407;r++)e.add(r);for(var n=9476;n<=9482;n++)e.add(n);for(var i=9487;i<=9494;i++)e.add(i);for(var o=9697;o<=9699;o++)e.add(o);return e}]),o.push([10.81,function(){for(var e=new Set([9265,9333,103598,103699]),t=9248;t<=9254;t++)e.add(t);for(var r=9271;r<=9273;r++)e.add(r);for(var n=9284;n<=9285;n++)e.add(n);for(var i=21453;i<=21463;i++)e.add(i);return e}]),o.push([10.8,function(){for(var e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]),t=8035;t<=8036;t++)e.add(t);for(var r=8455;r<=8456;r++)e.add(r);for(var n=8518;n<=8529;n++)e.add(n);for(var i=8533;i<=8536;i++)e.add(i);for(var o=8538;o<=8540;o++)e.add(o);for(var a=8677;a<=8679;a++)e.add(a);for(var s=8902;s<=8903;s++)e.add(s);for(var u=8907;u<=8910;u++)e.add(u);for(var l=8949;l<=8951;l++)e.add(l);for(var p=8972;p<=8987;p++)e.add(p);for(var d=9039;d<=9040;d++)e.add(d);for(var c=9068;c<=9069;c++)e.add(c);for(var y=9140;y<=9141;y++)e.add(y);for(var v=9148;v<=9150;v++)e.add(v);for(var f=9153;f<=9159;f++)e.add(f);for(var h=9205;h<=9218;h++)e.add(h);for(var b=9221;b<=9222;b++)e.add(b);for(var m=54098;m<=54101;m++)e.add(m);return e}]),o.push([10.71,function(){for(var e=new Set([6316]),t=8351;t<=8353;t++)e.add(t);for(var r=9294;r<=9297;r++)e.add(r);for(var n=22619;n<=22621;n++)e.add(n);for(var i=103586;i<=103594;i++)e.add(i);return e}]),o.push([10.7,function(){for(var e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]),t=8065;t<=8068;t++)e.add(t);for(var r=8082;r<=8083;r++)e.add(r);for(var n=8379;n<=8385;n++)e.add(n);for(var i=8836;i<=8840;i++)e.add(i);for(var o=8857;o<=8860;o++)e.add(o);for(var a=53035;a<=53037;a++)e.add(a);for(var s=54090;s<=54091;s++)e.add(s);for(var u=102498;u<=102499;u++)e.add(u);return e}]),o.push([10.61,function(){return new Set([102497])}]),o.push([10.6,function(){for(var e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]),t=7755;t<=7787;t++)e.add(t);for(var r=7791;r<=7795;r++)e.add(r);for(var n=7799;n<=7801;n++)e.add(n);for(var i=7825;i<=7831;i++)e.add(i);for(var o=7877;o<=7878;o++)e.add(o);for(var a=7882;a<=7883;a++)e.add(a);for(var s=7991;s<=7992;s++)e.add(s);for(var u=8042;u<=8043;u++)e.add(u);for(var l=8058;l<=8059;l++)e.add(l);for(var p=8311;p<=8348;p++)e.add(p);for(var d=9060;d<=9067;d++)e.add(d);for(var c=102562;c<=102568;c++)e.add(c);for(var y=102799;y<=102900;y++)e.add(y);return e}]),o.push([10.51,function(){for(var e=new Set([7683,7881,7886,7899,8888,9e3]),t=8013;t<=8032;t++)e.add(t);for(var r=9053;r<=9057;r++)e.add(r);for(var n=104017;n<=104018;n++)e.add(n);for(var i=104971;i<=104974;i++)e.add(i);return e}]),o.push([10.5,function(){for(var e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]),t=4087;t<=4088;t++)e.add(t);for(var r=5896;r<=5899;r++)e.add(r);for(var n=7005;n<=7007;n++)e.add(n);for(var i=7057;i<=7070;i++)e.add(i);for(var o=7073;o<=7082;o++)e.add(o);for(var a=7109;a<=7128;a++)e.add(a);for(var s=7844;s<=7859;s++)e.add(s);return e}])},99086:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n,i=r(15671),o=r(43144),a=r(60136),s=r(92572),u=r(27366),l=(r(59486),r(46784)),p=r(84652),d=r(49861),c=r(25243),y=r(69912),v=r(31201),f=r(64020),h=r(78952),b=n=function(e){(0,a.Z)(r,e);var t=(0,s.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).cacheHint=void 0,n.dynamicDataSource=void 0,n.gdbVersion=null,n.geometryPrecision=void 0,n.historicMoment=null,n.maxAllowableOffset=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.relationshipId=void 0,n.start=void 0,n.num=void 0,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.where=null,n}return(0,o.Z)(r,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}},{key:"clone",value:function(){return new n((0,p.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),r}(l.wq);(0,u._)([(0,d.Cb)({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0),(0,u._)([(0,d.Cb)({type:f.n,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0),(0,u._)([(0,d.Cb)({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0),(0,u._)([(0,d.Cb)({type:Date})],b.prototype,"historicMoment",void 0),(0,u._)([(0,v.c)("historicMoment")],b.prototype,"_writeHistoricMoment",null),(0,u._)([(0,d.Cb)({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0),(0,u._)([(0,d.Cb)({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0),(0,u._)([(0,d.Cb)({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0),(0,u._)([(0,d.Cb)({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0),(0,u._)([(0,d.Cb)({type:h.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0),(0,u._)([(0,d.Cb)({json:{write:!0}})],b.prototype,"relationshipId",void 0),(0,u._)([(0,d.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0),(0,u._)([(0,v.c)("start"),(0,v.c)("num")],b.prototype,"writeStart",null),(0,u._)([(0,d.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0),(0,u._)([(0,d.Cb)({json:{write:!0}})],b.prototype,"returnGeometry",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnM",void 0),(0,u._)([(0,d.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnZ",void 0),(0,u._)([(0,d.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0),(b=n=(0,u._)([(0,y.j)("esri.rest.support.RelationshipQuery")],b)).from=(0,c.se)(b);var m=b}}]);
//# sourceMappingURL=10337.7274329b.chunk.js.map