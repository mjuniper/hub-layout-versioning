{"version":3,"file":"static/js/67165.cb5f7321.chunk.js","mappings":"qeAIgIA,EAAC,WAAC,WAAYC,GAAS,IAAPD,EAAC,uDAAC,KAAM,IAAF,eAAKE,KAAKC,KAAKF,GAAEG,EAAAA,EAAAA,IAAEJ,KAAII,EAAAA,EAAAA,IAAEH,GAAG,CAAC,IAAMG,EAAEH,EAAEI,OAAOH,KAAKI,aAAa,IAAIC,EAAAA,EAAEP,EAAEI,EAAE,CAAC,CAAse,OAAre,sBAAAI,IAAA,WAAW,OAAOJ,EAAAA,EAAAA,IAAEF,KAAKI,cAAcJ,KAAKI,aAAaG,KAAKC,SAAS,CAAC,GAAC,YAAAF,IAAA,WAAW,OAAOJ,EAAAA,EAAAA,IAAEF,KAAKI,cAAcJ,KAAKI,aAAaG,KAAKE,SAAS,CAAC,GAAC,6BAAOP,EAAEG,GAAG,KAAGN,EAAAA,EAAAA,IAAEC,KAAKI,cAAV,CAA+B,MAA8CJ,KAAKI,aAAnCN,EAAC,EAAXY,UAAiBC,EAAC,EAANJ,KAAUK,EAAC,EAAJC,GAAQC,EAAC,EAAJC,GAAQC,EAAC,EAAJC,GAAQC,EAAC,EAAJC,GAA+BC,EAA0BT,EAAhCU,MAAeC,EAAiBX,EAAxBY,OAAqBC,EAAGb,EAAfc,YAAiBC,EAAEC,EAAEb,GAAGE,EAAEX,GAAG,EAAEP,GAAG8B,EAAED,EAAEf,GAAGV,EAAEgB,GAAG,EAAEpB,GAAG+B,EAAEC,KAAKC,MAAML,GAAGM,EAAEF,KAAKC,MAAMH,GAAGK,EAAEJ,EAAET,EAAEY,EAAEE,EAAED,EAAEb,EAAEe,EAAEb,EAAEW,GAAGG,EAAEd,EAAEY,GAAGG,EAAEf,EAAEW,EAAE,GAAGK,EAAEhB,EAAEY,EAAE,GAAG,GAAGC,IAAIX,GAAGY,IAAIZ,GAAGa,IAAIb,GAAGc,IAAId,EAAE,CAAC,IAAMtB,EAAE0B,EAAEI,EAAEjC,EAAEoC,GAAGE,EAAEF,GAAGjC,EAAE,OAAOH,GAAGqC,GAAGE,EAAEF,GAAGlC,EAAEH,IAAI2B,EAAEG,EAAE,CAAvS,CAAwS,KAAC,EAAtkB,GAAukB,SAASF,EAAEzB,EAAEH,EAAEM,GAAG,OAAOH,EAAEH,EAAEA,EAAEG,EAAEG,EAAEA,EAAEH,CAAC,C,eCAkCmC,EAAC,wCAAivO,OAAjvO,yEAAC,WAAehC,EAAEM,EAAEgB,GAAC,wFAAOtB,EAAEsB,GAAGA,EAAEY,sBAAsBlC,EAAEmC,QAAQ,SAAAnC,GAAC,OAAEA,EAAEoC,OAAO,IAAGpC,EAAEqC,SAASC,OAAM,sBAAO,IAAI5C,EAAAA,EAAE,gCAAgC,8EAA6E,OAAwG,OAAjGiB,EAAEkB,EAAEU,aAAajC,GAAOO,GAAE,EAAGS,GAAGA,EAAEkB,mBAAmB3B,GAAE,GAAUN,GAAC,0BAAKkC,GAAKnB,GAAC,IAACkB,kBAAiB,IAAE,SAAU7C,KAAK+C,MAAM1C,EAAEA,EAAEsC,OAAO,GAAG3B,EAAEJ,GAAE,OAApC,OAADV,EAAC,iBAA6CF,KAAKgD,kBAAkB3C,EAAEH,EAAEU,GAAE,QAApC,OAADd,EAAC,0BAA4CA,EAAEmD,SAASnD,EAAEmD,SAASC,SAAShC,UAAUpB,EAAEqD,WAAWrD,IAAC,iDAAC,uDAAld,IAAkd,uEAAYO,EAAEM,EAAEgB,GAAC,mFAAMtB,EAAC,sBAAO,IAAIN,EAAAA,EAAE,gCAAgC,oEAAmE,UAAKY,IAAKA,aAAauB,GAAI,UAAUvB,EAAEyC,MAAM,eAAezC,EAAEyC,MAAM,aAAazC,EAAEyC,MAAI,sBAAO,IAAIrD,EAAAA,EAAE,mCAAmC,iFAAgF,OAA+D,OAAxDiB,GAAC,kBAAK8B,GAAKnB,GAAGT,EAAE,IAAImC,EAAEhD,EAAEM,EAAE2C,iBAAiBtC,GAAGJ,EAAEI,EAAEuC,OAAM,SAAclD,EAAEmD,KAAK,CAACD,OAAO3C,IAAG,uBAAOZ,KAAKyD,0BAA0BvC,EAAEP,EAAEC,GAAE,wBAAOZ,KAAK0D,aAAaxC,EAAEN,GAAE,yBAAOZ,KAAK2D,wBAAwBzC,EAAEN,GAAE,QAAqC,OAApCZ,KAAK4D,6BAA6B1C,GAAE,kBAAClB,KAAK6D,mBAAmB3C,EAAEN,IAAE,iDAAC,uDAAlnB,IAAknB,+EAAoBP,EAAEM,EAAEgB,GAAC,+EAAMtB,EAAC,sBAAO,IAAIN,EAAAA,EAAE,gCAAgC,oEAAmE,UAAKY,GAAG,WAAWA,EAAEyC,KAAI,sBAAO,IAAIrD,EAAAA,EAAE,iCAAiC,+BAA8B,OAAmB,OAAZiB,GAAC,kBAAK8B,GAAKnB,GAAC,kBAAS3B,KAAK8D,eAAezD,EAAEM,EAAEK,IAAE,gDAAC,uDAA5S,IAA4S,kFAAuBX,EAAEM,EAAEgB,GAAC,kFAAOtB,EAAEsB,GAAGA,EAAEY,sBAAsBlC,EAAEmC,QAAQ,SAAAnC,GAAC,OAAEA,EAAEoC,OAAO,IAAGpC,EAAEqC,SAASC,OAAM,sBAAO,IAAI5C,EAAAA,EAAE,gCAAgC,8EAA6E,UAAKY,GAAG,WAAWA,EAAEyC,KAAI,sBAAO,IAAIrD,EAAAA,EAAE,iCAAiC,+BAA8B,OAAuC,OAAhCiB,GAAC,0BAAK8B,GAAKnB,GAAC,IAACkB,kBAAiB,IAAE,SAAU7C,KAAK8D,eAAezD,EAAEA,EAAEsC,OAAO,GAAGhC,EAAEK,GAAE,OAA7C,OAADE,EAAC,yBAAqDlB,KAAK+D,0BAA0B1D,EAAEM,EAAEO,EAAEF,IAAE,gDAAC,uDAAhd,IAAgd,gFAAqBX,EAAEN,EAAEY,EAAEgB,GAAC,kFAAkB,OAAVX,EAAEL,EAAE4C,OAAM,SAAOlD,EAAEmD,KAAK,CAACD,OAAOvC,IAAG,OAAqE,GAA9DE,EAAEnB,EAAEuD,iBAAiB1C,EAAEP,EAAE2D,SAASV,iBAAgB,KAACpC,EAAE+C,OAAOrD,GAAE,sCAASU,EAAAA,EAAAA,IAAE,CAAC,CAAC4C,OAAOhD,EAAEiD,KAAKvD,IAAI,CAAC2C,OAAOvC,IAAG,OAACjB,GAAEe,EAAAA,EAAAA,IAAEf,EAAEa,GAAE,OAAwB,OAAhBV,EAAE,IAAIkE,EAAE/D,EAAEN,EAAEY,EAAEgB,GAAE,UAAc3B,KAAK0D,aAAaxD,EAAEc,GAAE,yBAAOhB,KAAK2D,wBAAwBzD,EAAEc,GAAE,iCAAC,IAAIqD,EAAAA,GAAEnE,EAAEoE,eAAepE,EAAEqE,MAAMP,SAAS9D,EAAEsE,QAAQ/C,cAAY,iDAAC,yDAAnW,IAAmW,2FAAgCpB,EAAEN,EAAEY,EAAEgB,GAAC,qFAAKtB,EAAEoE,MAAOpE,EAAEsC,OAAM,yCAAQhC,GAAC,OAAyC,OAAlCK,EAAEL,EAAE+D,SAASC,KAAK,SAAAtE,GAAC,OAAEqB,EAAAA,EAAAA,IAAErB,EAAEF,OAAO,IAAE,SAASH,KAAK8D,eAAezD,EAAEA,EAAEsC,OAAO,GAAG5C,EAAE4B,EAAEX,GAAE,OAA/C,GAAmD,KAApDE,EAAC,QAAyDwD,SAAS/B,OAAM,yCAAQhC,GAAC,OAA+D,OAAxDC,EAAED,EAAE+D,SAASE,OAAO1D,EAAEwD,UAAUxE,EAAE,IAAImE,EAAAA,GAAEzD,EAAEe,EAAEF,aAAY,kBAAQzB,KAAK+D,0BAA0B1D,EAAEN,EAAEG,EAAEyB,IAAE,iDAAC,yDAAjT,IAAiT,mFAAwBtB,EAAEN,EAAE4B,GAAC,8FAA+E,IAAvEX,EAAEX,EAAEoE,MAAMvD,EAAEnB,EAAEkD,SAAS4B,YAAYjE,EAAEb,EAAEoD,YAAWxC,EAAAA,EAAAA,IAAEC,GAASV,EAAE,GAAGJ,EAAE,GAAWa,EAAE,EAAEA,EAAEO,EAAEyB,OAAOhC,KAAWZ,EAAEa,EAAED,IAAKmE,eAAe,EAAE/E,EAAEmE,SAASnE,EAAEmE,OAAOlD,GAAGX,EAAEsC,SAASzC,EAAE6E,KAAK7D,EAAEP,IAAIb,EAAEiF,KAAKpE,IAAI,GAAIN,EAAEsC,QAAQ,IAAIzC,EAAEyC,OAAM,yCAAQ5C,GAAC,OAA4B,OAArB8B,EAAE9B,EAAEkD,SAAS+B,MAAM9E,GAAE,SAASF,KAAK+C,MAAM1C,EAAEA,EAAEsC,OAAO,GAAGd,EAAEF,GAAE,OAAe,GAApDH,EAAC,OAAqCJ,EAAEI,EAAE2B,WAAgB,uBAAO,IAAI8B,MAAM,iBAAgB,kCAAQnF,EAAEoF,SAAS,SAAC7E,EAAEN,GAAKmB,EAAEb,GAAG8E,EAAE3D,EAAEyB,SAAS4B,YAAY9E,GAAGoF,EAAEvE,EAAEP,GAAGyE,cAAc1D,EAAErB,GAAG+E,aAAa,IAAI9E,KAAKgD,kBAAkB3C,EAAEN,EAAE4B,KAAE,iDAAC,uDAAlgB,IAAkgB,oFAAyBtB,EAAEN,GAAC,8FAAgBM,EAAE4C,SAASmC,QAAQ/E,EAAEgF,oBAAoBtF,GAAE,OAAqE,OAAxH4B,EAAC,QAAmDhB,EAAAA,EAAAA,IAAEgB,GAASX,EAAE,CAACiC,SAAStB,EAAEuB,SAASzB,YAAYpB,EAAEmE,QAAQ/C,aAAY,mBAAQpB,EAAEmE,QAAQ3B,mBAAmB7B,EAAEmC,WAAWnD,KAAKsF,mBAAmBjF,IAAIA,EAAE4C,SAAS4B,YAAYK,SAAS,SAAA7E,GAAIA,EAAEJ,KAAK,KAAKI,EAAEkF,cAAc,IAAI,IAAIvE,IAAC,gDAAC,qDAApT,IAAoT,2FAAgCX,EAAEM,EAAEgB,GAAC,8EAAiD,GAAnCT,EAAEb,EAAEkE,MAAMP,SAASV,mBAAoB3C,aAAauB,GAAC,gCAASvB,EAAEyE,QAAQlE,EAAES,GAAE,OAAtBX,EAAC,+CAA6BM,EAAAA,EAAAA,IAAE,CAAC,CAAC4C,OAAOvD,EAAE2C,iBAAiBa,KAAKjD,IAAI,CAACqC,OAAO5B,IAAG,OAACX,GAAEF,EAAAA,EAAAA,IAAEH,EAAEO,GAAE,WAAGF,EAAC,uBAAO,IAAIjB,EAAAA,EAAE,6CAA4C,qCAA+BY,EAAE2C,iBAAiBkC,KAAI,yCAAiCtE,EAAEsE,KAAI,MAAI,QAACnF,EAAE4C,SAASf,EAAEU,aAAa5B,GAAE,4CAAC,uDAA9X,IAA8X,8EAAmBX,EAAEM,GAAC,4EAAiC,GAAzBgB,EAAEtB,EAAEmE,QAAQM,cAAiB,aAAazE,EAAE+C,MAAMpD,KAAKyF,6BAA6BpF,GAAG,iBAAiBsB,EAAC,gBAAC3B,KAAK0F,8BAA8BrF,GAAG,0BAAQ,sBAAsBsB,EAAC,iCAAO3B,KAAK2F,6BAA6BtF,EAAEM,GAAE,kCAAS,SAASgB,EAAC,uBAAO,IAAI5B,EAAAA,EAAE,yCAAwC,wCAAkC4B,EAAC,yDAAsD,yBAAO3B,KAAK4F,iBAAiBvF,EAAEM,GAAE,iDAAE,qDAA9b,IAA8b,mDAA6BN,GAAG,KAAGsB,EAAAA,EAAAA,IAAEtB,EAAEkE,MAAMsB,YAAb,CAAgC,IAAM9F,EAAE,IAAI+F,EAAE,MAAM/F,EAAEgG,OAAO,kBAAI1F,EAAEmE,QAAQ/C,WAAW,EAACpB,EAAE2F,kBAAkBjG,EAAE,IAAMY,EAAEN,EAAEkE,MAAMsB,WAAWxF,EAAE4C,SAAS4B,YAAYK,SAAS,SAAA7E,GAAI,IAAMsB,EAAEtB,EAAE6B,EAAElB,EAAEX,EAAE8B,GAAGR,EAAEhB,EAAEsF,MAAMtE,EAAEhB,EAAEuF,MAAMlF,EAAEL,EAAEwF,MAAMnF,EAAEL,EAAEyF,QAAQ/F,EAAEkF,cAAcxF,EAAE,GAA5N,CAA+N,GAAC,oDAA8BM,GAAG,IAAMN,EAAEM,EAAEkE,MAAMP,SAASrD,EAAEX,KAAKqG,kCAAkCtG,EAAEM,EAAEmE,QAAQM,eAAezE,EAAEiG,iBAAiB3F,EAAE,GAAC,wDAAkCN,EAAEN,GAAuD,IAApD,IAAMY,EAAEZ,GAAED,EAAAA,EAAAA,IAAEO,EAAEiD,kBAAsB3B,EAAEtB,EAAEkG,KAAK,GAAGvF,EAAE,EAAUE,EAAE,EAAEA,EAAEb,EAAEkG,KAAK5D,OAAOzB,IAAI,CAAC,IAAMnB,EAAEM,EAAEkG,KAAKrF,GAAGY,KAAK0E,IAAIzG,EAAE0G,WAAW9F,GAAGmB,KAAK0E,IAAI7E,EAAE8E,WAAW9F,KAAKgB,EAAE5B,EAAEiB,EAAEE,EAAE,CAAC,OAAOF,CAAC,GAAC,8FAAmCX,EAAEN,GAAC,4EAAwD,OAAhDY,EAAE+F,EAAErG,EAAEkE,MAAMP,SAAS3D,EAAEmE,QAAQmC,kBAAiB,SAAO3G,KAAK4G,+BAA+BvG,EAAEM,EAAEZ,GAAE,gDAAC,qDAAhJ,IAAgJ,gGAAqCM,EAAEM,EAAEgB,GAAC,gFAAiB,GAATX,EAAEX,EAAEkE,MAASlE,EAAEiG,iBAAiB3F,KAAGA,EAAE,GAAC,iDAAoD,GAAtCT,EAAEc,EAAE6F,aAAa/G,EAAEO,EAAEyG,kBAAiB,UAAQ5G,EAAC,kCAAOgB,EAAAA,EAAAA,IAAE6F,QAAQC,IAAIlH,EAAE6E,KAAK,SAAAtE,GAAC,OAAEH,EAAE+G,kBAAkB5G,EAAE6G,MAAM7G,EAAE8G,IAAI9G,EAAE+G,IAAI,CAAC7D,OAAO5B,GAAG,KAAIA,GAAE,gDAAe3B,KAAK2D,wBAAwBtD,EAAEsB,GAAE,WAAEtB,EAAEgH,2BAA0B,uBAAOhH,EAAEiH,sBAAsB,IAAIvH,EAAAA,EAAE,yCAAwC,gCAAc,OAAd,2BAAUa,EAAAA,EAAAA,IAAE,EAAD,IAAG,UAAOZ,KAAK4G,+BAA+BvG,EAAEM,EAAE,EAAEgB,GAAE,0DAAE,uDAA3c,IAA2c,yFAA8BtB,EAAEN,GAAC,oFAAqS,OAA7RY,EAAEN,EAAEyG,kBAAkBnF,EAAE,CAAC,EAAEf,EAAEP,EAAEmE,QAAQ+C,MAAMzH,EAAEO,EAAEmE,QAAQ/C,YAAYI,EAAElB,EAAEgE,IAAG,yCAAE,WAAMhE,GAAC,mFAAM,MAAMA,EAAE6G,GAAE,iDAAkE,GAApDtG,EAAC,UAAIb,EAAEkE,MAAMkD,IAAG,YAAI9G,EAAE6G,GAAE,YAAI1H,GAAII,GAAEc,EAAAA,EAAAA,IAAEJ,GAAGA,EAAEN,IAAIY,GAAG,OAAOF,EAAAA,EAAAA,IAAEd,GAAE,qBAACA,EAAC,wCAAOG,EAAEkE,MAAMmD,UAAU/G,EAAEuG,MAAMvG,EAAEwG,IAAIxG,EAAEyG,IAAI,CAAC3F,YAAY3B,EAAEyD,OAAOxD,IAAG,4BAA9E8B,EAAC,MAA8Eb,EAAAA,EAAAA,IAAEJ,IAAIA,EAAE+G,IAAIzG,EAAEW,GAAGF,EAAEhB,EAAE6G,IAAI,IAAI1B,EAAEnF,EAAEkB,GAAE,4CAAC,mDAA/M,IAAiN,UAAOX,EAAAA,EAAAA,KAAEhB,EAAAA,EAAAA,IAAE2B,GAAG9B,GAAE,OAACM,EAAEuH,uBAAuBjG,GAAE,2CAAC,qDAAnX,IAAmX,kFAAuB5B,EAAEY,GAAC,kFAAoG,GAAlGX,KAAK6H,uBAAuB9H,GAAGC,KAAK8H,+BAA+B/H,GAAS4B,EAAE5B,EAAEwE,MAAMsC,aAAkB,yCAAQ7G,KAAK+H,iCAAiChI,EAAEY,IAAE,OAA2M,OAApMK,EAAEjB,EAAE+G,kBAAkB5G,EAAE,CAAC,EAAEJ,EAAEkB,EAAE2D,IAAG,yCAAE,WAAM5E,GAAC,8EAAgC,OAAvBiB,EAAE,IAAIgH,EAAAA,EAAE,KAAK,EAAE,EAAE,GAAEhG,EAAAA,EAAAA,OAAI,UAAS3B,EAAAA,EAAAA,IAAEsB,EAAEsG,0BAA0BlI,EAAEmH,MAAMnH,EAAEoH,IAAIpH,EAAEqH,IAAIpG,EAAE,CAACuC,OAAO5C,KAAI,QAAC,KAAzEO,EAAC,QAA+EgH,GAAG,MAAMnI,EAAEyH,KAAKtH,EAAEH,EAAEyH,IAAIxG,IAAGJ,EAAAA,EAAAA,IAAEM,EAAEiH,OAAM,2CAAC,mDAAhK,IAAkK,UAAOjH,EAAAA,EAAAA,IAAE6F,QAAQC,IAAIlH,GAAGa,GAAE,OAACZ,EAAEqI,WAAWlI,GAAE,gDAAC,qDAA5a,IAA4a,qDAA+BG,GAAG,IAAMN,EAAEM,EAAEkE,MAAMP,SAAarD,EAAE,EAAQgB,EAAE,CAAC,EAAEX,EAAE,SAAAX,GAAI,MAAMA,EAAEmH,KAAKnH,EAAEmH,MAAM7F,EAAEA,EAAEtB,EAAEmH,OAAO7F,EAAEtB,EAAEmH,IAAI,EAAE7G,KAAK,EAAEO,EAAE,SAAAb,GAAI,GAAG,MAAMA,EAAEmH,GAAX,CAAqB,IAAMzH,EAAE4B,EAAEtB,EAAEmH,IAAI,IAAIzH,UAAU4B,EAAEtB,EAAEmH,IAAI7G,KAAKgB,EAAEtB,EAAEmH,IAAIzH,EAAE,CAAtD,CAAuD,EAAEM,EAAEgI,mBAAmBrH,EAAEE,GAAY,IAAT,IAAIN,GAAE,EAAQA,IAAIA,GAAE,EAAGP,EAAEgI,oBAAoB,SAAA1G,GAAIhB,GAAGN,EAAEmE,QAAQ8D,0BAA0BpH,EAAES,GAAG5B,EAAEwI,aAAa5G,KAAKf,GAAE,GAAII,EAAEW,GAAG,GAAGT,GAAGN,KAAK,GAAC,6CAAuBP,GAAG,IAAMN,EAAE2G,EAAErG,EAAEkE,MAAMP,SAAS3D,EAAEmE,QAAQmC,kBAAkBtG,EAAEiG,iBAAiBvG,EAAEM,EAAEmE,QAAQ8D,wBAAwB,GAAC,kGAAuCjI,EAAEN,GAAC,8EAA0B,OAAlBY,EAAEN,EAAEkE,MAAMP,SAAQ,SAAOhE,KAAK2D,wBAAwBtD,EAAEN,GAAE,OAAuE,GAAlE4B,GAAE,EAAGtB,EAAEgI,oBAAoB,SAAChI,EAAEN,GAAKY,EAAE4H,aAAalI,GAAGsB,GAAE,EAAG5B,GAAG,IAAG,KAAC4B,GAAC,qCAAQ3B,KAAK+H,iCAAiC1H,EAAEN,GAAE,gDAAC,qDAAtO,IAAsO,mDAA6BM,GAAGA,EAAE4C,SAAS4B,YAAYK,SAAS,SAAAnF,GAAI,IAAMY,EAAEZ,EAAEwF,cAAkB5D,EAAEtB,EAAEmE,QAAQ/C,YAAY,GAAGd,EAAE,CAAC,IAAMN,EAAEM,EAAEoF,OAAOhG,EAAEmC,EAAEnC,EAAEoC,IAAGnB,EAAAA,EAAAA,IAAEX,GAAGsB,EAAEtB,EAAEN,EAAEwF,cAAc,IAAI,CAACxF,EAAEoF,EAAExD,CAAC,GAAG,GAAC,yCAAmBtB,GAAG,IAAMN,EAAEM,EAAEkE,MAAMP,SAASrD,GAAEb,EAAAA,EAAAA,IAAEC,EAAEuD,kBAAkB,OAAOjD,EAAE4C,SAAS4B,YAAYF,KAAK,SAAAhD,GAAI,IAAIX,GAAG,EAAgH,OAA3GW,EAAE4D,eAAe5D,EAAE4D,gBAAgBlF,EAAE2F,oBAAmBhF,EAAEjB,EAAEyI,MAAM7G,EAAE4D,cAActF,KAAKiH,OAAOT,WAAW9F,GAAQ,CAACmE,cAAc9D,EAAE,GAAG,KAAC,EAAjvO,GAAwvOkB,EAAC,wCAAyjE,OAAzjE,8BAAC,WAAS,OAAOlC,KAAKyI,UAAUzI,KAAK6E,YAAY7E,KAAKsD,iBAAiB,GAAC,4BAAMjD,GAAG,IAAMN,EAAE,IAAImC,EAAE,OAAOnC,EAAEkD,SAASjD,KAAKiD,SAASlD,EAAEuD,iBAAiBtD,KAAKsD,iBAAiBvD,EAAE8E,YAAYxE,GAAGL,KAAK6E,YAAYF,KAAK,SAAAtE,GAAC,OAAEA,EAAE2E,OAAO,IAAGjF,EAAE0I,UAAUzI,KAAKyI,UAAU1I,CAAC,GAAC,yEAAcM,EAAEN,GAAC,sFAAKC,KAAKsD,iBAAiBW,OAAO5D,GAAE,yCAAQL,KAAKgF,SAAO,wBAAO1D,EAAAA,EAAAA,IAAE,CAAC,CAAC4C,OAAOlE,KAAKsD,iBAAiBa,KAAK9D,IAAI,CAACkD,OAAOxD,IAAG,OAA6G,GAAtGY,EAAE,IAAIkB,EAAAA,EAAE,CAACyB,iBAAiBtD,KAAKsD,iBAAiBoF,OAAO1I,KAAK6E,YAAYF,KAAK,SAAAtE,GAAC,MAAE,CAACA,EAAE6B,EAAE7B,EAAE8B,EAAE,MAAKR,GAAEb,EAAAA,EAAAA,IAAEH,EAAEN,GAAQ,yCAAQ,MAAI,OAAoH,OAA7GW,EAAEhB,KAAK6E,YAAYF,KAAK,SAACtE,EAAEN,GAAK,IAAMY,EAAEN,EAAE2E,QAAQhE,EAAEW,EAAE+G,OAAO3I,GAAG,OAAOY,EAAEuB,EAAElB,EAAE,GAAGL,EAAEwB,EAAEnB,EAAE,GAAGL,CAAC,IAAIO,EAAElB,KAAKgF,MAAMhE,GAAE,mBAAQE,EAAEoC,iBAAiBjD,EAAEa,IAAC,gDAAC,qDAAvZ,KAAuZ,oCAAoBb,GAAG,IAAMN,EAAE,IAAImC,EAAE,GAAGnC,EAAEkD,SAAS5C,EAAEN,EAAEuD,iBAAiBjD,EAAEiD,iBAAiBjD,aAAa6B,EAAEnC,EAAE8E,YAAYxE,EAAEwE,YAAYF,KAAK,SAAAtE,GAAC,OAAEA,EAAE2E,OAAO,IAAGjF,EAAE0I,UAAU,SAAC1I,EAAEY,GAAK,IAAMgB,EAAEtB,EAAE2E,MAAMjF,GAAG,OAAO4B,EAAE2B,iBAAiB3C,EAAEgB,CAAC,OAAO,OAAOtB,EAAE+C,MAAM,IAAI,QAAe,IAAAzC,EAAEN,EAAQsB,EAAUhB,EAAfgI,KAAY3H,EAAGL,EAARiI,KAAU7I,EAAE8E,YAAYlD,GAAGX,EAAE,CAAC,IAAIiB,EAAEtB,EAAEuB,EAAEvB,EAAEwB,EAAExB,EAAEwE,EAAExE,EAAEG,IAAIa,EAAE,CAAC,IAAIM,EAAEtB,EAAEuB,EAAEvB,EAAEwB,EAAExB,EAAEwE,IAAInE,EAAE,CAAC,IAAIiB,EAAEtB,EAAEuB,EAAEvB,EAAEwB,EAAE,KAAKxB,EAAEG,IAAI,CAAC,IAAImB,EAAEtB,EAAEuB,EAAEvB,EAAEwB,IAAIpC,EAAE0I,UAAU,SAAC1I,EAAEY,GAAC,OAAGN,EAAEuI,KAAK,IAAIpH,EAAAA,EAAEzB,EAAE,GAAGmC,EAAEnC,EAAE,GAAGoC,EAAEpC,EAAE,GAAGoF,EAAEpF,EAAE,GAAGe,EAAEH,GAAG,IAAIa,EAAAA,EAAEzB,EAAE,GAAGmC,EAAEnC,EAAE,GAAGoC,EAAEpC,EAAE,GAAGoF,EAAExE,EAAE,EAAC,MAAM,IAAI,aAAoB,IAAAA,EAAEN,EAAQsB,EAAUhB,EAAfgI,KAAY3H,EAAGL,EAARiI,KAAU7I,EAAE8E,YAAYlD,GAAGX,EAAEL,EAAE+H,OAAO/D,KAAK,SAAAtE,GAAC,OAAE,IAAI4B,EAAE5B,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,IAAGsB,EAAEhB,EAAE+H,OAAO/D,KAAK,SAAAtE,GAAC,OAAE,IAAI4B,EAAE5B,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAG,IAAGW,EAAEL,EAAE+H,OAAO/D,KAAK,SAAAtE,GAAC,OAAE,IAAI4B,EAAE5B,EAAE,GAAGA,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAGM,EAAE+H,OAAO/D,KAAK,SAAAtE,GAAC,OAAE,IAAI4B,EAAE5B,EAAE,GAAGA,EAAE,GAAG,IAAGN,EAAE0I,UAAU,SAAC1I,EAAEY,GAAC,OAAGN,EAAEuI,KAAK,IAAI/G,EAAAA,EAAE,CAAC6G,OAAO3I,EAAE4E,KAAK,SAAAtE,GAAC,MAAE,CAACA,EAAE6B,EAAE7B,EAAE8B,EAAE9B,EAAE8E,EAAE9E,EAAES,EAAE,IAAG6H,MAAK,EAAGC,MAAK,EAAGC,gBAAgBlI,IAAI,IAAIkB,EAAAA,EAAE9B,EAAE4E,KAAK,SAAAtE,GAAC,MAAE,CAACA,EAAE6B,EAAE7B,EAAE8B,EAAE9B,EAAE8E,EAAE,IAAGxE,EAAE,EAAC,MAAM,IAAI,WAAkB,IAA8D,EAA9DA,EAAEN,EAAEsB,EAAE,GAAGX,EAAE,GAASE,EAAUb,EAAfsI,KAAY/H,EAAGP,EAARuI,KAAc1I,EAAE,EAAE,UAAeS,EAAEmI,OAAK,IAAtB,2BAAuB,KAAbzI,EAAC,QAAY,GAAGW,EAAE+D,KAAK,CAAC7E,EAAEA,EAAEG,EAAEsC,SAASzC,GAAGG,EAAEsC,OAAOzB,GAAGN,EAAC,KAAiB,EAAjB,UAAgBP,GAAC,IAAhB,2BAAiB,KAAPN,EAAC,QAAM4B,EAAEoD,KAAK,IAAI9C,EAAElC,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,YAAAM,EAAA,uBAAK,GAAGa,EAAC,KAAiB,EAAjB,UAAgBb,GAAC,IAAhB,2BAAiB,KAAPN,EAAC,QAAM4B,EAAEoD,KAAK,IAAI9C,EAAElC,EAAE,GAAGA,EAAE,GAAGA,EAAE,IAAI,CAAC,YAAAM,EAAA,uBAAK,GAAGO,EAAC,KAAiB,EAAjB,UAAgBP,GAAC,IAAhB,2BAAiB,KAAPN,EAAC,QAAM4B,EAAEoD,KAAK,IAAI9C,EAAElC,EAAE,GAAGA,EAAE,GAAG,KAAKA,EAAE,IAAI,CAAC,YAAAM,EAAA,2BAAqB,EAArB,UAAoBA,GAAC,IAAhB,2BAAiB,KAAPN,EAAC,QAAM4B,EAAEoD,KAAK,IAAI9C,EAAElC,EAAE,GAAGA,EAAE,IAAI,CAAC,gCAAD,CAAC,+BAAAA,EAAE8E,YAAYlD,EAAE5B,EAAE0I,UAAU,SAAC1I,EAAEY,GAAK,IAAMgB,EAAEtB,EAAEuI,KAAK7I,EAAE4E,KAAK,SAAAtE,GAAC,MAAE,CAACA,EAAE6B,EAAE7B,EAAE8B,EAAE9B,EAAE8E,EAAE9E,EAAES,EAAE,IAAGf,EAAE4E,KAAK,SAAAtE,GAAC,MAAE,CAACA,EAAE6B,EAAE7B,EAAE8B,EAAE9B,EAAE8E,EAAE,IAAGjE,EAAEF,EAAE2D,KAAK,SAAAtE,GAAC,OAAEsB,EAAEe,MAAMrC,EAAE,GAAGA,EAAE,GAAG,IAAG,OAAO,IAAIe,EAAAA,EAAE,CAAC0H,MAAM5H,EAAE0H,KAAKvI,EAAEuI,KAAKD,MAAK,EAAGrF,iBAAiB3C,GAAG,EAAS,OAAOZ,CAAC,KAAC,EAAzjE,GAAgkEkC,EAAC,WAAC,WAAY5B,EAAEN,GAA8B,IAA5BY,EAAC,uDAAC,KAAKgB,EAAC,uDAAC,KAAKX,EAAC,uDAAC,KAAKE,EAAC,uDAAC,MAAI,eAAElB,KAAKkC,EAAE7B,EAAEL,KAAKmC,EAAEpC,EAAEC,KAAKmF,EAAExE,EAAEX,KAAKc,EAAEa,EAAE3B,KAAKC,KAAKe,EAAEhB,KAAKuF,cAAcrE,CAAC,CAAmD,OAAlD,wCAAQ,OAAO,IAAIe,EAAEjC,KAAKkC,EAAElC,KAAKmC,EAAEnC,KAAKmF,EAAEnF,KAAKc,EAAE,KAAC,EAArK,GAA4KiI,GAAC,QAAC,WAAY1I,EAAEN,IAAE,eAACC,KAAKuE,MAAMlE,EAAEL,KAAKwE,QAAQzE,CAAC,IAAQsD,EAAC,0CAAW,WAAYhD,EAAEN,EAAEY,GAAE,MAA2D,OAA3D,gBAAC,cAAMN,EAAEM,IAAQ0E,oBAAoBtF,EAAE,EAAKqD,KAAK,WAAU,EAA66B,OAA56B,iDAAiB/C,GAAG,GAAGA,EAAE,EAAEL,KAAKiD,SAAS4B,YAAYK,SAAS,SAAA7E,GAAIA,EAAEJ,KAAK,IAAI,QAAQ,CAAC,IAAMF,EAAEC,KAAKuE,MAAMP,SAASrD,EAAEZ,EAAEwG,KAAKlG,GAAG6G,MAAMlH,KAAKiD,SAAS4B,YAAYK,SAAS,SAAA7E,GAAIA,EAAEJ,KAAKF,EAAEiJ,OAAOrI,EAAEN,EAAE6B,EAAE7B,EAAE8B,EAAE,GAAG,CAAC,GAAC,iDAA2B,OAAOnC,KAAKiD,SAAS4B,YAAYoE,MAAM,SAAA5I,GAAC,OAAGA,EAAEkF,aAAa,GAAE,GAAC,4CAAqB,IAAyC,EAAzC,UAAgBvF,KAAKiD,SAAS4B,aAAW,IAAxC,2BAAyC,KAA/BxE,EAAC,QAA8BA,EAAEkF,gBAAgBvF,KAAKgG,oBAAoB3F,EAAEkF,cAAc,KAAI,CAAC,kCAAC,6CAAuBlF,GAAE,IAAyC,EAAzC,UAAgBL,KAAKiD,SAAS4B,aAAW,IAAxC,2BAAyC,OAA/B9E,EAAC,SAA+BA,EAAEwF,gBAAqB,QAAR,EAAExF,EAAEE,YAAI,aAAN,EAAQuH,MAAKzH,EAAEwF,cAAclF,EAAEN,EAAEE,KAAKuH,IAAG,CAAC,kCAAC,iCAAWnH,GAAE,IAAyC,EAAzC,UAAgBL,KAAKiD,SAAS4B,aAAW,IAAxC,2BAAyC,OAA/B9E,EAAC,QAAqCY,EAAQ,QAAP,EAACZ,EAAEE,YAAI,aAAN,EAAQuH,GAAGzH,EAAEE,KAAKU,EAAEN,EAAEM,GAAG,IAAI,CAAC,kCAAC,wCAAkB,IAAwD,EAAlDN,EAAE,CAAC,EAAEN,EAAE,GAAG,UAAeC,KAAKiD,SAAS4B,aAAW,IAAxC,2BAAyC,OAA/BlE,EAAC,QAAqCgB,EAAEhB,EAAEV,KAAK,GAAI0B,EAAJ,CAAe,IAAMX,EAAQ,QAAP,EAACL,EAAEV,YAAI,aAAN,EAAQuH,GAAG7G,EAAE4E,gBAAgBvE,GAAGX,EAAEW,KAAKX,EAAEW,GAAGW,EAAE5B,EAAEgF,KAAKpD,GAA9D,CAAiE,CAAC,sCAAO5B,CAAC,GAAC,yCAAmBM,GAAE,IAAyC,EAAzC,UAAgBL,KAAKiD,SAAS4B,aAAW,yBAA9B9E,EAAC,QAA8BA,EAAEE,OAAOF,EAAEwF,eAAelF,EAAEN,EAAEE,MAAM,WAAKF,EAAEE,KAAK,IAAI,GAAG,EAAhG,2BAAyC,GAAuD,oCAAC,EAArgC,CAAS8I,GAAmgC3E,EAAC,0CAAW,WAAY/D,EAAEN,EAAEY,EAAEgB,GAAE,MAAyK,OAAzK,gBAAC,cAAMtB,EAAEM,IAAQyC,KAAK,SAAS,EAAKkB,eAAe,GAAG,EAAK4E,gBAAgB,GAAG,EAAKC,mBAAmB,IAAIC,IAAI,EAAKjJ,OAAOJ,EAAEsJ,aAAahJ,EAAEwF,YAAY,EAAKyD,YAAY3H,EAAC,EAAwhE,OAAvhE,iDAAiBtB,EAAEN,GAAG,IAAMY,EAAEX,KAAKuJ,uBAAuBxJ,GAAG4B,EAAEG,KAAK0H,IAAI7I,EAAEN,GAAGsB,EAAE,EAAE3B,KAAKkJ,gBAAgBvG,OAAO,EAAE3C,KAAKyJ,sCAAsC9H,EAAE,GAAC,6CAAuBtB,GAAG,IAAMN,EAAEC,KAAKuE,MAAMP,SAAS,IAAI3D,EAAE,OAAON,EAAEwG,KAAK5D,OAAO,EAAE,IAAMhC,EAAEX,KAAKG,OAAO,IAAGwB,EAAAA,EAAAA,IAAEhB,GAAG,OAAO,EAAE,IAAI,IAAIgB,EAAE5B,EAAEwG,KAAK5D,OAAO,EAAEhB,GAAG,EAAEA,IAAI,CAAC,IAAMX,EAAEjB,EAAEwG,KAAK5E,GAAGT,EAAEF,EAAEyF,WAAW1G,EAAE2J,KAAK,GAAG9I,EAAEI,EAAEyF,WAAW1G,EAAE2J,KAAK,GAAG,GAAG5H,KAAK6H,KAAKhJ,EAAEU,MAAMH,GAAGY,KAAK6H,KAAKhJ,EAAEiJ,OAAOhJ,IAAIP,EAAE,OAAOsB,CAAC,CAAC,OAAO,CAAC,GAAC,iDAA2B,OAAO3B,KAAKkJ,gBAAgBvG,SAAS3C,KAAKsE,eAAe3B,MAAM,GAAC,4CAAsB3C,KAAKsE,eAAe3B,OAAO,EAAE3C,KAAKmJ,mBAAmBU,OAAO,GAAC,6CAAuBxJ,GAAE,IAAoC,EAApC,UAAgBL,KAAKkJ,iBAAe,IAAnC,2BAAoC,KAA1BnJ,EAAC,QAAgCY,EAAEZ,EAAEyH,IAAInH,EAAEN,EAAEyH,IAAI7G,IAAIX,KAAKmJ,mBAAmBW,IAAI/J,GAAGC,KAAKsE,eAAeS,KAAKpE,GAAG,CAAC,kCAAC,iCAAWN,GAAGL,KAAKkJ,gBAAgBlJ,KAAK+J,2BAA2B/J,KAAKkJ,gBAAgBvE,KAAK,SAAA5E,GAAC,OAAEM,EAAEN,EAAEyH,GAAG,IAAG,GAAC,wCAAkB,OAAOxH,KAAKkJ,eAAe,GAAC,yCAAmB7I,EAAEN,GAAE,WAAOY,EAAEX,KAAKkJ,gBAAgBlJ,KAAKkJ,gBAAgB,GAAGvI,EAAEuE,SAAS,SAAAvE,GAAI,GAAG,EAAKwI,mBAAmBa,IAAIrJ,GAAeZ,GAAGA,EAAEY,OAAnD,CAAuD,IAAIgB,GAAE,EAAGtB,EAAEM,GAAG,kBAAIgB,GAAE,CAAE,IAAGA,EAAE5B,GAAGA,EAAEY,GAAG,EAAKuI,gBAAgBnE,KAAKpE,EAA9D,CAAgE,IAAIX,KAAKkJ,gBAAgBlJ,KAAK+J,2BAA2B/J,KAAKkJ,gBAAgBnJ,EAAE,GAAC,iDAA2BM,EAAEN,GAAG,IAAgC,EAA1BY,EAAE,CAAC,EAAEgB,EAAE,GAAG,UAAetB,GAAC,IAAhB,2BAAiB,KAAPa,EAAC,QAAab,EAAEa,EAAEsG,GAAGnH,IAAIM,EAAEN,IAAIM,EAAEN,GAAGa,EAAES,EAAEoD,KAAK7D,IAAInB,GAAGA,EAAEmB,EAAE,CAAC,mCAAMF,EAAEW,EAAEsI,MAAM,SAAC5J,EAAEN,GAAC,OAAGM,EAAE6G,MAAMnH,EAAEmH,KAAK,IAAG,OAAOlG,EAAEwB,QAAQ,SAACnC,EAAEM,GAAK,IAAI,IAAIgB,EAAE,EAAEA,EAAEhB,EAAEgB,IAAI,CAAC,IAAMhB,EAAEK,EAAEW,GAAGxB,OAAO,GAAGQ,GAAGN,EAAEF,SAAQgC,EAAAA,EAAAA,IAAExB,EAAEN,EAAEF,QAAQ,OAAOJ,GAAGA,EAAEM,IAAG,CAAE,CAAC,OAAM,CAAE,GAAG,GAAC,4DAAsCA,GAAGL,KAAKkJ,gBAAgBvG,OAAO,EAAE,IAAM5C,EAAEC,KAAKG,OAAO,KAAGwB,EAAAA,EAAAA,IAAE5B,GAAL,CAAe,IAAMY,EAAEX,KAAKuE,MAAMP,SAAShD,EAAEL,EAAE4F,KAAKlG,GAAGa,EAAEP,EAAEqI,OAAOhI,EAAEkG,MAAMnH,EAAEkG,KAAKlG,EAAEoG,MAAMvF,EAAEM,EAAEf,OAAO,KAAGwB,EAAAA,EAAAA,IAAEf,GAA4H,IAAlH,IAAMV,EAAEc,EAAEyF,WAAW9F,EAAE+I,KAAK,GAAG5J,EAAEkB,EAAEyF,WAAW9F,EAAE+I,KAAK,GAAG7H,EAAEC,KAAK6H,MAAM5J,EAAEmG,KAAKtF,EAAE,IAAIV,GAAGsB,EAAEM,KAAK6H,MAAM5J,EAAEqG,KAAKxF,EAAE,IAAId,GAAW6B,EAAE,EAAEA,EAAEH,EAAEG,IAAI,IAAI,IAAItB,EAAE,EAAEA,EAAEwB,EAAExB,IAAI,CAAC,IAAMN,EAAE,IAAIiI,EAAAA,EAAE,KAAK9G,EAAEgG,MAAMhG,EAAEiG,IAAIxF,EAAET,EAAEkG,IAAI/G,GAAGM,EAAEuJ,eAAenK,GAAGC,KAAKmK,cAAcpK,IAAIC,KAAKkJ,gBAAgBnE,KAAKhF,EAAE,CAAnX,CAAoX,GAAC,oCAAcM,GAAG,QAAQL,KAAKsJ,aAAatJ,KAAKsJ,YAAYL,MAAM,SAAAlJ,GAAC,OAAEM,EAAEF,SAAQgC,EAAAA,EAAAA,IAAEpC,EAAEM,EAAEF,OAAO,GAAE,KAAC,EAAhuE,CAAS4I,GAAwtE,SAASrC,EAAErG,GAAM,IAAJN,EAAC,uDAAC,EAAOY,EAAEN,EAAEkG,KAAK5D,OAAO,EAAE,GAAG5C,EAAE,EAAE,CAAC,IAAM4B,EAAE5B,GAAED,EAAAA,EAAAA,IAAEO,EAAEiD,kBAAkBtC,EAAEX,EAAEkG,KAAK6D,WAAW,SAAA/J,GAAC,OAAEA,EAAEoG,WAAW9E,CAAC,IAAG,IAAIX,EAAEL,EAAE,EAAEK,EAAE,IAAIL,EAAEK,EAAE,EAAE,CAAC,OAAOL,CAAC,CAAC,IAAMmC,EAAE,CAACwF,wBAAwB,GAAG7G,YAAY,EAAEoB,kBAAiB,EAAGiC,cAAc,OAAO6B,iBAAiB,E,+NCA33a7F,EAAET,EAAAA,EAAAA,UAAY,wCAA8CwB,EAAC,wCAA+F,OAA/F,sCAAC,SAAexB,GAAG,OAAOe,EAAEf,EAAE2E,QAAQhF,KAAK,GAAC,2BAAK,OAAOqC,CAAC,GAAC,wCAAkBhC,EAAEN,GAAG,OAAO2B,EAAErB,EAAEN,EAAE,KAAC,EAA/F,GAAsGyB,EAAC,0CAAsE,WAAYnB,EAAEN,EAAEiB,GAAE,uBAAC,gBAAaf,KAAKI,EAAE,EAAKoB,YAAYT,EAAE,IAAME,EAAEb,EAAEJ,KAAKE,OAAO,EAAKA,QAAOQ,EAAAA,EAAAA,IAAEO,EAAEnB,EAAEuD,kBAAkB,EAAKnD,OAAOkK,KAAKhK,EAAEgK,KAAK,EAAKlK,OAAOmK,KAAKjK,EAAEiK,KAAK,EAAKC,UAAUrJ,EAAE,IAAMhB,GAAEyB,EAAAA,EAAAA,IAAE5B,EAAEuD,kBAAkBxD,EAAEC,EAAEyI,MAAMnI,EAAEJ,KAAKiH,OAAOT,WAAWvG,EAAkC,OAAhC,EAAK4E,cAAc,CAAC0E,IAAI1J,EAAE0K,IAAI1K,GAAE,EAA8b,OAA7b,sCAApV,WAAuB,OAAOE,KAAKG,OAAOmD,gBAAgB,GAAC,sBAAyR,SAASjD,GAAG,IAAMW,EAAEhB,KAAKyK,kBAAkBpK,EAAEL,KAAKsD,kBAAkB,QAAOvD,EAAAA,EAAAA,IAAEiB,IAAIhB,KAAK0K,WAAW1J,EAAEkB,EAAElB,EAAEmB,EAAE,GAAC,iCAAW9B,EAAEN,GAAG,OAAOmB,EAAAA,EAAAA,IAAElB,KAAKuK,UAAUlK,EAAEN,EAAE,GAAC,kCAAYM,EAAEN,GAAG,IAAIC,KAAK0K,WAAWrK,EAAEN,GAAG,CAAC,IAAMiB,EAAEhB,KAAKG,OAAOwB,EAAC,UAAIX,EAAEiF,KAAI,aAAKjF,EAAEmF,KAAI,aAAKnF,EAAEkF,KAAI,aAAKlF,EAAEoF,MAAO,OAAOtF,EAAE6J,KAAK,iBAAgB,0CAAoCtK,EAAC,aAAKN,EAAC,+CAAuC4B,EAAC,MAAK3B,KAAKyB,WAAW,CAAC,OAAOT,EAAAA,EAAAA,IAAEhB,KAAKC,KAAK8F,OAAO1F,EAAEN,GAAGC,KAAKyB,YAAY,KAAC,EAA5xB,CAASI,GAA0xBP,EAAC,0CAAsE,WAAYjB,EAAEN,EAAEiB,GAAE,MAAKW,GAAL,eAAO,eAAQ,iBAAiB5B,GAAG,EAAK0B,YAAY1B,EAAE4B,EAAE,OAAOA,EAAE5B,EAAE,EAAK0B,YAAYT,GAAG,EAAK0D,SAAS/C,EAAEtB,EAAEsE,KAAK,SAAAtE,GAAC,OAAE,IAAImB,EAAEnB,EAAEsB,EAAE,EAAKF,YAAY,IAAGpB,EAAE,IAAMa,EAAE,EAAKwD,SAAS,GAAG,GAAGxD,EAAE,CAAC,EAAKf,OAAOe,EAAEf,OAAO6E,QAAQ,MAAmB9D,EAAE4D,cAAXzE,EAAC,EAALmJ,IAAUzJ,EAAC,EAALyK,IAAuB,EAAK1F,cAAc,CAAC0E,IAAInJ,EAAEmK,IAAIzK,GAAG,IAAI,IAAIiB,EAAE,EAAEA,EAAE,EAAK0D,SAAS/B,OAAO3B,IAAI,CAAC,IAAMX,EAAE,EAAKqE,SAAS1D,GAAG,EAAKb,OAAOyK,MAAMvK,EAAEF,QAAQ,EAAK2E,cAAc0E,IAAI1H,KAAK0H,IAAI,EAAK1E,cAAc0E,IAAInJ,EAAEyE,cAAc0E,KAAK,EAAK1E,cAAc0F,IAAI1I,KAAK0I,IAAI,EAAK1F,cAAc0F,IAAInK,EAAEyE,cAAc0F,IAAI,CAAC,MAAM,EAAKrK,QAAOQ,EAAAA,EAAAA,KAAET,EAAAA,EAAAA,MAAIyB,EAAE2B,kBAAkB,EAAKwB,cAAc,CAAC0E,IAAI,EAAEgB,IAAI,GAAE,SAAuN,OAAtN,sCAAhqB,WAAuB,OAAOxK,KAAKG,OAAOmD,gBAAgB,GAAC,yBAAqmB,SAAYjD,EAAEN,GAAE,IAA6B,EAA7B,UAAgBC,KAAK0E,UAAQ,IAA5B,2BAA6B,KAAnB1D,EAAC,QAAkB,GAAGA,EAAE0J,WAAWrK,EAAEN,GAAG,OAAOiB,EAAE6J,YAAYxK,EAAEN,EAAE,CAAC,sCAAOe,EAAE6J,KAAK,iBAAgB,0CAAoCtK,EAAC,aAAKN,EAAC,gCAA+BC,KAAKyB,WAAW,KAAC,EAAj4B,CAASI,GAAy3B,SAAST,EAAEf,EAAEN,GAAG,IAAMiB,EAAEU,EAAErB,EAAEN,EAAEuD,kBAAkB,IAAItC,EAAE,OAAO,KAAK,OAAOX,EAAE+C,MAAM,IAAI,SAAwU,SAAW/C,EAAEN,EAAEiB,GAAGX,EAAE8E,EAAEnE,EAAE6J,YAAY9K,EAAEmC,EAAEnC,EAAEoC,EAAE,CAA5WD,CAAE7B,EAAEW,EAAEjB,GAAG,MAAM,IAAI,YAA0V,SAAWM,EAAEN,EAAEiB,GAAGmB,EAAEmB,iBAAiBvD,EAAEuD,iBAAyC,IAAxB,IAAM3B,EAAEtB,EAAEuI,OAAOvI,EAAEsI,KAAahI,EAAE,EAAEA,EAAEN,EAAEyI,MAAMnG,OAAOhC,IAAqC,IAAhC,IAAMO,EAAEb,EAAEyI,MAAMnI,GAAGT,EAAEH,EAAE+I,MAAMnI,GAAWN,EAAE,EAAEA,EAAEa,EAAEyB,OAAOtC,IAAI,CAAC,IAAMN,EAAEmB,EAAEb,GAAGM,EAAET,EAAEG,GAAG8B,EAAED,EAAEvB,EAAE,GAAGwB,EAAEA,EAAExB,EAAE,GAAGgB,IAAI5B,EAAE,GAAGA,EAAE,IAAIA,EAAE,GAAGiB,EAAE6J,YAAY1I,EAAED,EAAEC,EAAEA,EAAE,CAAE9B,EAAEsI,MAAK,CAAE,CAAxlBtF,CAAEhD,EAAEW,EAAEjB,GAAG,MAAM,IAAI,cAAskB,SAAWM,EAAEN,EAAEiB,GAAGmB,EAAEmB,iBAAiBvD,EAAEuD,iBAAyC,IAAxB,IAAM3B,EAAEtB,EAAEuI,OAAOvI,EAAEsI,KAAahI,EAAE,EAAEA,EAAEN,EAAEqI,OAAO/F,OAAOhC,IAAI,CAAC,IAAMO,EAAEb,EAAEqI,OAAO/H,GAAGT,EAAEH,EAAE2I,OAAO/H,GAAGwB,EAAED,EAAEhC,EAAE,GAAGiC,EAAEA,EAAEjC,EAAE,GAAGyB,IAAIT,EAAE,GAAGA,EAAE,IAAIA,EAAE,GAAGF,EAAE6J,YAAY1I,EAAED,EAAEC,EAAEA,EAAE,CAAC9B,EAAEsI,MAAK,CAAE,CAApxB3G,CAAE3B,EAAEW,EAAEjB,GAAG,OAAOM,CAAC,CAAC,SAASqB,EAAErB,EAAEW,GAAG,IAAGjB,EAAAA,EAAAA,IAAEM,GAAG,OAAO,KAAK,IAAMsB,EAAEtB,EAAEiD,iBAAiB,GAAG3B,EAAEsC,OAAOjD,GAAG,OAAOX,EAAE,IAAMM,GAAEb,EAAAA,EAAAA,IAAEO,EAAEW,GAAG,OAAOL,GAAGG,EAAEqH,MAAM,mDAAD,OAAoDxG,EAAE6D,KAAI,0DAAkDxE,EAAEwE,KAAI,MAAK7E,CAAC,CAAohB,IAAMwB,EAAE,IAAIvB,EAAAA,EAAEyB,EAAE,CAACyI,OAAM,WAAG,E,kFCAnrG/K,GAAC,QAAC,WAAYA,EAAEqB,IAAE,eAACpB,KAAKO,KAAKR,EAAEC,KAAKU,UAAU,WAAWX,EAAEsB,MAAM,GAAGrB,KAAKa,IAAId,EAAEsB,MAAM,IAAID,EAAE,GAAGA,EAAE,IAAIpB,KAAKe,IAAIhB,EAAEsB,MAAM,IAAID,EAAE,GAAGA,EAAE,IAAIpB,KAAKmB,GAAGC,EAAE,GAAGpB,KAAKiB,GAAGG,EAAE,EAAE,G","sources":["../node_modules/@arcgis/core/layers/support/ElevationTile.js","../node_modules/@arcgis/core/layers/support/ElevationQuery.js","../node_modules/@arcgis/core/layers/support/ElevationSampler.js","../node_modules/@arcgis/core/layers/support/ElevationSamplerData.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSome as a,isNone as t}from\"../../core/maybe.js\";import{ElevationSamplerData as e}from\"./ElevationSamplerData.js\";class r{constructor(t,r=null){if(this.tile=t,a(r)&&a(t)){const a=t.extent;this._samplerData=new e(r,a)}}get zmin(){return a(this._samplerData)?this._samplerData.data.minValue:0}get zmax(){return a(this._samplerData)?this._samplerData.data.maxValue:0}sample(a,e){if(t(this._samplerData))return;const{safeWidth:r,data:i,dx:l,dy:m,y1:n,x0:o}=this._samplerData,{width:h,values:p,noDataValue:u}=i,f=s(m*(n-e),0,r),D=s(l*(a-o),0,r),c=Math.floor(f),d=Math.floor(D),_=c*h+d,x=_+h,y=p[_],V=p[x],g=p[_+1],j=p[x+1];if(y!==u&&V!==u&&g!==u&&j!==u){const a=D-d,t=y+(g-y)*a;return t+(V+(j-V)*a-t)*(f-c)}}}function s(a,t,e){return a<t?t:a>e?e:a}export{r as ElevationTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import t from\"../../core/Error.js\";import{assertIsSome as i,isNone as s,isSome as n}from\"../../core/maybe.js\";import{whenOrAbort as o,throwIfAbortError as l,eachAlways as a}from\"../../core/promiseUtils.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import c from\"../../geometry/Multipoint.js\";import u from\"../../geometry/Point.js\";import h from\"../../geometry/Polyline.js\";import{initializeProjection as p,project as m}from\"../../geometry/projection.js\";import{fromExtent as f,create as d,contains as y}from\"../../geometry/support/aaBoundingRect.js\";import{MultiTileElevationSampler as T}from\"./ElevationSampler.js\";import{ElevationTile as v}from\"./ElevationTile.js\";import{TileKey as w}from\"./TileKey.js\";class g{async queryAll(e,i,s){if(!(e=s&&s.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");const n=x.fromGeometry(i);let o=!1;s&&s.returnSampleInfo||(o=!0);const l={...A,...s,returnSampleInfo:!0},a=await this.query(e[e.length-1],n,l),r=await this._queryAllContinue(e,a,l);return r.geometry=r.geometry.export(),o&&delete r.sampleInfo,r}async query(e,i,s){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||!(i instanceof x)&&\"point\"!==i.type&&\"multipoint\"!==i.type&&\"polyline\"!==i.type)throw new t(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\");const n={...A,...s},o=new R(e,i.spatialReference,n),l=n.signal;return await e.load({signal:l}),await this._createGeometryDescriptor(o,i,l),await this._selectTiles(o,l),await this._populateElevationTiles(o,l),this._sampleGeometryWithElevation(o),this._createQueryResult(o,l)}async createSampler(e,i,s){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const n={...A,...s};return this._createSampler(e,i,n)}async createSamplerAll(e,i,s){if(!(e=s&&s.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const n={...A,...s,returnSampleInfo:!0},o=await this._createSampler(e[e.length-1],i,n);return this._createSamplerAllContinue(e,i,o,n)}async _createSampler(e,t,i,s){const n=i.signal;await e.load({signal:n});const o=t.spatialReference,l=e.tileInfo.spatialReference;o.equals(l)||(await p([{source:o,dest:l}],{signal:n}),t=m(t,l));const a=new q(e,t,i,s);return await this._selectTiles(a,n),await this._populateElevationTiles(a,n),new T(a.elevationTiles,a.layer.tileInfo,a.options.noDataValue)}async _createSamplerAllContinue(e,t,i,s){if(e.pop(),!e.length)return i;const n=i.samplers.map((e=>f(e.extent))),o=await this._createSampler(e[e.length-1],t,s,n);if(0===o.samplers.length)return i;const l=i.samplers.concat(o.samplers),a=new T(l,s.noDataValue);return this._createSamplerAllContinue(e,t,a,s)}async _queryAllContinue(e,t,s){const n=e.pop(),o=t.geometry.coordinates,l=t.sampleInfo;i(l);const a=[],r=[];for(let i=0;i<o.length;i++){const t=l[i];t.demResolution>=0?t.source||(t.source=n):e.length&&(a.push(o[i]),r.push(i))}if(!e.length||0===a.length)return t;const c=t.geometry.clone(a),u=await this.query(e[e.length-1],c,s),h=u.sampleInfo;if(!h)throw new Error(\"no sampleInfo\");return r.forEach(((e,t)=>{o[e].z=u.geometry.coordinates[t].z,l[e].demResolution=h[t].demResolution})),this._queryAllContinue(e,t,s)}async _createQueryResult(e,t){const s=await e.geometry.project(e.outSpatialReference,t);i(s);const n={geometry:s.export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(n.sampleInfo=this._extractSampleInfo(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),n}async _createGeometryDescriptor(e,i,s){let n;const o=e.layer.tileInfo.spatialReference;if(i instanceof x?n=await i.project(o,s):(await p([{source:i.spatialReference,dest:o}],{signal:s}),n=m(i,o)),!n)throw new t(\"elevation-query:spatial-reference-mismatch\",`Cannot query elevation in '${i.spatialReference.wkid}' on an elevation service in '${o.wkid}'`);e.geometry=x.fromGeometry(n)}async _selectTiles(e,i){const s=e.options.demResolution;if(\"geometry\"===e.type&&this._preselectOutsideLayerExtent(e),\"number\"==typeof s)this._selectTilesClosestResolution(e);else if(\"finest-contiguous\"===s)await this._selectTilesFinestContiguous(e,i);else{if(\"auto\"!==s)throw new t(\"elevation-query:invalid-dem-resolution\",`Invalid dem resolution value '${s}', expected a number, \"finest-contiguous\" or \"auto\"`);await this._selectTilesAuto(e,i)}}_preselectOutsideLayerExtent(e){if(s(e.layer.fullExtent))return;const t=new v(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const i=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const s=e.x,n=e.y;(s<i.xmin||s>i.xmax||n<i.ymin||n>i.ymax)&&(e.elevationTile=t)}))}_selectTilesClosestResolution(e){const t=e.layer.tileInfo,i=this._findNearestDemResolutionLODIndex(t,e.options.demResolution);e.selectTilesAtLOD(i)}_findNearestDemResolutionLODIndex(e,t){const i=t/r(e.spatialReference);let s=e.lods[0],n=0;for(let o=1;o<e.lods.length;o++){const t=e.lods[o];Math.abs(t.resolution-i)<Math.abs(s.resolution-i)&&(s=t,n=o)}return n}async _selectTilesFinestContiguous(e,t){const i=I(e.layer.tileInfo,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,i,t)}async _selectTilesFinestContiguousAt(e,i,s){const n=e.layer;if(e.selectTilesAtLOD(i),i<0)return;const a=n.tilemapCache,r=e.getTilesToFetch();try{if(a)await o(Promise.all(r.map((e=>a.fetchAvailability(e.level,e.row,e.col,{signal:s})))),s);else if(await this._populateElevationTiles(e,s),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new t(\"elevation-query:has-unavailable-tiles\")}catch(c){l(c),await this._selectTilesFinestContiguousAt(e,i-1,s)}}async _populateElevationTiles(e,t){const i=e.getTilesToFetch(),s={},l=e.options.cache,r=e.options.noDataValue,c=i.map((async i=>{if(null==i.id)return;const o=`${e.layer.uid}:${i.id}:${r}`,a=n(l)?l.get(o):null,c=n(a)?a:await e.layer.fetchTile(i.level,i.row,i.col,{noDataValue:r,signal:t});n(l)&&l.put(o,c),s[i.id]=new v(i,c)}));await o(a(c),t),e.populateElevationTiles(s)}async _selectTilesAuto(t,i){this._selectTilesAutoFinest(t),this._reduceTilesForMaximumRequests(t);const s=t.layer.tilemapCache;if(!s)return this._selectTilesAutoPrefetchUpsample(t,i);const n=t.getTilesToFetch(),a={},r=n.map((async t=>{const n=new w(null,0,0,0,d()),o=await e(s.fetchAvailabilityUpsample(t.level,t.row,t.col,n,{signal:i}));!1!==o.ok?null!=t.id&&(a[t.id]=n):l(o.error)}));await o(Promise.all(r),i),t.remapTiles(a)}_reduceTilesForMaximumRequests(e){const t=e.layer.tileInfo;let i=0;const s={},n=e=>{null!=e.id&&(e.id in s?s[e.id]++:(s[e.id]=1,i++))},o=e=>{if(null==e.id)return;const t=s[e.id];1===t?(delete s[e.id],i--):s[e.id]=t-1};e.forEachTileToFetch(n,o);let l=!0;for(;l&&(l=!1,e.forEachTileToFetch((s=>{i<=e.options.maximumAutoTileRequests||(o(s),t.upsampleTile(s)&&(l=!0),n(s))}),o),l););}_selectTilesAutoFinest(e){const t=I(e.layer.tileInfo,e.options.minDemResolution);e.selectTilesAtLOD(t,e.options.maximumAutoTileRequests)}async _selectTilesAutoPrefetchUpsample(e,t){const i=e.layer.tileInfo;await this._populateElevationTiles(e,t);let s=!1;e.forEachTileToFetch(((e,t)=>{i.upsampleTile(e)?s=!0:t()})),s&&await this._selectTilesAutoPrefetchUpsample(e,t)}_sampleGeometryWithElevation(e){e.geometry.coordinates.forEach((t=>{const i=t.elevationTile;let s=e.options.noDataValue;if(i){const e=i.sample(t.x,t.y);n(e)?s=e:t.elevationTile=null}t.z=s}))}_extractSampleInfo(e){const t=e.layer.tileInfo,i=r(t.spatialReference);return e.geometry.coordinates.map((s=>{let n=-1;if(s.elevationTile&&s.elevationTile!==e.outsideExtentTile){n=t.lodAt(s.elevationTile.tile.level).resolution*i}return{demResolution:n}}))}}class x{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new x;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>e.clone())),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await p([{source:this.spatialReference,dest:e}],{signal:t});const i=new c({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),s=m(i,e);if(!s)return null;const n=this.coordinates.map(((e,t)=>{const i=e.clone(),n=s.points[t];return i.x=n[0],i.y=n[1],i})),o=this.clone(n);return o.spatialReference=e,o}static fromGeometry(e){const t=new x;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof x)t.coordinates=e.coordinates.map((e=>e.clone())),t._exporter=(t,i)=>{const s=e.clone(t);return s.spatialReference=i,s};else switch(e.type){case\"point\":{const i=e,{hasZ:s,hasM:n}=i;t.coordinates=s&&n?[new _(i.x,i.y,i.z,i.m)]:s?[new _(i.x,i.y,i.z)]:n?[new _(i.x,i.y,null,i.m)]:[new _(i.x,i.y)],t._exporter=(t,i)=>e.hasM?new u(t[0].x,t[0].y,t[0].z,t[0].m,i):new u(t[0].x,t[0].y,t[0].z,i);break}case\"multipoint\":{const i=e,{hasZ:s,hasM:n}=i;t.coordinates=s&&n?i.points.map((e=>new _(e[0],e[1],e[2],e[3]))):s?i.points.map((e=>new _(e[0],e[1],e[2]))):n?i.points.map((e=>new _(e[0],e[1],null,e[2]))):i.points.map((e=>new _(e[0],e[1]))),t._exporter=(t,i)=>e.hasM?new c({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatiaReference:i}):new c(t.map((e=>[e.x,e.y,e.z])),i);break}case\"polyline\":{const i=e,s=[],n=[],{hasZ:o,hasM:l}=e;let a=0;for(const e of i.paths)if(n.push([a,a+e.length]),a+=e.length,o&&l)for(const t of e)s.push(new _(t[0],t[1],t[2],t[3]));else if(o)for(const t of e)s.push(new _(t[0],t[1],t[2]));else if(l)for(const t of e)s.push(new _(t[0],t[1],null,t[2]));else for(const t of e)s.push(new _(t[0],t[1]));t.coordinates=s,t._exporter=(t,i)=>{const s=e.hasM?t.map((e=>[e.x,e.y,e.z,e.m])):t.map((e=>[e.x,e.y,e.z])),o=n.map((e=>s.slice(e[0],e[1])));return new h({paths:o,hasM:e.hasM,hasZ:!0,spatialReference:i})};break}}return t}}class _{constructor(e,t,i=null,s=null,n=null,o=null){this.x=e,this.y=t,this.z=i,this.m=s,this.tile=n,this.elevationTile=o}clone(){return new _(this.x,this.y,this.z,this.m)}}class E{constructor(e,t){this.layer=e,this.options=t}}class R extends E{constructor(e,t,i){super(e,i),this.outSpatialReference=t,this.type=\"geometry\"}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>{e.tile=null}));else{const t=this.layer.tileInfo,i=t.lods[e].level;this.geometry.coordinates.forEach((e=>{e.tile=t.tileAt(i,e.x,e.y)}))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile?.id&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates){const i=t.tile?.id;t.tile=i?e[i]:null}}getTilesToFetch(){const e={},t=[];for(const i of this.geometry.coordinates){const s=i.tile;if(!s)continue;const n=i.tile?.id;i.elevationTile||!n||e[n]||(e[n]=s,t.push(s))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>{t.tile=null}))}}class q extends E{constructor(e,t,i,s){super(e,i),this.type=\"extent\",this.elevationTiles=[],this._candidateTiles=[],this._fetchedCandidates=new Set,this.extent=t.intersection(e.fullExtent),this.maskExtents=s}selectTilesAtLOD(e,t){const i=this._maximumLodForRequests(t),s=Math.min(i,e);s<0?this._candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(s)}_maximumLodForRequests(e){const t=this.layer.tileInfo;if(!e)return t.lods.length-1;const i=this.extent;if(s(i))return-1;for(let s=t.lods.length-1;s>=0;s--){const n=t.lods[s],o=n.resolution*t.size[0],l=n.resolution*t.size[1];if(Math.ceil(i.width/o)*Math.ceil(i.height/l)<=e)return s}return-1}allElevationTilesFetched(){return this._candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this._fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this._candidateTiles){const i=t.id&&e[t.id];i&&(this._fetchedCandidates.add(t),this.elevationTiles.push(i))}}remapTiles(e){this._candidateTiles=this._uniqueNonOverlappingTiles(this._candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this._candidateTiles}forEachTileToFetch(e,t){const i=this._candidateTiles;this._candidateTiles=[],i.forEach((i=>{if(this._fetchedCandidates.has(i))return void(t&&t(i));let s=!1;e(i,(()=>s=!0)),s?t&&t(i):this._candidateTiles.push(i)})),this._candidateTiles=this._uniqueNonOverlappingTiles(this._candidateTiles,t)}_uniqueNonOverlappingTiles(e,t){const i={},s=[];for(const o of e){const e=o.id;e&&!i[e]?(i[e]=o,s.push(o)):t&&t(o)}const n=s.sort(((e,t)=>e.level-t.level));return n.filter(((e,i)=>{for(let s=0;s<i;s++){const i=n[s].extent;if(i&&e.extent&&y(i,e.extent))return t&&t(e),!1}return!0}))}_selectCandidateTilesCoveringExtentAt(e){this._candidateTiles.length=0;const t=this.extent;if(s(t))return;const i=this.layer.tileInfo,n=i.lods[e],o=i.tileAt(n.level,t.xmin,t.ymin),l=o.extent;if(s(l))return;const a=n.resolution*i.size[0],r=n.resolution*i.size[1],c=Math.ceil((t.xmax-l[0])/a),u=Math.ceil((t.ymax-l[1])/r);for(let s=0;s<u;s++)for(let e=0;e<c;e++){const t=new w(null,o.level,o.row-s,o.col+e);i.updateTileInfo(t),this._tileIsMasked(t)||this._candidateTiles.push(t)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>e.extent&&y(t,e.extent)))}}function I(e,t=0){let i=e.lods.length-1;if(t>0){const s=t/r(e.spatialReference),n=e.lods.findIndex((e=>e.resolution<s));0===n?i=0:n>0&&(i=n-1)}return i}const A={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:\"auto\",minDemResolution:0};export{g as ElevationQuery,x as GeometryDescriptor,I as getFinestLodIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import\"../../core/has.js\";import e from\"../../core/Logger.js\";import{isNone as t,unwrapOr as n}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as s}from\"../../core/unitUtils.js\";import{toExtent as i,containsXY as o,create as a}from\"../../geometry/support/aaBoundingRect.js\";import{project as r}from\"../../geometry/support/webMercatorUtils.js\";import l from\"../../geometry/Point.js\";const m=e.getLogger(\"esri.layers.support.ElevationSampler\");class c{queryElevation(e){return h(e.clone(),this)}on(){return g}projectIfRequired(e,t){return f(e,t)}}class u extends c{get spatialReference(){return this.extent.spatialReference}constructor(e,t,n){super(),this.tile=e,this.noDataValue=n;const o=e.tile.extent;this.extent=i(o,t.spatialReference),this.extent.zmin=e.zmin,this.extent.zmax=e.zmax,this._aaExtent=o;const a=s(t.spatialReference),r=t.lodAt(e.tile.level).resolution*a;this.demResolution={min:r,max:r}}contains(e){const n=this.projectIfRequired(e,this.spatialReference);return!t(n)&&this.containsAt(n.x,n.y)}containsAt(e,t){return o(this._aaExtent,e,t)}elevationAt(e,t){if(!this.containsAt(e,t)){const n=this.extent,s=`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`;return m.warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler extent (${s})`),this.noDataValue}return n(this.tile.sample(e,t),this.noDataValue)}}class p extends c{get spatialReference(){return this.extent.spatialReference}constructor(e,t,n){let s;super(),\"number\"==typeof t?(this.noDataValue=t,s=null):(s=t,this.noDataValue=n),this.samplers=s?e.map((e=>new u(e,s,this.noDataValue))):e;const o=this.samplers[0];if(o){this.extent=o.extent.clone();const{min:e,max:t}=o.demResolution;this.demResolution={min:e,max:t};for(let n=1;n<this.samplers.length;n++){const e=this.samplers[n];this.extent.union(e.extent),this.demResolution.min=Math.min(this.demResolution.min,e.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,e.demResolution.max)}}else this.extent=i(a(),s.spatialReference),this.demResolution={min:0,max:0}}elevationAt(e,t){for(const n of this.samplers)if(n.containsAt(e,t))return n.elevationAt(e,t);return m.warn(\"#elevationAt()\",`Point used to sample elevation (${e}, ${t}) is outside of the sampler`),this.noDataValue}}function h(e,t){const n=f(e,t.spatialReference);if(!n)return null;switch(e.type){case\"point\":x(e,n,t);break;case\"polyline\":R(e,n,t);break;case\"multipoint\":d(e,n,t)}return e}function f(e,n){if(t(e))return null;const s=e.spatialReference;if(s.equals(n))return e;const i=r(e,n);return i||m.error(`Cannot project geometry spatial reference (wkid:${s.wkid}) to elevation sampler spatial reference (wkid:${n.wkid})`),i}function x(e,t,n){e.z=n.elevationAt(t.x,t.y)}function R(e,t,n){y.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.paths.length;i++){const o=e.paths[i],a=t.paths[i];for(let e=0;e<o.length;e++){const t=o[e],i=a[e];y.x=i[0],y.y=i[1],s&&(t[3]=t[2]),t[2]=n.elevationAt(y.x,y.y)}}e.hasZ=!0}function d(e,t,n){y.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.points.length;i++){const o=e.points[i],a=t.points[i];y.x=a[0],y.y=a[1],s&&(o[3]=o[2]),o[2]=n.elevationAt(y.x,y.y)}e.hasZ=!0}const y=new l,g={remove(){}};export{c as ElevationSamplerBase,p as MultiTileElevationSampler,u as TileElevationSampler,h as updateGeometryElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass t{constructor(t,h){this.data=t,this.safeWidth=.99999999*(t.width-1),this.dx=(t.width-1)/(h[2]-h[0]),this.dy=(t.width-1)/(h[3]-h[1]),this.x0=h[0],this.y1=h[3]}}export{t as ElevationSamplerData};\n"],"names":["r","t","this","tile","a","extent","_samplerData","e","get","data","minValue","maxValue","safeWidth","i","l","dx","m","dy","n","y1","o","x0","h","width","p","values","u","noDataValue","f","s","D","c","Math","floor","d","_","x","y","V","g","j","ignoreInvisibleLayers","filter","visible","slice","length","fromGeometry","returnSampleInfo","A","query","_queryAllContinue","geometry","export","sampleInfo","type","R","spatialReference","signal","load","_createGeometryDescriptor","_selectTiles","_populateElevationTiles","_sampleGeometryWithElevation","_createQueryResult","_createSampler","_createSamplerAllContinue","tileInfo","equals","source","dest","q","T","elevationTiles","layer","options","pop","samplers","map","concat","coordinates","demResolution","push","clone","Error","forEach","z","project","outSpatialReference","_extractSampleInfo","elevationTile","wkid","_preselectOutsideLayerExtent","_selectTilesClosestResolution","_selectTilesFinestContiguous","_selectTilesAuto","fullExtent","v","sample","outsideExtentTile","xmin","xmax","ymin","ymax","_findNearestDemResolutionLODIndex","selectTilesAtLOD","lods","abs","resolution","I","minDemResolution","_selectTilesFinestContiguousAt","tilemapCache","getTilesToFetch","Promise","all","fetchAvailability","level","row","col","allElevationTilesFetched","clearElevationTiles","cache","id","uid","fetchTile","put","populateElevationTiles","_selectTilesAutoFinest","_reduceTilesForMaximumRequests","_selectTilesAutoPrefetchUpsample","w","fetchAvailabilityUpsample","ok","error","remapTiles","forEachTileToFetch","maximumAutoTileRequests","upsampleTile","lodAt","_exporter","points","hasZ","hasM","spatiaReference","paths","E","tileAt","some","_candidateTiles","_fetchedCandidates","Set","intersection","maskExtents","_maximumLodForRequests","min","_selectCandidateTilesCoveringExtentAt","size","ceil","height","clear","add","_uniqueNonOverlappingTiles","has","sort","updateTileInfo","_tileIsMasked","findIndex","zmin","zmax","_aaExtent","max","projectIfRequired","containsAt","warn","union","elevationAt","remove"],"sourceRoot":""}