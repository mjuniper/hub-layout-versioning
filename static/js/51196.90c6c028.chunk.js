"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[51196],{88396:function(e,t,n){n.d(t,{a:function(){return u},b:function(){return f},c:function(){return i},d:function(){return d},e:function(){return S},f:function(){return m},g:function(){return k},h:function(){return b},i:function(){return y},j:function(){return a},k:function(){return v},l:function(){return P},m:function(){return T},n:function(){return g},o:function(){return E},p:function(){return H},q:function(){return Z},r:function(){return C},s:function(){return o},t:function(){return w},u:function(){return I},v:function(){return _},w:function(){return p},y:function(){return c},z:function(){return h}});var r=n(26277);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function o(e,t,n){return e[0]=t,e[1]=n,e}function a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function u(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function s(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function l(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function c(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function h(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function f(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function p(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function d(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function v(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function y(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function _(e){var t=e[0],n=e[1];return t*t+n*n}function g(e,t){return e[0]=-t[0],e[1]=-t[1],e}function m(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function b(e,t){return e[0]*t[0]+e[1]*t[1]}function k(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function P(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function Z(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function w(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function C(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=Math.sin(r),u=Math.cos(r);return e[0]=i*u-o*a+n[0],e[1]=i*a+o*u+n[1],e}function T(e,t){return e[0]===t[0]&&e[1]===t[1]}function E(e,t){var n=e[0],i=e[1],o=t[0],a=t[1],u=(0,r.g)();return Math.abs(n-o)<=u*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=u*Math.max(1,Math.abs(i),Math.abs(a))}function I(e,t,n,r,i){var o=t[0]-n[0],a=t[1]-n[1],u=(r[0]*o+r[1]*a)*(i-1);return o=r[0]*u,a=r[1]*u,e[0]=t[0]+o,e[1]=t[1]+a,e}var M=y,S=u,D=s,A=l,H=d,O=v,x=_;Object.freeze(Object.defineProperty({__proto__:null,add:a,angle:function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var u=i*i+o*o;u>0&&(u=1/Math.sqrt(u));var s=(n*i+r*o)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:i,cross:k,dist:H,distance:d,div:A,divide:l,dot:b,equals:E,exactEquals:T,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:M,length:y,lerp:P,max:h,min:c,mul:D,multiply:s,negate:g,normalize:m,projectAndScale:I,random:function(e,t){t=t||1;var n=2*(0,r.R)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},rotate:C,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:f,scaleAndAdd:p,set:o,sqrDist:O,sqrLen:x,squaredDistance:v,squaredLength:_,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:S,subtract:u,transformMat2:Z,transformMat2d:w,transformMat3:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e},transformMat4:function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},Symbol.toStringTag,{value:"Module"}))},6394:function(e,t,n){function r(){return[0,0]}function i(e){return[e[0],e[1]]}function o(e,t){return[e,t]}function a(e){for(var t=[0,0],n=Math.min(2,e.length),r=0;r<n;++r)t[r]=e[r];return t}function u(e,t){return new Float64Array(e,t,2)}function s(){return[0,0]}function l(){return o(1,1)}function c(){return o(1,0)}function h(){return o(0,1)}n.d(t,{O:function(){return p},U:function(){return d},Z:function(){return f},a:function(){return r},b:function(){return a},c:function(){return u},d:function(){return i},f:function(){return o}});var f=[0,0],p=l(),d=c(),v=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:p,UNIT_X:d,UNIT_Y:v,ZEROS:f,clone:i,create:r,createView:u,fromArray:a,fromValues:o,ones:l,unitX:c,unitY:h,zeros:s},Symbol.toStringTag,{value:"Module"}))},59896:function(e,t,n){function r(e){return 32+e.length}function i(e){return 16}function o(e){if(!e)return 0;var t=c;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];switch(typeof i){case"string":t+=r(i);break;case"number":t+=16;break;case"boolean":t+=4}}return t}function a(e){if(!e)return 0;if(Array.isArray(e))return function(e){var t=e.length;if(0===t||"number"==typeof e[0])return 32+8*t;for(var n=h,r=0;r<t;r++)n+=u(e[r]);return n}(e);var t=c;for(var n in e)e.hasOwnProperty(n)&&(t+=u(e[n]));return t}function u(e){switch(typeof e){case"object":return a(e);case"string":return r(e);case"number":return 16;case"boolean":return 4;default:return 8}}function s(e,t){return h+e.length*t}n.d(t,{G3:function(){return i},Ul:function(){return a},Y8:function(){return l},do:function(){return s},f2:function(){return o},hH:function(){return r}});var l,c=32,h=32;!function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(l||(l={}))},68748:function(e,t,n){n.d(t,{a:function(){return v},z:function(){return y}});var r=n(37762),i=n(15671),o=n(43144),a=n(60136),u=n(92572),s=n(27366),l=n(80987),c=n(60354),h=n(41691),f=(n(93169),n(32718),n(92026)),p=n(49861),d=(n(25243),n(63780),n(69912)),v=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).handles.add([r.on("before-add",(function(e){(0,f.Wi)(e.item)&&e.preventDefault()})),r.on("after-add",(function(e){return r._own(e.item)})),r.on("after-remove",(function(e){return r._release(e.item)}))]),r}return(0,o.Z)(n,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}},{key:"_ownAll",value:function(){var e,t=(0,r.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._own(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_releaseAll",value:function(){var e,t=(0,r.Z)(this.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._release(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"_createNewInstance",value:function(e){return this.itemType?new(l.Z.ofType(this.itemType.Type))(e):new l.Z(e)}}]),n}((0,h.p)(l.Z));function y(e,t){return{type:e,cast:c.R,set:function(n){var r=(0,c.Z)(n,this._get(t),e);r.owner=this,this._set(t,r)}}}(0,s._)([(0,p.Cb)()],v.prototype,"owner",null),v=(0,s._)([(0,d.j)("esri.core.support.OwningCollection")],v)},30651:function(e,t,n){n.d(t,{Z:function(){return T}});var r=n(74165),i=n(15861),o=n(15671),a=n(43144),u=n(60136),s=n(92572),l=n(27366),c=(n(59486),n(76200)),h=n(10064),f=n(91505),p=n(79056),d=n(54472),v=n(32718),y=n(66978),_=n(35995),g=n(49861),m=(n(25243),n(63780),n(69912)),b=n(42265);function k(){return k=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,a,u,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="portalItem"in t?t:{portalItem:t},e.next=3,Promise.all([n.e(79803),n.e(98995),n.e(46727),n.e(43139),n.e(6356)]).then(n.bind(n,43139));case 3:return o=e.sent,e.prev=4,e.next=7,o.fromItem(i);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),a=i&&i.portalItem,u=a&&a.id||"unset",s=a&&a.portal&&a.portal.url||b.Z.portalUrl,v.Z.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+u+"')",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,10]])}))),k.apply(this,arguments)}var P=n(53866),Z=n(78952),w=0,C=function(e){(0,u.Z)(l,e);var t=(0,s.Z)(l);function l(){var e;return(0,o.Z)(this,l),(e=t.apply(this,arguments)).attributionDataUrl=null,e.fullExtent=new P.Z(-180,-90,180,90,Z.Z.WGS84),e.id=Date.now().toString(16)+"-layer-"+w++,e.legendEnabled=!0,e.listMode="show",e.opacity=1,e.parent=null,e.popupEnabled=!0,e.attributionVisible=!0,e.spatialReference=Z.Z.WGS84,e.title=null,e.type=null,e.url=null,e.visible=!0,e}return(0,a.Z)(l,[{key:"initialize",value:function(){var e=this;this.when().catch((function(t){var n,r;(0,y.D_)(t)||v.Z.getLogger(e.declaredClass).error("#load()","Failed to load layer (title: '".concat(null!==(n=e.title)&&void 0!==n?n:"no title","', id: '").concat(null!==(r=e.id)&&void 0!==r?r:"no id","')"),{error:t})}))}},{key:"destroy",value:function(){if(this.parent){var e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}},{key:"hasAttributionData",get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){return(0,_.mN)(this.url)}},{key:"fetchAttributionData",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.attributionDataUrl,!this.hasAttributionData||!t){e.next=5;break}return e.next=4,(0,c.default)(t,{query:{f:"json"},responseType:"json"});case 4:return e.abrupt("return",e.sent.data);case 5:throw new h.Z("layer:no-attribution-data","Layer does not have attribution data");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromArcGISServerUrl",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="string"==typeof t?{url:t}:t,e.next=3,Promise.all([n.e(46727),n.e(94650)]).then(n.bind(n,94650));case 3:return e.abrupt("return",e.sent.fromUrl(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromPortalItem",value:function(e){return function(e){return k.apply(this,arguments)}(e)}}]),l}(f.Z.EventedMixin((0,p.IG)(d.Z)));(0,l._)([(0,g.Cb)({type:String})],C.prototype,"attributionDataUrl",void 0),(0,l._)([(0,g.Cb)({type:P.Z})],C.prototype,"fullExtent",void 0),(0,l._)([(0,g.Cb)({readOnly:!0})],C.prototype,"hasAttributionData",null),(0,l._)([(0,g.Cb)({type:String,clonable:!1})],C.prototype,"id",void 0),(0,l._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"legendEnabled",void 0),(0,l._)([(0,g.Cb)({type:["show","hide","hide-children"]})],C.prototype,"listMode",void 0),(0,l._)([(0,g.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0})],C.prototype,"opacity",void 0),(0,l._)([(0,g.Cb)({clonable:!1})],C.prototype,"parent",void 0),(0,l._)([(0,g.Cb)({readOnly:!0})],C.prototype,"parsedUrl",null),(0,l._)([(0,g.Cb)({type:Boolean})],C.prototype,"popupEnabled",void 0),(0,l._)([(0,g.Cb)({type:Boolean})],C.prototype,"attributionVisible",void 0),(0,l._)([(0,g.Cb)({type:Z.Z})],C.prototype,"spatialReference",void 0),(0,l._)([(0,g.Cb)({type:String})],C.prototype,"title",void 0),(0,l._)([(0,g.Cb)({readOnly:!0,json:{read:!1}})],C.prototype,"type",void 0),(0,l._)([(0,g.Cb)()],C.prototype,"url",void 0),(0,l._)([(0,g.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"visible",void 0);var T=C=(0,l._)([(0,m.j)("esri.layers.Layer")],C)},85249:function(e,t,n){n.d(t,{v:function(){return r}});var r=new(n(43404).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},78983:function(e,t,n){n.d(t,{J:function(){return f}});var r=n(15671),i=n(43144),o=n(60136),a=n(92572),u=n(27366),s=n(52639),l=(n(32718),n(25243)),c=(n(63780),n(10064),n(93169),n(42017)),h=n(69912),f=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"_own",value:function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}},{key:"_release",value:function(e){e.layer===this.owner&&(e.layer=null)}}]),n}(n(68748).a);(0,u._)([(0,c.c)({Type:s.Z,ensureType:(0,l.se)(s.Z)})],f.prototype,"itemType",void 0),f=(0,u._)([(0,h.j)("esri.support.GraphicsCollection")],f)},76419:function(e,t,n){n.d(t,{L:function(){return s}});var r=n(37762),i=n(15671),o=n(43144),a=n(18107),u=n(3073),s=function(){function e(t,n){var r=this;for(var o in(0,i.Z)(this,e),this._owner=n,this._properties={},this._afterDispatchHandle=null,t){var s=t[o],l=new a.e(s,void 0,void 0,2,2);this._properties[o]={pool:l,acquired:[]}}this._afterDispatchHandle=(0,u.Fs)((function(){return r._release()}))}return(0,o.Z)(e,[{key:"destroy",value:function(){for(var e in this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null),this._properties){var t,n=this._properties[e],i=(0,r.Z)(n.acquired);try{for(i.s();!(t=i.n()).done;){var o=t.value;(0,u.NC)(o)||n.pool.release(o)}}catch(a){i.e(a)}finally{i.f()}n.pool.destroy(),n.pool=null,n.acquired=null}this._properties=null,this._owner=null}},{key:"get",value:function(e){var t=this._owner._get(e),n=this._properties[e],r=n.pool.acquire();for(n.acquired.push(r);r===t;)n.acquired.push(r),r=n.pool.acquire();return r}},{key:"_release",value:function(){for(var e in this._properties){var t,n=this._properties[e],i=0,o=(0,r.Z)(n.acquired);try{for(o.s();!(t=o.n()).done;){var a=t.value;(0,u.NC)(a)?n.acquired[i++]=a:n.pool.release(a)}}catch(s){o.e(s)}finally{o.f()}n.acquired.length=i}}}]),e}()},45371:function(e,t,n){n.d(t,{a:function(){return l}});var r=n(37762),i=n(15671),o=n(43144),a=n(32718),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,i.Z)(this,e),this.eventType=t,this.keyModifiers=n}return(0,o.Z)(e,[{key:"matches",value:function(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;var t,n=e.modifiers,i=(0,r.Z)(this.keyModifiers);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(!n.has(o))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}}]),e}(),s=a.Z.getLogger("esri.views.input.InputHandler"),l=function(){function e(t){(0,i.Z)(this,e),this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}return(0,o.Z)(e,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches)for(var e in this._incomingEventMatches=[],this._incoming){var t,n=this._incoming[e],i=(0,r.Z)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this._incomingEventMatches.push(o.match)}}catch(a){i.e(a)}finally{i.f()}}return this._incomingEventMatches}},{key:"incomingEventTypes",get:function(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((function(e){return e.eventType}))),this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}},{key:"onInstall",value:function(e){var t=this;this._manager?s.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback((function(e){return t._handleEvent(e)})),e.setUninstallCallback((function(){return t._onUninstall()})),this._manager=e)}},{key:"onUninstall",value:function(){}},{key:"registerIncoming",value:function(e,t,n){var r,i=this;"function"==typeof t?(n=t,r=[]):r=t||[];var o="string"==typeof e?new u(e,r):e,a=function(){i._incomingEventTypes=null,i._incomingEventMatches=null},s=function(e){var t=i._incoming[e.match.eventType];if(t){var n=t.indexOf(e);t.splice(n,1),a(),i._manager&&i._manager.updateDependencies()}},l=new c(o,n,{onPause:s,onRemove:s,onResume:function(e){var t=i._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),a(),i._manager&&i._manager.updateDependencies())}}),h=this._incoming[o.eventType];return h||(h=[],this._incoming[o.eventType]=h),h.push(l),a(),this._manager&&this._manager.updateDependencies(),l}},{key:"registerOutgoing",value:function(e){var t=this;if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);var n=new h(e,{onEmit:function(e,n,r,i){var o;null===(o=t._manager)||void 0===o||o.emit(e.eventType,n,r,i)},onRemove:function(e){var n;delete t._outgoing[e.eventType],null===(n=t._manager)||void 0===n||n.updateDependencies()}});return this._outgoing[e]=n,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),n}},{key:"startCapturingPointer",value:function(e){var t;null===(t=this._manager)||void 0===t||t.setPointerCapture(e,!0)}},{key:"stopCapturingPointer",value:function(e){var t;null===(t=this._manager)||void 0===t||t.setPointerCapture(e,!1)}},{key:"refreshHasPendingInputs",value:function(){var e;null===(e=this._manager)||void 0===e||e.refreshHasPendingInputs()}},{key:"_onUninstall",value:function(){this._manager?(this.onUninstall(),this._manager=null):s.error("This InputHandler is not registered with an InputManager")}},{key:"_handleEvent",value:function(e){var t=this._incoming[e.type];if(t){var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o,a=n.value;if(a.match.matches(e)&&(null!==(o=a.callback)&&void 0!==o&&o.call(a,e),e.shouldStopPropagation()))break}}catch(u){i.e(u)}finally{i.f()}}}}]),e}(),c=function(){function e(t,n,r){(0,i.Z)(this,e),this.match=t,this._callback=n,this._handler=r}return(0,o.Z)(e,[{key:"pause",value:function(){this._handler.onPause(this)}},{key:"resume",value:function(){this._handler.onResume(this)}},{key:"remove",value:function(){this._handler.onRemove(this)}},{key:"callback",get:function(){return this._callback}}]),e}(),h=function(){function e(t,n){(0,i.Z)(this,e),this.eventType=t,this._removed=!1,this._handler=n}return(0,o.Z)(e,[{key:"emit",value:function(e,t,n){this._removed||this._handler.onEmit(this,e,t,n)}},{key:"remove",value:function(){this._removed=!0,this._handler.onRemove(this)}}]),e}()},1614:function(e,t,n){n.d(t,{$:function(){return P},f:function(){return T}});var r=n(37762),i=n(15671),o=n(43144),a=n(97326),u=n(60136),s=n(92572),l=n(27366),c=n(85015),h=n(32718),f=n(92026),p=n(43e3),d=n(49861),v=(n(25243),n(63780),n(69912)),y=n(76419),_=n(67750),g=n(45371),m=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,!0))._onChange=e,r._value="mouse",r._x=null,r._y=null,r.registerIncoming("pointer-move",(function(e){r._update(e.data)})),r}return(0,o.Z)(n,[{key:"_update",value:function(e){var t="touch"===e.native.pointerType?"touch":"mouse",n=e.x,r=e.y;t===this._value&&this._x===n&&this._y===r||(this._value=t,this._x=n,this._y=r,this._onChange(t,n,r))}}]),n}(g.a),b=n(93963),k=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this,!0))._activeTouchPointerIds=new Set,e._multiTouchActive=new b.f(!1),e._onPointerAdd=function(t){var n=t.data;"touch"===n.pointerType&&(e._activeTouchPointerIds.add(n.native.pointerId),e._update())},e._onPointerRemove=function(t){var n=t.data;"touch"===n.pointerType&&(e._activeTouchPointerIds.delete(n.native.pointerId),e._update())},e.registerIncoming("pointer-down",e._onPointerAdd),e.registerIncoming("pointer-up",e._onPointerRemove),e.registerIncoming("pointer-capture-lost",e._onPointerRemove),e.registerIncoming("pointer-cancel",e._onPointerRemove),e}return(0,o.Z)(n,[{key:"multiTouchActive",get:function(){return this._multiTouchActive.get()}},{key:"_update",value:function(){this._multiTouchActive.set(this._activeTouchPointerIds.size>1)}}]),n}(g.a),P=function(e){(0,u.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e))._pointerCaptures=new Map,r._nameToGroup={},r._handlers=[],r._handlersPriority=[],r._currentPropagation=null,r._updateDependenciesAfterPropagation=!1,r._sourceEvents=new Set,r._keyModifiers=new Set,r._activeKeyModifiers=new Set,r._stoppedPropagationEventIds=new Set,r.primaryKey=_.CK,r._latestPointerType="mouse",r._propertiesPool=new y.L({latestPointerLocation:E},(0,a.Z)(r)),r.latestPointerLocation=null,r.test={timestamp:void 0,hasCurrentPropagation:function(){return!!r._currentPropagation}},r}return(0,o.Z)(n,[{key:"initialize",value:function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}},{key:"destroy",value:function(){for(var e=0,t=Object.keys(this._nameToGroup);e<t.length;e++){var n=t[e];this.uninstallHandlers(n)}this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}},{key:"hasPendingInputs",get:function(){return this._handlers.some((function(e){return e.handler.hasPendingInputs}))}},{key:"latestPointerType",get:function(){return this._latestPointerType}},{key:"multiTouchActive",get:function(){return this._multiTouchHandler.multiTouchActive}},{key:"installHandlers",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.INTERNAL;if(this._nameToGroup[e])h.Z.getLogger(this.declaredClass).error("There is already an InputHandler group registered under the name `"+e+"`");else if(0!==t.length){var i={name:e,handlers:t.map((function(e){return{handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}}))};this._nameToGroup[e]=i;for(var o=function(e){var t=i.handlers[e];n._handlers.push(t),t.handler.onInstall({updateDependencies:function(){n.updateDependencies()},emit:function(e,r,i,o,a){n._emitInputEvent(t.priorityIndex+1,e,r,i,a,o)},setPointerCapture:function(e,r){n._setPointerCapture(i,t,e,r)},setEventCallback:function(e){t.eventCallback=e},setUninstallCallback:function(e){t.uninstallCallback=e},refreshHasPendingInputs:function(){n.notifyChange("hasPendingInputs")}})},a=i.handlers.length-1;a>=0;a--)o(a);this.updateDependencies()}else h.Z.getLogger(this.declaredClass).error("Can't register a group of zero handlers")}},{key:"uninstallHandlers",value:function(e){var t=this._nameToGroup[e];t?(t.handlers.forEach((function(e){var t;e.removed=!0,null===(t=e.uninstallCallback)||void 0===t||t.call(e)})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):h.Z.getLogger(this.declaredClass).error("There is no InputHandler group registered under the name `"+e+"`")}},{key:"hasHandlers",value:function(e){return void 0!==this._nameToGroup[e]}},{key:"updateDependencies",value:function(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=!1;var e=new Set,t=new Set;this._handlersPriority=[];for(var n=this._handlers.length-1;n>=0;n--){var i=this._handlers[n];i.priorityIndex=n,this._handlersPriority.push(i)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(var o=this._handlersPriority.length-1;o>=0;o--){var a=this._handlersPriority[o];a.priorityIndex=o;var u=a.handler.hasSideEffects;if(!u){var s,l=(0,r.Z)(a.handler.outgoingEventTypes);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(e.has(c)){u=!0;break}}}catch(g){l.e(g)}finally{l.f()}}if(u){var h,f=(0,r.Z)(a.handler.incomingEventMatches);try{for(f.s();!(h=f.n()).done;){var p=h.value;e.add(p.eventType);var d,v=(0,r.Z)(p.keyModifiers);try{for(v.s();!(d=v.n()).done;){var y=d.value;(0,_.wj)(y)||t.add(y)}}catch(g){v.e(g)}finally{v.f()}}}catch(g){f.e(g)}finally{f.f()}}a.active=u}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}},{key:"_setLatestPointer",value:function(e,t,n){this._latestPointerType=e;var r=this._get("latestPointerLocation");if((0,f.Wi)(r)||r.x!==t||r.y!==n){var i=this._propertiesPool.get("latestPointerLocation");i.x=t,i.y=n,this._set("latestPointerLocation",i)}}},{key:"_onEventReceived",value:function(e,t){if("pointer-capture-lost"===e){var n=t;this._pointerCaptures.delete(n.native.pointerId)}this._updateKeyModifiers(e,t);var r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i)}},{key:"_updateKeyModifiers",value:function(e,t){var n=this;if(t){var r=!1,i=function(){if(!r){var e=new Set;n._activeKeyModifiers.forEach((function(t){e.add(t)})),n._activeKeyModifiers=e,r=!0}},o=function(e,t){t&&!n._activeKeyModifiers.has(e)?(i(),n._activeKeyModifiers.add(e)):!t&&n._activeKeyModifiers.has(e)&&(i(),n._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){var a=t.key;this._keyModifiers.has(a)&&o(a,"key-down"===e)}var u=t.native;o("Alt",!(!u||!u.altKey)),o("Ctrl",!(!u||!u.ctrlKey)),o("Shift",!(!u||!u.shiftKey)),o("Meta",!(!u||!u.metaKey)),o("Primary",this._activeKeyModifiers.has(this.primaryKey))}}},{key:"_installRecognizers",value:function(){var e=this;this._latestPointerHandler=new m((function(t,n,r){return e._setLatestPointer(t,n,r)})),this._multiTouchHandler=new k,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],T.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,T.INTERNAL)}},{key:"_setPointerCapture",value:function(e,t,n,r){var i=e.name+"-"+t.priorityIndex,o=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,o),r?(o.add(i),1===o.size&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):o.has(i)&&(o.delete(i),0===o.size&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}},{key:"_garbageCollectRemovedHandlers",value:function(){this._handlers=this._handlers.filter((function(e){return!e.removed})),this.updateDependencies()}},{key:"_emitInputEventFromSource",value:function(e,t,n,r){this._emitInputEvent(0,e,t,n,r)}},{key:"_emitInputEvent",value:function(e,t,n,r,i,o){var a=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),u=void 0!==i&&i,s={event:new C(t,n,a,o||this._activeKeyModifiers,u),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(s):this._doNewPropagation(s)}},{key:"_doNewPropagation",value:function(e){this._currentPropagation={events:new p.Z,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}},{key:"_continuePropagation",value:function(){for(var e=this,t=(0,f.s3)(this._currentPropagation);t.events.length>0;){var n=t.events.pop(),r=n.event,i=n.priorityIndex,o=r.data&&r.data.eventId;if(null==o||!this._stoppedPropagationEventIds.has(o))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{var a,u;if(t.currentHandler.active&&!r.shouldStopPropagation()&&null!==(a=(u=t.currentHandler).eventCallback)&&void 0!==a&&a.call(u,r),r.shouldStopPropagation()){null!=o&&this._stoppedPropagationEventIds.add(o);break}if(r.shouldPausePropagation((function(){return e._continuePropagation()})))return void this._pausePropagation({event:r,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}},{key:"_pausePropagation",value:function(e){var t=new p.Z;t.push(e);var n=this._currentPropagation;if(n){for(;n.events.length;)t.push(n.events.pop());n.events=t,n.currentHandler=null}}},{key:"_compareHandlerPriority",value:function(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;var n,i=(0,r.Z)(e.handler.incomingEventMatches);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=(0,r.Z)(t.handler.incomingEventMatches);try{var s=function(){var e=o.value;if(a.eventType!==e.eventType)return"continue";var t=a.keyModifiers.filter((function(t){return e.keyModifiers.includes(t)}));return t.length===a.keyModifiers.length!==(t.length===e.keyModifiers.length)?{v:a.keyModifiers.length>e.keyModifiers.length?-1:1}:void 0};for(u.s();!(o=u.n()).done;){var l=s();if("continue"!==l&&"object"===typeof l)return l.v}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return e.priorityIndex>t.priorityIndex?-1:1}},{key:"_sortHandlersPriority",value:function(e){var t,n=[],i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){for(var o=t.value,a=0;a<n.length&&this._compareHandlerPriority(o,n[a])>=0;)a++;n.splice(a,0,o)}}catch(u){i.e(u)}finally{i.f()}return n}},{key:"debug",get:function(){var e=this,t=function(t){var n=e._setPointerCapture;e._setPointerCapture=function(){},t(),e._setPointerCapture=n};return{injectEvent:function(n,r){t((function(){e._onEventReceived(n,r)}))},disablePointerCapture:t}}}]),n}(c.Z);(0,l._)([(0,d.Cb)({readOnly:!0})],P.prototype,"hasPendingInputs",null),(0,l._)([(0,d.Cb)({constructOnly:!0})],P.prototype,"eventSource",void 0),(0,l._)([(0,d.Cb)({constructOnly:!0})],P.prototype,"recognizers",void 0),(0,l._)([(0,d.Cb)()],P.prototype,"_latestPointerType",void 0),(0,l._)([(0,d.Cb)()],P.prototype,"latestPointerType",null),(0,l._)([(0,d.Cb)()],P.prototype,"multiTouchActive",null),(0,l._)([(0,d.Cb)({readOnly:!0})],P.prototype,"latestPointerLocation",void 0),P=(0,l._)([(0,v.j)("esri.views.input.InputManager")],P);var Z,w,C=function(){function e(t,n,r,o,a){(0,i.Z)(this,e),this.type=t,this.data=n,this.timestamp=r,this.modifiers=o,this.cancelable=a,this._propagationState=Z.NONE,this._resumeCallback=null}return(0,o.Z)(e,[{key:"stopPropagation",value:function(){this._propagationState|=Z.STOPPED}},{key:"shouldStopPropagation",value:function(){return 0!=(this._propagationState&Z.STOPPED)}},{key:"async",value:function(e){var t=this;this._propagationState|=Z.PAUSED;var n=function(e,n){t._propagationState&=~Z.PAUSED;var r=t._resumeCallback;if(t._resumeCallback=null,r&&r(),n)throw e;return e};return("function"==typeof e?e():e).then((function(e){return n(e,!1)}),(function(e){return n(e,!0)}))}},{key:"shouldPausePropagation",value:function(e){return!!(this._propagationState&Z.PAUSED)&&(this._resumeCallback=e,!0)}},{key:"preventDefault",value:function(){this.data.native.preventDefault()}}]),e}();(w=Z||(Z={}))[w.NONE=0]="NONE",w[w.STOPPED=1]="STOPPED",w[w.PAUSED=2]="PAUSED";var T={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},E=(0,o.Z)((function e(){(0,i.Z)(this,e)}))},67750:function(e,t,n){n.d(t,{CK:function(){return i},kK:function(){return l},wj:function(){return c}});for(var r=n(98928),i=(0,n(93169).Z)("mac")?"Meta":"Ctrl",o={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"},a=48;a<58;a++)o[a]=String.fromCharCode(a);for(var u=1;u<25;u++)o[111+u]="F".concat(u);for(var s=65;s<91;s++)o[s]=[String.fromCharCode(s+32),String.fromCharCode(s)];function l(e){if(void 0!==e.key)return(0,r.kK)(e);var t=o[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function c(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}},72612:function(e,t,n){n.d(t,{Eu:function(){return a},Rw:function(){return s},Sj:function(){return o},s6:function(){return u},vT:function(){return i}});n(93169);var r=n(17842);function i(e){return(0,r.vW)(e.x,e.y)}function o(e){return(0,r.s1)(e.x,e.y)}function a(e,t){var n,i=null===(n=e instanceof HTMLElement?e:e.surface)||void 0===n?void 0:n.getBoundingClientRect();return i?(0,r.vW)(t.clientX-i.left,t.clientY-i.top):(0,r.vW)(0,0)}function u(e,t){return t instanceof Event?a(e,t):i(t)}function s(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},58266:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(15671),i=n(43144),o=n(60136),a=n(92572),u=n(27366),s=n(85015),l=n(92026),c=n(66978),h=n(49861),f=(n(25243),n(63780),n(69912)),p=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"canZoomIn",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return 0===t||e>t}},{key:"canZoomOut",get:function(){if(!this.get("view.ready"))return!1;var e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return 0===t||e<t}}]),n}(s.Z);(0,u._)([(0,h.Cb)({readOnly:!0})],p.prototype,"canZoomIn",null),(0,u._)([(0,h.Cb)({readOnly:!0})],p.prototype,"canZoomOut",null),(0,u._)([(0,h.Cb)()],p.prototype,"view",void 0);var d=p=(0,u._)([(0,f.j)("esri.widgets.Zoom.ZoomConditions2D")],p),v=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"canZoomIn",get:function(){return!!this.view.ready}},{key:"canZoomOut",get:function(){return!!this.view.ready}}]),n}(s.Z);(0,u._)([(0,h.Cb)({readOnly:!0})],v.prototype,"canZoomIn",null),(0,u._)([(0,h.Cb)({readOnly:!0})],v.prototype,"canZoomOut",null),(0,u._)([(0,h.Cb)()],v.prototype,"view",void 0);var y=v=(0,u._)([(0,f.j)("esri.widgets.Zoom.ZoomConditions3D")],v),_=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"destroy",value:function(){this.view=null}},{key:"canZoomIn",get:function(){return(0,l.pC)(this._zoomConditions)&&this._zoomConditions.canZoomIn}},{key:"canZoomOut",get:function(){var e;return(0,l.pC)(this._zoomConditions)&&(null===(e=this._zoomConditions)||void 0===e?void 0:e.canZoomOut)}},{key:"state",get:function(){var e;return null!==(e=this.view)&&void 0!==e&&e.ready?"ready":"disabled"}},{key:"view",set:function(e){e?"2d"===e.type?this._zoomConditions=new d({view:e}):"3d"===e.type&&(this._zoomConditions=new y({view:e})):this._zoomConditions=null,this._set("view",e)}},{key:"zoomIn",value:function(){if(this.canZoomIn){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomIn():(0,c.R8)(e.goTo({zoomFactor:2}))}}},{key:"zoomOut",value:function(){if(this.canZoomOut){var e=this.view;"2d"===e.type?e.mapViewNavigation.zoomOut():(0,c.R8)(e.goTo({zoomFactor:.5}))}}}]),n}(s.Z);(0,u._)([(0,h.Cb)()],_.prototype,"_zoomConditions",void 0),(0,u._)([(0,h.Cb)()],_.prototype,"canZoomIn",null),(0,u._)([(0,h.Cb)()],_.prototype,"canZoomOut",null),(0,u._)([(0,h.Cb)({readOnly:!0})],_.prototype,"state",null),(0,u._)([(0,h.Cb)()],_.prototype,"view",null);var g=_=(0,u._)([(0,f.j)("esri.widgets.Zoom.ZoomViewModel")],_)}}]);
//# sourceMappingURL=51196.90c6c028.chunk.js.map