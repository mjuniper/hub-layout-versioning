{"version":3,"file":"static/js/65641.a84cb2c0.chunk.js","mappings":"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","sources":["../.yalc/@esri/hub-components/dist/esm/arcgis-hub-date-range-picker.entry.js","../.yalc/@esri/hub-components/dist/esm/context-7d8f7366.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, F as Fragment, H as Host, g as getElement } from './index-0d95d9d4.js';\nimport { i as intlManager } from './intl-manager-821aea3b.js';\nimport { b as bind } from './context-7d8f7366.js';\nimport './index-4e91769f.js';\n\nconst arcgisHubDateRangePickerCss = \":host{display:flex}:host calcite-input-date-picker{width:auto}\";\n\nconst ArcgisHubDateRangePicker = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.arcgisHubDateRangePickerSelect = createEvent(this, \"arcgisHubDateRangePickerSelect\", 7);\n    bind('handleCalciteInputDatePickerRef');\n  }\n  handleSelectedValueChange() {\n    if (this.isCustom && (!this.customStartDate || !this.customEndDate)) {\n      return;\n    }\n    this.arcgisHubDateRangePickerSelect.emit({\n      name: this.selectedValue,\n      startDate: this.startDate,\n      endDate: this.endDate\n    });\n  }\n  handleCalciteDrodownSelect() {\n    this.selectedValue = this.dropdownEl.selectedItems[0].dataset.value;\n  }\n  handleCalciteDatePickerRangeChange(event) {\n    const { startDate, endDate } = event.detail;\n    this.customStartDate = startDate;\n    this.customEndDate = endDate;\n  }\n  setDropdownEl(el) {\n    this.dropdownEl = el;\n  }\n  get isCustom() {\n    return this.selectedValue === 'custom';\n  }\n  get startDate() {\n    var _a;\n    return (_a = this.dateRangeOptions[this.selectedValue]) === null || _a === void 0 ? void 0 : _a.startDate;\n  }\n  get endDate() {\n    var _a;\n    return ((_a = this.dateRangeOptions[this.selectedValue]) === null || _a === void 0 ? void 0 : _a.endDate) || new Date();\n  }\n  get dateRangeOptions() {\n    const currentDay = new Date().getDate();\n    const currentMonth = new Date().getMonth();\n    return {\n      today: { startDate: new Date(new Date().setHours(0, 0, 0, 0)) },\n      yesterday: {\n        startDate: new Date(new Date(new Date().setDate(currentDay - 1)).setHours(0, 0, 0, 0)),\n        endDate: new Date(new Date(new Date().setDate(currentDay - 1)).setHours(23, 59, 59, 999))\n      },\n      last7Days: { startDate: new Date(new Date().setDate(currentDay - 7)) },\n      last30Days: { startDate: new Date(new Date().setDate(currentDay - 30)) },\n      thisMonth: { startDate: new Date(new Date(new Date().setDate(1)).setHours(0, 0, 0, 0)) },\n      lastMonth: {\n        startDate: new Date(new Date(new Date(new Date().setMonth(currentMonth - 1)).setDate(1)).setHours(0, 0, 0, 0)),\n        endDate: new Date(new Date(new Date().setDate(0)).setHours(23, 59, 59, 999))\n      },\n      pastYear: { startDate: new Date(new Date().setMonth(currentMonth - 12)) },\n      custom: { startDate: this.customStartDate, endDate: this.customEndDate }\n    };\n  }\n  async componentWillLoad() {\n    var _a;\n    this.intl = await intlManager.loadIntlForComponent(this.element);\n    if (typeof this.value === 'string') {\n      this.selectedValue = this.value;\n      if (this.isCustom) {\n        this.customStartDate = null;\n        this.customEndDate = null;\n      }\n    }\n    else if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.length) {\n      this.selectedValue = 'custom';\n      this.customStartDate = new Date(this.value[0]);\n      this.customEndDate = new Date(this.value[1]);\n    }\n  }\n  // workaround for pointer-events issue introduced by calcite-components v1.0.0-beta.98\n  // TODO: try removing next time we bump calcite-components\n  handleCalciteInputDatePickerRef(inputDatePicker) {\n    if (inputDatePicker.shadowRoot && !inputDatePicker.shadowRoot.querySelector('style[data-hub]')) {\n      const style = document.createElement(\"style\");\n      style.dataset.hub = \"\";\n      style.innerHTML = \".menu-container { pointer-events: auto !important; }\";\n      inputDatePicker.shadowRoot.appendChild(style);\n    }\n  }\n  renderDropdown() {\n    return (h(\"calcite-dropdown\", { ref: this.setDropdownEl.bind(this) }, h(\"calcite-button\", { \"icon-end\": \"caret-down\", slot: \"dropdown-trigger\" }, this.isCustom ? null : this.intl.t(`${this.selectedValue || \"default\"}`)), h(\"calcite-dropdown-group\", { \"selection-mode\": \"single\" }, Object.keys(this.dateRangeOptions).map(option => h(\"calcite-dropdown-item\", { \"data-value\": option, key: option }, this.intl.t(`${option}`))))));\n  }\n  render() {\n    return (h(Host, { \"data-element\": \"date-range-picker\" }, this.isCustom\n      ? h(Fragment, null, h(\"calcite-input-date-picker\", { \"intl-next-month\": this.intl.t('nextMonth'), \"intl-prev-month\": this.intl.t('previousMonth'), \"intl-year\": this.intl.t('year'),\n        // locale={this.intl.locale}\n        max: this.max, min: this.min, range: true, ref: this.handleCalciteInputDatePickerRef, role: \"application\" }), this.renderDropdown())\n      : this.renderDropdown()));\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get element() { return getElement(this); }\n  static get watchers() { return {\n    \"selectedValue\": [\"handleSelectedValueChange\"],\n    \"customStartDate\": [\"handleSelectedValueChange\"],\n    \"customEndDate\": [\"handleSelectedValueChange\"]\n  }; }\n};\nArcgisHubDateRangePicker.style = arcgisHubDateRangePickerCss;\n\nexport { ArcgisHubDateRangePicker as arcgis_hub_date_range_picker };\n","const bind = (context, ...methodNames) => {\n  methodNames.forEach(methodName => {\n    if (typeof context[methodName] !== 'function') {\n      throw new Error(`Cannot bind context. ${methodName} must be a function`);\n    }\n    context[methodName] = context[methodName].bind(context);\n  });\n};\n\nexport { bind as b };\n"],"names":["ArcgisHubDateRangePicker","hostRef","registerInstance","this","arcgisHubDateRangePickerSelect","createEvent","bind","isCustom","customStartDate","customEndDate","emit","name","selectedValue","startDate","endDate","dropdownEl","selectedItems","dataset","value","event","detail","el","_a","dateRangeOptions","Date","currentDay","getDate","currentMonth","getMonth","today","setHours","yesterday","setDate","last7Days","last30Days","thisMonth","lastMonth","setMonth","pastYear","custom","intlManager","element","intl","length","inputDatePicker","shadowRoot","querySelector","style","document","createElement","hub","innerHTML","appendChild","h","ref","setDropdownEl","slot","t","Object","keys","map","option","key","Host","Fragment","max","min","range","handleCalciteInputDatePickerRef","role","renderDropdown","getElement","context","methodNames","forEach","methodName","Error"],"sourceRoot":""}