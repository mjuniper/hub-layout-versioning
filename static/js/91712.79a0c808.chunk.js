"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[91712],{11873:function(e,t,r){function n(){return[1,0,0,0,1,0,0,0,1]}function o(e,t,r,n,o,a,i,u,c){return[e,t,r,n,o,a,i,u,c]}function a(e,t){return new Float64Array(e,t,9)}r.d(t,{a:function(){return a},c:function(){return n},f:function(){return o}});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:n,createView:a,fromValues:o},Symbol.toStringTag,{value:"Module"}))},48976:function(e,t,r){r.d(t,{a:function(){return y},c:function(){return b},g:function(){return f},i:function(){return v},j:function(){return S},k:function(){return h},m:function(){return s},r:function(){return R},s:function(){return l}});var n=r(11873),o=r(98131),a=r(71353),i=r(26277),u=r(11186),c=r(90045);function l(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function f(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>(0,i.g)()?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function s(e,t,r){var n=t[0],o=t[1],a=t[2],i=t[3],u=r[0],c=r[1],l=r[2],f=r[3];return e[0]=n*f+i*u+o*l-a*c,e[1]=o*f+i*c+a*u-n*l,e[2]=a*f+i*l+n*c-o*u,e[3]=i*f-n*u-o*c-a*l,e}function d(e,t,r,n){var o,a,u,c,l,f=t[0],s=t[1],d=t[2],v=t[3],b=r[0],p=r[1],h=r[2],y=r[3];return(a=f*b+s*p+d*h+v*y)<0&&(a=-a,b=-b,p=-p,h=-h,y=-y),1-a>(0,i.g)()?(o=Math.acos(a),u=Math.sin(o),c=Math.sin((1-n)*o)/u,l=Math.sin(n*o)/u):(c=1-n,l=n),e[0]=c*f+l*b,e[1]=c*s+l*p,e[2]=c*d+l*h,e[3]=c*v+l*y,e}function v(e,t){var r=t[0],n=t[1],o=t[2],a=t[3],i=r*r+n*n+o*o+a*a,u=i?1/i:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-o*u,e[3]=a*u,e}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function p(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);var a=(o+1)%3,i=(o+2)%3;r=Math.sqrt(t[3*o+o]-t[3*a+a]-t[3*i+i]+1),e[o]=.5*r,r=.5/r,e[3]=(t[3*a+i]-t[3*i+a])*r,e[a]=(t[3*a+o]+t[3*o+a])*r,e[i]=(t[3*i+o]+t[3*o+i])*r}return e}function h(e,t,r,n){var o=.5*Math.PI/180;t*=o,r*=o,n*=o;var a=Math.sin(t),i=Math.cos(t),u=Math.sin(r),c=Math.cos(r),l=Math.sin(n),f=Math.cos(n);return e[0]=a*c*f-i*u*l,e[1]=i*u*f+a*c*l,e[2]=i*c*l-a*u*f,e[3]=i*c*f+a*u*l,e}var y=c.c,g=c.s,w=c.a,A=s,m=c.b,I=c.d,O=c.l,M=c.e,T=M,C=c.f,E=C,U=c.n,S=c.g,Z=c.h;function R(e,t,r){var n=(0,u.e)(t,r);return n<-.999999?((0,u.f)(L,F,t),(0,u.u)(L)<1e-6&&(0,u.f)(L,N,t),(0,u.n)(L,L),l(e,L,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,u.f)(L,t,r),e[0]=L[0],e[1]=L[1],e[2]=L[2],e[3]=1+n,U(e,e))}var L=(0,a.c)(),F=(0,a.f)(1,0,0),N=(0,a.f)(0,1,0);var D=(0,o.a)(),P=(0,o.a)();var _=(0,n.c)();Object.freeze(Object.defineProperty({__proto__:null,add:w,calculateW:function(e,t){var r=t[0],n=t[1],o=t[2];return e[0]=r,e[1]=n,e[2]=o,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),e},conjugate:b,copy:y,dot:I,equals:Z,exactEquals:S,fromEuler:h,fromMat3:p,getAxisAngle:f,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:v,len:T,length:M,lerp:O,mul:A,multiply:s,normalize:U,random:function(e){var t=i.R,r=t(),n=t(),o=t(),a=Math.sqrt(1-r),u=Math.sqrt(r);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=u*Math.sin(2*Math.PI*o),e[3]=u*Math.cos(2*Math.PI*o),e},rotateX:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+i*u,e[1]=o*c+a*u,e[2]=a*c-o*u,e[3]=i*c-n*u,e},rotateY:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c-a*u,e[1]=o*c+i*u,e[2]=a*c+n*u,e[3]=i*c-o*u,e},rotateZ:function(e,t,r){r*=.5;var n=t[0],o=t[1],a=t[2],i=t[3],u=Math.sin(r),c=Math.cos(r);return e[0]=n*c+o*u,e[1]=o*c-n*u,e[2]=a*c+i*u,e[3]=i*c-a*u,e},rotationTo:R,scale:m,set:g,setAxes:function(e,t,r,n){var o=_;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-t[0],o[5]=-t[1],o[8]=-t[2],U(e,p(e,o))},setAxisAngle:l,slerp:d,sqlerp:function(e,t,r,n,o,a){return d(D,t,o,a),d(P,r,n,a),d(e,D,P,2*a*(1-a)),e},sqrLen:E,squaredLength:C,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},4582:function(e,t,r){function n(){var e=new Float32Array(4);return e[3]=1,e}function o(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(e,t){return new Float32Array(e,t,4)}r.d(t,{a:function(){return a},b:function(){return o},c:function(){return n}});Object.freeze(Object.defineProperty({__proto__:null,clone:o,create:n,createView:a,fromValues:function(e,t,r,n){var o=new Float32Array(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=n,o}},Symbol.toStringTag,{value:"Module"}))},98131:function(e,t,r){function n(){return[0,0,0,1]}function o(e){return[e[0],e[1],e[2],e[3]]}function a(e,t,r,n){return[e,t,r,n]}function i(e,t){return new Float64Array(e,t,4)}r.d(t,{I:function(){return u},a:function(){return n},b:function(){return o},c:function(){return i},f:function(){return a}});var u=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:o,create:n,createView:i,fromValues:a},Symbol.toStringTag,{value:"Module"}))},8229:function(e,t,r){function n(){return new Float32Array(3)}function o(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e,t,r){var n=new Float32Array(3);return n[0]=e,n[1]=t,n[2]=r,n}function i(e,t){return new Float32Array(e,t,3)}function u(){return n()}function c(){return a(1,1,1)}function l(){return a(1,0,0)}function f(){return a(0,1,0)}function s(){return a(0,0,1)}r.d(t,{a:function(){return i},b:function(){return o},c:function(){return n},f:function(){return a},z:function(){return u}});var d=u(),v=c(),b=l(),p=f(),h=s();Object.freeze(Object.defineProperty({__proto__:null,ONES:v,UNIT_X:b,UNIT_Y:p,UNIT_Z:h,ZEROS:d,clone:o,create:n,createView:i,fromValues:a,ones:c,unitX:l,unitY:f,unitZ:s,zeros:u},Symbol.toStringTag,{value:"Module"}))},87125:function(e,t,r){r.d(t,{I:function(){return d}});var n,o=r(15671),a=r(43144),i=r(60136),u=r(92572),c=r(27366),l=r(46784),f=r(49861),s=(r(25243),r(63780),r(69912)),d=n=function(e){(0,i.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).title=null,e}return(0,a.Z)(r,[{key:"clone",value:function(){return new n({title:this.title})}}]),r}(l.wq);(0,c._)([(0,f.Cb)({type:String,json:{write:!0}})],d.prototype,"title",void 0),d=n=(0,c._)([(0,s.j)("esri.renderers.support.LegendOptions")],d)},57203:function(e,t,r){r.d(t,{Z:function(){return h}});var n,o=r(15671),a=r(43144),i=r(60136),u=r(92572),c=r(27366),l=r(51995),f=r(46784),s=r(49861),d=r(25243),v=(r(63780),r(69912)),b=r(31201),p=n=function(e){(0,i.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).color=null,n.label=null,n.value=null,n}return(0,a.Z)(r,[{key:"writeValue",value:function(e,t,r){t[r]=null!==e&&void 0!==e?e:0}},{key:"clone",value:function(){return new n({color:this.color&&this.color.clone(),label:this.label,value:this.value})}}]),r}(f.wq);(0,c._)([(0,s.Cb)({type:l.Z,json:{type:[d.z8],write:!0}})],p.prototype,"color",void 0),(0,c._)([(0,s.Cb)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,c._)([(0,s.Cb)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],p.prototype,"value",void 0),(0,c._)([(0,b.c)("value")],p.prototype,"writeValue",null);var h=p=n=(0,c._)([(0,v.j)("esri.renderers.visualVariables.support.ColorStop")],p)},56547:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(37762),o=r(15671),a=r(43144),i=r(92026),u=r(18722),c=r(48976),l=r(4582),f=r(11186),s=r(8229),d=r(79803),v=r(78952),b=r(74432),p=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"transform",value:function(e){var t=this._transform(e),r=[t.points.buffer,t.rgb.buffer];(0,i.pC)(t.pointIdFilterMap)&&r.push(t.pointIdFilterMap.buffer);var o,a=(0,n.Z)(t.attributes);try{for(a.s();!(o=a.n()).done;){var c=o.value;"buffer"in c.values&&(0,u.eP)(c.values.buffer)&&c.values.buffer!==t.rgb.buffer&&r.push(c.values.buffer)}}catch(l){a.e(l)}finally{a.f()}return Promise.resolve({result:t,transferList:r})}},{key:"_transform",value:function(e){var t=(0,b.Ym)(e.schema,e.geometryBuffer),r=t.length/3,o=null,a=[],u=(0,b.dH)(e.primaryAttributeData,t,r);(0,i.pC)(e.primaryAttributeData)&&u&&a.push({attributeInfo:e.primaryAttributeData.attributeInfo,values:u});var c=(0,b.dH)(e.modulationAttributeData,t,r);(0,i.pC)(e.modulationAttributeData)&&c&&a.push({attributeInfo:e.modulationAttributeData.attributeInfo,values:c});var l=(0,b.aE)(e.rendererInfo,u,c,r);if(e.filterInfo&&e.filterInfo.length>0&&(0,i.pC)(e.filterAttributesData)){var f=e.filterAttributesData.filter(i.pC).map((function(e){var n=(0,b.dH)(e,t,r),o={attributeInfo:e.attributeInfo,values:n};return a.push(o),o}));o=new Uint32Array(r),r=(0,b.hv)(t,l,o,e.filterInfo,f)}var s,d=(0,n.Z)(e.userAttributesData);try{for(d.s();!(s=d.n()).done;){var p=s.value,h=(0,b.dH)(p,t,r);a.push({attributeInfo:p.attributeInfo,values:h})}}catch(g){d.e(g)}finally{d.f()}3*r<l.length&&(l=new Uint8Array(l.buffer.slice(0,3*r))),this._applyElevationOffsetInPlace(t,r,e.elevationOffset);var y=this._transformCoordinates(t,r,e.obb,v.Z.fromJSON(e.inSR),v.Z.fromJSON(e.outSR));return{obb:e.obb,points:y,rgb:l,attributes:a,pointIdFilterMap:o}}},{key:"_transformCoordinates",value:function(e,t,r,n,o){if(!(0,d.CM)(e,n,0,e,o,0,t))throw new Error("Can't reproject");var a=(0,s.f)(r.center[0],r.center[1],r.center[2]),i=(0,s.c)(),u=(0,s.c)();(0,c.c)(h,r.quaternion);for(var l=new Float32Array(3*t),v=0;v<t;v++)i[0]=e[3*v]-a[0],i[1]=e[3*v+1]-a[1],i[2]=e[3*v+2]-a[2],(0,f.q)(u,i,h),r.halfSize[0]=Math.max(r.halfSize[0],Math.abs(u[0])),r.halfSize[1]=Math.max(r.halfSize[1],Math.abs(u[1])),r.halfSize[2]=Math.max(r.halfSize[2],Math.abs(u[2])),l[3*v]=i[0],l[3*v+1]=i[1],l[3*v+2]=i[2];return l}},{key:"_applyElevationOffsetInPlace",value:function(e,t,r){if(0!==r)for(var n=0;n<t;n++)e[3*n+2]+=r}}]),e}(),h=(0,l.c)();function y(){return new p}},28278:function(e,t,r){r.d(t,{Es:function(){return g},I_:function(){return b},W7:function(){return y},qM:function(){return A}});var n=r(1413),o=r(37762),a=r(10064),i=r(84652),u=r(32718),c=r(2821),l=r(4760),f=u.Z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(e,t,r){for(var n="",o=0;o<r;){var i=e[t+o];if(i<128)n+=String.fromCharCode(i),o++;else if(i>=192&&i<224){if(o+1>=r)throw new a.Z("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var u=(31&i)<<6|63&e[t+o+1];n+=String.fromCharCode(u),o+=2}else if(i>=224&&i<240){if(o+2>=r)throw new a.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var c=(15&i)<<12|(63&e[t+o+1])<<6|63&e[t+o+2];n+=String.fromCharCode(c),o+=3}else{if(!(i>=240&&i<248))throw new a.Z("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(o+3>=r)throw new a.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var l=(7&i)<<18|(63&e[t+o+1])<<12|(63&e[t+o+2])<<6|63&e[t+o+3];if(l>=65536){var f=55296+(l-65536>>10),s=56320+(1023&l);n+=String.fromCharCode(f,s)}else n+=String.fromCharCode(l);o+=4}}return n}function d(e,t){for(var r={byteOffset:0,byteCount:0,fields:Object.create(null)},n=0,o=0;o<t.length;o++){var a=t[o],i=a.valueType||a.type,u=I[i];r.fields[a.property]=u(e,n),n+=m[i].BYTES_PER_ELEMENT}return r.byteCount=n,r}function v(e,t,r){var n,o,i=[],u=0;for(o=0;o<e;o+=1){if((n=t[o])>0){if(i.push(s(r,u,n-1)),0!==r[u+n-1])throw new a.Z("string-array-error","Invalid string array: missing null termination.")}else i.push(null);u+=n}return i}function b(e,t){return new(0,m[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function p(e,t,r){for(var n=null!=t.header?d(e,t.header):{byteOffset:0,byteCount:0,fields:{count:r}},o={header:n,byteOffset:n.byteCount,byteCount:0,entries:Object.create(null)},u=n.byteCount,c=0;c<t.ordering.length;c++){var l,f,s=t.ordering[c],v=(0,i.d9)(t[s]);if(v.count=null!==(l=n.fields.count)&&void 0!==l?l:0,"String"===v.valueType){if(v.byteOffset=u,v.byteCount=n.fields[s+"ByteCount"],"UTF-8"!==v.encoding)throw new a.Z("unsupported-encoding","Unsupported String encoding.",{encoding:v.encoding});if(v.timeEncoding&&"ECMA_ISO8601"!==v.timeEncoding)throw new a.Z("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:v.timeEncoding})}else{if(!O(v.valueType))throw new a.Z("unsupported-value-type","Unsupported binary valueType",{valueType:v.valueType});var b=M(v.valueType);u+=u%b!=0?b-u%b:0,v.byteOffset=u,v.byteCount=b*v.valuesPerElement*v.count}u+=null!==(f=v.byteCount)&&void 0!==f?f:0,o.entries[s]=v}return o.byteCount=u-o.byteOffset,o}function h(e,t,r){if(t!==e&&f.error("Invalid ".concat(r," buffer size\n expected: ").concat(e,", actual: ").concat(t,")")),t<e)throw new a.Z("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function y(e,t){var r,a=d(e,t&&t.header),i=a.byteCount,u={isDraco:!1,header:a,byteOffset:a.byteCount,byteCount:0,vertexAttributes:{}},c=a.fields,l=null!=c.vertexCount?c.vertexCount:c.count,f=(0,o.Z)(t.ordering);try{for(f.s();!(r=f.n()).done;){var s=r.value;if(t.vertexAttributes[s]){var v=(0,n.Z)((0,n.Z)({},t.vertexAttributes[s]),{},{byteOffset:i,count:l}),b=w[s]?w[s]:"_"+s;u.vertexAttributes[b]=v,i+=M(v.valueType)*v.valuesPerElement*l}}}catch(U){f.e(U)}finally{f.f()}var p=c.faceCount;if(t.faces&&p){u.faces={};var y,g=(0,o.Z)(t.ordering);try{for(g.s();!(y=g.n()).done;){var A=y.value;if(t.faces[A]){var m=(0,n.Z)((0,n.Z)({},t.faces[A]),{},{byteOffset:i,count:p});u.faces[A]=m,i+=M(m.valueType)*m.valuesPerElement*p}}}catch(U){g.e(U)}finally{g.f()}}var I=c.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&I){u.featureAttributes={};var O,T=(0,o.Z)(t.featureAttributeOrder);try{for(T.s();!(O=T.n()).done;){var C=O.value;if(t.featureAttributes[C]){var E=(0,n.Z)((0,n.Z)({},t.featureAttributes[C]),{},{byteOffset:i,count:I});u.featureAttributes[C]=E,i+=("UInt64"===E.valueType?8:M(E.valueType))*E.valuesPerElement*I}}}catch(U){T.e(U)}finally{T.f()}}return h(i,e.byteLength,"geometry"),u.byteCount=i-u.byteOffset,u}function g(e,t){return e&&e.compressedAttributes&&"draco"===e.compressedAttributes.encoding?function(e){var t,r={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){switch(t.value){case"position":break;case"normal":r.normal=!0;break;case"uv0":r.uv0=!0;break;case"color":r.color=!0;break;case"uv-region":r.uvRegion=!0;break;case"feature-index":r.featureIndex=!0}}}catch(a){n.e(a)}finally{n.f()}return r}(e.compressedAttributes.attributes):e?function(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}(e):function(e){var t,r={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1},n=(0,o.Z)(e.ordering);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e.vertexAttributes[a])switch(a){case"position":break;case"normal":r.normal=!0;break;case"color":r.color=!0;break;case"uv0":r.uv0=!0;break;case"region":r.uvRegion=!0}}}catch(i){n.e(i)}finally{n.f()}return e.featureAttributes&&e.featureAttributeOrder&&(r.featureIndex=!0),r}(t)}var w={position:l.T.POSITION,normal:l.T.NORMAL,color:l.T.COLOR,uv0:l.T.UV0,region:l.T.UVREGION};function A(e,t,r){if("lepcc-rgb"===e.encoding)return(0,c.IT)(t);if("lepcc-intensity"===e.encoding)return(0,c.ti)(t);if(null!=e.encoding&&""!==e.encoding)throw new a.Z("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(f.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(f.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");var n=p(t,e,r);h(n.byteOffset+n.byteCount,t.byteLength,"attribute");var o=n.entries.attributeValues||n.entries.objectIds;if(o){if("String"===o.valueType){var i=n.entries.attributeByteCounts,u=b(t,i),l=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,o);return o.timeEncoding?function(e,t,r){return v(e,t,r).map((function(e){var t=e?Date.parse(e):null;return t&&!Number.isNaN(t)?t:null}))}(i.count,u,l):v(i.count,u,l)}return b(t,o)}throw new a.Z("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}var m={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:function(e,t){return new DataView(e,0).getFloat32(t,!0)},Float64:function(e,t){return new DataView(e,0).getFloat64(t,!0)},UInt8:function(e,t){return new DataView(e,0).getUint8(t)},Int8:function(e,t){return new DataView(e,0).getInt8(t)},UInt16:function(e,t){return new DataView(e,0).getUint16(t,!0)},Int16:function(e,t){return new DataView(e,0).getInt16(t,!0)},UInt32:function(e,t){return new DataView(e,0).getUint32(t,!0)},Int32:function(e,t){return new DataView(e,0).getInt32(t,!0)}};function O(e){return m.hasOwnProperty(e)}function M(e){return O(e)?m[e].BYTES_PER_ELEMENT:0}},2821:function(e,t,r){r.d(t,{Gi:function(){return C},IT:function(){return _},ti:function(){return X}});var n=r(10064),o=!0,a=0,i=10,u=10,c=12,l=16;function f(e,t,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,r+a,i)),version:t.getUint16(r+u,o),checksum:t.getUint32(r+c,o)}}var s=0,d=4,v=8,b=16,p=24,h=32,y=40,g=48,w=56,A=64,m=72,I=80,O=84,M=88;function T(e,t){return{sizeLo:e.getUint32(t+s,o),sizeHi:e.getUint32(t+d,o),minX:e.getFloat64(t+v,o),minY:e.getFloat64(t+b,o),minZ:e.getFloat64(t+p,o),maxX:e.getFloat64(t+h,o),maxY:e.getFloat64(t+y,o),maxZ:e.getFloat64(t+g,o),errorX:e.getFloat64(t+w,o),errorY:e.getFloat64(t+A,o),errorZ:e.getFloat64(t+m,o),count:e.getUint32(t+I,o),reserved:e.getUint32(t+O,o)}}function C(e){var t=new DataView(e,0),r=0,o=f(e,t,r),a=o.identifier,i=o.version;if(r+=l,"LEPCC     "!==a)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=T(t,r);if(r+=M,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");var c=new Float64Array(3*u.count),s=[],d=[],v=[],b=[];if(r=E(e,r,s),r=E(e,r,d),r=E(e,r,v),(r=E(e,r,b))!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad length");for(var p=0,h=0,y=0;y<s.length;y++){h+=s[y];for(var g=0,w=0;w<d[y];w++){g+=v[p];var A=b[p];c[3*p]=Math.min(u.maxX,u.minX+2*u.errorX*g),c[3*p+1]=Math.min(u.maxY,u.minY+2*u.errorY*h),c[3*p+2]=Math.min(u.maxZ,u.minZ+2*u.errorZ*A),p++}}return{errorX:u.errorX,errorY:u.errorY,errorZ:u.errorZ,result:c}}function E(e,t,r){var n=[];t=U(e,t,n);for(var o=[],a=0;a<n.length;a++){o.length=0,t=U(e,t,o);for(var i=0;i<o.length;i++)r.push(o[i]+n[a])}return t}function U(e,t,r){var a=new DataView(e,t),i=a.getUint8(0),u=31&i,c=!!(32&i),l=(192&i)>>6,f=0;if(0===l)f=a.getUint32(1,o),t+=5;else if(1===l)f=a.getUint16(1,o),t+=3;else{if(2!==l)throw new n.Z("lepcc-decode-error","Bad count type");f=a.getUint8(1),t+=2}if(c)throw new n.Z("lepcc-decode-error","LUT not implemented");for(var s=Math.ceil(f*u/8),d=new Uint8Array(e,t,s),v=0,b=0,p=0,h=-1>>>32-u,y=0;y<f;y++){for(;b<u;)v|=d[p]<<b,b+=8,p+=1;r[y]=v&h,v>>>=u,(b-=u)+u>32&&(v|=d[p-1]>>8-b)}return t+p}var S=0,Z=4,R=8,L=12,F=14,N=15,D=16;function P(e,t){return{sizeLo:e.getUint32(t+S,o),sizeHi:e.getUint32(t+Z,o),count:e.getUint32(t+R,o),colorMapCount:e.getUint16(t+L,o),lookupMethod:e.getUint8(t+F),compressionMethod:e.getUint8(t+N)}}function _(e){var t=new DataView(e,0),r=0,o=f(e,t,r),a=o.identifier,i=o.version;if(r+=l,"ClusterRGB"!==a)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=P(t,r);if(r+=D,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+r!==e.byteLength||u.colorMapCount>256)throw new n.Z("lepcc-decode-error","Bad count");for(var c=new Uint8Array(e,r,3*u.colorMapCount),s=new Uint8Array(e,r+3*u.colorMapCount,u.count),d=new Uint8Array(3*u.count),v=0;v<u.count;v++){var b=s[v];d[3*v]=c[3*b],d[3*v+1]=c[3*b+1],d[3*v+2]=c[3*b+2]}return d}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+r!==e.byteLength||0!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");return new Uint8Array(e,r).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(r+3!==e.byteLength||1!==u.colorMapCount)throw new n.Z("lepcc-decode-error","Bad count");for(var p=t.getUint8(r),h=t.getUint8(r+1),y=t.getUint8(r+2),g=new Uint8Array(3*u.count),w=0;w<u.count;w++)g[3*w]=p,g[3*w+1]=h,g[3*w+2]=y;return g}throw new n.Z("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)}var B=0,V=4,k=8,x=12,z=14,j=15,q=16;function Y(e,t){return{sizeLo:e.getUint32(t+B,o),sizeHi:e.getUint32(t+V,o),count:e.getUint32(t+k,o),scaleFactor:e.getUint16(t+x,o),bitsPerPoint:e.getUint8(t+z),reserved:e.getUint8(t+j)}}function X(e){var t=new DataView(e,0),r=0,o=f(e,t,r),a=o.identifier,i=o.version;if(r+=l,"Intensity "!==a)throw new n.Z("lepcc-decode-error","Bad identifier");if(i>1)throw new n.Z("lepcc-decode-error","Unknown version");var u=Y(t,r);if(r+=q,u.sizeHi*Math.pow(2,32)+u.sizeLo!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");var c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+r!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var s=new Uint8Array(e,r,u.count),d=0;d<u.count;d++)c[d]=s[d]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+r!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var v=new Uint16Array(e,r,u.count),b=0;b<u.count;b++)c[b]=v[b]*u.scaleFactor}else{var p=[];if(U(e,r,p)!==e.byteLength)throw new n.Z("lepcc-decode-error","Bad size");for(var h=0;h<u.count;h++)c[h]=p[h]*u.scaleFactor}return c}},74432:function(e,t,r){r.d(t,{Ym:function(){return s},aE:function(){return f},dH:function(){return d},et:function(){return v},hv:function(){return b}});var n=r(37762),o=r(92026),a=r(21134),i=r(89431),u=r(87005),c=r(28278),l=r(2821);function f(e,t,r,n){var o=e.rendererJSON,c=e.isRGBRenderer,l=null,f=null;if(t&&c)l=t;else if(t&&"pointCloudUniqueValueRenderer"===(null===o||void 0===o?void 0:o.type)){var s=(f=u.Z.fromJSON(o)).colorUniqueValueInfos;l=new Uint8Array(3*n);for(var d=p(f.fieldTransformType),v=0;v<n;v++)for(var b=(d?d(t[v]):t[v])+"",h=0;h<s.length;h++)if(s[h].values.includes(b)){l[3*v]=s[h].color.r,l[3*v+1]=s[h].color.g,l[3*v+2]=s[h].color.b;break}}else if(t&&"pointCloudStretchRenderer"===(null===o||void 0===o?void 0:o.type)){var y=(f=i.Z.fromJSON(o)).stops;l=new Uint8Array(3*n);for(var g=p(f.fieldTransformType),w=0;w<n;w++){var A=g?g(t[w]):t[w],m=y.length-1;if(A<y[0].value)l[3*w]=y[0].color.r,l[3*w+1]=y[0].color.g,l[3*w+2]=y[0].color.b;else if(A>=y[m].value)l[3*w]=y[m].color.r,l[3*w+1]=y[m].color.g,l[3*w+2]=y[m].color.b;else for(var I=1;I<y.length;I++)if(A<y[I].value){var O=(A-y[I-1].value)/(y[I].value-y[I-1].value);l[3*w]=y[I].color.r*O+y[I-1].color.r*(1-O),l[3*w+1]=y[I].color.g*O+y[I-1].color.g*(1-O),l[3*w+2]=y[I].color.b*O+y[I-1].color.b*(1-O);break}}}else if(t&&"pointCloudClassBreaksRenderer"===(null===o||void 0===o?void 0:o.type)){var M=(f=a.Z.fromJSON(o)).colorClassBreakInfos;l=new Uint8Array(3*n);for(var T=p(f.fieldTransformType),C=0;C<n;C++)for(var E=T?T(t[C]):t[C],U=0;U<M.length;U++)if(E>=M[U].minValue&&E<=M[U].maxValue){l[3*C]=M[U].color.r,l[3*C+1]=M[U].color.g,l[3*C+2]=M[U].color.b;break}}else{l=new Uint8Array(3*n);for(var S=0;S<l.length;S++)l[S]=255}if(r&&f&&f.colorModulation)for(var Z=f.colorModulation.minValue,R=f.colorModulation.maxValue,L=0;L<n;L++){var F=r[L],N=F>=R?1:F<=Z?.3:.3+.7*(F-Z)/(R-Z);l[3*L]=N*l[3*L],l[3*L+1]=N*l[3*L+1],l[3*L+2]=N*l[3*L+2]}return l}function s(e,t){if(null==e.encoding||""===e.encoding){var r=(0,c.W7)(t,e);if((0,o.Wi)(r.vertexAttributes.position))return;for(var n=(0,c.I_)(t,r.vertexAttributes.position),a=r.header.fields,i=[a.offsetX,a.offsetY,a.offsetZ],u=[a.scaleX,a.scaleY,a.scaleZ],f=n.length/3,s=new Float64Array(3*f),d=0;d<f;d++)s[3*d]=n[3*d]*u[0]+i[0],s[3*d+1]=n[3*d+1]*u[1]+i[1],s[3*d+2]=n[3*d+2]*u[2]+i[2];return s}if("lepcc-xyz"===e.encoding)return(0,l.Gi)(t).result}function d(e,t,r){return(0,o.pC)(e)&&e.attributeInfo.useElevation?t?v(t,r):null:(0,o.pC)(e)&&e.attributeInfo.storageInfo?(0,c.qM)(e.attributeInfo.storageInfo,e.buffer,r):null}function v(e,t){for(var r=new Float64Array(t),n=0;n<t;n++)r[n]=e[3*n+2];return r}function b(e,t,r,o,a){for(var i=e.length/3,u=0,c=0;c<i;c++){for(var l=!0,f=0;f<o.length&&l;f++){var s=o[f].filterJSON,d=a[f].values[c];switch(s.type){case"pointCloudValueFilter":var v="exclude"===s.mode;s.values.includes(d)===v&&(l=!1);break;case"pointCloudBitfieldFilter":var b=h(s.requiredSetBits),p=h(s.requiredClearBits);(d&b)===b&&0==(d&p)||(l=!1);break;case"pointCloudReturnFilter":var y,g=15&d,w=d>>>4&15,A=w>1,m=1===g,I=g===w,O=!1,M=(0,n.Z)(s.includedReturns);try{for(M.s();!(y=M.n()).done;){var T=y.value;if("last"===T&&I||"firstOfMany"===T&&m&&A||"lastOfMany"===T&&I&&A||"single"===T&&!A){O=!0;break}}}catch(C){M.e(C)}finally{M.f()}O||(l=!1)}}l&&(r[u]=c,e[3*u]=e[3*c],e[3*u+1]=e[3*c+1],e[3*u+2]=e[3*c+2],t[3*u]=t[3*c],t[3*u+1]=t[3*c+1],t[3*u+2]=t[3*c+2],u++)}return u}function p(e){return null==e||"none"===e?null:"low-four-bit"===e?function(e){return 15&e}:"high-four-bit"===e?function(e){return(240&e)>>4}:"absolute-value"===e?function(e){return Math.abs(e)}:"modulo-ten"===e?function(e){return e%10}:null}function h(e){var t,r=0,o=(0,n.Z)(e||[]);try{for(o.s();!(t=o.n()).done;){r|=1<<t.value}}catch(a){o.e(a)}finally{o.f()}return r}},4760:function(e,t,r){var n;r.d(t,{T:function(){return n}}),function(e){e.POSITION="position",e.NORMAL="normal",e.UV0="uv0",e.AUXPOS1="auxpos1",e.AUXPOS2="auxpos2",e.COLOR="color",e.SYMBOLCOLOR="symbolColor",e.SIZE="size",e.TANGENT="tangent",e.OFFSET="offset",e.SUBDIVISIONFACTOR="subdivisionFactor",e.COLORFEATUREATTRIBUTE="colorFeatureAttribute",e.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",e.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",e.DISTANCETOSTART="distanceToStart",e.UVMAPSPACE="uvMapSpace",e.BOUNDINGRECT="boundingRect",e.UVREGION="uvRegion",e.NORMALCOMPRESSED="normalCompressed",e.PROFILERIGHT="profileRight",e.PROFILEUP="profileUp",e.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",e.FEATUREVALUE="featureValue",e.MODELORIGINHI="modelOriginHi",e.MODELORIGINLO="modelOriginLo",e.MODEL="model",e.MODELNORMAL="modelNormal",e.INSTANCECOLOR="instanceColor",e.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",e.LOCALTRANSFORM="localTransform",e.GLOBALTRANSFORM="globalTransform",e.BOUNDINGSPHERE="boundingSphere",e.MODELORIGIN="modelOrigin",e.MODELSCALEFACTORS="modelScaleFactors",e.FEATUREATTRIBUTE="featureAttribute",e.STATE="state",e.LODLEVEL="lodLevel",e.POSITION0="position0",e.POSITION1="position1",e.NORMALA="normalA",e.NORMALB="normalB",e.COMPONENTINDEX="componentIndex",e.VARIANTOFFSET="variantOffset",e.VARIANTSTROKE="variantStroke",e.VARIANTEXTENSION="variantExtension",e.U8PADDING="u8padding",e.U16PADDING="u16padding",e.SIDENESS="sideness",e.START="start",e.END="end",e.UP="up",e.EXTRUDE="extrude",e.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",e.OBJECTANDLAYERIDCOLOR_INSTANCED="objectAndLayerIdColor_instanced"}(n||(n={}))}}]);
//# sourceMappingURL=91712.79a0c808.chunk.js.map