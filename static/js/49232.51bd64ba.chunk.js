"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[49232],{58935:function(t,e,i){i.d(e,{N9:function(){return m},Pr:function(){return Z},Rd:function(){return l},SP:function(){return b},Se:function(){return x},Ud:function(){return p},VG:function(){return o},Wv:function(){return c},Zv:function(){return f},cy:function(){return g},i_:function(){return G},ym:function(){return w}});var r=i(92026),n=i(47898),a=i(5163);function o(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return(0,a.VG)(t,(0,n.nn)(e,i).value,i,r,o)}function s(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return(0,a.LO)(t,(0,n.nn)(e,i).value,i,r,o)}function l(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.Rd)(t,e.value,e.unit,i,r)}function h(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.mg)(t,e.value,e.unit,i,r)}function c(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.Wv)(t,e.value,e.unit,i,r)}function u(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.h9)(t,e.value,e.unit,i,r)}function v(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.ld)(t,e.value,e.unit,i,r)}function p(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.Ud)(t,e.value,e.unit,i,r)}function d(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.q6)(t,e.value,e.unit,i,r)}function f(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.Zv)(t,e.value,e.unit,i,r)}function _(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.aC)(t,e.value,e.unit,i,r)}function y(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,a.yc)(t,e.value,e.unit,i,r)}function g(t,e,i){return(0,a.L4)(t.value,t.unit,t.rotationType,e,i)}function b(t,e,i){return(0,a._o)(t.value,t.unit,t.rotationType,e,i)}function m(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(n=(0,r.Pt)(n,2),i){case"imperial":return p(t,e,n,a);case"metric":return l(t,e,n,a);default:return o(t,e,i,n,a)}}function G(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return d(t,e,r,n);case"metric":return h(t,e,r,n);default:return s(t,e,i,r,n)}}function w(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return f(t,e,r,n);case"metric":return c(t,e,r,n);default:return o(t,e,i,r,n)}}function Z(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return _(t,e,r,n);case"metric":return u(t,e,r,n);default:return s(t,e,i,r,n)}}function x(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return y(t,e,r,n);case"metric":return v(t,e,r,n);default:return o(t,e,i,r,n)}}},47898:function(t,e,i){i.d(e,{EV:function(){return o},Fp:function(){return u},GJ:function(){return h},MQ:function(){return d},bA:function(){return v},ne:function(){return l},nn:function(){return c},yG:function(){return s},yP:function(){return p}});var r=i(1413),n=i(92026),a=i(68860);function o(t,e){return{type:(0,a.UF)(e),value:t,unit:e}}function s(t,e){return{type:(0,a.UF)(e),value:t,unit:e}}function l(t,e){return{type:(0,a.UF)(e),value:t,unit:e}}function h(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arithmetic";return{type:(0,a.UF)(e),value:t,unit:e,rotationType:i}}function c(t,e){return o((0,a.En)(t.value,t.unit,e),e)}function u(t,e){return(0,n.Wi)(t)?e:(0,n.Wi)(e)||t.value>(0,a.En)(e.value,e.unit,t.unit)?t:e}function v(t,e){return(0,n.Wi)(t)?null:(0,r.Z)((0,r.Z)({},t),{},{value:t.value*e})}var p=s(0,"meters"),d=l(0,"square-meters");h(0,"radians")},74177:function(t,e,i){i.d(e,{R:function(){return o}});var r=i(92026),n=i(68860),a=i(70032);function o(t){var e,i,o,s,l="metric";if((0,r.Wi)(t))return l;var h=t.map,c=null!==(e=h&&"portalItem"in h?null===(i=h.portalItem)||void 0===i?void 0:i.portal:null)&&void 0!==e?e:a.Z.getDefault();switch(null!==(o=null===(s=c.user)||void 0===s?void 0:s.units)&&void 0!==o?o:c.units){case l:return l;case"english":return"imperial"}return(0,r.Pt)((0,n.yT)(t.spatialReference),l)}},96306:function(t,e,i){i.r(e),i.d(e,{default:function(){return J}});var r=i(29439),n=i(37762),a=i(60136),o=i(92572),s=i(43144),l=i(15671),h=i(27366),c=(i(59486),i(52639)),u=i(91505),v=i(92026),p=i(47898),d=i(94172),f=i(49861),_=(i(25243),i(63780),i(69912)),y=i(65156),g=i(376),b=i(69662),m=i(80885),G=i(29909),w=i(585),Z=i(77577);function x(t){var e,i=0,r=0,n=t.length,a=t[r];for(r=0;r<n-1;r++)i+=((e=t[r+1])[0]-a[0])*(e[1]+a[1]),a=e;return i>=0}function k(t,e,i,r){var a,o=[],s=(0,n.Z)(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,h=l.slice(0);o.push(h);var c=e*(l[0]-r.x)-i*(l[1]-r.y)+r.x,u=i*(l[0]-r.x)+e*(l[1]-r.y)+r.y;h[0]=c,h[1]=u}}catch(v){s.e(v)}finally{s.f()}return o}function C(t,e,i){var r,a,o=t,s=o.hasM,l=o.hasZ,h=o.spatialReference,c=e*Math.PI/180,u=Math.cos(c),v=Math.sin(c);if("xmin"in t&&(i=null!==(r=i)&&void 0!==r?r:t.center,t=new m.Z({spatialReference:h,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]})),"paths"in t){var p;i=null!==(p=i)&&void 0!==p?p:t.extent.center;var d,f=[],_=(0,n.Z)(t.paths);try{for(_.s();!(d=_.n()).done;){var y=d.value;f.push(k(y,u,v,i))}}catch(H){_.e(H)}finally{_.f()}return new G.Z({hasM:s,hasZ:l,spatialReference:h,paths:f})}if("rings"in t){var g;i=null!==(g=i)&&void 0!==g?g:t.extent.center;var b,C=[],S=(0,n.Z)(t.rings);try{for(S.s();!(b=S.n()).done;){var R=b.value,I=x(R),O=k(R,u,v,i);x(O)!==I&&O.reverse(),C.push(O)}}catch(H){S.e(H)}finally{S.f()}return new m.Z({hasM:s,hasZ:l,spatialReference:h,rings:C})}if("x"in t){var M;i=null!==(M=i)&&void 0!==M?M:t;var T=new w.Z({x:u*(t.x-i.x)-v*(t.y-i.y)+i.x,y:v*(t.x-i.x)+u*(t.y-i.y)+i.y,spatialReference:h});return null!=t.z&&(T.z=t.z),null!=t.m&&(T.m=t.m),T}return"points"in t?(i=null!==(a=i)&&void 0!==a?a:t.extent.center,new Z.Z({hasM:s,hasZ:l,points:k(t.points,u,v,i),spatialReference:h})):null}var S=i(61459),R=i(16851),I=i(16072),O=i(20008),M=i(53503),T=i(74982),H=i(83089),P=i(70040),z=i(77560),E=i(7068),Y=i(12494),L=i(40524),A=i(59418),U=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.dx=r,this.dy=n,this.type="move-start"})),B=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.dx=r,this.dy=n,this.type="move"})),X=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.dx=r,this.dy=n,this.type="move-stop"})),N=(0,s.Z)((function t(e,i,r){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.angle=r,this.type="rotate-start"})),V=(0,s.Z)((function t(e,i,r){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.angle=r,this.type="rotate"})),W=(0,s.Z)((function t(e,i,r){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.angle=r,this.type="rotate-stop"})),j=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.xScale=r,this.yScale=n,this.type="scale-start"})),D=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.xScale=r,this.yScale=n,this.type="scale"})),F=(0,s.Z)((function t(e,i,r,n){(0,l.Z)(this,t),this.graphics=e,this.mover=i,this.xScale=r,this.yScale=n,this.type="scale-stop"})),Q=P.X.transformGraphics,q={centerIndicator:new I.Z({style:"cross",size:Q.center.size,color:Q.center.color}),fill:{default:new S.Z({color:Q.fill.color,outline:{color:Q.fill.outlineColor,join:"round",width:1}}),active:new S.Z({color:Q.fill.stagedColor,outline:{color:Q.fill.outlineColor,join:"round",style:"dash",width:1}})},handles:{default:new I.Z({style:"square",size:Q.vertex.size,color:Q.vertex.color,outline:{color:Q.vertex.outlineColor,width:1}}),hover:new I.Z({style:"square",size:Q.vertex.hoverSize,color:Q.vertex.hoverColor,outline:{color:Q.vertex.hoverOutlineColor,width:1}})},rotator:{default:new I.Z({style:"circle",size:Q.vertex.size,color:Q.vertex.color,outline:{color:Q.vertex.outlineColor,width:1}}),hover:new I.Z({style:"circle",size:Q.vertex.hoverSize,color:Q.vertex.hoverColor,outline:{color:Q.vertex.hoverOutlineColor,width:1}})},rotatorLine:new R.Z({color:Q.line.color,width:1})},$=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var a;return(0,l.Z)(this,i),(a=e.call(this,t))._activeHandleGraphic=null,a._graphicAttributes={esriSketchTool:"box"},a._mover=null,a._centerGraphic=null,a._backgroundGraphic=null,a._vertexGraphics=[],a._rotateHandleGraphic=null,a._rotateGraphicOffset=20,a._angleOfRotation=0,a._rotateLineGraphic=null,a._startInfo=null,a._tooltip=null,a._totalDx=0,a._totalDy=0,a._xScale=1,a._yScale=1,a.type="box",a.callbacks={onMoveStart:function(){},onMove:function(){},onMoveStop:function(){},onScaleStart:function(){},onScale:function(){},onScaleStop:function(){},onRotateStart:function(){},onRotate:function(){},onRotateStop:function(){},onGraphicClick:function(){}},a.enableMovement=!0,a.enableRotation=!0,a.enableScaling=!0,a.graphics=[],a.highlightsEnabled=!0,a.layer=null,a.preserveAspectRatio=!1,a.showCenterGraphic=!0,a.symbols=q,a.tooltipOptions=new z.Z,a.view=null,a._getBounds=function(){var t=(0,y.Ue)();return function(e,i){e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;var a,o=(0,n.Z)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s){var l=void 0,h=void 0,c=void 0,u=void 0;if("point"===s.type)l=c=s.x,h=u=s.y;else if("multipoint"===s.type){var v=(0,b.nA)(s),p=(0,g.C6)(t,[v]),d=(0,r.Z)(p,4);l=d[0],h=d[1],c=d[2],u=d[3]}else if("extent"===s.type){var f=[s.xmin,s.ymin,s.xmax,s.ymax];l=f[0],h=f[1],c=f[2],u=f[3]}else{var _=(0,b.nA)(s),y=(0,g.C6)(t,_),m=(0,r.Z)(y,4);l=m[0],h=m[1],c=m[2],u=m[3]}e[0]=Math.min(l,e[0]),e[1]=Math.min(h,e[1]),e[2]=Math.max(c,e[2]),e[3]=Math.max(u,e[3])}}}catch(G){o.e(G)}finally{o.f()}return e}}(),a}return(0,s.Z)(i,[{key:"initialize",value:function(){var t=this,e=this.view;this._highlightHelper=new T.Z({view:e}),this._tooltip=new Y.u({view:e}),this._setup(),this.addHandles([(0,d.gx)((function(){return null===e||void 0===e?void 0:e.ready}),(function(){var e=t.layer,i=t.view;(0,H.p)(i,e)}),{once:!0,initial:!0}),(0,d.YP)((function(){return t.preserveAspectRatio}),(function(){t._activeHandleGraphic&&(t._scaleGraphic(t._activeHandleGraphic),t._updateGraphics(),t._updateTooltip(t._activeHandleGraphic))})),(0,d.YP)((function(){return null===e||void 0===e?void 0:e.scale}),(function(){t._updateRotateGraphic(),t._updateRotateLineGraphic()})),(0,d.YP)((function(){return t.graphics}),(function(){return t.refresh()})),(0,d.YP)((function(){return t.layer}),(function(e,i){i&&t._resetGraphics(i),t.refresh()})),(0,d.YP)((function(){return t.highlightsEnabled}),(function(){var e;null!==(e=t._highlightHelper)&&void 0!==e&&e.removeAll(),t._setUpHighlights()})),(0,d.YP)((function(){return t.tooltipOptions.enabled}),(function(e){t._tooltip=e?new Y.u({view:t.view}):(0,v.SC)(t._tooltip)}),d.tX),this.on("move-start",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onMoveStart)||void 0===r?void 0:r.call(i,e)})),this.on("move",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onMove)||void 0===r?void 0:r.call(i,e)})),this.on("move-stop",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onMoveStop)||void 0===r?void 0:r.call(i,e)})),this.on("rotate-start",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onRotateStart)||void 0===r?void 0:r.call(i,e)})),this.on("rotate",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onRotate)||void 0===r?void 0:r.call(i,e)})),this.on("rotate-stop",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onRotateStop)||void 0===r?void 0:r.call(i,e)})),this.on("scale-start",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onScaleStart)||void 0===r?void 0:r.call(i,e)})),this.on("scale",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onScale)||void 0===r?void 0:r.call(i,e)})),this.on("scale-stop",(function(e){var i,r;return null===(i=t.callbacks)||void 0===i||null===(r=i.onScaleStop)||void 0===r?void 0:r.call(i,e)}))])}},{key:"destroy",value:function(){this._reset(),this._tooltip=(0,v.SC)(this._tooltip)}},{key:"state",get:function(){var t,e,i=null!==(t=null===(e=this.view)||void 0===e?void 0:e.ready)&&void 0!==t&&t,r=this.graphics.length&&this.layer;return i&&r?"active":i?"ready":"disabled"}},{key:"isUIGraphic",value:function(t){return this._vertexGraphics.includes(t)||t===this._backgroundGraphic||t===this._centerGraphic||t===this._rotateHandleGraphic||t===this._rotateLineGraphic}},{key:"move",value:function(t,e){if(this._mover&&this.graphics.length){var i,r=(0,n.Z)(this.graphics);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.geometry,s=(0,O.e7)(o,t,e,this.view);a.geometry=s}}catch(l){r.e(l)}finally{r.f()}this.refresh(),this.emit("move-stop",new X(this.graphics,null,t,e))}}},{key:"scale",value:function(t,e){if(this._mover&&this.graphics.length){var i,r=(0,n.Z)(this.graphics);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.geometry,s=(0,O.bA)(o,t,e);a.geometry=s}}catch(l){r.e(l)}finally{r.f()}this.refresh(),this.emit("scale-stop",new F(this.graphics,null,t,e))}}},{key:"rotate",value:function(t,e){if(this._mover&&this.graphics.length){if(!e){var i=this._vertexGraphics[1].geometry.x,r=this._vertexGraphics[3].geometry.y;e=new w.Z(i,r,this.view.spatialReference)}var a,o=(0,n.Z)(this.graphics);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=C(s.geometry,t,e);s.geometry=l}}catch(h){o.e(h)}finally{o.f()}this.refresh(),this.emit("rotate-stop",new W(this.graphics,null,t))}}},{key:"refresh",value:function(){this._reset(),this._setup()}},{key:"reset",value:function(){this.graphics=[]}},{key:"_setup",value:function(){"active"===this.state&&(this._setUpHighlights(),this._setupGraphics(),this._setupMover(),this._updateGraphics())}},{key:"_reset",value:function(){this._highlightHelper.removeAll(),this._resetGraphicStateVars(),this._resetGraphics(),this._updateTooltip(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}},{key:"_resetGraphicStateVars",value:function(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}},{key:"_resetGraphics",value:function(t){(t=t||this.layer)&&(t.removeMany(this._vertexGraphics),t.remove(this._backgroundGraphic),t.remove(this._centerGraphic),t.remove(this._rotateHandleGraphic),t.remove(this._rotateLineGraphic)),this._vertexGraphics=[],this._backgroundGraphic=null,this._centerGraphic=null,this._rotateHandleGraphic=null,this._rotateLineGraphic=null}},{key:"_setupMover",value:function(){var t=this,e=[];this.enableScaling&&(e=e.concat(this._vertexGraphics)),this.enableMovement&&(e=e.concat(this.graphics,this._backgroundGraphic)),this.enableRotation&&e.push(this._rotateHandleGraphic),this.showCenterGraphic&&e.push(this._centerGraphic),this._mover=new M.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,view:this.view,graphics:e,callbacks:{onGraphicClick:function(e){return t._onGraphicClickCallback(e)},onGraphicMoveStart:function(e){return t._onGraphicMoveStartCallback(e)},onGraphicMove:function(e){return t._onGraphicMoveCallback(e)},onGraphicMoveStop:function(e){return t._onGraphicMoveStopCallback(e)},onGraphicPointerOver:function(e){return t._onGraphicPointerOverCallback(e)},onGraphicPointerOut:function(e){return t._onGraphicPointerOutCallback(e)}}})}},{key:"_getStartInfo",value:function(t){var e=this._getBoxBounds((0,y.Ue)()),i=(0,r.Z)(e,4),n=i[0],a=i[1],o=i[2],s=i[3],l=Math.abs(o-n),h=Math.abs(s-a),c=(o+n)/2,u=(s+a)/2,v=t.geometry;return{width:l,height:h,centerX:c,centerY:u,startX:v.x,startY:v.y,graphicInfos:this._getGraphicInfos(),box:this._backgroundGraphic.geometry,rotate:this._rotateHandleGraphic.geometry}}},{key:"_getGraphicInfos",value:function(){var t=this;return this.graphics.map((function(e){return t._getGraphicInfo(e)}))}},{key:"_getGraphicInfo",value:function(t){var e=t.geometry,i=this._getBounds((0,y.Ue)(),[e]),n=(0,r.Z)(i,4),a=n[0],o=n[1],s=n[2],l=n[3];return{width:Math.abs(s-a),height:Math.abs(l-o),centerX:(s+a)/2,centerY:(l+o)/2,geometry:e}}},{key:"_onGraphicClickCallback",value:function(t){t.viewEvent.stopPropagation(),this.emit("graphic-click",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}},{key:"_onGraphicMoveStartCallback",value:function(t){var e=this._angleOfRotation,i=this._xScale,r=this._yScale,n=this._backgroundGraphic,a=this._vertexGraphics,o=this._rotateHandleGraphic,s=this.symbols,l=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),n.symbol=s.fill.active,this._startInfo=this._getStartInfo(l),this._updateTooltip(l,t.viewEvent),l===o?(this.view.cursor="grabbing",this.emit("rotate-start",new N(this.graphics,l,e))):a.includes(l)?(this._activeHandleGraphic=l,this.emit("scale-start",new j(this.graphics,l,i,r))):this.emit("move-start",new U(this.graphics,l,t.dx,t.dy))}},{key:"_onGraphicMoveCallback",value:function(t){var e=t.graphic;if(this._startInfo)if(this._vertexGraphics.includes(e))this._scaleGraphic(e),this._updateTooltip(e,t.viewEvent),this.emit("scale",new D(this.graphics,e,this._xScale,this._yScale));else if(e===this._rotateHandleGraphic)this._rotateGraphic(e),this._updateTooltip(e,t.viewEvent),this.emit("rotate",new V(this.graphics,e,this._angleOfRotation));else{var i=t.dx,r=t.dy;this._totalDx+=i,this._totalDy+=r,this._moveGraphic(e,i,r),this._updateTooltip(e,t.viewEvent),this.emit("move",new B(this.graphics,e,i,r))}}},{key:"_onGraphicMoveStopCallback",value:function(t){var e=t.graphic;if(this._startInfo){var i=this._angleOfRotation,r=this._totalDx,n=this._totalDy,a=this._xScale,o=this._yScale,s=this._vertexGraphics,l=this._rotateHandleGraphic;this.refresh(),e===l?(this.view.cursor="pointer",this.emit("rotate-stop",new W(this.graphics,e,i))):s.includes(e)?this.emit("scale-stop",new F(this.graphics,e,a,o)):this.emit("move-stop",new X(this.graphics,e,r,n))}else this.refresh()}},{key:"_onGraphicPointerOverCallback",value:function(t){var e=this._backgroundGraphic,i=this._vertexGraphics,r=this.graphics,n=this._rotateHandleGraphic,a=this.symbols,o=this.view,s=t.graphic;if(s===n)return n.symbol=a.rotator.hover,o.cursor="pointer",void this._updateTooltip(s);if(r.includes(s)||s===e)o.cursor="move";else if(i.includes(s)){this._updateTooltip(s),t.graphic.symbol=a.handles.hover;var l,h=o.rotation,c=t.index;switch(c<8&&(h>=0&&h<45?c%=8:c=h>=45&&h<90?(c+1)%8:h>=90&&h<135?(c+2)%8:h>=135&&h<180?(c+3)%8:h>=180&&h<225?(c+4)%8:h>=225&&h<270?(c+5)%8:h>=270&&h<315?(c+6)%8:(c+7)%8),c){case 0:case 4:l="nwse-resize";break;case 1:case 5:l="ns-resize";break;case 2:case 6:l="nesw-resize";break;case 3:case 7:l="ew-resize";break;default:l="pointer"}o.cursor=l}else o.cursor="pointer"}},{key:"_onGraphicPointerOutCallback",value:function(t){var e=this._vertexGraphics,i=this._rotateHandleGraphic,r=this.symbols,n=this.view;t.graphic===i?i.symbol=r.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=r.handles.default),n.cursor="default",this._updateTooltip()}},{key:"_scaleGraphic",value:function(t){var e,i,r=this._startInfo,a=this._vertexGraphics,o=this.preserveAspectRatio,s=this.view,l=r.centerX,h=r.centerY,c=r.startX,u=r.startY,v=s.state,p=v.resolution,d=v.transform,f=a.indexOf(t);1!==f&&5!==f||this._updateX(t,l),3!==f&&7!==f||this._updateY(t,h);var _=t.geometry,y=_.x,g=_.y,b=d[0]*y+d[2]*g+d[4],m=d[1]*y+d[3]*g+d[5],G=null!==(e=null===(i=r.graphicInfos)||void 0===i?void 0:i.map((function(t){return t.geometry})))&&void 0!==e?e:[];if(o){var Z=d[0]*l+d[2]*h+d[4],x=d[1]*l+d[3]*h+d[5],k=d[0]*c+d[2]*u+d[4],C=d[1]*c+d[3]*u+d[5];this._xScale=this._yScale=(0,O.Ru)(Z,x,k,C,b,m);var S,R=(0,n.Z)(G);try{for(R.s();!(S=R.n()).done;){var I=S.value,M=G.indexOf(I);this.graphics[M].geometry=(0,O.bA)(I,this._xScale,this._yScale,[l,h])}}catch(K){R.e(K)}finally{R.f()}this._updateBackgroundGraphic()}else{var T=r.width,H=r.height,P=y-c,z=u-g;if(1===f||5===f?P=0:3!==f&&7!==f||(z=0),0===P&&0===z)return;var E=T+(c>l?P:-1*P),Y=H+(u<h?z:-1*z),L=l+P/2,A=h+z/2;this._xScale=E/T||1,this._yScale=Y/H||1,1===f||5===f?this._xScale=1:3!==f&&7!==f||(this._yScale=1);var U=(L-l)/p,B=(A-h)/p,X=(0,O.bA)(r.box,this._xScale,this._yScale);this._backgroundGraphic.geometry=(0,O.e7)(X,U,B,s,!0);var N,V=this._getGraphicInfo(this._backgroundGraphic),W=V.centerX,j=V.centerY,D=(W-l)/p,F=-1*(j-h)/p,Q=(0,n.Z)(G);try{for(Q.s();!(N=Q.n()).done;){var q=N.value,$=G.indexOf(q),J=(0,O.bA)(q,this._xScale,this._yScale,[l,h]);this.graphics[$].geometry=(0,O.e7)(J,D,F,s,!0)}}catch(K){Q.e(K)}finally{Q.f()}this._centerGraphic.geometry=new w.Z(W,j,s.spatialReference)}}},{key:"_rotateGraphic",value:function(t){var e,i,r=this._startInfo,a=r.centerX,o=r.centerY,s=r.startX,l=r.startY,h=r.box,c=r.rotate,u=this.view.spatialReference,v=new w.Z(s,l,u),p=new w.Z(a,o,u),d=t.geometry;this._angleOfRotation=(0,O.cM)(v,d,p);var f,_=null!==(e=null===(i=this._startInfo.graphicInfos)||void 0===i?void 0:i.map((function(t){return t.geometry})))&&void 0!==e?e:[],y=(0,n.Z)(_);try{for(y.s();!(f=y.n()).done;){var g=f.value,b=_.indexOf(g),m=C(g,this._angleOfRotation,p);this.graphics[b].geometry=m}}catch(G){y.e(G)}finally{y.f()}this._backgroundGraphic.geometry=C(h,this._angleOfRotation,p),this._rotateHandleGraphic.geometry=C(c,this._angleOfRotation,p)}},{key:"_moveGraphic",value:function(t,e,i){if(this.graphics.includes(t)){var r=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=(0,O.e7)(r,e,i,this.view);var a,o=(0,n.Z)(this.graphics);try{for(o.s();!(a=o.n()).done;){var s=a.value;s!==t&&(s.geometry=(0,O.e7)(s.geometry,e,i,this.view))}}catch(v){o.e(v)}finally{o.f()}}else if(t===this._centerGraphic){var l=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=(0,O.e7)(l,e,i,this.view)}if(t===this._backgroundGraphic||t===this._centerGraphic){var h,c=(0,n.Z)(this.graphics);try{for(c.s();!(h=c.n()).done;){var u=h.value;u.geometry=(0,O.e7)(u.geometry,e,i,this.view)}}catch(v){c.e(v)}finally{c.f()}}}},{key:"_setUpHighlights",value:function(){var t;this.highlightsEnabled&&this.graphics.length&&(null===(t=this._highlightHelper)||void 0===t||t.add(this.graphics))}},{key:"_setupGraphics",value:function(){var t=this._graphicAttributes,e=this.symbols;this._centerGraphic=new c.Z(null,e.centerIndicator,t),this.showCenterGraphic&&this.layer.add(this._centerGraphic),this._backgroundGraphic=new c.Z(null,e.fill.default,t),this.layer.add(this._backgroundGraphic),this._rotateLineGraphic=new c.Z(null,e.rotatorLine,t),this._rotateHandleGraphic=new c.Z(null,e.rotator.default,t),this.enableRotation&&!this._hasExtentGraphic()&&this.layer.addMany([this._rotateLineGraphic,this._rotateHandleGraphic]);for(var i=0;i<8;i++)this._vertexGraphics.push(new c.Z(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this._vertexGraphics)}},{key:"_updateGraphics",value:function(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}},{key:"_hideGraphicsBeforeUpdate",value:function(){this._centerGraphic.visible=!1,this._rotateHandleGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this._vertexGraphics.forEach((function(t){return t.visible=!1}))}},{key:"_updateHandleGraphics",value:function(){var t=this,e=this._getCoordinates(!0);this._vertexGraphics.forEach((function(i,n){var a=(0,r.Z)(e[n],2),o=a[0],s=a[1];t._updateXY(i,o,s)}))}},{key:"_updateBackgroundGraphic",value:function(){var t=this._getCoordinates();this._backgroundGraphic.geometry=new m.Z({rings:t,spatialReference:this.view.spatialReference})}},{key:"_updateCenterGraphic",value:function(){var t=this._getBoxBounds((0,y.Ue)()),e=(0,r.Z)(t,4),i=e[0],n=e[1],a=(e[2]+i)/2,o=(e[3]+n)/2;this._centerGraphic.geometry=new w.Z(a,o,this.view.spatialReference)}},{key:"_updateRotateGraphic",value:function(){if(this._vertexGraphics.length){var t=this._vertexGraphics[1].geometry,e=t.x,i=t.y+this.view.state.resolution*this._rotateGraphicOffset;this._rotateHandleGraphic.geometry=new w.Z(e,i,this.view.spatialReference)}}},{key:"_updateRotateLineGraphic",value:function(){if(this._vertexGraphics.length&&this._rotateHandleGraphic&&this._rotateHandleGraphic.geometry){var t=this._vertexGraphics[1].geometry,e=this._rotateHandleGraphic.geometry;this._rotateLineGraphic.geometry=new G.Z({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}}},{key:"_updateXY",value:function(t,e,i){t.geometry=new w.Z(e,i,this.view.spatialReference)}},{key:"_updateX",value:function(t,e){var i=t.geometry.y;t.geometry=new w.Z(e,i,this.view.spatialReference)}},{key:"_updateY",value:function(t,e){var i=t.geometry.x;t.geometry=new w.Z(i,e,this.view.spatialReference)}},{key:"_hasExtentGraphic",value:function(){return this.graphics.some((function(t){return t&&(0,v.pC)(t.geometry)&&"extent"===t.geometry.type}))}},{key:"_getBoxBounds",value:function(t){var e=this.graphics.map((function(t){return t.geometry}));return this._getBounds(t,e)}},{key:"_getCoordinates",value:function(t){var e=this._getBoxBounds((0,y.Ue)()),i=(0,r.Z)(e,4),n=i[0],a=i[1],o=i[2],s=i[3];if(t){var l=(n+o)/2,h=(s+a)/2;return[[n,s],[l,s],[o,s],[o,h],[o,a],[l,a],[n,a],[n,h]]}return[[n,s],[o,s],[o,a],[n,a]]}},{key:"_updateTooltip",value:function(t,e){if(!(0,v.Wi)(this._tooltip))if(t){var i=this._backgroundGraphic,r=this.graphics,n=this._vertexGraphics;t===this._rotateHandleGraphic?this._updateRotateTooltip():n.includes(t)?this._updateScaleTooltip():(r.includes(t)||t===i)&&this._updateMoveTooltip(e)}else this._tooltip.clear()}},{key:"_updateRotateTooltip",value:function(){(0,v.Wi)(this._tooltip)||(this._tooltip.info=new E.c({tooltipOptions:this.tooltipOptions,angle:-this._angleOfRotation}))}},{key:"_updateScaleTooltip",value:function(){var t=this._tooltip,e=this._xScale,i=this._yScale,r=this.tooltipOptions,n=this.view;if(!(0,v.Wi)(t)){var a=n.spatialReference,o=this._getCoordinates(),s=new w.Z(o[0][0],o[0][1],a),l=new w.Z(o[1][0],o[1][1],a),h=new w.Z(o[2][0],o[2][1],a),c=(0,A.Qw)(s,l),u=(0,A.Qw)(l,h);if(!(0,v.Wi)(c)&&!(0,v.Wi)(u)){var p=Math.abs(e),d=Math.abs(i);t.info=new E.p({tooltipOptions:r,xScale:p,yScale:d,xSize:c,ySize:u})}}}},{key:"_updateMoveTooltip",value:function(t){var e=this._tooltip,i=this.tooltipOptions,r=this.view;if(!(0,v.Wi)(e)){var n=new L.$E({tooltipOptions:i});if(t){var a=t.origin,o=a.x,s=a.y,l=r.toMap(t),h=r.toMap({x:o,y:s}),c=(0,A.Qw)(h,l);n.distance=(0,v.pC)(c)?c:p.yP}e.info=n}}}]),i}(u.Z.EventedAccessor);(0,h._)([(0,f.Cb)()],$.prototype,"_tooltip",void 0),(0,h._)([(0,f.Cb)({readOnly:!0})],$.prototype,"type",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"callbacks",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"enableMovement",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"enableRotation",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"enableScaling",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"graphics",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"highlightsEnabled",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"layer",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"preserveAspectRatio",void 0),(0,h._)([(0,f.Cb)()],$.prototype,"showCenterGraphic",void 0),(0,h._)([(0,f.Cb)({readOnly:!0})],$.prototype,"state",null),(0,h._)([(0,f.Cb)({value:q,cast:function(t){var e=t||{},i=e.centerIndicator,r=void 0===i?q.centerIndicator:i,n=e.fill,a=void 0===n?q.fill:n,o=e.handles,s=void 0===o?q.handles:o,l=e.rotator,h=void 0===l?q.rotator:l,c=e.rotatorLine;return{centerIndicator:r,fill:a,handles:s,rotator:h,rotatorLine:void 0===c?q.rotatorLine:c}}})],$.prototype,"symbols",void 0),(0,h._)([(0,f.Cb)({type:z.Z})],$.prototype,"tooltipOptions",void 0),(0,h._)([(0,f.Cb)({constructOnly:!0})],$.prototype,"view",void 0);var J=$=(0,h._)([(0,_.j)("esri.views.draw.support.Box")],$)},70040:function(t,e,i){i.d(e,{O:function(){return o},X:function(){return p}});var r=i(43144),n=i(15671),a=i(51995),o={main:new a.Z([255,127,0]),selected:new a.Z([255,255,255]),outline:new a.Z([0,0,0,.5]),selectedOutline:new a.Z([255,255,255]),hoverOutline:new a.Z([255,255,255]),secondary:new a.Z([255,255,255]),secondaryOutline:new a.Z([100,100,100]),transparent:new a.Z([0,0,0,0])};function s(t,e){if(e)for(var i in e)t[i]=e[i]}var l=(0,r.Z)((function t(e){(0,n.Z)(this,t),this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,s(this,e)})),h=(0,r.Z)((function t(e){(0,n.Z)(this,t),this.color=o.secondary,this.hoverColor=o.main,s(this,e)})),c=(0,r.Z)((function t(e){(0,n.Z)(this,t),this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,s(this,e)})),u=(0,r.Z)((function t(e){(0,n.Z)(this,t),this.vertex=new l,this.midpoint=new l({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new l({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),s(this,e)})),v=(0,r.Z)((function t(e){(0,n.Z)(this,t),this.center=new l({color:o.secondaryOutline}),this.fill=new c,this.line=new h,this.vertex=new l({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),s(this,e)})),p=new((0,r.Z)((function t(e){(0,n.Z)(this,t),this.reshapeGraphics=new u,this.transformGraphics=new v,s(this,e)})))},7068:function(t,e,i){i.d(e,{c:function(){return v},p:function(){return p}});var r=i(43144),n=i(15671),a=i(60136),o=i(92572),s=i(27366),l=i(47898),h=i(49861),c=i(69912),u=i(4943),v=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="extent-rotate",r.angle=0,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],v.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],v.prototype,"angle",void 0),v=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.ExtentRotateTooltipInfo")],v);var p=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="extent-scale",r.xScale=0,r.yScale=0,r.xSize=l.yP,r.ySize=l.yP,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],p.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],p.prototype,"xScale",void 0),(0,s._)([(0,h.Cb)()],p.prototype,"yScale",void 0),(0,s._)([(0,h.Cb)()],p.prototype,"xSize",void 0),(0,s._)([(0,h.Cb)()],p.prototype,"ySize",void 0),p=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.ExtentScaleTooltipInfo")],p)},40524:function(t,e,i){i.d(e,{$E:function(){return v},QW:function(){return p},c1:function(){return y},in:function(){return d},j:function(){return _},nk:function(){return f}});var r=i(43144),n=i(15671),a=i(60136),o=i(92572),s=i(27366),l=i(47898),h=i(49861),c=i(69912),u=i(4943),v=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-graphic",r.distance=l.yP,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],v.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],v.prototype,"distance",void 0),v=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],v);var p=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-graphic-z",r.distance=l.yP,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],p.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],p.prototype,"distance",void 0),p=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateGraphicZTooltipInfo")],p);var d=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-graphic-xy",r.distance=l.yP,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],d.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],d.prototype,"distance",void 0),d=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateGraphicXYTooltipInfo")],d);var f=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-vertex",r.distance=l.yP,r.elevation=null,r.area=null,r.totalLength=null,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],f.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],f.prototype,"distance",void 0),(0,s._)([(0,h.Cb)()],f.prototype,"elevation",void 0),(0,s._)([(0,h.Cb)()],f.prototype,"area",void 0),(0,s._)([(0,h.Cb)()],f.prototype,"totalLength",void 0),f=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],f);var _=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-vertex-z",r.distance=l.yP,r.elevation=null,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],_.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],_.prototype,"distance",void 0),(0,s._)([(0,h.Cb)()],_.prototype,"elevation",void 0),_=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateVertexZTooltipInfo")],_);var y=function(t){(0,a.Z)(i,t);var e=(0,o.Z)(i);function i(t){var r;return(0,n.Z)(this,i),(r=e.call(this,t)).type="translate-vertex-xy",r.distance=l.yP,r.elevation=null,r.area=null,r.totalLength=null,r}return(0,r.Z)(i)}(u.h);(0,s._)([(0,h.Cb)()],y.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],y.prototype,"distance",void 0),(0,s._)([(0,h.Cb)()],y.prototype,"elevation",void 0),(0,s._)([(0,h.Cb)()],y.prototype,"area",void 0),(0,s._)([(0,h.Cb)()],y.prototype,"totalLength",void 0),y=(0,s._)([(0,c.j)("esri.views.interactive.tooltip.TranslateVertexXYTooltipInfo")],y)},25003:function(t,e,i){i.d(e,{m:function(){return a}});var r=i(79803),n=i(29691);function a(t){var e=(0,n.rS)(t),i=e===n.GG?n.wY:e;return(0,r.Up)(t,i)?i:t}}}]);
//# sourceMappingURL=49232.51bd64ba.chunk.js.map