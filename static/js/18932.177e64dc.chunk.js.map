{"version":3,"file":"static/js/18932.177e64dc.chunk.js","mappings":";usBA2DMA,wMAAiC,WACrC,WAAYC,IAAS,gBACnBC,EAAAA,EAAAA,GAAiBC,KAAMF,GACvBE,KAAKC,cAAeC,EAAAA,EAAAA,GAAYF,KAAM,eAAgB,GACtDA,KAAKG,MAAQ,KACbC,EAAAA,EAAAA,GAAKJ,KAAM,mBACb,CAgB+C,OAhB9C,kFACD,mGACoBK,EAAAA,EAAAA,qBAAiCL,KAAKM,IAAG,OAA3DN,KAAKO,KAAO,EAAH,qDACV,kDAHA,IAGA,yBACD,WACE,OAAOC,EAAAA,EAAyCR,KAAKS,QACvD,GAAC,8BACD,WACET,KAAKC,aAAaS,KAAKC,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,MAAAA,MAAAA,QAAAA,QAAAA,mBACzB,GAAC,oBACD,WACE,OAAQC,EAAAA,EAAAA,GAAEC,EAAAA,EAAM,CAAE,eAAgB,+BAAgCD,EAAAA,EAAAA,GAAE,iBAAkB,CAEpFE,MAAO,SAAUC,IAAKf,KAAKgB,iBAAkBb,MAAOH,KAAKG,QACxDS,EAAAA,EAAAA,GAAE,MAAO,CAAEK,KAAM,SAAWjB,KAAKO,KAAKW,EAAElB,KAAKmB,cAAcC,SAASR,EAAAA,EAAAA,GAAE,MAAO,CAAEK,KAAM,WAAajB,KAAKO,KAAKW,EAAElB,KAAKmB,cAAcE,WACtI,GAAC,cAED,WAAW,OAAOC,EAAAA,EAAAA,GAAWtB,KAAO,IAAC,uBADrC,WAA0B,MAAO,CAAC,UAAY,KAAC,EAtBV,IAyBvCH,EAAkC0B,MA3BW,uBA6B7C,IAEMC,EAA2B,WAC/B,WAAY1B,IAAS,gBACnBC,EAAAA,EAAAA,GAAiBC,KAAMF,GACvBE,KAAKC,cAAeC,EAAAA,EAAAA,GAAYF,KAAM,eAAgB,IACtDI,EAAAA,EAAAA,GAAKJ,KAAM,sBAAuB,oBAAqB,kBAAmB,mBAC5E,CAwF+C,OAxF9C,kFACD,mGACoBK,EAAAA,EAAAA,qBAAiCL,KAAKyB,SAAQ,OAAhEzB,KAAKO,KAAO,EAAH,qDACV,kDAHA,IAGA,8BACD,SAAiBmB,GACf,IAAuBC,EAAsE3B,KAArF4B,YAAeD,OAAUE,EAA4D7B,KAA5D6B,oBAAuCC,EAAqB9B,KAAvC+B,eAAkBD,QAAWE,EAAUhC,KAAVgC,MACnFhC,KAAKC,aAAaS,KAAKuB,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGR,GAAY,CAAEC,OAAAA,EAAQQ,SAAkC,OAAxBN,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBF,OAAQS,UAAWN,EAAQO,GAAIC,cAAeR,EAAQS,OAAQC,SAAUR,IAC/P,GAAC,iCACD,WACEhC,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,KAAAA,MAAAA,QAAAA,QAAAA,QACxB,GAAC,+BACD,WACEX,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,WAAAA,OAAAA,KAAAA,MAAAA,MAAAA,QAAAA,QACxB,GAAC,6BACD,WACEX,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,WAAAA,OAAAA,KAAAA,MAAAA,OAAAA,QAAAA,QACxB,GAAC,iCACD,WACE,IAAI+B,EACJ,EAA8E1C,KAAtE4B,YAAee,EAAI,EAAJA,KAA8BC,EAAO,EAA/BC,eAAkBC,KAAmBC,EAAY/C,KAAZ+C,QAC5DD,GAASF,GAAWD,EACtB,CAAEK,SAAUL,EAAKC,SACjBA,EACJ,OAAQhC,EAAAA,EAAAA,GAAE,iBAAkB,CAAE,YAAsB,OAATkC,QAA0B,IAATA,OAAkB,EAASA,EAAKG,SAAU9C,MAAO,IAAK+C,WAAqB,OAATJ,QAA0B,IAATA,OAAkB,EAASA,EAAKI,aAAcC,EAAAA,EAAAA,GAAoBJ,EAAQK,QAAQC,OAAQP,EAAMC,EAAQK,QAAQE,OAAQ,UAA2B,QAAfZ,EAAKI,SAAyB,IAAPJ,OAAgB,EAASA,EAAGL,GAAIW,SAAmB,OAATF,QAA0B,IAATA,OAAkB,EAASA,EAAKE,UACvY,GAAC,kCACD,WACE,IAAQzC,EAAmGP,KAAnGO,KAAI,EAA+FP,KAA7F4B,YAAgC2B,EAAe,EAAhCZ,KAAQC,QAAoDA,EAAO,EAA/BC,eAAkBC,KAC/EG,EAAW1C,EAAKW,EAAE,aAClB8B,EAAWzC,EAAKW,EAAE,UAKtB,OAJI0B,GAAWW,KACbN,GAAwB,OAAZL,QAAgC,IAAZA,OAAqB,EAASA,EAAQK,WAAa1C,EAAKW,EAAE,eAC1F8B,EAAWO,IAEL3C,EAAAA,EAAAA,GAAE4C,EAAAA,EAAU,MAAM5C,EAAAA,EAAAA,GAAE,IAAK,KAAMqC,IAAWrC,EAAAA,EAAAA,GAAE,OAAQ,KAAMoC,GACpE,GAAC,0CACD,WACE,IAAQzC,EAAkFP,KAAlFO,KAAI,EAA8EP,KAA5E4B,YAAeiB,eAAwBD,EAAO,EAAbE,KAAiCW,GAAN,EAAZC,aAA4B1D,KAAVyD,OAGhF,GAAgB,OAAZb,QAAgC,IAAZA,OAAqB,EAASA,EAAQe,OAAQ,CACpE,IAAMA,EAASpD,EAAKqD,kBAAkBhB,EAAQe,OAAOE,oBAAqB,CAAEC,KAAM,WAClF,OAAQlD,EAAAA,EAAAA,GAAE4C,EAAAA,EAAU,MAAM,GAAQ5C,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAM,MAAO5D,MAAO,IAAK,aAAcI,EAAKW,EAAE,cAAgByC,GAASF,IAAU7C,EAAAA,EAAAA,GAAE,iBAAkB,CAAEoD,WAAY,UAAWlD,MAAO,UAAWmD,KAAM,WAAarB,EAAQI,SAAUkB,MAAO3D,EAAKW,EAAE,WAAYiD,QAASnE,KAAKoE,kBAAmBC,OAAO,EAAMlE,MAAO,IAAKmE,MAAO,QAAU/D,EAAKW,EAAE,YACxW,CACF,GAAC,+BACD,WACE,IACIqD,EADIhE,EAAsHP,KAAtHO,KAAqBoC,EAAiG3C,KAAhH4B,YAAee,KAAQd,EAAyF7B,KAAzF6B,oBAAmB,EAAsE7B,KAApE+B,eAA6BQ,EAAM,EAAjBT,QAAWS,OAAmBiC,GAAb,SAAIC,OAAM,GAAQ,GAAKhB,EAAUzD,KAAVyD,MAGlHc,EADEC,EACUf,GACR7C,EAAAA,EAAAA,GAAE,eAAgB,CAAEqD,KAAM,GAAF,OAAKS,OAAOC,SAASC,OAAM,kBAAUJ,EAAMnC,KAAQmC,EAAMpD,OACjFoD,EAAMpD,MAGEb,EAAKW,EAAE,iBAErB,IAGI2D,EACAC,EAJEC,GAAoC,OAAxBlD,QAAwD,IAAxBA,OAAiC,EAASA,EAAoBgB,iBAC9GjC,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAM,QAAS5D,MAAO,MAAQI,EAAKW,EAAE,aAAc,CAAE8B,SAAUnB,EAAoBgB,eAAeG,aACrIpC,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAM,gBAAiB5D,MAAO,OAAQS,EAAAA,EAAAA,GAAE,OAAQ,KAAML,EAAKW,EAAE,WAAY,CAAE8D,UAAWT,MAGvHhC,IAAW0C,EAAAA,EAAAA,SACbJ,EAAiB,OACjBC,EAAiBvE,EAAKW,EAAE,mBAEjBqB,IAAW0C,EAAAA,EAAAA,KAClBJ,EAAiB,eACjBC,EAAiBvE,EAAKW,EAAE,eAEjBqB,IAAW0C,EAAAA,EAAAA,SAClBJ,EAAiB,QACjBC,EAAiBvE,EAAKW,EAAE,eAE1B,IAAMgE,EAAY,IAAIC,KAAKxC,EAAKyC,WAAWC,eAAe9E,EAAK+E,OAAQ,CACrEC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,OAAQ,YAEV,OAAQ/E,EAAAA,EAAAA,GAAE,SAAU,KAAMmE,GAAUnE,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAMc,EAAgB1E,MAAO,MAAQ2E,IAAiBlE,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAM,QAAS5D,MAAO,MAAQ+E,IAAY,EAC5M,GAAC,oBACD,WAAS,WACC3E,EAA0CP,KAA1CO,KACR,GADkDP,KAApC4B,YAAeiB,eACVC,KACjB,OAAQlC,EAAAA,EAAAA,GAAEC,EAAAA,EAAM,CAAE,eAAgB,uBAAyBb,KAAK4F,WAC9DhF,EAAAA,EAAAA,GAAE,kBAAmB,CAAEiF,WAAW,EAAM3B,MAAO3D,EAAKW,EAAE,eAAgB4E,UAAW,MAAOC,iBAAkB/F,KAAK4F,WAAYhF,EAAAA,EAAAA,GAAE,MAAO,CAAEoF,MAAO,iBAAkBpF,EAAAA,EAAAA,GAAE,UAAW,KAAMZ,KAAKiG,sBAAuBjG,KAAKkG,wBAAyBlG,KAAKmG,gCAAiCnG,KAAKoG,sBAAsBxF,EAAAA,EAAAA,GAAE,SAAU,CAAEG,IAAK,SAACT,GAAS,EAAKsF,SAAWtF,CAAI,EAAGwD,KAAM,WAAYlD,EAAAA,EAAAA,GAAE,OAAQ,OAEnY,GAAC,mBAED,WAAgB,OAAOU,EAAAA,EAAAA,GAAWtB,KAAO,IAAC,uBAD1C,WAA0B,MAAO,CAAC,UAAY,KAAC,EA7FhB,GAgGjCwB,EAA4BD,MAlGW,4/CAoGvC,IAEI8E,EAAoD,SAAUC,EAAYC,EAAQC,EAAKC,GACzF,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAOxE,OAAO8E,yBAAyBR,EAAQC,GAAOC,EACrH,GAAuB,kBAAZO,SAAoD,oBAArBA,QAAQC,SAChDH,EAAIE,QAAQC,SAASX,EAAYC,EAAQC,EAAKC,QAE9C,IAAK,IAAIS,EAAIZ,EAAWO,OAAS,EAAGK,GAAK,EAAGA,KACtCR,EAAIJ,EAAWY,MACjBJ,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEH,EAAQC,EAAKM,GAAKJ,EAAEH,EAAQC,KAASM,GACzE,OAAOH,EAAI,GAAKG,GAAK7E,OAAOkF,eAAeZ,EAAQC,EAAKM,GAAIA,CAC9D,EACMM,EAAiC,WACrC,WAAYtH,IAAS,gBACnBC,EAAAA,EAAAA,GAAiBC,KAAMF,GACvBE,KAAKqH,yCAA0CnH,EAAAA,EAAAA,GAAYF,KAAM,0CAA2C,GAC5GA,KAAKsH,wCAAyCpH,EAAAA,EAAAA,GAAYF,KAAM,yCAA0C,GAC1GA,KAAKuH,0CAA2CrH,EAAAA,EAAAA,GAAYF,KAAM,2CAA4C,GAC9GA,KAAKwH,8BAA+BtH,EAAAA,EAAAA,GAAYF,KAAM,+BAAgC,GACtFA,KAAKyH,sCAAuCvH,EAAAA,EAAAA,GAAYF,KAAM,uCAAwC,GACtGA,KAAK0H,4CAA6CxH,EAAAA,EAAAA,GAAYF,KAAM,6CAA8C,GAClHA,KAAK2H,mCAAoCzH,EAAAA,EAAAA,GAAYF,KAAM,oCAAqC,GAChGA,KAAKC,cAAeC,EAAAA,EAAAA,GAAYF,KAAM,eAAgB,GAItDA,KAAK4H,qBAAuB,EAI5B5H,KAAK6H,cAAgB7H,KAAK4H,qBAI1B5H,KAAK8H,kBAAoB,GAIzB9H,KAAK+H,iBAAmB,EAIxB/H,KAAKgI,SAAU,EAIfhI,KAAKiI,wBAA0B,IAC/B7H,EAAAA,EAAAA,GAAKJ,KAAM,yBAA0B,2BAA4B,yBAA0B,wBAAyB,eAAgB,sBAAuB,oBAAqB,eAAgB,aAClM,CAiSI,OAjSH,oCACD,WACE,IAAI0C,EACJ,OAAO1C,KAAK8H,kBAAkBjB,QAC1B7G,KAAK8H,kBAAkBjB,UAA4C,QAA/BnE,EAAK1C,KAAKkI,uBAAoC,IAAPxF,OAAgB,EAASA,EAAGmE,OAE7G,GAAC,+BACD,WACE7G,KAAKmI,YACP,GAAC,iEACD,mFAEwB,OADtBnI,KAAKoI,uBACLpI,KAAKqI,iBAAiB,SACJhI,EAAAA,EAAAA,qBAAiCL,KAAKyB,SAAQ,OAAhEzB,KAAKO,KAAO,EAAH,qDACV,kDALA,IAKA,4BACD,WACE,IAAImC,EAAI4F,EACFC,GAAMC,EAAAA,EAAAA,GAAsJ,QAA3HF,EAA6E,QAAvE5F,EAAc,OAAT1C,WAA0B,IAATA,UAAkB,EAASA,KAAK4B,mBAAgC,IAAPc,OAAgB,EAASA,EAAGC,YAAyB,IAAP2F,OAAgB,EAASA,EAAGG,YAClMC,KAAKC,UAAUJ,KAASG,KAAKC,UAAU3I,KAAK8H,qBAC9C9H,KAAK8H,kBAAoBS,GAAO,GAEpC,GAAC,2CACD,WACEvI,KAAKkI,gBAAkB,GACvBlI,KAAKoI,sBACP,GAAC,2BACD,WACE,IAAQ7H,EAAyBP,KAAzBO,KAAMqI,EAAmB5I,KAAnB4I,eACd5I,KAAKgI,SAAWa,QAAQtI,GAAQqI,EAClC,GAAC,kCACD,WACE5I,KAAK+H,iBAAmB,CAC1B,GAAC,2EACD,2FACgC,GAAtBe,EAA2B9I,KAA3B8I,MAAKhB,EAAsB9H,KAAtB8H,mBAC4BjB,OAAM,iCACpCuB,EAAAA,EAAAA,GAAqBU,EAAKhB,GAAkB,8CACnD,GAAE,OAFN9H,KAAKkI,gBAAkB,EAAH,mDAGrB,kDANA,IAMA,8BACD,SAAiBxG,GACf,IAAQC,GAAW3B,KAAK4B,aAAe,CAAC,GAAhCD,OACR,EAA+B3B,KAAK+B,gBAAkB,CAAC,EAA/CK,EAAS,EAATA,UAAWN,EAAO,EAAPA,QACHK,GAAanC,KAAK+I,eAAiB,CAAC,GAA5CpH,OACR3B,KAAKC,aAAaS,KAAKuB,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGR,GAAY,CAAEC,OAAAA,EACnEQ,SAAAA,EACAC,UAAAA,EAAWE,cAA2B,OAAZR,QAAgC,IAAZA,OAAqB,EAASA,EAAQS,SACxF,GACA,wCAKA,SAA2ByG,GACzB,IAAItG,EAOAuG,EAAiBC,EAAkBC,EAN/BjB,EAAyElI,KAAzEkI,gBAAiBkB,EAAwDpJ,KAAxDoJ,gBAAiBC,EAAuCrJ,KAAvCqJ,uBAAwBC,EAAetJ,KAAfsJ,WAC1D3G,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,EAAyDqG,EAAIzC,OAArDgD,QAAkBC,EAAM,EAAbxH,MAAeyH,EAAO,EAAPA,QAASC,EAAO,EAAPA,QACrC1H,EAAQ2H,OAAOH,GACfI,OAA+BC,IAAZJ,EACnBK,OAAuBD,IAAZH,EAwBjB,OAtBII,GACFb,EAAkBW,EACdP,EAAuBrH,EAAQkG,EAAgBrB,OAASyC,EAAWzC,QAAQkD,QAAQC,SACnFZ,EAAgBpH,EAAQkG,EAAgBrB,OAASyC,EAAWzC,OAASwC,EAAuBxC,QAAQmD,SACxGd,EAAmBU,EACfP,EAAuBrH,EAAQkG,EAAgBrB,OAASyC,EAAWzC,QAAQoD,SAC3E,KACJd,EAAiBS,EAEb,KADA5H,EAAQqH,EAAuBxC,OAASyC,EAAWzC,OAASqB,EAAgBrB,SAIhFoC,EAAkBW,EACd1B,EAAgBlG,GAAOgI,SACd,OAATrH,QAA0B,IAATA,OAAkB,EAASA,EAAKqH,SACrDd,EAAmBU,EACf1B,EAAgBlG,GAAOK,GACvB,KACJ8G,EAAiBS,GAAwI,wBAA9C,QAApElH,EAAc,OAATC,QAA0B,IAATA,OAAkB,EAASA,EAAKqH,gBAA6B,IAAPtH,OAAgB,EAASA,EAAGoB,MAE3I,KADA9B,EAAQkG,EAAgBrB,QAGvB,CACLoC,gBAAAA,EACAC,iBAAAA,EACAC,aAAAA,EACAW,SAAAA,EACAI,cAAelI,EACf4H,iBAAAA,EAEJ,GAAC,oCACD,SAAuBZ,GACrB,IAAQrG,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,EAAsE3C,KAAKmK,2BAA2BnB,GAA9FC,EAAe,EAAfA,gBAAiBC,EAAgB,EAAhBA,iBAAkBC,EAAY,EAAZA,aAAcW,EAAQ,EAARA,SACzD9J,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,KAAAA,MAAAA,IACtBX,KAAKqH,wCAAwC3G,KAAK,CAChDoD,KAAM,UACNkG,SAAUf,EACVmB,WAAY,CACV/H,GAAa,OAATM,QAA0B,IAATA,OAAkB,EAASA,EAAKN,GACrD6G,iBAAAA,EACAlH,MAAOmH,EACPO,QAASI,IAGf,GACA,mCAIA,SAAsBd,GACpB,IAAQrG,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,EAAsE3C,KAAKmK,2BAA2BnB,GAA9FC,EAAe,EAAfA,gBAAiBC,EAAgB,EAAhBA,iBAAkBC,EAAY,EAAZA,aAAcW,EAAQ,EAARA,SACzD9J,KAAKsH,uCAAuC5G,KAAK,CAC/CoD,KAAM,UACNkG,SAAUf,EACVmB,WAAY,CACV/H,GAAa,OAATM,QAA0B,IAATA,OAAkB,EAASA,EAAKN,GACrD6G,iBAAAA,EACAlH,MAAOmH,EACPO,QAASI,IAGf,GACA,0BAIA,SAAad,GACXA,EAAIqB,kBACJ,IAAQ1H,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,EAAsE3C,KAAKmK,2BAA2BnB,GAA9FC,EAAe,EAAfA,gBAAiBC,EAAgB,EAAhBA,iBAAkBC,EAAY,EAAZA,aAAcW,EAAQ,EAARA,SAWzD,GAVA9J,KAAK2H,kCAAkCjH,KAAK,CAC1CoD,KAAM,UACNkG,SAAUf,EACVmB,WAAY,CACV/H,GAAa,OAATM,QAA0B,IAATA,OAAkB,EAASA,EAAKN,GACrD6G,iBAAAA,EACAlH,MAAOmH,EACPO,QAASI,KAGTZ,EACFlJ,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,SAAAA,MAAAA,aAEnB,CACH,IAAMmD,GAAOwG,EAAAA,EAAAA,GAAqCrB,GAClDjJ,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,QAAAA,OAAAA,OAAAA,MAAAA,SAAAA,QAAsEmD,GAC9F,CACF,GAAC,wBACD,SAAWkF,GACTA,EAAIqB,kBACJ,IAAQ1H,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,EAA4F3C,KAAKmK,2BAA2BnB,GAApHC,EAAe,EAAfA,gBAAiBC,EAAgB,EAAhBA,iBAAkBC,EAAY,EAAZA,aAAcW,EAAQ,EAARA,SAAyB9H,EAAK,EAApBkI,cAC7D5J,EAAK0I,EAAIzC,OACfvG,KAAK+H,gBAAmBzH,EAAGiK,QAAkB,EAATvI,EAChChC,KAAK+H,iBAAmB,EAC1B/H,KAAKyH,qCAAqC/G,KAAK,CAC7CoD,KAAM,UACNkG,SAAUf,EACVmB,WAAY,CACV/H,GAAa,OAATM,QAA0B,IAATA,OAAkB,EAASA,EAAKN,GACrD6G,iBAAAA,EACAlH,MAAOmH,EACPO,QAASI,KAKb9J,KAAK0H,2CAA2ChH,MAEpD,GAAC,oCACD,WACEV,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,KAAAA,MAAAA,QACtBX,KAAKuH,yCAAyC7G,MAChD,GAAC,sCACD,WACE,IAAQwH,EAAqElI,KAArEkI,gBAAiBL,EAAoD7H,KAApD6H,cAAeD,EAAqC5H,KAArC4H,qBAAsB0B,EAAetJ,KAAfsJ,WAC1DzB,IAAkBD,GACpB5H,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,KAAAA,MAAAA,WACtBX,KAAK6H,cAAgBK,EAAgBrB,OAASyC,EAAWzC,SAGzD7G,KAAKyC,iBAAiB9B,EAAAA,EAAAA,WAAAA,SAAAA,YAAAA,OAAAA,MAAAA,MAAAA,WACtBX,KAAK6H,cAAgBD,EAEzB,GAAC,sBACD,WACE,IAAQjF,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACF2G,EAAa,GAMnB,OALa,OAAT3G,QAA0B,IAATA,OAAkB,EAASA,EAAKqH,YAC5B,uBAAvBrH,EAAKqH,SAASlG,KACVwF,EAAWkB,KAAI,MAAflB,GAAU,OAAS3G,EAAKqH,SAASV,aACjCA,EAAWkB,KAAK7H,EAAKqH,WAEpBV,CACT,GAAC,2BACD,SAActH,EAAO4H,EAAkBE,GACrC,IAAQvJ,EAAsDP,KAAtDO,KAAMwH,EAAgD/H,KAAhD+H,gBAAiB0C,EAA+BzK,KAA/ByK,OAAQC,EAAuB1K,KAAvB0K,SAAUC,EAAa3K,KAAb2K,SAC3CC,EAAW5I,IAAU+F,EACrB8C,EAAU,EACdjK,EAAAA,EAAAA,GAAE,iBAAkB,CAAE2J,OAAQK,EAAU5E,MAAO,kCAAmC,aAAchE,EAAO,eAAgB4H,EAAkB,eAAgBE,EAAUa,SAAUA,EAAUnE,IAAK,SAAUrC,QAASnE,KAAK8K,WAAY3K,MAAO,IAAKc,KAAM,cAAe8J,KAAMxK,EAAKW,EAAE,mBAAoBN,EAAAA,EAAAA,GAAE,eAAgB,CAAEoF,MAAO,uCAAwCjC,KAAM,SAAU5D,MAAO,QAC5XS,EAAAA,EAAAA,GAAE,iBAAkB,CAAEoF,MAAO,oCAAqC,aAAchE,EAAO,eAAgB4H,EAAkB,eAAgBE,EAAUa,SAAUA,EAAUnE,IAAK,QAASrC,QAASnE,KAAKgL,aAAc7K,MAAO,IAAKc,KAAM,cAAe8J,KAAMxK,EAAKW,EAAE,mBAAoBN,EAAAA,EAAAA,GAAE,eAAgB,CAAEoF,MAAO,yCAA0CjC,KAAM,QAAS5D,MAAO,QAMhX,OAJIyJ,IAAqBa,GAAUC,IAEjCG,EAAQI,QAEHJ,CACT,GAAC,iCACD,SAAoBd,EAAS/H,GAAmD,IAC1EU,EAAI4F,EAIJpE,EACAH,EACAgH,EAP8BnB,EAAmB,UAAH,8CAAUE,EAAW,UAAH,8CAE5DW,EAA8CzK,KAA9CyK,OAAQlK,EAAsCP,KAAtCO,KAAMmK,EAAgC1K,KAAhC0K,SAAUQ,EAAsBlL,KAAtBkL,kBACxBlB,EAAyBD,EAAzBC,SAAUI,EAAeL,EAAfK,WACZ3D,EAAQgE,IAAWC,EAAYnK,EAAKW,EAAE,eAAiB,KAuB7D,MAnBsB,UAAlB8I,EAASlG,MAAsC,eAAlBkG,EAASlG,MACxCI,EAAQ0F,EAAmBrJ,EAAKW,EAAE,yBAA2BX,EAAKW,EAAE,sBACpE6C,EAAO,MACPgH,EAAOxK,EAAKW,EAAE,UAEW,eAAlB8I,EAASlG,MAA2C,oBAAlBkG,EAASlG,MAClDI,EAAQ0F,EAAmBrJ,EAAKW,EAAE,yBAA2BX,EAAKW,EAAE,sBACpE6C,EAAO,WACPgH,EAAOxK,EAAKW,EAAE,SAEW,YAAlB8I,EAASlG,MAAwC,iBAAlBkG,EAASlG,OAC/CI,EAAQ0F,EAAmBrJ,EAAKW,EAAE,8BAAgCX,EAAKW,EAAE,2BACzE6C,EAAO,gBACPgH,EAAOxK,EAAKW,EAAE,SAEZ0I,IAA+D,QAAzClH,EAAKwI,EAAkBC,oBAAiC,IAAPzI,OAAgB,EAASA,EAAG0I,WAErGlH,EAAQkG,EAAqD,QAAzC9B,EAAK4C,EAAkBC,oBAAiC,IAAP7C,OAAgB,EAASA,EAAG9B,OAE3F5F,EAAAA,EAAAA,GAAE,oBAAqB,CAAE,aAAcoB,EAAO,eAAgB4H,EAAkB,eAAgBE,EAAUuB,YAAa5E,EAAMvC,MAAOA,EAAO,mBAAoBuG,GAAUC,EAAUvG,QAASnE,KAAKsL,uBAAwBC,YAAavL,KAAKwL,wBAAyB5K,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAMA,EAAM5D,MAAO,IAAKc,KAAM,gBAAiBwK,UAAWV,IAAS/K,KAAK0L,cAAc1J,EAAO4H,EAAkBE,GACjZ,GAAC,0BACD,SAAa6B,GACX,IAAQpL,EAAsEP,KAAtEO,KAAMsH,EAAgE7H,KAAhE6H,cAAeD,EAAiD5H,KAAjD4H,qBAAsBgE,EAA2B5L,KAA3B4L,WAAYC,EAAe7L,KAAf6L,WAC/D,OAAID,GAAcD,EAAa9D,GACtBjH,EAAAA,EAAAA,GAAE,iBAAkB,CAAEoF,MAAO,WAAY7B,QAASnE,KAAK8L,uBAAwB3L,MAAO,IAAK4K,KAAMxK,EAAKW,EAAE,WAAY,gBAAgB,IAEpI2K,GAAcF,EAAa/D,GAC1BhH,EAAAA,EAAAA,GAAE,iBAAkB,CAAEoF,MAAO,WAAY7B,QAASnE,KAAK+L,yBAA0B5L,MAAO,IAAK4K,KAAMY,EAAa9D,EAAgBtH,EAAKW,EAAE,WAAaX,EAAKW,EAAE,YAAa,gBAAgB,SAD7L,CAGP,GAAC,+BACD,WAAoB,WACVoI,EAAkItJ,KAAlIsJ,WAAYpB,EAAsHlI,KAAtHkI,gBAAiBL,EAAqG7H,KAArG6H,cAAe+D,EAAsF5L,KAAtF4L,WAAYC,EAA0E7L,KAA1E6L,WAAYzC,EAA8DpJ,KAA9DoJ,gBAAiBC,EAA6CrJ,KAA7CqJ,uBAAwB2C,EAAqBhM,KAArBgM,iBAC/GC,EAAkB,SAACC,EAAKnC,GAAO,IAAEH,EAAmB,UAAH,8CAAUE,EAAW,UAAH,8CAAQ,OAAMoC,EAAIrF,OAASgB,IAAmB+D,IAAeC,EAAW,kBACzIK,GAAG,CAAE,EAAKC,oBAAoBpC,EAASmC,EAAIrF,OAAQ+C,EAAkBE,KACzEoC,CAAG,EAEHE,EAAYlE,EAAgBmE,QAAO,SAACH,EAAKnC,GAAO,OAAKkC,EAAgBC,EAAKnC,GAAS,EAAK,GAAE,IAS9F,GAPAqC,EAAY9C,EAAW+C,QAAO,SAACH,EAAKlC,GAAQ,OAAKiC,EAAgBC,EAAK,CAAElC,SAAAA,GAAW,GAAEoC,GACjFJ,IAEFI,EAAY/C,EAAuBgD,QAAO,SAACH,EAAK,GAAF,IAAInC,EAAO,EAAPA,QAAO,OAAOkC,EAAgBC,EAAKnC,GAAS,GAAM,EAAK,GAAEqC,GAE3GA,EAAYhD,EAAgBiD,QAAO,SAACH,EAAKnC,GAAO,OAAKkC,EAAgBC,EAAKnC,GAAS,GAAO,EAAK,GAAEqC,IAE/FA,EAAUvF,OACZ,OAAQjG,EAAAA,EAAAA,GAAE,eAAgB,MAAMA,EAAAA,EAAAA,GAAE,0BAA2B,KAAMwL,EAAWpM,KAAKsM,aAAapE,EAAgBrB,OAASyC,EAAWzC,SAExI,GAAC,4BACD,WACE,IAAQiB,EAAkC9H,KAAlC8H,kBAAmBwB,EAAetJ,KAAfsJ,WACrBiD,EAAUzE,EAAkBjB,OAASyC,EAAWzC,OAAS,EAAI,EAAIiB,EAAkBjB,OAASyC,EAAWzC,OAC7G,OAAO2F,MAAMC,KAAK,CAAE5F,OAAQ0F,IAAW,WACrC,OAAQ3L,EAAAA,EAAAA,GAAE,yBAA0B,CAAE2J,QAAQ,EAAMmC,KAAM,EAAGC,YAAY,EAAOC,aAAa,EAAOC,eAAe,IAASjM,EAAAA,EAAAA,GAAE,MAAO,OAAOA,EAAAA,EAAAA,GAAE,MAAO,MAAMA,EAAAA,EAAAA,GAAE,MAAO,OAAOA,EAAAA,EAAAA,GAAE,MAAO,OACtL,GACF,GAAC,oBACD,WACE,OAAQA,EAAAA,EAAAA,GAAEC,EAAAA,EAAM,CAAE,eAAgB,8BAAgCb,KAAKgI,QACnEhI,KAAK8M,iBACL9M,KAAK+M,oBACX,GAAC,mBAED,WAAgB,OAAOzL,EAAAA,EAAAA,GAAWtB,KAAO,IAAC,uBAD1C,WAA0B,MAAO,CAAC,UAAY,GAAC,oBAE/C,WAAwB,MAAO,CAC7B,YAAe,CAAC,kBAChB,kBAAqB,CAAC,iCACtB,KAAQ,CAAC,iBACT,gBAAmB,CAAC,iBACpB,gBAAmB,CAAC,wBACpB,wBAA2B,CAAC,wBAC3B,KAAC,EArUiC,GAuUvCqG,EAAW,EACT2G,EAAAA,EAAAA,GAAgB,CAAEC,KAAI,WAAK,OAAOjN,KAAK+H,iBAAmB,CAAG,KAC5DX,EAAkC8F,UAAW,uBAAwB,MACxE7G,EAAW,EACT8G,EAAAA,EAAAA,GAAuB,CAAEC,MAAO,OAC/BhG,EAAkC8F,UAAW,uBAAwB,MACxE7G,EAAW,EACT2G,EAAAA,EAAAA,GAAgB,CAAEC,KAAI,SAACjE,GACnB,IAAMqE,EAAerE,EAAIsE,eACnBC,EAAoBF,EAAaG,MAAK,SAACjH,GAAM,MAAwB,WAAnBA,EAAOkH,OAAoB,IAC7EC,EAA2BL,EAAaG,MAAK,SAACjH,GAAM,MAAwB,mBAAnBA,EAAOkH,OAA4B,IAGlG,OAAQzN,KAAK0K,UAAY1K,KAAKyK,QAAU8C,IAAsBG,CAChE,KACDtG,EAAkC8F,UAAW,yBAA0B,MAC1E7G,EAAW,EACT2G,EAAAA,EAAAA,GAAgB,CAAEC,KAAI,WAAK,OAAQjN,KAAK0K,UAAY1K,KAAKyK,MAAQ,KAChErD,EAAkC8F,UAAW,wBAAyB,MACzE7G,EAAW,EACT2G,EAAAA,EAAAA,GAAgB,CAAEC,KAAI,WAClB,IAAmBU,EAAoC3N,KAA/C+C,QAAW4K,YAAe3B,EAAqBhM,KAArBgM,iBAC1BrJ,GAAS3C,KAAK4B,aAAe,CAAC,GAA9Be,KACR,OAAOqJ,KAAsBrJ,IAAQiL,EAAAA,EAAAA,GAAcjL,EAAMgL,GAC3D,KACDvG,EAAkC8F,UAAW,gBAAiB,MACjE7G,EAAW,EACT2G,EAAAA,EAAAA,GAAgB,CAAEC,KAAI,YAAe,IAAZjD,EAAQ,EAARA,SAAc,OAAOnB,QAAQmB,EAAW,KAChE5C,EAAkC8F,UAAW,sBAAuB,MACvE9F,EAAkC7F,MAhXW,g6DAkX7C,IAGMsM,EAAgB,iBAChBC,EAAgB,iBAChBC,EAAiB,kBACjBC,EAAmB,oBACnBC,EAAiB,kBACjBC,EAAQ,WACZ,WAAYpO,GAAS,4BACnBC,EAAAA,EAAAA,GAAiBC,KAAMF,GACvBE,KAAKmO,qBAAsBjO,EAAAA,EAAAA,GAAYF,KAAM,sBAAuB,GACpEA,KAAKoO,uBAAwBlO,EAAAA,EAAAA,GAAYF,KAAM,wBAAyB,GACxEA,KAAKqO,6BAA8BnO,EAAAA,EAAAA,GAAYF,KAAM,8BAA+B,GACpFA,KAAKsO,4BAA6BpO,EAAAA,EAAAA,GAAYF,KAAM,6BAA8B,GAClFA,KAAKuO,4BAA6BrO,EAAAA,EAAAA,GAAYF,KAAM,6BAA8B,GAClFA,KAAKwO,sBAAuBtO,EAAAA,EAAAA,GAAYF,KAAM,uBAAwB,GACtEA,KAAKyO,2BAA4BvO,EAAAA,EAAAA,GAAYF,KAAM,4BAA6B,GAChFA,KAAK0O,qBAAsBxO,EAAAA,EAAAA,GAAYF,KAAM,sBAAuB,GAWpEA,KAAKuK,QAAS,EAEdvK,KAAK2O,MAAO,EAEZ3O,KAAK2K,UAAW,EAEhB3K,KAAK4O,SAAW,EAShB5O,KAAK6O,mBAAqB,WAM1B7O,KAAK8O,UAAW,EAOhB9O,KAAK+O,cAAgB,QAErB/O,KAAKG,MAAQ,IAEbH,KAAKgP,MAAQ,KAMbhP,KAAKiP,cAAgBC,EAAAA,EAAAA,UAMrBlP,KAAK8F,UAAYqJ,EAAAA,EACjBnP,KAAKoP,yBAA0B,EAC/BpP,KAAKqP,MAAQ,GACbrP,KAAKsP,WAAa,GAClBtP,KAAKuP,cAAgB,GACrBvP,KAAKwP,aAAe,GACpBxP,KAAKyP,iBAAmB,EACxBzP,KAAK0P,iBAAmB,EACxB1P,KAAK2P,iBAAmB,GACxB3P,KAAK+K,KAAO,GACZ/K,KAAK4P,UAAY,KACjB5P,KAAK6P,kBAAmBC,EAAAA,EAAAA,GAAe,YAAY,kBAAM,EAAKC,aAAa,IAC3E/P,KAAKgQ,gBAAiBF,EAAAA,EAAAA,GAAe,UAAU,kBAAM,EAAKG,sBAAsB,IAChFjQ,KAAKkQ,MAAOA,EAAAA,EAAAA,KACZlQ,KAAKmQ,YAAc,EACnBnQ,KAAKoQ,0BAA2B,EAChCpQ,KAAKqQ,mBAAqB,UAM1BrQ,KAAKsQ,sBAAwB,WAC3B,IAAQhQ,EAAuB,EAAvBA,GAAIiQ,EAAmB,EAAnBA,eACZ,EAAKC,uBAAyBD,GAC1BE,EAAAA,EAAAA,GAAyBF,EAAgBjQ,GACzC,IACN,EACAN,KAAK0Q,SAAW,WACd,IAAMrB,EAAQ,EAAKE,cAAcoB,KAAI,SAACC,GAAW,IAAIlO,EAAI,OAAyE,QAAjEA,EAAc,OAATkO,QAA0B,IAATA,OAAkB,EAASA,EAAK5B,aAA0B,IAAPtM,OAAgB,EAASA,EAAGmO,UAAY,IAClL,OAAkB,OAAVxB,QAA4B,IAAVA,OAAmB,EAASA,EAAMxI,QAAWwI,EAAMxI,OAAS,EAAIwI,EAAQA,EAAM,GAAM,EAChH,EACArP,KAAK8Q,aAAe,WAClB,EAAKC,UACP,EACA/Q,KAAKgR,eAAiB,SAACC,GAErB,OADgBA,EAARzK,KAEN,IAAK,MACH,EAAKkJ,iBAAmB,EACxB,EAAKD,iBAAmB,EACpB,EAAKyB,mBAAqB,EAAKnG,MACjC,EAAKoG,cAAc,EAAKpG,MAAM,GAC9BkG,EAAMG,kBAEC,EAAKzC,OACZ,EAAKA,MAAO,EACZsC,EAAMG,kBAER,MACF,IAAK,YACH,EAAKC,eACLJ,EAAMG,iBACN,MACF,IAAK,aACH,EAAKE,WACLL,EAAMG,iBACN,MACF,IAAK,UACHH,EAAMG,iBACN,EAAKG,sBAAsB,GACtB,EAAKC,sBACR,EAAKlR,GAAGmR,iBAEV,MACF,IAAK,YACHR,EAAMG,iBACD,EAAKzC,OACR,EAAKA,MAAO,GAEd,EAAK4C,qBAAqB,GACrB,EAAKC,sBACR,EAAKlR,GAAGmR,iBAEV,MACF,IAAK,IACE,EAAK7B,UAAUZ,QAClBiC,EAAMG,iBACN,EAAKzC,MAAO,EACZ,EAAK4C,qBAAqB,IAE5B,MACF,IAAK,OACH,IAAK,EAAK5C,KACR,OAEFsC,EAAMG,iBACN,EAAKM,sBAAsB,GAC3B,EAAKC,qBACA,EAAKH,sBACR,EAAKlR,GAAGmR,iBAEV,MACF,IAAK,MACH,IAAK,EAAK9C,KACR,OAEFsC,EAAMG,iBACN,EAAKM,sBAAsB,EAAKlC,aAAa3I,OAAS,GACtD,EAAK8K,qBACA,EAAKH,sBACR,EAAKlR,GAAGmR,iBAEV,MACF,IAAK,SACH,EAAK9C,MAAO,EACZsC,EAAMG,iBACN,MACF,IAAK,QACC,EAAK3B,iBAAmB,GAC1B,EAAKmC,gBAAgB,EAAKpC,aAAa,EAAKC,kBAC5CwB,EAAMG,kBAEC,EAAK1B,iBAAmB,GAC/B,EAAKmC,mBACLZ,EAAMG,kBAEC,EAAKF,mBAAqB,EAAKnG,MACtC,EAAKoG,cAAc,EAAKpG,MAAM,GAC9BkG,EAAMG,kBAEEH,EAAMa,mBACVC,EAAAA,EAAAA,GAAW,IACbd,EAAMG,iBAGV,MACF,IAAK,SACL,IAAK,YACC,EAAK1B,iBAAmB,GAC1BuB,EAAMG,iBACN,EAAKS,qBAEG,EAAK9G,MAAQ,EAAKiH,YAC1Bf,EAAMG,iBACN,EAAKa,kBAIb,EACAjS,KAAKkS,eAAiB,WACpB,EAAKvD,MAAO,EACZ,EAAKrO,GAAG6R,oBAAoB,uBAAwB,EAAKD,eAC3D,EACAlS,KAAKoS,cAAgB,WACnB,EAAKzD,MAAO,EACZ,EAAKrO,GAAG6R,oBAAoB,sBAAuB,EAAKC,cAC1D,EACApS,KAAKiQ,sBAAoB,uBAAG,+FACgB,GAAlCoC,EAAuC,EAAvCA,gBAAiB1D,EAAsB,EAAtBA,KAAM2D,EAAgB,EAAhBA,YAC1BD,GAAoB1D,EAAI,iEAGvB,EAAK4D,YAAW,GAAK,OAGqC,OAF1DC,EAAoB,EAAKC,uBAC/BJ,EAAgB9Q,MAAMmR,UAAYF,EAAoB,EAAI,GAAH,OAAMA,EAAiB,MAAO,GACrFH,EAAgB9Q,MAAMoR,SAAW,GAAH,OAAML,EAAYM,YAAW,MAAK,UAC1D,EAAKL,YAAW,GAAK,4CAE7BvS,KAAK6S,0BAA4B,SAAC5B,EAAO6B,GACvC,EAAKnE,MAAO,EACZ,IAAMoE,EAAY,EAAK1D,MAAM2D,MAAK,SAACpC,GAAI,OAAKA,IAASkC,CAAY,IAC7DC,GACF,EAAKnB,gBAAgBmB,GAAW,GAElC,EAAKzE,2BAA2B5N,KAAKuQ,EAAMgC,OAC7C,EACAjT,KAAKkT,aAAe,SAACjC,GACfA,EAAM3D,eAAeE,MAAK,SAAC2F,GAAI,MAAsB,iBAAjBA,EAAK1F,OAA0B,MAGvE,EAAKkB,MAAQ,EAAKA,KAClB,EAAK+C,sBAAsB,GAC3B,EAAKX,WACP,EACA/Q,KAAKoT,0BAA4B,SAACnC,GAChC,IAAM3D,EAAe2D,EAAM3D,gBACtB,EAAKqB,MAAQrB,EAAa+F,SAAS,EAAK/S,KAAOgN,EAAa+F,SAAS,EAAKf,eAG3E,EAAKpB,mBAAqB,EAAKnG,KAAKuI,OAAOzM,QAC7C,EAAKsK,cAAc,EAAKpG,MAEC,WAAvB,EAAKgE,gBACH,EAAKa,YACP,EAAKA,UAAUZ,MAAQ,IAEzB,EAAKjE,KAAO,GACZ,EAAKwI,YAAY,IACjB,EAAK7B,uBAAuB,IAE9B,EAAK/C,MAAO,EACd,EACA3O,KAAKwT,cAAgB,SAAClT,GACpB,EAAKmT,WAAanT,GAClBoT,EAAAA,EAAAA,GAAkB,EAAM,EAAKpB,YAAa,EAAKmB,WACjD,EACAzT,KAAK2T,eAAiB,SAACrT,GACrB,EAAK0P,eAAe4D,QAAQtT,GAC5B,EAAK+R,gBAAkB/R,EACvB,EAAKuT,aAAevT,GACpBwT,EAAAA,EAAAA,GAA0B,EAC5B,EACA9T,KAAK+T,eAAiB,SAACzT,GACrB,EAAKgS,YAAchS,GACnBoT,EAAAA,EAAAA,GAAkB,EAAM,EAAKpB,YAAa,EAAKmB,WACjD,EACAzT,KAAKgU,aAAe,SAAC/C,GACnB,IAAMjC,EAAQiC,EAAM1K,OAAOyI,MAC3B,EAAKjE,KAAOiE,EACZ,EAAKuE,YAAYvE,GACbA,IACF,EAAKU,iBAAmB,EAE5B,EACA1P,KAAKuT,YAAe,WAClB,IAAMP,EAAO,SAACpC,EAAMqD,GAAY,OAAKrD,GACnCqD,EAAazG,MAAK,YAAsB,IAAnBtJ,EAAK,EAALA,MAAO8K,EAAK,EAALA,MAC1B,OAAY4B,EAjSKnD,UAAYyG,EAAAA,EAkSpBlF,IAAU4B,EAAK1M,MAEhB8K,IAAU4B,EAAKnF,WACrBuD,IAAU4B,EAAK5B,OACf9K,IAAU0M,EAAKnF,WACfvH,IAAU0M,EAAK5B,KACnB,GAAE,EACJ,OAAOmF,EAAAA,EAAAA,IAAS,SAACpJ,GACf,IAAMkJ,GAAeG,EAAAA,EAAAA,GAAO,EAAKC,KAAMtJ,GACzB,EAAKuJ,mBACbC,SAAQ,SAAC3D,GACb,IAAM4D,GAAUxB,EAAKpC,EAAMqD,GAC3BrD,EAAK4D,OAASA,EACd,cAA8B5D,EAAK6D,UAAS,GAArCC,EAAM,KAAEC,EAAW,MACtB3B,EAAK0B,EAAQT,IAAiBjB,EAAK2B,EAAaV,MAClDrD,EAAK4D,QAAS,GAEXA,GACH5D,EAAK6D,UAAUF,SAAQ,SAACK,GAAQ,OAAMA,EAASJ,QAAS,CAAK,GAEjE,IACA,EAAKhF,aAAe,EAAKqF,kBACzB,EAAKxG,4BAA4B3N,KAAK,CAAE8O,cAAc,OAAI,EAAKA,cAAezE,KAAMA,GACtF,GAAG,IACL,CA5BoB,GA6BpB/K,KAAK8U,iCAAmC,WACtC,EAAK3G,oBAAoBzN,KAAK,EAAK6O,cACrC,EACAvP,KAAK+U,yBAA0BZ,EAAAA,EAAAA,GAASnU,KAAK8U,iCAAkC,GAC/E9U,KAAKgV,4BAA8B,WACjC,IAAQzF,EAAkB,EAAlBA,cACR,EAAKnB,sBAAsB1N,KAAK,CAAE6O,cAAAA,GACpC,EACAvP,KAAKiV,oBAAqBd,EAAAA,EAAAA,GAASnU,KAAKgV,4BAA6B,GACrEhV,KAAK+P,YAAc,WACjB,EAAKV,MAAQ,EAAK6F,WAClB,EAAK5F,WAAa,EAAK6F,gBACvB,EAAKd,KAAO,EAAKe,UACjB,EAAK7F,cAAgB,EAAK8F,mBAC1B,EAAK7F,aAAe,EAAKqF,kBACzB,EAAKS,UAAY,EAAKC,eACjB,EAAKrE,mBACR,EAAKjB,sBAET,EACAjQ,KAAK2R,mBAAqB,WACxB,IAAM6D,EAAa,EAAKhG,aAAa,EAAKC,iBACpCgG,EAAS,EAAKC,0BAA0BF,GAC9C,EAAoC,EAAKnD,gBAAjCsD,EAAY,EAAZA,aAAcC,EAAS,EAATA,UAClBD,EAAeC,EAAYJ,EAAWK,UAAYJ,EACpD,EAAKpD,gBAAgBuD,UAAYJ,EAAWK,UAAYF,EAAeF,EAEhED,EAAWK,UAAYD,IAC9B,EAAKvD,gBAAgBuD,UAAYJ,EAAWK,UAEhD,EACA7V,KAAK8V,qBAAuB,WAC1B,IAAIpT,EACsB,QAAzBA,EAAK,EAAKkN,iBAA8B,IAAPlN,GAAyBA,EAAGqT,OAChE,EACA/V,KAAKgW,oBAAsB,SAAC/E,GAC1B,EAAKmC,0BAA0BnC,EACjC,CACF,CA8dI,OA9dH,qCACD,SAAcjC,GACZ,GAAIhP,KAAK2K,SAGP,OAFA3K,KAAKuK,QAAS,OACdvK,KAAK2O,MAAO,GAGd3O,KAAK2O,KAAOK,CACd,GAAC,yBACD,SAAYA,GAIV,GAHKA,IACHiH,EAAAA,EAAAA,GAAiBjW,KAAKyT,YAEpBzT,KAAK2K,SAGP,OAFA3K,KAAKuK,QAAS,OACdvK,KAAK2O,MAAO,GAGd3O,KAAKuK,OAASyE,EACdhP,KAAKiQ,sBACP,GAAC,kCACD,SAAqBjB,GACdA,IACHhP,KAAKuK,QAAS,EACdvK,KAAK2O,MAAO,EAEhB,GAAC,6BACD,WACE3O,KAAKiQ,sBACP,GAAC,uCACD,WACEjQ,KAAKuS,YAAW,EAClB,GAAC,0BACD,SAAavD,GACX,IAAKhP,KAAKoP,wBAAyB,CACjC,IAAMC,EAAQrP,KAAKkV,WACf1I,MAAM0J,QAAQlH,GAChBK,EAAMkF,SAAQ,SAAC3D,GAAI,OAAMA,EAAKuF,SAAWnH,EAAMqE,SAASzC,EAAK5B,MAAM,IAE5DA,EACPK,EAAMkF,SAAQ,SAAC3D,GAAI,OAAMA,EAAKuF,SAAWnH,IAAU4B,EAAK5B,KAAK,IAG7DK,EAAMkF,SAAQ,SAAC3D,GAAI,OAAMA,EAAKuF,UAAW,CAAK,IAEhDnW,KAAK+P,aACP,CACF,GAAC,mCACD,WACE/P,KAAKsQ,wBACLtQ,KAAKuS,YAAW,EAClB,GAKA,kCACA,SAAqBtB,IACdmF,EAAAA,EAAAA,GAAuBnF,IAG5BjR,KAAKoT,0BAA0BnC,EACjC,GAAC,8CACD,SAAiCA,GAC/B,IAAIjR,KAAKoQ,yBAAT,CAGA,IAAM7J,EAAS0K,EAAM1K,OACf8P,EAAWrW,KAAKwP,aAAa8G,QAAQ/P,GAC3CvG,KAAK0R,sBAAsB2E,GAC3BrW,KAAK4R,gBAAgBrL,EAAQA,EAAO4P,SAJpC,CAKF,GAMA,iEAKA,+GACwF,OADvEI,EAAU,EAAH,8BACd9C,EAAmFzT,KAAnFyT,WAAYnB,EAAuEtS,KAAvEsS,YAAaxM,EAA0D9F,KAA1D8F,UAAW+I,EAA+C7O,KAA/C6O,mBAAoB2B,EAA2BxQ,KAA3BwQ,uBAAsB,mBAC/E+B,EAAAA,EAAAA,GAAWvS,KAAM,CACtByT,WAAAA,EACAnB,YAAAA,EACAzD,mBAAAA,EACA/I,UAAAA,EACAyK,eAAgBC,EAChB1M,KAAM,QACLyS,IAAQ,gDACZ,kDAfD,IAgBA,+DACA,yFAE4B,QAAzB7T,EAAK1C,KAAK4P,iBAA8B,IAAPlN,GAAyBA,EAAGqT,QAC9D/V,KAAK0P,iBAAmB,EACxB1P,KAAKyP,iBAAmB,EAAE,gDAC3B,kDAND,IAWA,+BACA,WACE,IAAI/M,EACJ1C,KAAKoP,yBAA0B,EAC/BpP,KAAKgP,MAAQhP,KAAK0Q,WAClB1Q,KAAKoP,yBAA0B,EACE,QAAhC1M,EAAK1C,KAAK6P,wBAAqC,IAAPnN,GAAyBA,EAAGkR,QAAQ5T,KAAKM,GAAI,CAAEkW,WAAW,EAAMC,SAAS,KAClHC,EAAAA,EAAAA,GAAa1W,OACb2W,EAAAA,EAAAA,GAAY3W,OACZ8T,EAAAA,EAAAA,GAA0B9T,MAC1BA,KAAKsQ,wBACLtQ,KAAKuS,YAAW,GACZvS,KAAKuK,QACPvK,KAAK4W,cAAc5W,KAAKuK,QAEtBvK,KAAK2O,MACP3O,KAAK6W,YAAY7W,KAAK2O,KAE1B,GAAC,+BACD,WACE3O,KAAK+P,aACP,GAAC,8BACD,YACE+G,EAAAA,EAAAA,GAA4B9W,KAAMA,KAAK0Q,YACvC1Q,KAAKuS,YAAW,EAClB,GAAC,gCACD,WACMvS,KAAKM,GAAGqV,eAAiB3V,KAAKmQ,cAChCnQ,KAAKuS,YAAW,GAChBvS,KAAKmQ,YAAcnQ,KAAKM,GAAGqV,eAE7BoB,EAAAA,EAAAA,GAAsB/W,KACxB,GAAC,kCACD,WACE,IAAI0C,EAAI4F,EACyB,QAAhC5F,EAAK1C,KAAK6P,wBAAqC,IAAPnN,GAAyBA,EAAGsU,aACtC,QAA9B1O,EAAKtI,KAAKgQ,sBAAmC,IAAP1H,GAAyBA,EAAG0O,cACnEC,EAAAA,EAAAA,GAAgBjX,OAChBkX,EAAAA,EAAAA,GAAelX,OACfmX,EAAAA,EAAAA,GAAqBnX,KAAMA,KAAKsS,YAAatS,KAAKyT,aAClD2D,EAAAA,EAAAA,GAA6BpX,KAC/B,GAAC,kCACD,WACEA,KAAKoP,yBAA0B,EAC/BpP,KAAKgP,MAAQhP,KAAK0Q,WAClB1Q,KAAKoP,yBAA0B,CACjC,GACA,yBACA,WACEpP,KAAK0R,uBAAuB,EAC9B,GAAC,gCACD,WACE,IAAM2F,EAAWrX,KAAKM,GAAGgX,wBACzB,OAAQD,EAASE,KAAO,GACtBF,EAASG,MAAQ,GACjBH,EAASI,QAAU/S,OAAOgT,YAAcC,SAASC,gBAAgBhF,cACjEyE,EAASQ,SAAWnT,OAAOoT,aAAeH,SAASC,gBAAgBG,aACvE,GAAC,0BACD,WACE/X,KAAKyO,0BAA0B/N,MACjC,GAAC,oBACD,WACEV,KAAK0O,oBAAoBhO,MAC3B,GAAC,2BACD,WACEV,KAAKuO,2BAA2B7N,MAClC,GAAC,qBACD,WACEV,KAAKwO,qBAAqB9N,MAC5B,GAAC,kCACD,WAAuB,WACf2O,EAAQrP,KAAKsU,mBAAmBF,QAAO,SAACxD,GAAI,OAAMA,EAAK4D,MAAM,IAC3D5F,EAAa5O,KAAb4O,SACJoJ,EAAiB,EACjBxF,EAAoB,EAYxB,OAXInD,EAAMxI,OAAS+H,GACjBS,EAAMkF,SAAQ,SAAC3D,GACb,GAAIoH,EAAiBpJ,GAAYA,EAAW,EAAG,CAC7C,IAAM6G,EAAS,EAAKC,0BAA0B9E,GAC1C6E,EAAS,IACXjD,GAAqBiD,EACrBuC,IAEJ,CACF,IAEKxF,CACT,GAAC,uCACD,SAA0B5B,GACxB,IAAI6E,EAAS7E,EAAK+E,aAQlB,OANiBnJ,MAAMC,KAAKmE,EAAKqH,iBAAiBC,EAAAA,IAE/CvH,KAAI,SAACwH,GAAK,OAAe,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMxC,YAAY,IAC/EpB,SAAQ,SAACoB,GACVF,GAAUE,CACZ,IACOF,CACT,GAAC,8BACD,WACE,MAAO,GAAP,eAAWzV,KAAKsP,aAAU,OAAKtP,KAAKqP,OACtC,GAAC,6BACD,SAAgBuB,GAA8B,IAAxB5B,EAAQ,UAAH,8CAAI4B,EAAKuF,SAC7BvF,IAGD5Q,KAAKgS,WACPpB,EAAKuF,SAAWnH,EAChBhP,KAAKoY,gBAAgBxH,GACrB5Q,KAAKuP,cAAgBvP,KAAKqV,mBAC1BrV,KAAK+U,0BACL/U,KAAKiV,qBACLjV,KAAKqY,YACLrY,KAAKuT,YAAY,MAGjBvT,KAAKoQ,0BAA2B,EAChCpQ,KAAKqP,MAAMkF,SAAQ,SAACjU,GAAE,OAAMA,EAAG6V,SAAW7V,IAAOsQ,GAAO5B,CAAa,IACrEhP,KAAKoQ,0BAA2B,EAChCpQ,KAAKuP,cAAgBvP,KAAKqV,mBAC1BrV,KAAKiV,qBACDjV,KAAK4P,YACP5P,KAAK4P,UAAUZ,MAAQ4B,EAAKnF,WAE9BzL,KAAK2O,MAAO,EACZ3O,KAAK0R,uBAAuB,GAC5B1R,KAAKqY,YACLrY,KAAKuT,YAAY,KAErB,GAAC,6BACD,SAAgB3C,GACd,GAA2B,cAAvB5Q,KAAK+O,cAAT,CAGA,IAAM0F,GAAY6D,EAAAA,EAAAA,GAAiB1H,GAC7B2H,GAAWC,EAAAA,EAAAA,GAAgB5H,GAC7BA,EAAKuF,SACP1B,EAAUF,SAAQ,SAACjU,GACjBA,EAAG6V,UAAW,CAChB,KAGAoC,EAAShE,SAAQ,SAACjU,GAAE,OAAMA,EAAG6V,UAAW,CAAK,KAC7C,OAAI1B,GAAWF,SAAQ,SAACjU,IACjBmY,EAAAA,EAAAA,GAAkBnY,KACrBA,EAAG6V,UAAW,EAElB,IAdF,CAgBF,GAAC,6BACD,WACE,OAAOnW,KAAKqP,MAAM+E,QAAO,SAACxD,GAAI,OAAMA,EAAK4D,MAAM,GACjD,GAAC,8BACD,WAAmB,WACjB,IAAKxU,KAAKgS,UAAW,CACnB,IAAM0G,EAAQ1Y,KAAKqP,MAAM2D,MAAK,YAAW,SAARmD,QAAuB,IACxD,OAAOuC,EAAQ,CAACA,GAAS,EAC3B,CACA,OAAQ1Y,KAAKqP,MACV+E,QAAO,SAACxD,GAAI,OAAKA,EAAKuF,WAAoC,cAAvB,EAAKpH,iBAAkC0J,EAAAA,EAAAA,GAAkB7H,GAAM,IAElG+H,MAAK,SAACC,EAAGC,GACV,IAAMC,EAAO,EAAKvJ,cAAc+G,QAAQsC,GAClCG,EAAO,EAAKxJ,cAAc+G,QAAQuC,GACxC,OAAIC,GAAQ,GAAKC,GAAQ,EAChBD,EAAOC,EAETA,EAAOD,CAChB,GACF,GAAC,qBACD,WACE,OAAO9Y,KAAKqP,MAAMsB,KAAI,SAACC,GAAI,MAAM,CAC/BoI,SAAUpI,EAAKoI,SACfC,eAAgBrI,EAAKqI,eACrBjK,MAAO4B,EAAK5B,MACZ9K,MAAO0M,EAAKnF,UACb,GACH,GAAC,0BACD,WACE,MAA8B,WAAvBzL,KAAK+O,eAA8B/O,KAAKqP,MAAM7B,MAAK,SAACoD,GAAI,OAAKA,EAAK7M,IAAI,GAC/E,GAAC,uBACD,WACM/D,KAAK4P,YACP5P,KAAK4P,UAAUZ,MAAQ,IAEzBhP,KAAK+K,KAAO,EACd,GAAC,sBACD,WAEE,OADcyB,MAAMC,KAAKzM,KAAKM,GAAG2X,iBAAiBiB,EAAAA,IACrC9E,QAAO,SAACxD,GAAI,OAAMA,EAAKjG,QAAQ,GAC9C,GAAC,2BACD,WACE,OAAO6B,MAAMC,KAAKzM,KAAKM,GAAG2X,iBAAiB/D,EAAAA,GAC7C,GAAC,2BACD,SAAclF,EAAO+G,GACnB,IAAMoD,EAAenZ,KAAKqP,MAAM2D,MAAK,SAAC1S,GAAE,OAAKA,EAAGmL,YAAcuD,CAAK,IACnE,GAAImK,EACFnZ,KAAK4R,gBAAgBuH,GAAc,OAEhC,CACEnZ,KAAKgS,WACRhS,KAAK4R,gBAAgB5R,KAAKuP,cAAcvP,KAAKuP,cAAc1I,OAAS,IAAI,GAE1E,IAAM+J,EAAO+G,SAASyB,cAAcF,EAAAA,GACpCtI,EAAK5B,MAAQA,EACb4B,EAAKnF,UAAYuD,EACjB4B,EAAKuF,UAAW,EAChBnW,KAAKM,GAAG+Y,YAAYzI,GACpB5Q,KAAKqY,YACDtC,GACF/V,KAAK+Q,WAEP/Q,KAAK+P,cACL/P,KAAKuT,YAAY,IACjBvT,KAAK+U,0BACL/U,KAAKiV,oBACP,CACF,GAAC,8BACD,WACEjV,KAAK4R,gBAAgB5R,KAAKuP,cAAcvP,KAAK0P,kBAAkB,GAC/D1P,KAAK+Q,UACP,GAAC,4BACD,WACE/Q,KAAK4R,gBAAgB5R,KAAKuP,cAAcvP,KAAKuP,cAAc1I,OAAS,IAAI,GACxE7G,KAAK+Q,UACP,GAAC,0BACD,WACE,IAAI/Q,KAAK+K,KAAT,CAGA,IAAMlE,EAAS7G,KAAKuP,cAAc1I,OAAS,EACrC0D,EAASvK,KAAK0P,gBACpB1P,KAAK0P,iBAA8B,IAAZnF,EAAgB1D,EAASyS,KAAKC,IAAIhP,EAAS,EAAG,GACrEvK,KAAK0R,uBAAuB,GAC5B1R,KAAKwZ,WALL,CAMF,GAAC,sBACD,WACE,IAAIxZ,KAAK+K,OAAkC,IAA1B/K,KAAK0P,gBAAtB,CAGA,IAAM+J,EAAOzZ,KAAKuP,cAAc1I,OAAS,EACnCwP,EAAWrW,KAAK0P,gBAAkB,EACpC2G,EAAWoD,GACbzZ,KAAK0P,iBAAmB,EACxB1P,KAAK+Q,aAGL/Q,KAAK0P,gBAAkB2G,EACvBrW,KAAKwZ,aAEPxZ,KAAK0R,uBAAuB,EAX5B,CAYF,GAAC,uBACD,WACE,IAAIhP,EACEwN,EAA2D,QAAnDxN,EAAK1C,KAAKuP,cAAcvP,KAAK0P,wBAAqC,IAAPhN,OAAgB,EAASA,EAAGwN,KAC/FwJ,EAAOxJ,EACTlQ,KAAKsS,YAAYqH,cAAc,IAAD,OAAK7L,GAAa,OAAGoC,IACnD,KACK,OAATwJ,QAA0B,IAATA,GAA2BA,EAAK3I,UACnD,GAAC,kCACD,SAAqB6I,GACnB,IAAQ/S,EAAW7G,KAAKwP,aAAhB3I,OACFwP,GAAYrW,KAAKyP,gBAAkB5I,EAAS+S,GAAS/S,EAC3D7G,KAAK0R,sBAAsB2E,GAC3BrW,KAAK2R,oBACP,GAAC,mCACD,SAAsB3P,GACpB,IAAIU,EACJ1C,KAAKyP,gBAAkBzN,EACvB,IAAI2N,EAAmB,KACvB3P,KAAKwP,aAAa+E,SAAQ,SAACjU,EAAI4G,GACzBA,IAAMlF,GACR1B,EAAGiK,QAAS,EACZoF,EAAmB,GAAH,OAAM9B,GAAa,OAAGvN,EAAG4P,OAGzC5P,EAAGiK,QAAS,CAEhB,IACAvK,KAAK2P,iBAAmBA,EACpB3P,KAAKyP,iBAAmB,IAC1BzP,KAAK0P,iBAAmB,EACE,QAAzBhN,EAAK1C,KAAK4P,iBAA8B,IAAPlN,GAAyBA,EAAGqT,QAElE,GAAC,qBACD,WACE,MAA8B,WAAvB/V,KAAK+O,aACd,GAKA,yBACA,WAAc,WACJW,EAAyD1P,KAAzD0P,gBAAiBvP,EAAwCH,KAAxCG,MAAO4O,EAAiC/O,KAAjC+O,cAAeE,EAAkBjP,KAAlBiP,cAC/C,OAAOjP,KAAKuP,cAAcoB,KAAI,SAACC,EAAM1J,GACnC,IAAM2S,EAAc,CAClBH,MAAM,EACN,eAAgBhK,IAAoBxI,GAEhCuN,GAAY,QAAI6D,EAAAA,EAAAA,GAAiB1H,IAAOkJ,UACxCC,EAAY,kBAAItF,GAAS,CAAE7D,IAAMD,KAAI,SAACrQ,GAAE,OAAKA,EAAGmL,SAAS,IACzDvH,EAA0B,cAAlB6K,EAAgC6B,EAAKnF,UAAYsO,EAAUC,KAAK,OAC9E,OAAQpZ,EAAAA,EAAAA,GAAE,eAAgB,CAAEoF,MAAO6T,EAAaI,aAAchL,EAAeiL,aAAa,EAAMnW,KAAM6M,EAAK7M,KAAM1B,GAAIuO,EAAKV,KAAO,GAAH,OAAMpC,GAAa,OAAG8C,EAAKV,MAAS,KAAM1J,IAAKoK,EAAKnF,UAAW0O,qBAAsB,SAAClJ,GAAK,OAAK,EAAK4B,0BAA0B5B,EAAOL,EAAK,EAAEzQ,MAAOA,EAAOiB,MAAO8C,EAAO8K,MAAO4B,EAAK5B,OAAS9K,EAC9T,GACF,GAAC,yBACD,WAAc,WACJgM,EAA4ElQ,KAA5EkQ,KAAM3F,EAAsEvK,KAAtEuK,OAAQI,EAA8D3K,KAA9D2K,SAAUyP,EAAoDpa,KAApDoa,YAAarL,EAAuC/O,KAAvC+O,cAAeQ,EAAwBvP,KAAxBuP,cAAeZ,EAAS3O,KAAT2O,KACrE0L,EAA2B,WAAlBtL,EACTuL,EAAe/K,EAAc,GAC7BgL,IAAc5L,GAAQpE,IAAW8P,KAAYC,EACnD,OAAQ1Z,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,MAAO,CACvB,cAAc,EACd,qBAAsBqU,IACnBE,IAAc3Z,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,MAAO,CACpC9B,OAAO,EACP,iBAAmC,OAAjBoW,QAA0C,IAAjBA,OAA0B,EAASA,EAAavW,OAC1FyC,IAAK,SAAW8T,EAAa7O,YAAa7K,EAAAA,EAAAA,GAAE,QAAS,CAAE,wBAAyBZ,KAAK2P,iBAAkB,oBAAqB,OAAQ,gBAAiB,GAAF,OAAK3B,GAAgB,OAAGkC,GAAQ,cAAcsK,EAAAA,EAAAA,GAAaxa,MAAOgG,MAAO,CAC7NyU,OAAO,EACP,iBAAiB,EACjB,qBAAsBza,KAAK0P,iBAAmB,EAC9C,gBAAiB6K,EACjB,gBAAiBva,KAAK0a,iBACrB/P,SAAUA,EAAUtI,GAAI,GAAF,OAAK4L,GAAc,OAAGiC,GAAQ1J,IAAK,QAASmU,OAAQ3a,KAAKgW,oBAAqB4E,QAAS5a,KAAK8V,qBAAsB+E,QAAS7a,KAAKgU,aAAcoG,YAAaA,EAAarZ,IAAK,SAACT,GAAE,OAAM,EAAKsP,UAAYtP,CAAE,EAAGwD,KAAM,SAC/O,GAAC,kCACD,WACE,OAAO9D,KAAKwP,aAAamB,KAAI,SAACC,GAAI,OAAMhQ,EAAAA,EAAAA,GAAE,KAAM,CAAE,iBAAiBka,EAAAA,EAAAA,GAAclK,EAAKuF,UAAW9T,GAAIuO,EAAKV,KAAO,GAAH,OAAMrC,GAAa,OAAG+C,EAAKV,MAAS,KAAM6K,KAAM,SAAUC,SAAU,MAAQpK,EAAKnF,UAAU,GAC3M,GAAC,uCACD,WAA4B,MAClBlB,EAAgDvK,KAAhDuK,OAAQiJ,EAAwCxT,KAAxCwT,cAAeG,EAAyB3T,KAAzB2T,eAAgBhF,EAAS3O,KAAT2O,KACzCsM,GAAO,GACX,kBAAkB,IAAI,SACrBC,EAAAA,EAAAA,WAAwB,IAAI,SAC5BA,EAAAA,EAAAA,gBAA8BvM,GAAQpE,GAAM,GAE/C,OAAQ3J,EAAAA,EAAAA,GAAE,MAAO,CAAE,cAAe,OAAQoF,MAAO,CAC7C,yBAAyB,EACzB,gCAAiC2I,GAAQpE,GACxCxJ,IAAKyS,IAAiB5S,EAAAA,EAAAA,GAAE,MAAO,CAAEoF,MAAOiV,EAASla,IAAK4S,IAAkB/S,EAAAA,EAAAA,GAAE,KAAM,CAAEoF,MAAO,CAAEmV,MAAM,EAAM,eAAgBxM,GAAQpE,MAAa3J,EAAAA,EAAAA,GAAE,OAAQ,QAC7J,GAAC,6BACD,WACE,IAAQ2O,EAAkDvP,KAAlDuP,cAAemL,EAAmC1a,KAAnC0a,gBAAiB3L,EAAkB/O,KAAlB+O,cAClCuL,EAAe/K,EAAc,GAC7B6L,EAAgC,OAAjBd,QAA0C,IAAjBA,OAA0B,EAASA,EAAavW,KACxFsX,EAAwC,WAAlBtM,EAI5B,QAHqB/O,KAAK2O,MAAQ2L,IAC5Bc,GAAgBC,IAChBrb,KAAK0a,mBAAqBJ,GAAgBe,MACxBza,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,MAAO,eAAgBpF,EAAAA,EAAAA,GAAE,eAAgB,CAAEoF,MAAO,gBAAiBjC,MAAO/D,KAAK2O,MAAQ2L,EAAec,EAAeV,EAAiBva,MAAO,MACnL,GAAC,2BACD,WACE,IAAQoK,EAAiBvK,KAAjBuK,OAAQoE,EAAS3O,KAAT2O,KAChB,OAAQ/N,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,MAAO,aAAcpF,EAAAA,EAAAA,GAAE,eAAgB,CAAEmD,KAAMwG,GAAUoE,EAAO,aAAe,eAAgBxO,MAAO,MAC5H,GAAC,oBACD,WACE,IAAQoK,EAA8BvK,KAA9BuK,OAAQ2F,EAAsBlQ,KAAtBkQ,KAAMhM,EAAgBlE,KAAhBkE,MAAOyK,EAAS3O,KAAT2O,KACvB0L,EAAgC,WAAvBra,KAAK+O,cACpB,OAAQnO,EAAAA,EAAAA,GAAEC,EAAAA,EAAM,MAAMD,EAAAA,EAAAA,GAAE,MAAO,CAAE,oBAAqB,OAAQ,gBAAiB,GAAF,OAAKoN,GAAgB,OAAGkC,GAAQ,iBAAiB4K,EAAAA,EAAAA,GAAcnM,GAAQpE,GAAS,gBAAiB,UAAW,kBAAmB,GAAF,OAAKwD,GAAc,OAAGmC,GAAQ,YAAa,SAAU,YAAa,GAAF,OAAKlC,GAAgB,OAAGkC,GAAQlK,MAAO,CAC7SsV,SAAS,EACT,kBAAmBjB,IAAWra,KAAKuP,cAAc1I,OACjD,kBAAmB8H,GAAQpE,GAC1BpG,QAASnE,KAAKkT,aAAcqI,UAAWvb,KAAKgR,eAAgBjQ,IAAKf,KAAK+T,eAAgBgH,KAAM,aAAcna,EAAAA,EAAAA,GAAE,MAAO,CAAEoF,MAAO,cAAgBhG,KAAKwb,mBAAoBnB,GAAUra,KAAKyb,eAAe7a,EAAAA,EAAAA,GAAE,QAAS,CAAEoF,MAAO,sBAAuB0V,QAAS,GAAF,OAAKzN,GAAc,OAAGiC,GAAQ7N,GAAI,GAAF,OAAK0L,GAAc,OAAGmC,IAAUhM,GAAQlE,KAAK2b,eAAgB3b,KAAK4b,kBAAkBhb,EAAAA,EAAAA,GAAE,KAAM,CAAE,kBAAmB,GAAF,OAAKmN,GAAc,OAAGmC,GAAQ,uBAAwB,OAAQlK,MAAO,sBAAuB3D,GAAI,GAAF,OAAK2L,GAAgB,OAAGkC,GAAQ6K,KAAM,UAAWc,UAAW,GAAK7b,KAAK8b,wBAAyB9b,KAAK+b,6BAA6Bnb,EAAAA,EAAAA,GAAEob,EAAAA,EAAqB,CAAEC,UAAWjc,OAC9oB,GAAC,cACD,WAAW,OAAOsB,EAAAA,EAAAA,GAAWtB,KAAO,IAAC,qBACrC,WAAwB,MAAO,CAC7B,OAAU,CAAC,iBACX,KAAQ,CAAC,eACT,SAAY,CAAC,wBACb,SAAY,CAAC,mBACb,mBAAsB,CAAC,6BACvB,MAAS,CAAC,gBACV,eAAkB,CAAC,yBACnB,cAAiB,CAAC,wBAClB,KAAQ,CAAC,eACR,KAAC,EAzzBQ,GA2zBdkO,EAAS3M,MAn0BW,6kNA00BpB,IAAM2a,EACE,OADFA,EAEQ,eAFRA,EAGI,eAHJA,EAIC,YAJDA,EAKI,gBALJA,EAMG,QANHA,EAOI,gBAPJA,EAQM,kBARNA,EASG,QAMHC,EAAY,WAChB,WAAYrc,GAAS,4BACnBC,EAAAA,EAAAA,GAAiBC,KAAMF,GACvBE,KAAKoc,2BAA4Blc,EAAAA,EAAAA,GAAYF,KAAM,4BAA6B,GAOhFA,KAAK2K,UAAW,EAIhB3K,KAAKmW,UAAW,EAEhBnW,KAAKuK,QAAS,EAEdvK,KAAKkQ,MAAOA,EAAAA,EAAAA,KACZlQ,KAAKG,MAAQ,IAMbH,KAAKqc,iBAAmB,SAACpL,GACvBA,EAAMG,iBACF,EAAKzG,WAGT,EAAKwL,UAAY,EAAKA,SACxB,CACF,CA+EI,OA/EH,4CACD,WACEnW,KAAKoc,0BAA0B1b,KAAKV,KAAKM,GAC3C,GAKA,+BACA,WACEN,KAAKyU,WAAY6H,EAAAA,EAAAA,GAAatc,KAAKM,IACnCN,KAAKG,OAAQoc,EAAAA,EAAAA,GAAevc,KAAKM,GAAI,QAASN,KAAKG,QACnDqc,EAAAA,EAAAA,GAAgCxc,KAClC,GAAC,kCACD,YACEyc,EAAAA,EAAAA,GAAmCzc,KACrC,GAAC,gCACD,YACE+W,EAAAA,EAAAA,GAAsB/W,KACxB,GAMA,qEAMA,WAAqB0c,GAAM,0EACrB1c,KAAK2K,SAAU,CAAF,gDAGjB3K,KAAKmW,SAA6B,mBAAXuG,EAAuBA,GAAU1c,KAAKmW,SAAS,gDACvE,mDAXD,IAgBA,wBACA,SAAWwG,GAAU,QACX5Y,EAA6B/D,KAA7B+D,KAAM4G,EAAuB3K,KAAvB2K,SAAUwL,EAAanW,KAAbmW,SAClByG,EAAQ,GAAH,OAAMV,EAAQ,YAEnBW,EAAWlS,EAAW,oBADRgS,EAAW,MAAQ,QAGvC,OADgBA,IAAa5Y,IAAS4G,GACpB/J,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,OAAK,eAC9BkW,GAAW,IAAI,SACfA,GAAU,IAAI,SACdU,GAAQ,GAAI,MACNhc,EAAAA,EAAAA,GAAE,eAAgB,CAAEoF,OAAK,eAC/BkW,GAAYnY,IAAI,SAChBmY,IAAenY,IAAI,SACnBmY,EAAiBnY,GAAQoS,IAAQ,SACjCyG,GAAQ,GAAI,GACZ7Y,KAAMA,GAAQ8Y,EAAU1c,MAAO,KACtC,GAAC,4BACD,WACE,OAAI2c,EAAAA,EAAAA,GAAW9c,KAAKM,KACVM,EAAAA,EAAAA,GAAE,KAAM,CAAE4F,IAAK,2BAA4B5F,EAAAA,EAAAA,GAAE,OAAQ,OAExD,IACT,GAAC,oBACD,WAAS,MACDmc,EAAwE,YAAvDR,EAAAA,EAAAA,GAAevc,KAAKM,GAAI,iBAAkB,SAC3D2a,GAAO,eACViB,GAAY,IAAI,SAChBA,EAAelc,KAAKmW,WAAQ,SAC5B+F,EAAalc,KAAKuK,SAAM,SACxB2R,EAAaa,GAAc,GAExBC,GAAQC,EAAAA,EAAAA,GAASjd,KAAKM,IAC5B,OAAQM,EAAAA,EAAAA,GAAEC,EAAAA,EAAM,CAAE,cAAe,SAAUD,EAAAA,EAAAA,GAAE,MAAO,CAAEoF,MAAO,oBAAF,OAAsBhG,KAAKG,OAASoB,MAAO,CAAE,oDAAqD,GAAF,OAAKyb,MAAapc,EAAAA,EAAAA,GAAE,KAAM,CAAEoF,MAAOiV,EAAS5Y,GAAIrC,KAAKkQ,KAAM/L,QAASnE,KAAKqc,kBAAoBrc,KAAKkd,WAAWH,IAAiBnc,EAAAA,EAAAA,GAAE,OAAQ,CAAEoF,MAAOkW,GAAalc,KAAKyL,YAAazL,KAAKmd,kBAClV,GAAC,cACD,WAAW,OAAO7b,EAAAA,EAAAA,GAAWtB,KAAO,IAAC,qBACrC,WAAwB,MAAO,CAC7B,SAAY,CAAC,wBACZ,KAAC,EA/GY,GAiHlBmc,EAAa5a,MAnHW,kgKC93CxB,SAASyL,EAAgBoQ,GAqBvB,OAZA,SAAkBC,EAASC,EAAcC,GACvC,IAAeC,EAAaD,EAApBvO,MACA/B,EAASmQ,EAATnQ,KAQR,OAAOhL,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGqb,GAAa,CAAEvO,MAPxC,WAA2B,2BAANyO,EAAI,yBAAJA,EAAI,gBACrC,IAAMC,EAAWzQ,EAAK0Q,MAAM3d,KAAMyd,GAClC,GAAIC,EAEF,OAAOF,EAASG,MAAM3d,KAAMyd,EAEhC,GAEF,CAEF,mHClBI5N,8CADE+N,EAAW,IAAIC,IAEfC,EAAkB,CAAEtH,WAAW,GAMrC,SAASgG,EAAgCP,GAClCpM,IACHA,GAAmBC,EAAAA,EAAAA,GAAe,WAAYiO,IAEhDlO,EAAiB+D,QAAQqI,EAAU3b,GAAIwd,EACzC,CAMA,SAASrB,EAAmCR,GAC1C2B,EAASI,OAAO/B,EAAU3b,IAI1Byd,EAAiBlO,EAAiBoO,eAClCpO,EAAiBmH,aAAa,IACY,EADZ,UACN4G,EAASrR,WAAS,IAA1C,IAAK,EAAL,qBAA4C,KAAhC9K,GAAgC,kBAAzB,GACjBoO,EAAiB+D,QAAQnS,EAASqc,EACpC,CAAC,+BACH,CACA,SAASC,EAAiBG,GACxBA,EAAU3J,SAAQ,YAAgB,IAAbhO,EAAM,EAANA,QACnB4X,EAAAA,EAAAA,GAAY5X,EACd,GACF,mFCpCA,SAAS4G,EAAuBiR,GAC9B,IAAQhR,EAAUgR,EAAVhR,MACR,IAAKzD,OAAO0U,UAAUjR,IAAUA,EAAQ,EACtC,MAAM,IAAIkR,MAAM,oCAMlB,OAAO,SAACjB,EAASkB,EAAOhB,GACtB,IAAeC,EAAaD,EAApBvO,MACFA,EAAK,yCAAG,6GAC2D,IAAjEwP,EAAe,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAStR,EAAM,IAAC,WADzBqQ,EAAI,yBAAJA,EAAI,QAEF,OAA1CmB,EAAgBpB,EAASG,MAAM3d,KAAMyd,GAAK,kBACzCe,EAAaK,MAAK,kBAAMD,CAAa,KAAC,gDAHH,OAI3C,WAJ2C,gCAAjC,GAKX,OAAO3c,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAGqb,GAAa,CAAEvO,MAAAA,GACxD,CACF,+HCZA,SAASc,EAAehM,EAAMgb,EAAUV,GACtC,IAAMW,EAGR,SAAqBjb,GACnB,IACMkb,EAAwB,0CAC5B,WAAYF,GAAU,MAGK,OAHL,gBACpB,cAAMA,IACDG,cAAgB,GACrB,EAAKH,SAAWA,EAAS,CAC3B,CAWC,OAXA,+BACD,SAAQvY,EAAQ6X,GAEd,OADApe,KAAKif,cAAczU,KAAK,CAAEjE,OAAAA,EAAQ6X,QAAAA,KAC3B,sDAAc7X,EAAQ6X,EAC/B,GAAC,uBACD,SAAU7X,GAAQ,WACV2Y,EAAqBlf,KAAKif,cAAc7K,QAAO,SAACwJ,GAAQ,OAAKA,EAASrX,SAAWA,CAAM,IAC7FvG,KAAKif,cAAgB,GACrBjf,KAAK8e,UAAS,2DAAqB9e,MACnCA,KAAKgX,aACLkI,EAAmB3K,SAAQ,SAACqJ,GAAQ,OAAK,EAAKhK,QAAQgK,EAASrX,OAAQqX,EAASQ,QAAQ,GAC1F,KAAC,EAhB2B,CAAS1Z,OAAOya,kBAkB9C,MACmB,iBAATrb,EACJY,OAAO0a,qBACE,aAATtb,EACEkb,EACAta,OAAO2a,cAEjB,CA9BmBC,CAAYxb,GAC7B,OAAO,IAAIib,EAASD,EAAUV,EAChC,+FCVMmB,EAAiC,IAAIC,QAC3C,SAASC,EAAgBxO,GACnBA,EAAMyO,eAAiB1f,KAAKqQ,oBAAsBY,EAAM1K,SAAWvG,KAAK6T,eAC1E7T,KAAK2O,KAAO3O,KAAK2f,eAAiB3f,KAAK4f,gBAE3C,CACA,SAASC,EAAc5O,GACjBA,EAAMyO,eAAiB1f,KAAKqQ,oBAAsBY,EAAM1K,SAAWvG,KAAK6T,eAC1E7T,KAAK2O,KAAO3O,KAAK8f,SAAW9f,KAAK+f,UAErC,CAMA,SAASjM,EAA0BmI,GAEjC,GADA7E,EAA6B6E,GACzBA,EAAUpI,aAAc,CAC1B,IAAMmM,EAAyBP,EAAgBrf,KAAK6b,GAC9CgE,EAAuBJ,EAAczf,KAAK6b,GAChDsD,EAA+BW,IAAIjE,EAAW,CAC5CA,EAAUpI,aACVmM,EACAC,IAEFhE,EAAUpI,aAAasM,iBAAiB,kBAAmBH,GAC3D/D,EAAUpI,aAAasM,iBAAiB,gBAAiBF,EAC3D,CACF,CAMA,SAAS7I,EAA6B6E,GACpC,GAAKsD,EAA+Ba,IAAInE,GAAxC,CAGA,MAAmCsD,EAA+Bc,IAAIpE,GAAU,eAAzEpI,EAAY,KAAEyM,EAAK,KAAEC,EAAG,KAC/B1M,EAAa1B,oBAAoB,kBAAmBmO,GACpDzM,EAAa1B,oBAAoB,gBAAiBoO,GAClDhB,EAA+BvB,OAAO/B,EAJtC,CAKF,sFChDIuE,aACJ,SAAWA,GACTA,EAA+C,KAAI,OACnDA,EAAmD,SAAI,YACvDA,EAAwD,cAAI,kBAC5DA,EAAuD,aAAI,iBAC3DA,EAAoD,UAAI,aACxDA,EAAyD,eAAI,mBAC7DA,EAAwD,cAAI,kBAC5DA,EAAgD,MAAI,QACpDA,EAAgD,MAAI,OACrD,CAVD,CAUGA,IAA6CA,EAA2C,CAAC,IAC5F,IAAMhgB,GAAwC,eAC3CggB,EAAyCC,KAAO,CAC/Crf,MAAO,aACPC,QAAS,kBACV,SACAmf,EAAyCE,SAAW,CACnDtf,MAAO,aACPC,QAAS,kBACV,SACAmf,EAAyCG,cAAgB,CACxDvf,MAAO,aACPC,QAAS,wBACV,SACAmf,EAAyCI,aAAe,CACvDxf,MAAO,aACPC,QAAS,uBACV,SACAmf,EAAyCK,UAAY,CACpDzf,MAAO,cACPC,QAAS,mBACV,SACAmf,EAAyCM,eAAiB,CACzD1f,MAAO,cACPC,QAAS,yBACV,SACAmf,EAAyCO,cAAgB,CACxD3f,MAAO,cACPC,QAAS,wBACV,SACAmf,EAAyCQ,MAAQ,CAChD5f,MAAO,cACPC,QAAS,mBACV,SACAmf,EAAyCS,MAAQ,CAChD7f,MAAO,sBACPC,QAAS,0BACV,iQCzCG8a,EAAe,wBACfjI,EAAoB,8BACpBgE,EAAwB,GAAH,OAAMiE,EAAY,aAAKjI,GAC5ChF,EAAO,CACXgS,UAAW,cAQb,SAAS5E,EAAa7a,GACpB,IAAIiB,EAAI4F,EACFoM,EAA0C,QAAhChS,EAAKjB,EAAQ0f,qBAAkC,IAAPze,OAAgB,EAASA,EAAG0e,QAAQlJ,GAE5F,MAAO,CAACxD,EAD4F,QAA/EpM,EAAgB,OAAXoM,QAA8B,IAAXA,OAAoB,EAASA,EAAOyM,qBAAkC,IAAP7Y,OAAgB,EAASA,EAAG8Y,QAAQlJ,IACnH9D,QAAO,SAAC9T,GAAE,OAAKA,CAAE,GAChD,CACA,SAASgY,EAAiB1H,GACxB,IAAIlO,EACJ,OAAmC,QAAzBA,EAAKkO,EAAK6D,iBAA8B,IAAP/R,OAAgB,EAASA,EAAG0R,QAAO,SAAC9T,GAAE,MAAqB,0BAAhBA,EAAG+gB,QAAoC,MAAM,EACrI,CACA,SAAS7I,EAAgB5H,GACvB,OAAO0Q,EAAAA,EAAAA,GAAgB1Q,EAAKqH,iBAAiB,yBAC/C,CACA,SAASQ,EAAkBtF,GAEzB,OADcmO,EAAAA,EAAAA,GAAgBnO,EAAK8E,iBAAiB,0BACvC7D,QAAO,SAACxD,GAAI,OAAKA,EAAKuF,QAAQ,IAAEtP,OAAS,CACxD,CACA,SAASoW,EAASxb,GAEhB,OADekW,SAAS4J,SAAS,0EAA2E9f,EAAS,KAAM+f,YAAYC,6BAA8B,MACvJC,cAChB,sMC7BMC,EAAc,CAChBC,OAAQ,CACJ1d,MAAO,gBACP4E,IAAK,yBACLhF,KAAM,UAEV+d,SAAU,CACN3d,MAAO,sBACP4E,IAAK,2BACLhF,KAAM,UAEVge,UAAW,CACP5d,MAAO,uBACP4E,IAAK,4BACLhF,KAAM,UAEVie,IAAK,CACD7d,MAAO,aACP4E,IAAK,6BACLhF,KAAM,cAEVke,OAAQ,CACJ9d,MAAO,iBACP4E,IAAK,gCACLhF,KAAM,cAEVme,MAAO,CACH/d,MAAO,gBACP4E,IAAK,+BACLhF,KAAM,eASd,SAASoe,EAAUC,GACf,MAAmB,kBAARA,GAAoBA,KAAOR,EAC3BA,EAAYQ,GAIZA,CAEf,CAOA,SAASC,EAAoBpT,GACzB,IAAIqT,EAAS,CAAC,EAgBd,OAfI7V,MAAM0J,QAAQlH,GACdqT,EAAS,CACLC,IAAKtT,IAIY,kBAAVA,IACPqT,EAAS,CACLC,IAAK,CAACtT,KAGO,kBAAVA,IACPqT,EAASrT,IAGVqT,CACX,CAOA,SAASE,EAAwBC,GAE7B,IAMMC,EAAM,IAAItd,KAEVkd,EAAS,CACXve,KAAM,aACN2I,KAAMgW,EAAIC,UACVC,GAAIF,EAAIC,WAGZ,OAAQF,EAASI,MACb,IAAK,QACL,IAAK,OACL,IAAK,QACDP,EAAO5V,KAAO4V,EAAOM,GAlBZ,CACbE,IAAK,IACLC,MAAO,KACPC,KAAM,MACNC,MAAO,QAcgCR,EAASI,MAAQJ,EAASS,IAC7D,MACJ,IAAK,SAKDR,EAAIS,SAAST,EAAIU,WAAaX,EAASS,KACvCZ,EAAO5V,KAAOgW,EAAIC,UAClB,MACJ,IAAK,QACDD,EAAIW,YAAYX,EAAIY,cAAgBb,EAASS,KAC7CZ,EAAO5V,KAAOgW,EAAIC,UAG1B,OAAOL,CACX,CASA,SAASiB,EAAgBC,EAASC,EAAWC,EAAOC,GAChD,IAAMC,GAAgBC,EAAAA,EAAAA,GAAYL,GAOlC,OALIA,EAAQM,iBACRF,EAAcE,eAAiBC,EAAAA,EAAAA,YAAwBP,EAAQM,eAAeE,cAGlFJ,EAAcrD,MAAQkD,GAAa,EAAIA,EAAYC,EAAQ,EACpD,SAACI,GAIJ,OAHIA,IACAF,EAAcE,eAAiBA,GAE5BH,EAAGC,EACd,CACJ,CAWA,SAASK,EAAqBC,EAAWzf,EAAOlB,GAC5C,IAAI4gB,EAAe,KAOnB,OANI1f,EAAMtB,YACNghB,EAAe,GAAH,OAAMD,EAAS,6BAAqBzf,EAAMnC,GAAE,iBAASmC,EAAMtB,WACnEI,GAA0B,WAAjBkB,EAAMjC,SACf2hB,EAAe,GAAH,OAAMA,EAAY,kBAAU5gB,KAGzC4gB,CACX,CAWA,SAAS/gB,EAAoB8gB,EAAWnhB,EAAMQ,GAC1C,IAAI4gB,EAAe,KAOnB,OANIphB,EAAKI,YACLghB,EAAe,GAAH,OAAMD,EAAS,4BAAoBnhB,EAAKE,SAAQ,iBAASF,EAAKI,WACtEI,GAAyB,WAAhBR,EAAKP,SACd2hB,EAAe,GAAH,OAAMA,EAAY,kBAAU5gB,KAGzC4gB,CACX,wEC1Le,SAASC,EAA2BC,EAAGC,GACpD,IAAIC,EAAuB,qBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAClE,IAAKE,EAAI,CACP,GAAI9X,MAAM0J,QAAQkO,KAAOE,GAAK,OAA2BF,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAEvd,OAAqB,CAC/Gyd,IAAIF,EAAIE,GACZ,IAAIpd,EAAI,EACJud,EAAI,WAAc,EACtB,MAAO,CACLC,EAAGD,EACHE,EAAG,WACD,OAAIzd,GAAKkd,EAAEvd,OAAe,CACxB+d,MAAM,GAED,CACLA,MAAM,EACN5V,MAAOoV,EAAEld,KAEb,EACA2d,EAAG,SAAWC,GACZ,MAAMA,CACR,EACAC,EAAGN,EAEP,CACA,MAAM,IAAIO,UAAU,wIACtB,CACA,IAEEC,EAFEC,GAAmB,EACrBC,GAAS,EAEX,MAAO,CACLT,EAAG,WACDJ,EAAKA,EAAGc,KAAKhB,EACf,EACAO,EAAG,WACD,IAAIU,EAAOf,EAAGgB,OAEd,OADAJ,EAAmBG,EAAKT,KACjBS,CACT,EACAR,EAAG,SAAWU,GACZJ,GAAS,EACTF,EAAMM,CACR,EACAR,EAAG,WACD,IACOG,GAAoC,MAAhBZ,EAAW,QAAWA,EAAW,QAG5D,CAFE,QACA,GAAIa,EAAQ,MAAMF,CACpB,CACF,EAEJ,wEClDe,SAASO,EAAeC,EAAQC,GAC7C,MAAQzjB,OAAOiL,UAAUyY,eAAeP,KAAKK,EAAQC,IAEpC,QADfD,GAAS,EAAAG,EAAA,GAAeH,MAG1B,OAAOA,CACT,CCNe,SAASI,IActB,OAZEA,EADqB,qBAAZ7e,SAA2BA,QAAQqZ,IACrCrZ,QAAQqZ,IAAIjgB,OAEZ,SAAcmG,EAAQmf,EAAUI,GACrC,IAAIC,EAAO,EAAcxf,EAAQmf,GACjC,GAAKK,EAAL,CACA,IAAItf,EAAOxE,OAAO8E,yBAAyBgf,EAAML,GACjD,OAAIjf,EAAK4Z,IACA5Z,EAAK4Z,IAAI+E,KAAKxe,UAAUC,OAAS,EAAIN,EAASuf,GAEhDrf,EAAKuI,KALK,CAMnB,EAEK6W,EAAKlI,MAAM3d,KAAM4G,UAC1B,yGCZe,SAASof,EAASC,GAC/B,OAAO,OAAeA,KAAQ,OAAgBA,KAAQ,OAA2BA,KAAQ,QAC3F","sources":["../.yalc/@esri/hub-components/dist/esm/arcgis-hub-discussions-blocked-notice_5.entry.js","../.yalc/@esri/hub-components/dist/esm/call-when-744df66d.js","../.yalc/@esri/hub-components/dist/esm/conditionalSlot-747e9e93.js","../.yalc/@esri/hub-components/dist/esm/min-promise-delay-d6a589f6.js","../.yalc/@esri/hub-components/dist/esm/observers-2b214c17.js","../.yalc/@esri/hub-components/dist/esm/openCloseComponent-f7bf772c.js","../.yalc/@esri/hub-components/dist/esm/resources-2625913b.js","../.yalc/@esri/hub-components/dist/esm/utils-c282ef8a.js","../.yalc/@esri/hub-components/dist/esm/utils-f1c97eba.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/toArray.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement, F as Fragment } from './index-0d95d9d4.js';\nimport { i as intlManager } from './intl-manager-821aea3b.js';\nimport { b as bind } from './context-7d8f7366.js';\nimport { d as dist } from './index-bcc98773.js';\nimport { a as ArcgisHubDiscussionsBlockedNoticeConfigs } from './resources-2625913b.js';\nimport { a as getUserThumbnailUrl } from './utils-f1c97eba.js';\nimport { C as SharingAccess, L as pluckDiscussionFeatureIds, N as fetchRelatedFeatures, k as convertGeometryTypeToTelemetryString, w as canModifyPost } from './discussions-0e185b12.js';\nimport { m as minPromiseDelayFactory } from './min-promise-delay-d6a589f6.js';\nimport { C as CallWhenFactory } from './call-when-744df66d.js';\nimport { f as filter } from './filter-77dfd1a1.js';\nimport { d as defaultMenuPlacement, f as filterComputedPlacements, c as connectFloatingUI, u as updateAfterClose, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui-6d9a758b.js';\nimport { g as guid } from './guid-ddc4f6da.js';\nimport { T as TEXT, C as ComboboxChildSelector, b as getItemAncestors, c as getItemChildren, h as hasActiveChildren, d as ComboboxItem$1, e as ComboboxItemGroup, g as getAncestors, a as getDepth } from './utils-c282ef8a.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label-c72a813c.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form-361cdbe3.js';\nimport { c as createObserver } from './observers-2b214c17.js';\nimport { u as updateHostInteraction } from './interactive-d9ac4e8f.js';\nimport { i as isPrimaryPointerButton, t as toAriaBoolean, g as getElementProp, b as getSlotted } from './dom-9898fc5b.js';\nimport { c as connectOpenCloseComponent, d as disconnectOpenCloseComponent } from './openCloseComponent-f7bf772c.js';\nimport { d as debounce } from './debounce-464f07a1.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot-747e9e93.js';\nimport './index-4e91769f.js';\nimport './_commonjsHelpers-11ca3be1.js';\nimport './util-2150bd9e.js';\nimport './get-prop-d82e4fa6.js';\nimport './UserSession-d3a97494.js';\nimport './request-c15cc2af.js';\nimport './clean-url-be7c0879.js';\nimport './getPortalBaseFromOrgUrl-6a5781aa.js';\nimport './tslib.es6-3669ad41.js';\nimport './get-portal-url-423a76f5.js';\nimport './get-859a2960.js';\nimport './append-custom-params-fd9b7e72.js';\nimport './get-portal-06f7947b.js';\nimport './query-15c2c6ed.js';\nimport './tslib.es6-b2e8cdb8.js';\nimport './fetch-eff7ab83.js';\nimport './tslib.es6-e75776ba.js';\nimport './_enrichments-9747f1f3.js';\nimport './get-with-default-6db049d8.js';\nimport './_internal-f8d6239a.js';\nimport './get-portal-api-url-2391fbac.js';\nimport './extent-0f42acfc.js';\nimport './helpers-a80c0291.js';\nimport './OperationError-85fd80c7.js';\nimport './get-f2cd18e7.js';\nimport './getService-49b539e3.js';\nimport './slugs-150ad0db.js';\nimport './is-guid-8127621d.js';\nimport './request-be948455.js';\nimport './api-3826163b.js';\nimport './compose-cc2f466a.js';\nimport './get-structured-license-d1e63636.js';\nimport './get-item-thumbnail-url-7608a737.js';\nimport './update-fec93fc5.js';\nimport './resources-919972af.js';\n\nconst arcgisHubDiscussionsBlockedNoticeCss = \":host{display:block}\";\n\nconst ArcgisHubDiscussionsBlockedNotice = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.hubTelemetry = createEvent(this, \"hubTelemetry\", 7);\n    this.scale = 'm';\n    bind(this, 'handleImpression');\n  }\n  async componentWillLoad() {\n    this.intl = await intlManager.loadIntlForComponent(this.el);\n  }\n  get variantConfig() {\n    return ArcgisHubDiscussionsBlockedNoticeConfigs[this.variant];\n  }\n  handleImpression() {\n    this.hubTelemetry.emit(dist.dictionary.category.interaction.action.alert.label.warning.details.discussionsBlocked);\n  }\n  render() {\n    return (h(Host, { \"data-element\": \"discussions-blocked-notice\" }, h(\"calcite-notice\", {\n      // active\n      color: \"yellow\", ref: this.handleImpression, scale: this.scale\n    }, h(\"div\", { slot: \"title\" }, this.intl.t(this.variantConfig.title)), h(\"div\", { slot: \"message\" }, this.intl.t(this.variantConfig.message)))));\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get el() { return getElement(this); }\n};\nArcgisHubDiscussionsBlockedNotice.style = arcgisHubDiscussionsBlockedNoticeCss;\n\nconst arcgisHubDiscussionsPopoverCss = \":host{display:block}calcite-popover{width:20rem}calcite-popover[data-popper-placement][data-popper-reference-hidden]{pointer-events:auto;opacity:1}button{grid-row:span 2 / span 2;cursor:pointer;border-style:none;background-color:transparent;padding:0px}address{margin:0px;margin-bottom:1.5rem;display:grid;-moz-column-gap:0.75rem;column-gap:0.75rem;row-gap:0px;font-style:normal;grid-template-columns:44px auto}address:last-child{margin:0px}calcite-avatar{grid-row:span 2 / span 2;height:2.75rem;width:2.75rem}address calcite-icon{grid-row:span 2 / span 2;height:2.75rem;width:2.75rem}address b{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-1)}address span{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}address span:before{content:'@'}calcite-icon{margin-top:1px;margin-bottom:1px}.popover-body{margin:0px;padding:0.75rem}.popover-body div{margin-bottom:0.5rem;display:flex;align-items:flex-start;gap:0.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-2)}.popover-body div+div{margin-bottom:1rem}.popover-body div+div:last-child{margin:0px}footer{padding:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-background)}footer div{margin:0px;margin-bottom:0.5rem;display:flex;align-items:flex-start;gap:0.5rem}footer div:nth-of-type(3){margin-bottom:1rem}footer div:last-child{margin:0px}\";\n\nconst ArcgisHubDiscussionsPopover = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.hubTelemetry = createEvent(this, \"hubTelemetry\", 7);\n    bind(this, 'handlePopoverOpened', 'handleGoToProfile', 'handleOpenGroup', 'emitHubTelemetry');\n  }\n  async componentWillLoad() {\n    this.intl = await intlManager.loadIntlForComponent(this.element);\n  }\n  emitHubTelemetry(telemetry) {\n    const { postDetails: { postId }, originalPostDetails, channelDetails: { channel }, index } = this;\n    this.hubTelemetry.emit(Object.assign(Object.assign({}, telemetry), { postId, parentId: originalPostDetails === null || originalPostDetails === void 0 ? void 0 : originalPostDetails.postId, channelId: channel.id, channelAccess: channel.access, position: index }));\n  }\n  handlePopoverOpened() {\n    this.emitHubTelemetry(dist.dictionary.category.interaction.action.open.label.popover.details.details);\n  }\n  handleGoToProfile() {\n    this.emitHubTelemetry(dist.dictionary.category.navigation.action.view.label.users.details.profile);\n  }\n  handleOpenGroup() {\n    this.emitHubTelemetry(dist.dictionary.category.navigation.action.view.label.groups.details.profile);\n  }\n  renderCreatorAvatar() {\n    var _a;\n    const { postDetails: { post, creatorDetails: { user: creator } }, context } = this;\n    const user = (!creator && post)\n      ? { username: post.creator }\n      : creator;\n    return (h(\"calcite-avatar\", { \"full-name\": user === null || user === void 0 ? void 0 : user.fullName, scale: \"l\", thumbnail: (user === null || user === void 0 ? void 0 : user.thumbnail) && getUserThumbnailUrl(context.session.portal, user, context.session.token), \"user-id\": (_a = user) === null || _a === void 0 ? void 0 : _a.id, username: user === null || user === void 0 ? void 0 : user.username }));\n  }\n  renderCreatorDetails() {\n    const { intl, postDetails: { post: { creator: creatorUsername }, creatorDetails: { user: creator }, }, } = this;\n    let fullName = intl.t('anonymous');\n    let username = intl.t('noUser');\n    if (creator || creatorUsername) {\n      fullName = (creator === null || creator === void 0 ? void 0 : creator.fullName) || intl.t('privateUser');\n      username = creatorUsername;\n    }\n    return (h(Fragment, null, h(\"b\", null, fullName), h(\"span\", null, username)));\n  }\n  renderCreatorExpandedDetails() {\n    const { intl, postDetails: { creatorDetails: { user: creator, organization } }, isHub } = this;\n    /// 'region' acts as a stand-in for whether or not the user is viewable from an access standpoint.\n    /// If we don't have a region property, we also don't have access to portal or the other needed information.\n    if (creator === null || creator === void 0 ? void 0 : creator.region) {\n      const region = intl.formatDisplayName(creator.region.toLocaleUpperCase(), { type: 'region' });\n      return (h(Fragment, null, false , h(\"div\", null, h(\"calcite-icon\", { icon: \"pin\", scale: \"s\", \"text-label\": intl.t('location') }), region), isHub && (h(\"calcite-button\", { appearance: \"outline\", color: \"neutral\", href: \"/people/\" + creator.username, label: intl.t('profile'), onClick: this.handleGoToProfile, round: true, scale: \"l\", width: \"full\" }, intl.t('profile')))));\n    }\n  }\n  renderPostDetails() {\n    const { intl, postDetails: { post }, originalPostDetails, channelDetails: { channel: { access }, groups: [group] }, isHub } = this;\n    let groupLink;\n    if (group) {\n      groupLink = isHub\n        ? h(\"calcite-link\", { href: `${window.location.origin}/teams/${group.id}` }, group.title)\n        : group.title;\n    }\n    else {\n      groupLink = intl.t('group.deleted');\n    }\n    const postedTo = (originalPostDetails === null || originalPostDetails === void 0 ? void 0 : originalPostDetails.creatorDetails) ?\n      h(\"div\", null, h(\"calcite-icon\", { icon: \"right\", scale: \"s\" }), intl.t('replyingTo', { username: originalPostDetails.creatorDetails.username })) :\n      h(\"div\", null, h(\"calcite-icon\", { icon: \"speech-bubble\", scale: \"s\" }), h(\"span\", null, intl.t('postedIn', { groupName: groupLink })));\n    let visibilityIcon;\n    let visibilityText;\n    if (access === SharingAccess.PRIVATE) {\n      visibilityIcon = \"lock\";\n      visibilityText = intl.t('visiblePrivate');\n    }\n    else if (access === SharingAccess.ORG) {\n      visibilityIcon = \"organization\";\n      visibilityText = intl.t('visibleOrg');\n    }\n    else if (access === SharingAccess.PUBLIC) {\n      visibilityIcon = \"globe\";\n      visibilityText = intl.t('visibleAll');\n    }\n    const timestamp = new Date(post.createdAt).toLocaleString(intl.locale, {\n      day: 'numeric',\n      month: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric'\n    });\n    return (h(\"footer\", null, postedTo, h(\"div\", null, h(\"calcite-icon\", { icon: visibilityIcon, scale: \"s\" }), visibilityText), h(\"div\", null, h(\"calcite-icon\", { icon: \"clock\", scale: \"s\" }), timestamp), false  ));\n  }\n  render() {\n    const { intl, postDetails: { creatorDetails } } = this;\n    if (creatorDetails.user) {\n      return (h(Host, { \"data-element\": \"discussions-popover\" }, this.buttonEl &&\n        h(\"calcite-popover\", { autoClose: true, label: intl.t('information'), placement: \"top\", referenceElement: this.buttonEl }, h(\"div\", { class: \"popover-body\" }, h(\"address\", null, this.renderCreatorAvatar(), this.renderCreatorDetails()), this.renderCreatorExpandedDetails()), this.renderPostDetails()), h(\"button\", { ref: (el) => { this.buttonEl = el; }, type: \"button\" }, h(\"slot\", null))));\n    }\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get element() { return getElement(this); }\n};\nArcgisHubDiscussionsPopover.style = arcgisHubDiscussionsPopoverCss;\n\nconst arcgisHubDiscussionsPostGeographyCss = \":host{display:block}.overflow{padding-left:1rem}calcite-icon{padding:1rem}arcgis-skeleton-loader:first-of-type{margin-top:0px}arcgis-skeleton-loader{margin-top:1rem;margin-bottom:1rem;display:grid;-moz-column-gap:1rem;column-gap:1rem;grid-template-columns:1.75rem auto}arcgis-skeleton-loader:last-of-type{margin-bottom:0px}@-webkit-keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}@keyframes shimmer{0%{background-size:200% 100%;background-position:100% 0}100%{background-size:200% 100%;background-position:-100% 0}}arcgis-skeleton-loader>div:nth-of-type(1),arcgis-skeleton-loader>div:nth-of-type(2)>div{-webkit-animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;animation:shimmer 2s cubic-bezier(0.4, 0, 0.2, 0.8) infinite;background-image:linear-gradient(90deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 60%, rgba(255, 255, 255, 0) 100%);background-color:var(--calcite-ui-foreground-2)}arcgis-skeleton-loader>div:nth-of-type(1){height:1.75rem;width:1.75rem;border-radius:9999px}arcgis-skeleton-loader>div:nth-of-type(2){display:grid;align-items:center;row-gap:0.5rem}arcgis-skeleton-loader>div:nth-of-type(2)>div:nth-of-type(1){height:0.75rem;border-radius:0.375rem}arcgis-skeleton-loader>div:nth-of-type(2)>div:nth-of-type(2){height:0.5rem;border-radius:0.25rem}.discussions-post-geography-edit-icon,.discussions-post-geography-delete-icon{padding:0px}.discussions-post-geography-edit:active .discussions-post-geography-edit-icon{--tw-text-opacity:1;color:rgb(21 21 21 / var(--tw-text-opacity))}.discussions-post-geography-edit[active] .discussions-post-geography-edit-icon{--tw-text-opacity:1;color:rgb(21 21 21 / var(--tw-text-opacity))}.discussions-post-geography-delete:active .discussions-post-geography-delete-icon{--tw-text-opacity:1;color:rgb(21 21 21 / var(--tw-text-opacity))}\";\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst ArcgisHubDiscussionsPostGeography = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.arcgisHubDiscussionsPostGeographySelect = createEvent(this, \"arcgisHubDiscussionsPostGeographySelect\", 7);\n    this.arcgisHubDiscussionsPostGeographyHover = createEvent(this, \"arcgisHubDiscussionsPostGeographyHover\", 7);\n    this.arcgisHubDiscussionsPostViewAllGeography = createEvent(this, \"arcgisHubDiscussionsPostViewAllGeography\", 7);\n    this.arcgisHubDiscussionsPostEdit = createEvent(this, \"arcgisHubDiscussionsPostEdit\", 7);\n    this.arcgisHubDiscussionsGeometryDrawEdit = createEvent(this, \"arcgisHubDiscussionsGeometryDrawEdit\", 7);\n    this.arcgisHubDiscussionsGeometryDrawEditCancel = createEvent(this, \"arcgisHubDiscussionsGeometryDrawEditCancel\", 7);\n    this.arcgisHubDiscussionsFeatureRemove = createEvent(this, \"arcgisHubDiscussionsFeatureRemove\", 7);\n    this.hubTelemetry = createEvent(this, \"hubTelemetry\", 7);\n    /**\n     * Default value for maxEntryCount\n     */\n    this.defaultMaxEntryCount = 4;\n    /**\n     * Maximum number of entries to display\n     */\n    this.maxEntryCount = this.defaultMaxEntryCount;\n    /**\n     * Related feature ID's\n     */\n    this.relatedFeatureIds = [];\n    /**\n     * The index of the list item being edited, -1 indicates inactive\n     */\n    this.activeEditIndex = -1;\n    /**\n     * Should display loading state\n     */\n    this.loading = true;\n    /**\n     * Feature geometry edits for existing post locations\n     */\n    this.unsavedExistingFeatures = [];\n    bind(this, 'handleGeometrySelected', 'handleToggleAllGeography', 'handleViewAllGeography', 'handleGeometryHovered', 'renderButton', 'renderGeographyItem', 'renderGeographies', 'handleDelete', 'handleEdit');\n  }\n  get featuresLoaded() {\n    var _a;\n    return this.relatedFeatureIds.length\n      ? this.relatedFeatureIds.length === ((_a = this.relatedFeatures) === null || _a === void 0 ? void 0 : _a.length)\n      : true;\n  }\n  componentWillLoad() {\n    this.initialize();\n  }\n  async initialize() {\n    this.fetchRelatedFeatures();\n    this.updateFeatures();\n    this.intl = await intlManager.loadIntlForComponent(this.element);\n  }\n  updateFeatures() {\n    var _a, _b;\n    const ids = pluckDiscussionFeatureIds((_b = (_a = this === null || this === void 0 ? void 0 : this.postDetails) === null || _a === void 0 ? void 0 : _a.post) === null || _b === void 0 ? void 0 : _b.discussion);\n    if (JSON.stringify(ids) !== JSON.stringify(this.relatedFeatureIds)) {\n      this.relatedFeatureIds = ids || [];\n    }\n  }\n  handleRelatedFeatureIdsChange() {\n    this.relatedFeatures = [];\n    this.fetchRelatedFeatures();\n  }\n  updateLoading() {\n    const { intl, featuresLoaded } = this;\n    this.loading = !Boolean(intl && featuresLoaded);\n  }\n  handleFeatureUpdated() {\n    this.activeEditIndex = -1;\n  }\n  async fetchRelatedFeatures() {\n    const { url, relatedFeatureIds } = this;\n    this.relatedFeatures = relatedFeatureIds.length\n      ? (await fetchRelatedFeatures(url, relatedFeatureIds))\n      : [];\n  }\n  emitHubTelemetry(telemetry) {\n    const { postId } = this.postDetails || {};\n    const { channelId, channel } = this.channelDetails || {};\n    const { postId: parentId } = this.parentDetails || {};\n    this.hubTelemetry.emit(Object.assign(Object.assign({}, telemetry), { postId,\n      parentId,\n      channelId, channelAccess: channel === null || channel === void 0 ? void 0 : channel.access }));\n  }\n  /**\n   * Get specific details related to geography list item in the list\n   * @param evt Mouse Event\n   * @returns IFeaturePositionDetails object\n   */\n  findGeometryFromClickEvent(evt) {\n    var _a;\n    const { relatedFeatures, unsavedFeatures, unsavedRelatedFeatures, geometries } = this;\n    const { post } = this.postDetails || {};\n    const { dataset: { index: _index, related, unsaved } } = evt.target;\n    const index = Number(_index);\n    const isRelatedFeature = related !== undefined;\n    const isStaged = unsaved !== undefined;\n    let featureGeometry, relatedFeatureId, featureIndex;\n    if (isStaged) {\n      featureGeometry = isRelatedFeature\n        ? unsavedRelatedFeatures[index - relatedFeatures.length - geometries.length].feature.geometry\n        : unsavedFeatures[index - relatedFeatures.length - geometries.length - unsavedRelatedFeatures.length].geometry;\n      relatedFeatureId = isRelatedFeature\n        ? unsavedRelatedFeatures[index - relatedFeatures.length - geometries.length].objectId\n        : null;\n      featureIndex = (!isRelatedFeature)\n        ? index - unsavedRelatedFeatures.length - geometries.length - relatedFeatures.length\n        : null;\n    }\n    else {\n      featureGeometry = isRelatedFeature\n        ? relatedFeatures[index].geometry\n        : post === null || post === void 0 ? void 0 : post.geometry;\n      relatedFeatureId = isRelatedFeature\n        ? relatedFeatures[index].id\n        : null;\n      featureIndex = (!isRelatedFeature && ((_a = post === null || post === void 0 ? void 0 : post.geometry) === null || _a === void 0 ? void 0 : _a.type) === 'GeometryCollection')\n        ? index - relatedFeatures.length\n        : null;\n    }\n    return {\n      featureGeometry,\n      relatedFeatureId,\n      featureIndex,\n      isStaged,\n      originalIndex: index,\n      isRelatedFeature\n    };\n  }\n  handleGeometrySelected(evt) {\n    const { post } = this.postDetails || {};\n    const { featureGeometry, relatedFeatureId, featureIndex, isStaged } = this.findGeometryFromClickEvent(evt);\n    this.emitHubTelemetry(dist.dictionary.category.interaction.action.zoom.label.in);\n    this.arcgisHubDiscussionsPostGeographySelect.emit({\n      type: 'Feature',\n      geometry: featureGeometry,\n      properties: {\n        id: post === null || post === void 0 ? void 0 : post.id,\n        relatedFeatureId,\n        index: featureIndex,\n        unsaved: isStaged,\n      }\n    });\n  }\n  /**\n   * Emits event when geometry is hovered over\n   * @param evt MouseEvent\n   */\n  handleGeometryHovered(evt) {\n    const { post } = this.postDetails || {};\n    const { featureGeometry, relatedFeatureId, featureIndex, isStaged } = this.findGeometryFromClickEvent(evt);\n    this.arcgisHubDiscussionsPostGeographyHover.emit({\n      type: 'Feature',\n      geometry: featureGeometry,\n      properties: {\n        id: post === null || post === void 0 ? void 0 : post.id,\n        relatedFeatureId,\n        index: featureIndex,\n        unsaved: isStaged,\n      }\n    });\n  }\n  /**\n   * Emits event when geometry is removed\n   * @param evt MouseEvent\n   */\n  handleDelete(evt) {\n    evt.stopPropagation();\n    const { post } = this.postDetails || {};\n    const { featureGeometry, relatedFeatureId, featureIndex, isStaged } = this.findGeometryFromClickEvent(evt);\n    this.arcgisHubDiscussionsFeatureRemove.emit({\n      type: 'Feature',\n      geometry: featureGeometry,\n      properties: {\n        id: post === null || post === void 0 ? void 0 : post.id,\n        relatedFeatureId,\n        index: featureIndex,\n        unsaved: isStaged,\n      }\n    });\n    if (relatedFeatureId) {\n      this.emitHubTelemetry(dist.dictionary.category.interaction.action.deselect.label.content);\n    }\n    else {\n      const type = convertGeometryTypeToTelemetryString(featureGeometry);\n      this.emitHubTelemetry(dist.dictionary.category.content.action.delete.label.location.details[type]);\n    }\n  }\n  handleEdit(evt) {\n    evt.stopPropagation();\n    const { post } = this.postDetails || {};\n    const { featureGeometry, relatedFeatureId, featureIndex, isStaged, originalIndex: index } = this.findGeometryFromClickEvent(evt);\n    const el = evt.target;\n    this.activeEditIndex = !el.active ? index : -1;\n    if (this.activeEditIndex > -1) {\n      this.arcgisHubDiscussionsGeometryDrawEdit.emit({\n        type: 'Feature',\n        geometry: featureGeometry,\n        properties: {\n          id: post === null || post === void 0 ? void 0 : post.id,\n          relatedFeatureId,\n          index: featureIndex,\n          unsaved: isStaged,\n        }\n      });\n    }\n    else {\n      this.arcgisHubDiscussionsGeometryDrawEditCancel.emit();\n    }\n  }\n  handleViewAllGeography() {\n    this.emitHubTelemetry(dist.dictionary.category.interaction.action.open.label.thread);\n    this.arcgisHubDiscussionsPostViewAllGeography.emit();\n  }\n  handleToggleAllGeography() {\n    const { relatedFeatures, maxEntryCount, defaultMaxEntryCount, geometries } = this;\n    if (maxEntryCount === defaultMaxEntryCount) {\n      this.emitHubTelemetry(dist.dictionary.category.interaction.action.open.label.locations);\n      this.maxEntryCount = relatedFeatures.length + geometries.length;\n    }\n    else {\n      this.emitHubTelemetry(dist.dictionary.category.interaction.action.close.label.locations);\n      this.maxEntryCount = defaultMaxEntryCount;\n    }\n  }\n  get geometries() {\n    const { post } = this.postDetails || {};\n    const geometries = [];\n    if (post === null || post === void 0 ? void 0 : post.geometry) {\n      post.geometry.type === 'GeometryCollection'\n        ? geometries.push(...post.geometry.geometries)\n        : geometries.push(post.geometry);\n    }\n    return geometries;\n  }\n  renderActions(index, isRelatedFeature, isStaged) {\n    const { intl, activeEditIndex, hasMap, isMobile, disabled } = this;\n    const isActive = index === activeEditIndex;\n    const actions = [\n      h(\"calcite-action\", { active: isActive, class: \"discussions-post-geography-edit\", \"data-index\": index, \"data-related\": isRelatedFeature, \"data-unsaved\": isStaged, disabled: disabled, key: \"pencil\", onClick: this.handleEdit, scale: \"m\", slot: \"actions-end\", text: intl.t('action.update') }, h(\"calcite-icon\", { class: \"discussions-post-geography-edit-icon\", icon: \"pencil\", scale: \"s\" })),\n      h(\"calcite-action\", { class: \"discussions-post-geography-delete\", \"data-index\": index, \"data-related\": isRelatedFeature, \"data-unsaved\": isStaged, disabled: disabled, key: \"trash\", onClick: this.handleDelete, scale: \"m\", slot: \"actions-end\", text: intl.t('action.remove') }, h(\"calcite-icon\", { class: \"discussions-post-geography-delete-icon\", icon: \"trash\", scale: \"s\" }))\n    ];\n    if (isRelatedFeature || !hasMap || isMobile) {\n      // Edit actions only available on unsaved drawn geometries\n      actions.shift();\n    }\n    return actions;\n  }\n  renderGeographyItem(feature, index, isRelatedFeature = false, isStaged = false) {\n    var _a, _b;\n    const { hasMap, intl, isMobile, discussionDetails } = this;\n    const { geometry, properties } = feature;\n    const desc = (hasMap && !isMobile) ? intl.t('description') : null;\n    let label;\n    let icon;\n    let text;\n    if (geometry.type === 'Point' || geometry.type === 'MultiPoint') {\n      label = isRelatedFeature ? intl.t('displayField.existing') : intl.t('displayField.added');\n      icon = 'pin';\n      text = intl.t('point');\n    }\n    else if (geometry.type === 'LineString' || geometry.type === 'MultiLineString') {\n      label = isRelatedFeature ? intl.t('displayField.existing') : intl.t('displayField.added');\n      icon = 'freehand';\n      text = intl.t('line');\n    }\n    else if (geometry.type === 'Polygon' || geometry.type === 'MultiPolygon') {\n      label = isRelatedFeature ? intl.t('displayField.existing.area') : intl.t('displayField.added.area');\n      icon = 'freehand-area';\n      text = intl.t('area');\n    }\n    if (isRelatedFeature && ((_a = discussionDetails.displayField) === null || _a === void 0 ? void 0 : _a.isValid)) {\n      // Use displayField if available to reference location\n      label = properties[(_b = discussionDetails.displayField) === null || _b === void 0 ? void 0 : _b.key];\n    }\n    return (h(\"calcite-list-item\", { \"data-index\": index, \"data-related\": isRelatedFeature, \"data-unsaved\": isStaged, description: desc, label: label, \"non-interactive\": !hasMap || isMobile, onClick: this.handleGeometrySelected, onMouseOver: this.handleGeometryHovered }, h(\"calcite-icon\", { icon: icon, scale: \"s\", slot: \"content-start\", textLabel: text }), this.renderActions(index, isRelatedFeature, isStaged)));\n  }\n  renderButton(listLength) {\n    const { intl, maxEntryCount, defaultMaxEntryCount, expandable, toggleable } = this;\n    if (expandable && listLength > maxEntryCount) {\n      return h(\"calcite-action\", { class: \"overflow\", onClick: this.handleViewAllGeography, scale: \"s\", text: intl.t('viewAll'), \"text-enabled\": true });\n    }\n    else if (toggleable && listLength > defaultMaxEntryCount) {\n      return (h(\"calcite-action\", { class: \"overflow\", onClick: this.handleToggleAllGeography, scale: \"s\", text: listLength > maxEntryCount ? intl.t('viewAll') : intl.t('viewLess'), \"text-enabled\": true }));\n    }\n  }\n  renderGeographies() {\n    const { geometries, relatedFeatures, maxEntryCount, expandable, toggleable, unsavedFeatures, unsavedRelatedFeatures, renderedInEditor } = this;\n    const toGeographyItem = (acc, feature, isRelatedFeature = false, isStaged = false) => (acc.length < maxEntryCount || (!expandable && !toggleable))\n      ? [...acc, this.renderGeographyItem(feature, acc.length, isRelatedFeature, isStaged)]\n      : acc;\n    // Related Features\n    let listItems = relatedFeatures.reduce((acc, feature) => toGeographyItem(acc, feature, true), []);\n    // Drawn Geometries\n    listItems = geometries.reduce((acc, geometry) => toGeographyItem(acc, { geometry }), listItems);\n    if (renderedInEditor) {\n      // Unsaved Related Features\n      listItems = unsavedRelatedFeatures.reduce((acc, { feature }) => toGeographyItem(acc, feature, true, true), listItems);\n      // Unsaved Drawn Geometries\n      listItems = unsavedFeatures.reduce((acc, feature) => toGeographyItem(acc, feature, false, true), listItems);\n    }\n    if (listItems.length) {\n      return (h(\"calcite-list\", null, h(\"calcite-list-item-group\", null, listItems, this.renderButton(relatedFeatures.length + geometries.length))));\n    }\n  }\n  renderSkeleton() {\n    const { relatedFeatureIds, geometries } = this;\n    const entries = relatedFeatureIds.length + geometries.length > 4 ? 4 : relatedFeatureIds.length + geometries.length;\n    return Array.from({ length: entries }, () => {\n      return (h(\"arcgis-skeleton-loader\", { active: true, rows: 0, showFooter: false, showHeading: false, showThumbnail: false }, h(\"div\", null), h(\"div\", null, h(\"div\", null), h(\"div\", null))));\n    });\n  }\n  render() {\n    return (h(Host, { \"data-element\": \"discussions-post-geography\" }, this.loading\n      ? this.renderSkeleton()\n      : this.renderGeographies()));\n  }\n  static get assetsDirs() { return [\"locales\"]; }\n  get element() { return getElement(this); }\n  static get watchers() { return {\n    \"postDetails\": [\"updateFeatures\"],\n    \"relatedFeatureIds\": [\"handleRelatedFeatureIdsChange\"],\n    \"intl\": [\"updateLoading\"],\n    \"relatedFeatures\": [\"updateLoading\"],\n    \"unsavedFeatures\": [\"handleFeatureUpdated\"],\n    \"unsavedExistingFeatures\": [\"handleFeatureUpdated\"]\n  }; }\n};\n__decorate([\n  CallWhenFactory({ when() { return this.activeEditIndex > -1; } })\n], ArcgisHubDiscussionsPostGeography.prototype, \"handleFeatureUpdated\", null);\n__decorate([\n  minPromiseDelayFactory({ delay: 300 })\n], ArcgisHubDiscussionsPostGeography.prototype, \"fetchRelatedFeatures\", null);\n__decorate([\n  CallWhenFactory({ when(evt) {\n      const clickTargets = evt.composedPath();\n      const triggeredByButton = clickTargets.some((target) => target.tagName === 'BUTTON');\n      const triggeredByCalciteAction = clickTargets.some((target) => target.tagName === 'CALCITE_ACTION');\n      // we only want to zoom to the geometry when the button within the calcite-list-item component shadow dom is clicked\n      // not when disabled edit/delete calcite-actions passed into the slot are clicked\n      return !this.isMobile && this.hasMap && triggeredByButton && !triggeredByCalciteAction;\n    } })\n], ArcgisHubDiscussionsPostGeography.prototype, \"handleGeometrySelected\", null);\n__decorate([\n  CallWhenFactory({ when() { return !this.isMobile && this.hasMap; } })\n], ArcgisHubDiscussionsPostGeography.prototype, \"handleGeometryHovered\", null);\n__decorate([\n  CallWhenFactory({ when() {\n      const { context: { currentUser }, renderedInEditor } = this;\n      const { post } = this.postDetails || {};\n      return renderedInEditor && (!post || canModifyPost(post, currentUser));\n    } })\n], ArcgisHubDiscussionsPostGeography.prototype, \"renderActions\", null);\n__decorate([\n  CallWhenFactory({ when({ geometry }) { return Boolean(geometry); } })\n], ArcgisHubDiscussionsPostGeography.prototype, \"renderGeographyItem\", null);\nArcgisHubDiscussionsPostGeography.style = arcgisHubDiscussionsPostGeographyCss;\n\nconst comboboxCss = \"@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:2rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:2.75rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px}.input{flex-grow:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);min-inline-size:120px;-webkit-margin-after:var(--calcite-combobox-item-spacing-unit-s);margin-block-end:var(--calcite-combobox-item-spacing-unit-s)}.input:focus{outline:2px solid transparent;outline-offset:2px}.input--transparent{opacity:0}.input--single{margin-block:0px;padding:0px}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.input-wrap{display:flex;flex-grow:1}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:flex;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;inline-size:1rem;cursor:pointer;align-items:center}.icon-end{flex:none}.floating-ui-container{display:block;position:absolute;z-index:900;visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);inline-size:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);margin-inline:0 var(--calcite-combobox-item-spacing-unit-s);max-inline-size:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.item{display:block}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}\";\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteLookupChange = createEvent(this, \"calciteLookupChange\", 6);\n    this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n    this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n    this.calciteComboboxChipDismiss = createEvent(this, \"calciteComboboxChipDismiss\", 6);\n    this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n    this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n    this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n    this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n    //--------------------------------------------------------------------------\n    //\n    //  Public Properties\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * When `true`, displays and positions the component.\n     *\n     * @deprecated use `open` instead.\n     */\n    this.active = false;\n    /**When `true`, displays and positions the component. */\n    this.open = false;\n    /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n    this.disabled = false;\n    /** Specifies the maximum number of `calcite-combobox-item`s (including nested children) to display before displaying a scrollbar. */\n    this.maxItems = 0;\n    /**\n     * Determines the type of positioning to use for the overlaid content.\n     *\n     * Using `\"absolute\"` will work for most cases. The component will be positioned inside of overflowing parent containers and will affect the container's layout.\n     *\n     * `\"fixed\"` should be used to escape an overflowing parent container, or when the reference element's `position` CSS property is `\"fixed\"`.\n     *\n     */\n    this.overlayPositioning = \"absolute\";\n    /**\n     * When `true`, the component must have a value in order for the form to submit.\n     *\n     * @internal\n     */\n    this.required = false;\n    /**\n     * specify the selection mode\n     * - multiple: allow any number of selected items (default)\n     * - single: only one selection)\n     * - ancestors: like multiple, but show ancestors of selected items as selected, only deepest children shown in chips\n     */\n    this.selectionMode = \"multi\";\n    /** Specifies the size of the component. */\n    this.scale = \"m\";\n    /** The component's value(s) from the selected `calcite-combobox-item`(s). */\n    this.value = null;\n    /**\n     * Accessible name for the component's remove tag when a `calcite-combobox-item` is selected.\n     *\n     * @default \"Remove tag\"\n     */\n    this.intlRemoveTag = TEXT.removeTag;\n    //--------------------------------------------------------------------------\n    //\n    //  Private State/Props\n    //\n    //--------------------------------------------------------------------------\n    this.placement = defaultMenuPlacement;\n    this.internalValueChangeFlag = false;\n    this.items = [];\n    this.groupItems = [];\n    this.selectedItems = [];\n    this.visibleItems = [];\n    this.activeItemIndex = -1;\n    this.activeChipIndex = -1;\n    this.activeDescendant = \"\";\n    this.text = \"\";\n    this.textInput = null;\n    this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n    this.resizeObserver = createObserver(\"resize\", () => this.setMaxScrollerHeight());\n    this.guid = guid();\n    this.inputHeight = 0;\n    this.ignoreSelectedEventsFlag = false;\n    this.openTransitionProp = \"opacity\";\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.setFilteredPlacements = () => {\n      const { el, flipPlacements } = this;\n      this.filteredFlipPlacements = flipPlacements\n        ? filterComputedPlacements(flipPlacements, el)\n        : null;\n    };\n    this.getValue = () => {\n      const items = this.selectedItems.map((item) => { var _a; return (_a = item === null || item === void 0 ? void 0 : item.value) === null || _a === void 0 ? void 0 : _a.toString(); });\n      return (items === null || items === void 0 ? void 0 : items.length) ? (items.length > 1 ? items : items[0]) : \"\";\n    };\n    this.onLabelClick = () => {\n      this.setFocus();\n    };\n    this.keydownHandler = (event) => {\n      const { key } = event;\n      switch (key) {\n        case \"Tab\":\n          this.activeChipIndex = -1;\n          this.activeItemIndex = -1;\n          if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (this.open) {\n            this.open = false;\n            event.preventDefault();\n          }\n          break;\n        case \"ArrowLeft\":\n          this.previousChip();\n          event.preventDefault();\n          break;\n        case \"ArrowRight\":\n          this.nextChip();\n          event.preventDefault();\n          break;\n        case \"ArrowUp\":\n          event.preventDefault();\n          this.shiftActiveItemIndex(-1);\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"ArrowDown\":\n          event.preventDefault();\n          if (!this.open) {\n            this.open = true;\n          }\n          this.shiftActiveItemIndex(1);\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \" \":\n          if (!this.textInput.value) {\n            event.preventDefault();\n            this.open = true;\n            this.shiftActiveItemIndex(1);\n          }\n          break;\n        case \"Home\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(0);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"End\":\n          if (!this.open) {\n            return;\n          }\n          event.preventDefault();\n          this.updateActiveItemIndex(this.visibleItems.length - 1);\n          this.scrollToActiveItem();\n          if (!this.comboboxInViewport()) {\n            this.el.scrollIntoView();\n          }\n          break;\n        case \"Escape\":\n          this.open = false;\n          event.preventDefault();\n          break;\n        case \"Enter\":\n          if (this.activeItemIndex > -1) {\n            this.toggleSelection(this.visibleItems[this.activeItemIndex]);\n            event.preventDefault();\n          }\n          else if (this.activeChipIndex > -1) {\n            this.removeActiveChip();\n            event.preventDefault();\n          }\n          else if (this.allowCustomValues && this.text) {\n            this.addCustomChip(this.text, true);\n            event.preventDefault();\n          }\n          else if (!event.defaultPrevented) {\n            if (submitForm(this)) {\n              event.preventDefault();\n            }\n          }\n          break;\n        case \"Delete\":\n        case \"Backspace\":\n          if (this.activeChipIndex > -1) {\n            event.preventDefault();\n            this.removeActiveChip();\n          }\n          else if (!this.text && this.isMulti()) {\n            event.preventDefault();\n            this.removeLastChip();\n          }\n          break;\n      }\n    };\n    this.toggleCloseEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxClose\", this.toggleCloseEnd);\n    };\n    this.toggleOpenEnd = () => {\n      this.open = false;\n      this.el.removeEventListener(\"calciteComboboxOpen\", this.toggleOpenEnd);\n    };\n    this.setMaxScrollerHeight = async () => {\n      const { listContainerEl, open, referenceEl } = this;\n      if (!listContainerEl || !open) {\n        return;\n      }\n      await this.reposition(true);\n      const maxScrollerHeight = this.getMaxScrollerHeight();\n      listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n      listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n      await this.reposition(true);\n    };\n    this.calciteChipDismissHandler = (event, comboboxItem) => {\n      this.open = false;\n      const selection = this.items.find((item) => item === comboboxItem);\n      if (selection) {\n        this.toggleSelection(selection, false);\n      }\n      this.calciteComboboxChipDismiss.emit(event.detail);\n    };\n    this.clickHandler = (event) => {\n      if (event.composedPath().some((node) => node.tagName === \"CALCITE-CHIP\")) {\n        return;\n      }\n      this.open = !this.open;\n      this.updateActiveItemIndex(0);\n      this.setFocus();\n    };\n    this.setInactiveIfNotContained = (event) => {\n      const composedPath = event.composedPath();\n      if (!this.open || composedPath.includes(this.el) || composedPath.includes(this.referenceEl)) {\n        return;\n      }\n      if (this.allowCustomValues && this.text.trim().length) {\n        this.addCustomChip(this.text);\n      }\n      if (this.selectionMode === \"single\") {\n        if (this.textInput) {\n          this.textInput.value = \"\";\n        }\n        this.text = \"\";\n        this.filterItems(\"\");\n        this.updateActiveItemIndex(-1);\n      }\n      this.open = false;\n    };\n    this.setFloatingEl = (el) => {\n      this.floatingEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.setContainerEl = (el) => {\n      this.resizeObserver.observe(el);\n      this.listContainerEl = el;\n      this.transitionEl = el;\n      connectOpenCloseComponent(this);\n    };\n    this.setReferenceEl = (el) => {\n      this.referenceEl = el;\n      connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    };\n    this.inputHandler = (event) => {\n      const value = event.target.value;\n      this.text = value;\n      this.filterItems(value);\n      if (value) {\n        this.activeChipIndex = -1;\n      }\n    };\n    this.filterItems = (() => {\n      const find = (item, filteredData) => item &&\n        filteredData.some(({ label, value }) => {\n          if (isGroup(item)) {\n            return value === item.label;\n          }\n          return (value === item.textLabel ||\n            value === item.value ||\n            label === item.textLabel ||\n            label === item.value);\n        });\n      return debounce((text) => {\n        const filteredData = filter(this.data, text);\n        const items = this.getCombinedItems();\n        items.forEach((item) => {\n          const hidden = !find(item, filteredData);\n          item.hidden = hidden;\n          const [parent, grandparent] = item.ancestors;\n          if (find(parent, filteredData) || find(grandparent, filteredData)) {\n            item.hidden = false;\n          }\n          if (!hidden) {\n            item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n          }\n        });\n        this.visibleItems = this.getVisibleItems();\n        this.calciteComboboxFilterChange.emit({ visibleItems: [...this.visibleItems], text: text });\n      }, 100);\n    })();\n    this.internalCalciteLookupChangeEvent = () => {\n      this.calciteLookupChange.emit(this.selectedItems);\n    };\n    this.emitCalciteLookupChange = debounce(this.internalCalciteLookupChangeEvent, 0);\n    this.internalComboboxChangeEvent = () => {\n      const { selectedItems } = this;\n      this.calciteComboboxChange.emit({ selectedItems });\n    };\n    this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n    this.updateItems = () => {\n      this.items = this.getItems();\n      this.groupItems = this.getGroupItems();\n      this.data = this.getData();\n      this.selectedItems = this.getSelectedItems();\n      this.visibleItems = this.getVisibleItems();\n      this.needsIcon = this.getNeedsIcon();\n      if (!this.allowCustomValues) {\n        this.setMaxScrollerHeight();\n      }\n    };\n    this.scrollToActiveItem = () => {\n      const activeItem = this.visibleItems[this.activeItemIndex];\n      const height = this.calculateSingleItemHeight(activeItem);\n      const { offsetHeight, scrollTop } = this.listContainerEl;\n      if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n      }\n      else if (activeItem.offsetTop < scrollTop) {\n        this.listContainerEl.scrollTop = activeItem.offsetTop;\n      }\n    };\n    this.comboboxFocusHandler = () => {\n      var _a;\n      (_a = this.textInput) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    this.comboboxBlurHandler = (event) => {\n      this.setInactiveIfNotContained(event);\n    };\n  }\n  activeHandler(value) {\n    if (this.disabled) {\n      this.active = false;\n      this.open = false;\n      return;\n    }\n    this.open = value;\n  }\n  openHandler(value) {\n    if (!value) {\n      updateAfterClose(this.floatingEl);\n    }\n    if (this.disabled) {\n      this.active = false;\n      this.open = false;\n      return;\n    }\n    this.active = value;\n    this.setMaxScrollerHeight();\n  }\n  handleDisabledChange(value) {\n    if (!value) {\n      this.active = false;\n      this.open = false;\n    }\n  }\n  maxItemsHandler() {\n    this.setMaxScrollerHeight();\n  }\n  overlayPositioningHandler() {\n    this.reposition(true);\n  }\n  valueHandler(value) {\n    if (!this.internalValueChangeFlag) {\n      const items = this.getItems();\n      if (Array.isArray(value)) {\n        items.forEach((item) => (item.selected = value.includes(item.value)));\n      }\n      else if (value) {\n        items.forEach((item) => (item.selected = value === item.value));\n      }\n      else {\n        items.forEach((item) => (item.selected = false));\n      }\n      this.updateItems();\n    }\n  }\n  flipPlacementsHandler() {\n    this.setFilteredPlacements();\n    this.reposition(true);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n  documentClickHandler(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    this.setInactiveIfNotContained(event);\n  }\n  calciteComboboxItemChangeHandler(event) {\n    if (this.ignoreSelectedEventsFlag) {\n      return;\n    }\n    const target = event.target;\n    const newIndex = this.visibleItems.indexOf(target);\n    this.updateActiveItemIndex(newIndex);\n    this.toggleSelection(target, target.selected);\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /**\n   * Updates the position of the component.\n   *\n   * @param delayed\n   */\n  async reposition(delayed = false) {\n    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n    return reposition(this, {\n      floatingEl,\n      referenceEl,\n      overlayPositioning,\n      placement,\n      flipPlacements: filteredFlipPlacements,\n      type: \"menu\"\n    }, delayed);\n  }\n  /** Sets focus on the component. */\n  async setFocus() {\n    var _a;\n    (_a = this.textInput) === null || _a === void 0 ? void 0 : _a.focus();\n    this.activeChipIndex = -1;\n    this.activeItemIndex = -1;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    var _a;\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.el, { childList: true, subtree: true });\n    connectLabel(this);\n    connectForm(this);\n    connectOpenCloseComponent(this);\n    this.setFilteredPlacements();\n    this.reposition(true);\n    if (this.active) {\n      this.activeHandler(this.active);\n    }\n    if (this.open) {\n      this.openHandler(this.open);\n    }\n  }\n  componentWillLoad() {\n    this.updateItems();\n  }\n  componentDidLoad() {\n    afterConnectDefaultValueSet(this, this.getValue());\n    this.reposition(true);\n  }\n  componentDidRender() {\n    if (this.el.offsetHeight !== this.inputHeight) {\n      this.reposition(true);\n      this.inputHeight = this.el.offsetHeight;\n    }\n    updateHostInteraction(this);\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    (_a = this.mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this.resizeObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n    disconnectOpenCloseComponent(this);\n  }\n  selectedItemsHandler() {\n    this.internalValueChangeFlag = true;\n    this.value = this.getValue();\n    this.internalValueChangeFlag = false;\n  }\n  /** when search text is cleared, reset active to  */\n  textHandler() {\n    this.updateActiveItemIndex(-1);\n  }\n  comboboxInViewport() {\n    const bounding = this.el.getBoundingClientRect();\n    return (bounding.top >= 0 &&\n      bounding.left >= 0 &&\n      bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n      bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n  }\n  onBeforeOpen() {\n    this.calciteComboboxBeforeOpen.emit();\n  }\n  onOpen() {\n    this.calciteComboboxOpen.emit();\n  }\n  onBeforeClose() {\n    this.calciteComboboxBeforeClose.emit();\n  }\n  onClose() {\n    this.calciteComboboxClose.emit();\n  }\n  getMaxScrollerHeight() {\n    const items = this.getCombinedItems().filter((item) => !item.hidden);\n    const { maxItems } = this;\n    let itemsToProcess = 0;\n    let maxScrollerHeight = 0;\n    if (items.length > maxItems) {\n      items.forEach((item) => {\n        if (itemsToProcess < maxItems && maxItems > 0) {\n          const height = this.calculateSingleItemHeight(item);\n          if (height > 0) {\n            maxScrollerHeight += height;\n            itemsToProcess++;\n          }\n        }\n      });\n    }\n    return maxScrollerHeight;\n  }\n  calculateSingleItemHeight(item) {\n    let height = item.offsetHeight;\n    // if item has children items, don't count their height twice\n    const children = Array.from(item.querySelectorAll(ComboboxChildSelector));\n    children\n      .map((child) => child === null || child === void 0 ? void 0 : child.offsetHeight)\n      .forEach((offsetHeight) => {\n      height -= offsetHeight;\n    });\n    return height;\n  }\n  getCombinedItems() {\n    return [...this.groupItems, ...this.items];\n  }\n  toggleSelection(item, value = !item.selected) {\n    if (!item) {\n      return;\n    }\n    if (this.isMulti()) {\n      item.selected = value;\n      this.updateAncestors(item);\n      this.selectedItems = this.getSelectedItems();\n      this.emitCalciteLookupChange();\n      this.emitComboboxChange();\n      this.resetText();\n      this.filterItems(\"\");\n    }\n    else {\n      this.ignoreSelectedEventsFlag = true;\n      this.items.forEach((el) => (el.selected = el === item ? value : false));\n      this.ignoreSelectedEventsFlag = false;\n      this.selectedItems = this.getSelectedItems();\n      this.emitComboboxChange();\n      if (this.textInput) {\n        this.textInput.value = item.textLabel;\n      }\n      this.open = false;\n      this.updateActiveItemIndex(-1);\n      this.resetText();\n      this.filterItems(\"\");\n    }\n  }\n  updateAncestors(item) {\n    if (this.selectionMode !== \"ancestors\") {\n      return;\n    }\n    const ancestors = getItemAncestors(item);\n    const children = getItemChildren(item);\n    if (item.selected) {\n      ancestors.forEach((el) => {\n        el.selected = true;\n      });\n    }\n    else {\n      children.forEach((el) => (el.selected = false));\n      [...ancestors].forEach((el) => {\n        if (!hasActiveChildren(el)) {\n          el.selected = false;\n        }\n      });\n    }\n  }\n  getVisibleItems() {\n    return this.items.filter((item) => !item.hidden);\n  }\n  getSelectedItems() {\n    if (!this.isMulti()) {\n      const match = this.items.find(({ selected }) => selected);\n      return match ? [match] : [];\n    }\n    return (this.items\n      .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n      /** Preserve order of entered tags */\n      .sort((a, b) => {\n      const aIdx = this.selectedItems.indexOf(a);\n      const bIdx = this.selectedItems.indexOf(b);\n      if (aIdx > -1 && bIdx > -1) {\n        return aIdx - bIdx;\n      }\n      return bIdx - aIdx;\n    }));\n  }\n  getData() {\n    return this.items.map((item) => ({\n      constant: item.constant,\n      filterDisabled: item.filterDisabled,\n      value: item.value,\n      label: item.textLabel\n    }));\n  }\n  getNeedsIcon() {\n    return this.selectionMode === \"single\" && this.items.some((item) => item.icon);\n  }\n  resetText() {\n    if (this.textInput) {\n      this.textInput.value = \"\";\n    }\n    this.text = \"\";\n  }\n  getItems() {\n    const items = Array.from(this.el.querySelectorAll(ComboboxItem$1));\n    return items.filter((item) => !item.disabled);\n  }\n  getGroupItems() {\n    return Array.from(this.el.querySelectorAll(ComboboxItemGroup));\n  }\n  addCustomChip(value, focus) {\n    const existingItem = this.items.find((el) => el.textLabel === value);\n    if (existingItem) {\n      this.toggleSelection(existingItem, true);\n    }\n    else {\n      if (!this.isMulti()) {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n      }\n      const item = document.createElement(ComboboxItem$1);\n      item.value = value;\n      item.textLabel = value;\n      item.selected = true;\n      this.el.appendChild(item);\n      this.resetText();\n      if (focus) {\n        this.setFocus();\n      }\n      this.updateItems();\n      this.filterItems(\"\");\n      this.emitCalciteLookupChange();\n      this.emitComboboxChange();\n    }\n  }\n  removeActiveChip() {\n    this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n    this.setFocus();\n  }\n  removeLastChip() {\n    this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n    this.setFocus();\n  }\n  previousChip() {\n    if (this.text) {\n      return;\n    }\n    const length = this.selectedItems.length - 1;\n    const active = this.activeChipIndex;\n    this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n    this.updateActiveItemIndex(-1);\n    this.focusChip();\n  }\n  nextChip() {\n    if (this.text || this.activeChipIndex === -1) {\n      return;\n    }\n    const last = this.selectedItems.length - 1;\n    const newIndex = this.activeChipIndex + 1;\n    if (newIndex > last) {\n      this.activeChipIndex = -1;\n      this.setFocus();\n    }\n    else {\n      this.activeChipIndex = newIndex;\n      this.focusChip();\n    }\n    this.updateActiveItemIndex(-1);\n  }\n  focusChip() {\n    var _a;\n    const guid = (_a = this.selectedItems[this.activeChipIndex]) === null || _a === void 0 ? void 0 : _a.guid;\n    const chip = guid\n      ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n      : null;\n    chip === null || chip === void 0 ? void 0 : chip.setFocus();\n  }\n  shiftActiveItemIndex(delta) {\n    const { length } = this.visibleItems;\n    const newIndex = (this.activeItemIndex + length + delta) % length;\n    this.updateActiveItemIndex(newIndex);\n    this.scrollToActiveItem();\n  }\n  updateActiveItemIndex(index) {\n    var _a;\n    this.activeItemIndex = index;\n    let activeDescendant = null;\n    this.visibleItems.forEach((el, i) => {\n      if (i === index) {\n        el.active = true;\n        activeDescendant = `${itemUidPrefix}${el.guid}`;\n      }\n      else {\n        el.active = false;\n      }\n    });\n    this.activeDescendant = activeDescendant;\n    if (this.activeItemIndex > -1) {\n      this.activeChipIndex = -1;\n      (_a = this.textInput) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n  }\n  isMulti() {\n    return this.selectionMode !== \"single\";\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  //--------------------------------------------------------------------------\n  renderChips() {\n    const { activeChipIndex, scale, selectionMode, intlRemoveTag } = this;\n    return this.selectedItems.map((item, i) => {\n      const chipClasses = {\n        chip: true,\n        \"chip--active\": activeChipIndex === i\n      };\n      const ancestors = [...getItemAncestors(item)].reverse();\n      const pathLabel = [...ancestors, item].map((el) => el.textLabel);\n      const label = selectionMode !== \"ancestors\" ? item.textLabel : pathLabel.join(\" / \");\n      return (h(\"calcite-chip\", { class: chipClasses, dismissLabel: intlRemoveTag, dismissible: true, icon: item.icon, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: item.textLabel, onCalciteChipDismiss: (event) => this.calciteChipDismissHandler(event, item), scale: scale, title: label, value: item.value }, label));\n    });\n  }\n  renderInput() {\n    const { guid, active, disabled, placeholder, selectionMode, selectedItems, open } = this;\n    const single = selectionMode === \"single\";\n    const selectedItem = selectedItems[0];\n    const showLabel = !(open || active) && single && !!selectedItem;\n    return (h(\"span\", { class: {\n        \"input-wrap\": true,\n        \"input-wrap--single\": single\n      } }, showLabel && (h(\"span\", { class: {\n        label: true,\n        \"label--icon\": !!(selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.icon)\n      }, key: \"label\" }, selectedItem.textLabel)), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-label\": getLabelText(this), class: {\n        input: true,\n        \"input--single\": true,\n        \"input--transparent\": this.activeChipIndex > -1,\n        \"input--hidden\": showLabel,\n        \"input--icon\": !!this.placeholderIcon\n      }, disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onBlur: this.comboboxBlurHandler, onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, ref: (el) => (this.textInput = el), type: \"text\" })));\n  }\n  renderListBoxOptions() {\n    return this.visibleItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n  }\n  renderFloatingUIContainer() {\n    const { active, setFloatingEl, setContainerEl, open } = this;\n    const classes = {\n      \"list-container\": true,\n      [FloatingCSS.animation]: true,\n      [FloatingCSS.animationActive]: open || active\n    };\n    return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n        \"floating-ui-container\": true,\n        \"floating-ui-container--active\": open || active\n      }, ref: setFloatingEl }, h(\"div\", { class: classes, ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !(open || active) } }, h(\"slot\", null)))));\n  }\n  renderIconStart() {\n    const { selectedItems, placeholderIcon, selectionMode } = this;\n    const selectedItem = selectedItems[0];\n    const selectedIcon = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.icon;\n    const singleSelectionMode = selectionMode === \"single\";\n    const iconAtStart = !this.open && selectedItem\n      ? !!selectedIcon && singleSelectionMode\n      : !!this.placeholderIcon && (!selectedItem || singleSelectionMode);\n    return (iconAtStart && (h(\"span\", { class: \"icon-start\" }, h(\"calcite-icon\", { class: \"selected-icon\", icon: !this.open && selectedItem ? selectedIcon : placeholderIcon, scale: \"s\" }))));\n  }\n  renderIconEnd() {\n    const { active, open } = this;\n    return (h(\"span\", { class: \"icon-end\" }, h(\"calcite-icon\", { icon: active || open ? \"chevron-up\" : \"chevron-down\", scale: \"s\" })));\n  }\n  render() {\n    const { active, guid, label, open } = this;\n    const single = this.selectionMode === \"single\";\n    return (h(Host, null, h(\"div\", { \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-expanded\": toAriaBoolean(open || active), \"aria-haspopup\": \"listbox\", \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-live\": \"polite\", \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n        wrapper: true,\n        \"wrapper--single\": single || !this.selectedItems.length,\n        \"wrapper--active\": open || active\n      }, onClick: this.clickHandler, onKeyDown: this.keydownHandler, ref: this.setReferenceEl, role: \"combobox\" }, h(\"div\", { class: \"grid-input\" }, this.renderIconStart(), !single && this.renderChips(), h(\"label\", { class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), this.renderIconEnd()), h(\"ul\", { \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { component: this })));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"active\": [\"activeHandler\"],\n    \"open\": [\"openHandler\"],\n    \"disabled\": [\"handleDisabledChange\"],\n    \"maxItems\": [\"maxItemsHandler\"],\n    \"overlayPositioning\": [\"overlayPositioningHandler\"],\n    \"value\": [\"valueHandler\"],\n    \"flipPlacements\": [\"flipPlacementsHandler\"],\n    \"selectedItems\": [\"selectedItemsHandler\"],\n    \"text\": [\"textHandler\"]\n  }; }\n};\nCombobox.style = comboboxCss;\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst CSS = {\n  icon: \"icon\",\n  iconActive: \"icon--active\",\n  custom: \"icon--custom\",\n  dot: \"icon--dot\",\n  single: \"label--single\",\n  label: \"label\",\n  active: \"label--active\",\n  selected: \"label--selected\",\n  title: \"title\",\n  textContainer: \"text-container\"\n};\n\nconst comboboxItemCss = \"@charset \\\"UTF-8\\\";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent:1rem}.container{--calcite-combobox-item-indent-value:calc(\\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\\n  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host,ul{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),ul:focus{outline:2px solid transparent;outline-offset:2px}.label{position:relative;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:100%;cursor:pointer;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent;padding-block:var(--calcite-combobox-item-spacing-unit-s);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.label--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover,.label:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon{display:inline-flex;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-ui-border-1)}.icon--indent{-webkit-padding-start:var(--calcite-combobox-item-indent-value);padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{-webkit-margin-before:-1px;margin-block-start:-1px;color:var(--calcite-ui-text-3)}.icon--active{color:var(--calcite-ui-text-1)}.icon--dot{display:flex;justify-content:flex-end;min-inline-size:var(--calcite-combobox-item-spacing-unit-l)}.icon--dot:before{text-align:start;content:\\\"\\\"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-ui-brand)}:host(:hover[disabled]) .icon{opacity:1}\";\n\nconst ComboboxItem = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.calciteComboboxItemChange = createEvent(this, \"calciteComboboxItemChange\", 6);\n    // --------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    // --------------------------------------------------------------------------\n    /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n    this.disabled = false;\n    /**\n     * When `true`, the component is selected.\n     */\n    this.selected = false;\n    /** When `true`, the component is active. */\n    this.active = false;\n    /** The `id` attribute of the component. When omitted, a globally unique identifier is used. */\n    this.guid = guid();\n    this.scale = \"m\";\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    this.itemClickHandler = (event) => {\n      event.preventDefault();\n      if (this.disabled) {\n        return;\n      }\n      this.selected = !this.selected;\n    };\n  }\n  selectedWatchHandler() {\n    this.calciteComboboxItemChange.emit(this.el);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  // --------------------------------------------------------------------------\n  connectedCallback() {\n    this.ancestors = getAncestors(this.el);\n    this.scale = getElementProp(this.el, \"scale\", this.scale);\n    connectConditionalSlotComponent(this);\n  }\n  disconnectedCallback() {\n    disconnectConditionalSlotComponent(this);\n  }\n  componentDidRender() {\n    updateHostInteraction(this);\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * Used to toggle the selection state. By default this won't trigger an event.\n   * The first argument allows the value to be coerced, rather than swapping values.\n   *\n   * @param coerce\n   */\n  async toggleSelected(coerce) {\n    if (this.disabled) {\n      return;\n    }\n    this.selected = typeof coerce === \"boolean\" ? coerce : !this.selected;\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Render Methods\n  //\n  // --------------------------------------------------------------------------\n  renderIcon(isSingle) {\n    const { icon, disabled, selected } = this;\n    const level = `${CSS.icon}--indent`;\n    const defaultIcon = isSingle ? \"dot\" : \"check\";\n    const iconPath = disabled ? \"circle-disallowed\" : defaultIcon;\n    const showDot = isSingle && !icon && !disabled;\n    return showDot ? (h(\"span\", { class: {\n        [CSS.icon]: true,\n        [CSS.dot]: true,\n        [level]: true\n      } })) : (h(\"calcite-icon\", { class: {\n        [CSS.icon]: !icon,\n        [CSS.custom]: !!icon,\n        [CSS.iconActive]: icon && selected,\n        [level]: true\n      }, icon: icon || iconPath, scale: \"s\" }));\n  }\n  renderChildren() {\n    if (getSlotted(this.el)) {\n      return (h(\"ul\", { key: \"default-slot-container\" }, h(\"slot\", null)));\n    }\n    return null;\n  }\n  render() {\n    const isSingleSelect = getElementProp(this.el, \"selection-mode\", \"multi\") === \"single\";\n    const classes = {\n      [CSS.label]: true,\n      [CSS.selected]: this.selected,\n      [CSS.active]: this.active,\n      [CSS.single]: isSingleSelect\n    };\n    const depth = getDepth(this.el);\n    return (h(Host, { \"aria-hidden\": \"true\" }, h(\"div\", { class: `container scale--${this.scale}`, style: { \"--calcite-combobox-item-spacing-indent-multiplier\": `${depth}` } }, h(\"li\", { class: classes, id: this.guid, onClick: this.itemClickHandler }, this.renderIcon(isSingleSelect), h(\"span\", { class: CSS.title }, this.textLabel)), this.renderChildren())));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"selected\": [\"selectedWatchHandler\"]\n  }; }\n};\nComboboxItem.style = comboboxItemCss;\n\nexport { ArcgisHubDiscussionsBlockedNotice as arcgis_hub_discussions_blocked_notice, ArcgisHubDiscussionsPopover as arcgis_hub_discussions_popover, ArcgisHubDiscussionsPostGeography as arcgis_hub_discussions_post_geography, Combobox as calcite_combobox, ComboboxItem as calcite_combobox_item };\n","/**\n * A method decorator factory function for the callWhen decorator\n * @param params An ICallWhenDecoratorParams object\n * @returns The callWhen method decorator function\n */\nfunction CallWhenFactory(params) {\n  /**\n   * A decorator function that conditionally call a method if when function returns truthy\n   *\n   * @param _target A reference to the class prototype\n   * @param _propertyKey The name of the method being decorated\n   * @param descriptor A PropertyDescriptor for the method being decorated\n   * @returns A new PropertyDescriptor that aguments the decorated method with conditional call behavior\n   */\n  function callWhen(_target, _propertyKey, descriptor) {\n    const { value: original } = descriptor;\n    const { when } = params;\n    const value = function callWhen(...args) {\n      const isTruthy = when.apply(this, args);\n      if (isTruthy) {\n        // when() condition passed, so call method\n        return original.apply(this, args);\n      }\n    };\n    return Object.assign(Object.assign({}, descriptor), { value });\n  }\n  return callWhen;\n}\n\nexport { CallWhenFactory as C };\n","import { f as forceUpdate } from './index-0d95d9d4.js';\nimport { c as createObserver } from './observers-2b214c17.js';\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst observed = new Set();\nlet mutationObserver;\nconst observerOptions = { childList: true };\n/**\n * Helper to set up a conditional slot component on connectedCallback.\n *\n * @param component\n */\nfunction connectConditionalSlotComponent(component) {\n  if (!mutationObserver) {\n    mutationObserver = createObserver(\"mutation\", processMutations);\n  }\n  mutationObserver.observe(component.el, observerOptions);\n}\n/**\n * Helper to tear down a conditional slot component on disconnectedCallback.\n *\n * @param component\n */\nfunction disconnectConditionalSlotComponent(component) {\n  observed.delete(component.el);\n  // we explicitly process queued mutations and disconnect and reconnect\n  // the observer until MutationObserver gets an `unobserve` method\n  // see https://github.com/whatwg/dom/issues/126\n  processMutations(mutationObserver.takeRecords());\n  mutationObserver.disconnect();\n  for (const [element] of observed.entries()) {\n    mutationObserver.observe(element, observerOptions);\n  }\n}\nfunction processMutations(mutations) {\n  mutations.forEach(({ target }) => {\n    forceUpdate(target);\n  });\n}\n\nexport { connectConditionalSlotComponent as c, disconnectConditionalSlotComponent as d };\n","/**\n * A decorator factory function that accepts the minPromiseDelay decorator\n * configuration params\n * @param options An IMinPromiseDelayOptions object\n * @returns minPromiseDelay decorator\n */\nfunction minPromiseDelayFactory(options) {\n  const { delay } = options;\n  if (!Number.isInteger(delay) || delay < 0) {\n    throw new Error('delay must be a positive integer');\n  }\n  /**\n   * A decorator function that augments a class method with an artificially imposed wait/delay so\n   * that the promise is guaranteed to resolve/reject after a minimum amount of time has ellapsed.\n   */\n  return (_target, _name, descriptor) => {\n    const { value: original } = descriptor;\n    const value = async function minPromiseDelay(...args) {\n      const delayPromise = new Promise(resolve => setTimeout(resolve, delay));\n      const resultPromise = original.apply(this, args);\n      return delayPromise.then(() => resultPromise);\n    };\n    return Object.assign(Object.assign({}, descriptor), { value });\n  };\n}\n\nexport { minPromiseDelayFactory as m };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\n/**\n * This utility ensures observers are created only for browser contexts.\n *\n * @param type - the type of observer to create\n * @param callback - the observer callback\n * @param options - the observer options\n */\nfunction createObserver(type, callback, options) {\n  const Observer = getObserver(type);\n  return new Observer(callback, options);\n}\nfunction getObserver(type) {\n  // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948\n  class ExtendedMutationObserver extends window.MutationObserver {\n    constructor(callback) {\n      super(callback);\n      this.observedEntry = [];\n      this.callback = callback;\n    }\n    observe(target, options) {\n      this.observedEntry.push({ target, options });\n      return super.observe(target, options);\n    }\n    unobserve(target) {\n      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\n      this.observedEntry = [];\n      this.callback(super.takeRecords(), this);\n      this.disconnect();\n      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\n    }\n  }\n  return (function () {\n    return (type === \"intersection\"\n      ? window.IntersectionObserver\n      : type === \"mutation\"\n        ? ExtendedMutationObserver\n        : window.ResizeObserver);\n  })();\n}\n\nexport { createObserver as c };\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst componentToTransitionListeners = new WeakMap();\nfunction transitionStart(event) {\n  if (event.propertyName === this.openTransitionProp && event.target === this.transitionEl) {\n    this.open ? this.onBeforeOpen() : this.onBeforeClose();\n  }\n}\nfunction transitionEnd(event) {\n  if (event.propertyName === this.openTransitionProp && event.target === this.transitionEl) {\n    this.open ? this.onOpen() : this.onClose();\n  }\n}\n/**\n * Helper to keep track of transition listeners on setTransitionEl and connectedCallback on OpenCloseComponent components.\n *\n * @param component\n */\nfunction connectOpenCloseComponent(component) {\n  disconnectOpenCloseComponent(component);\n  if (component.transitionEl) {\n    const boundOnTransitionStart = transitionStart.bind(component);\n    const boundOnTransitionEnd = transitionEnd.bind(component);\n    componentToTransitionListeners.set(component, [\n      component.transitionEl,\n      boundOnTransitionStart,\n      boundOnTransitionEnd\n    ]);\n    component.transitionEl.addEventListener(\"transitionstart\", boundOnTransitionStart);\n    component.transitionEl.addEventListener(\"transitionend\", boundOnTransitionEnd);\n  }\n}\n/**\n * Helper to tear down transition listeners on disconnectedCallback on OpenCloseComponent components.\n *\n * @param component\n */\nfunction disconnectOpenCloseComponent(component) {\n  if (!componentToTransitionListeners.has(component)) {\n    return;\n  }\n  const [transitionEl, start, end] = componentToTransitionListeners.get(component);\n  transitionEl.removeEventListener(\"transitionstart\", start);\n  transitionEl.removeEventListener(\"transitionend\", end);\n  componentToTransitionListeners.delete(component);\n}\n\nexport { connectOpenCloseComponent as c, disconnectOpenCloseComponent as d };\n","var ArcgisHubDiscussionsBlockedNoticeVariant;\n(function (ArcgisHubDiscussionsBlockedNoticeVariant) {\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"Item\"] = \"item\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditPost\"] = \"edit.post\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditPostGroup\"] = \"edit.post.group\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditPostItem\"] = \"edit.post.item\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditReply\"] = \"reply.post\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditReplyGroup\"] = \"edit.reply.group\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"EditReplyItem\"] = \"edit.reply.item\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"Group\"] = \"group\";\n  ArcgisHubDiscussionsBlockedNoticeVariant[\"Reply\"] = \"reply\";\n})(ArcgisHubDiscussionsBlockedNoticeVariant || (ArcgisHubDiscussionsBlockedNoticeVariant = {}));\nconst ArcgisHubDiscussionsBlockedNoticeConfigs = {\n  [ArcgisHubDiscussionsBlockedNoticeVariant.Item]: {\n    title: 'item.title',\n    message: 'item.message',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditPost]: {\n    title: 'post.title',\n    message: 'post.message',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditPostGroup]: {\n    title: 'post.title',\n    message: 'post.message.group',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditPostItem]: {\n    title: 'post.title',\n    message: 'post.message.item',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditReply]: {\n    title: 'reply.title',\n    message: 'reply.message',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditReplyGroup]: {\n    title: 'reply.title',\n    message: 'reply.message.group',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.EditReplyItem]: {\n    title: 'reply.title',\n    message: 'reply.message.item',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.Group]: {\n    title: 'group.title',\n    message: 'group.message',\n  },\n  [ArcgisHubDiscussionsBlockedNoticeVariant.Reply]: {\n    title: 'reply.title.generic',\n    message: 'reply.message.generic',\n  },\n};\n\nexport { ArcgisHubDiscussionsBlockedNoticeVariant as A, ArcgisHubDiscussionsBlockedNoticeConfigs as a };\n","import { n as nodeListToArray } from './dom-9898fc5b.js';\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nconst ComboboxItem = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem}, ${ComboboxItemGroup}`;\nconst TEXT = {\n  removeTag: \"Remove tag\"\n};\n\n/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.98\n */\nfunction getAncestors(element) {\n  var _a, _b;\n  const parent = (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.closest(ComboboxChildSelector);\n  const grandparent = (_b = parent === null || parent === void 0 ? void 0 : parent.parentElement) === null || _b === void 0 ? void 0 : _b.closest(ComboboxChildSelector);\n  return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n  var _a;\n  return (((_a = item.ancestors) === null || _a === void 0 ? void 0 : _a.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\")) || []);\n}\nfunction getItemChildren(item) {\n  return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n  const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n  return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n  const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n  return result.snapshotLength;\n}\n\nexport { ComboboxChildSelector as C, TEXT as T, getDepth as a, getItemAncestors as b, getItemChildren as c, ComboboxItem as d, ComboboxItemGroup as e, getAncestors as g, hasActiveChildren as h };\n","import { c as cloneObject } from './util-2150bd9e.js';\nimport { U as UserSession } from './UserSession-d3a97494.js';\n\n/* Copyright (c) 2018-2021 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Well known APIs\n * Short-forms for specifying common APIs\n * We will likely deprecate this\n */\nconst SEARCH_APIS = {\n    arcgis: {\n        label: \"ArcGIS Online\",\n        url: \"https://www.arcgis.com\",\n        type: \"arcgis\",\n    },\n    arcgisQA: {\n        label: \"ArcGIS Online QAEXT\",\n        url: \"https://qaext.arcgis.com\",\n        type: \"arcgis\",\n    },\n    arcgisDEV: {\n        label: \"ArcGIS Online DEVEXT\",\n        url: \"https://devext.arcgis.com\",\n        type: \"arcgis\",\n    },\n    hub: {\n        label: \"ArcGIS Hub\",\n        url: \"https://hub.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n    hubDEV: {\n        label: \"ArcGIS Hub DEV\",\n        url: \"https://hubdev.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n    hubQA: {\n        label: \"ArcGIS Hub QA\",\n        url: \"https://hubqa.arcgis.com/api\",\n        type: \"arcgis-hub\",\n    },\n};\n/**\n * @private\n * Convert an api \"name\" into a full ApiDefinition\n * @param api\n * @returns\n */\nfunction expandApi(api) {\n    if (typeof api === \"string\" && api in SEARCH_APIS) {\n        return SEARCH_APIS[api];\n    }\n    else {\n        // it's an object, so we trust that it's well formed\n        return api;\n    }\n}\n/**\n * @private\n * Convert a field value into a MatchOptions if it's not already one\n * @param value\n * @returns\n */\nfunction valueToMatchOptions(value) {\n    let result = {};\n    if (Array.isArray(value)) {\n        result = {\n            any: value,\n        };\n    }\n    else {\n        if (typeof value === \"string\") {\n            result = {\n                any: [value],\n            };\n        }\n        if (typeof value === \"object\") {\n            result = value;\n        }\n    }\n    return result;\n}\n/**\n * @private\n * Convert a RelativeDate to a DateRange<number>\n * @param relative\n * @returns\n */\nfunction relativeDateToDateRange(relative) {\n    // hash of offsets\n    const offsetMs = {\n        min: 1000 * 60,\n        hours: 1000 * 60 * 60,\n        days: 1000 * 60 * 60 * 24,\n        weeks: 1000 * 60 * 60 * 24 * 7,\n    };\n    const now = new Date();\n    // default\n    const result = {\n        type: \"date-range\",\n        from: now.getTime(),\n        to: now.getTime(),\n    };\n    //\n    switch (relative.unit) {\n        case \"hours\":\n        case \"days\":\n        case \"weeks\":\n            result.from = result.to - offsetMs[relative.unit] * relative.num;\n            break;\n        case \"months\":\n            // get the current month and subtract num\n            // NOTE: when the previous month has fewer days than this month\n            // setMonth() will return a date w/in the current month\n            // example: 3/30 -> 3/2 b/c there is no 2/28\n            now.setMonth(now.getMonth() - relative.num);\n            result.from = now.getTime();\n            break;\n        case \"years\":\n            now.setFullYear(now.getFullYear() - relative.num);\n            result.from = now.getTime();\n            break;\n    }\n    return result;\n}\n/**\n * Create a `.next()` function for a type\n * @param request\n * @param nextStart\n * @param total\n * @param fn\n * @returns\n */\nfunction getNextFunction(request, nextStart, total, fn) {\n    const clonedRequest = cloneObject(request);\n    // clone will not handle authentication so we do it manually\n    if (request.authentication) {\n        clonedRequest.authentication = UserSession.deserialize(request.authentication.serialize());\n    }\n    // figure out the start\n    clonedRequest.start = nextStart > -1 ? nextStart : total + 1;\n    return (authentication) => {\n        if (authentication) {\n            clonedRequest.authentication = authentication;\n        }\n        return fn(clonedRequest);\n    };\n}\n/**\n * Construct a the full url to a group thumbnail\n *\n * - If the group has a thumbnail, construct the full url\n * - If the group is not public, append on the token (if passed in)\n * @param portalUrl\n * @param group\n * @param token\n * @returns\n */\nfunction getGroupThumbnailUrl(portalUrl, group, token) {\n    let thumbnailUrl = null;\n    if (group.thumbnail) {\n        thumbnailUrl = `${portalUrl}/community/groups/${group.id}/info/${group.thumbnail}`;\n        if (token && group.access !== \"public\") {\n            thumbnailUrl = `${thumbnailUrl}?token=${token}`;\n        }\n    }\n    return thumbnailUrl;\n}\n/**\n * Construct a the full url to a user thumbnail\n *\n * - If the user has a thumbnail, construct the full url\n * - If the user is not public, append on the token\n * @param portalUrl\n * @param user\n * @param token\n * @returns\n */\nfunction getUserThumbnailUrl(portalUrl, user, token) {\n    let thumbnailUrl = null;\n    if (user.thumbnail) {\n        thumbnailUrl = `${portalUrl}/community/users/${user.username}/info/${user.thumbnail}`;\n        if (token && user.access !== \"public\") {\n            thumbnailUrl = `${thumbnailUrl}?token=${token}`;\n        }\n    }\n    return thumbnailUrl;\n}\n\nexport { getUserThumbnailUrl as a, getNextFunction as b, expandApi as e, getGroupThumbnailUrl as g, relativeDateToDateRange as r, valueToMatchOptions as v };\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}"],"names":["ArcgisHubDiscussionsBlockedNotice","hostRef","registerInstance","this","hubTelemetry","createEvent","scale","bind","intlManager","el","intl","ArcgisHubDiscussionsBlockedNoticeConfigs","variant","emit","dist","h","Host","color","ref","handleImpression","slot","t","variantConfig","title","message","getElement","style","ArcgisHubDiscussionsPopover","element","telemetry","postId","postDetails","originalPostDetails","channel","channelDetails","index","Object","assign","parentId","channelId","id","channelAccess","access","position","emitHubTelemetry","_a","post","creator","creatorDetails","user","context","username","fullName","thumbnail","getUserThumbnailUrl","session","portal","token","creatorUsername","Fragment","isHub","organization","region","formatDisplayName","toLocaleUpperCase","type","icon","appearance","href","label","onClick","handleGoToProfile","round","width","groupLink","group","groups","window","location","origin","visibilityIcon","visibilityText","postedTo","groupName","SharingAccess","timestamp","Date","createdAt","toLocaleString","locale","day","month","year","hour","minute","buttonEl","autoClose","placement","referenceElement","class","renderCreatorAvatar","renderCreatorDetails","renderCreatorExpandedDetails","renderPostDetails","__decorate","decorators","target","key","desc","d","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","ArcgisHubDiscussionsPostGeography","arcgisHubDiscussionsPostGeographySelect","arcgisHubDiscussionsPostGeographyHover","arcgisHubDiscussionsPostViewAllGeography","arcgisHubDiscussionsPostEdit","arcgisHubDiscussionsGeometryDrawEdit","arcgisHubDiscussionsGeometryDrawEditCancel","arcgisHubDiscussionsFeatureRemove","defaultMaxEntryCount","maxEntryCount","relatedFeatureIds","activeEditIndex","loading","unsavedExistingFeatures","relatedFeatures","initialize","fetchRelatedFeatures","updateFeatures","_b","ids","pluckDiscussionFeatureIds","discussion","JSON","stringify","featuresLoaded","Boolean","url","parentDetails","evt","featureGeometry","relatedFeatureId","featureIndex","unsavedFeatures","unsavedRelatedFeatures","geometries","dataset","_index","related","unsaved","Number","isRelatedFeature","undefined","isStaged","feature","geometry","objectId","originalIndex","findGeometryFromClickEvent","properties","stopPropagation","convertGeometryTypeToTelemetryString","active","push","hasMap","isMobile","disabled","isActive","actions","handleEdit","text","handleDelete","shift","discussionDetails","displayField","isValid","description","handleGeometrySelected","onMouseOver","handleGeometryHovered","textLabel","renderActions","listLength","expandable","toggleable","handleViewAllGeography","handleToggleAllGeography","renderedInEditor","toGeographyItem","acc","renderGeographyItem","listItems","reduce","renderButton","entries","Array","from","rows","showFooter","showHeading","showThumbnail","renderSkeleton","renderGeographies","CallWhenFactory","when","prototype","minPromiseDelayFactory","delay","clickTargets","composedPath","triggeredByButton","some","tagName","triggeredByCalciteAction","currentUser","canModifyPost","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","calciteLookupChange","calciteComboboxChange","calciteComboboxFilterChange","calciteComboboxChipDismiss","calciteComboboxBeforeClose","calciteComboboxClose","calciteComboboxBeforeOpen","calciteComboboxOpen","open","maxItems","overlayPositioning","required","selectionMode","value","intlRemoveTag","TEXT","defaultMenuPlacement","internalValueChangeFlag","items","groupItems","selectedItems","visibleItems","activeItemIndex","activeChipIndex","activeDescendant","textInput","mutationObserver","createObserver","updateItems","resizeObserver","setMaxScrollerHeight","guid","inputHeight","ignoreSelectedEventsFlag","openTransitionProp","setFilteredPlacements","flipPlacements","filteredFlipPlacements","filterComputedPlacements","getValue","map","item","toString","onLabelClick","setFocus","keydownHandler","event","allowCustomValues","addCustomChip","preventDefault","previousChip","nextChip","shiftActiveItemIndex","comboboxInViewport","scrollIntoView","updateActiveItemIndex","scrollToActiveItem","toggleSelection","removeActiveChip","defaultPrevented","submitForm","isMulti","removeLastChip","toggleCloseEnd","removeEventListener","toggleOpenEnd","listContainerEl","referenceEl","reposition","maxScrollerHeight","getMaxScrollerHeight","maxHeight","minWidth","clientWidth","calciteChipDismissHandler","comboboxItem","selection","find","detail","clickHandler","node","setInactiveIfNotContained","includes","trim","filterItems","setFloatingEl","floatingEl","connectFloatingUI","setContainerEl","observe","transitionEl","connectOpenCloseComponent","setReferenceEl","inputHandler","filteredData","ComboboxItemGroup","debounce","filter","data","getCombinedItems","forEach","hidden","ancestors","parent","grandparent","ancestor","getVisibleItems","internalCalciteLookupChangeEvent","emitCalciteLookupChange","internalComboboxChangeEvent","emitComboboxChange","getItems","getGroupItems","getData","getSelectedItems","needsIcon","getNeedsIcon","activeItem","height","calculateSingleItemHeight","offsetHeight","scrollTop","offsetTop","comboboxFocusHandler","focus","comboboxBlurHandler","updateAfterClose","isArray","selected","isPrimaryPointerButton","newIndex","indexOf","delayed","childList","subtree","connectLabel","connectForm","activeHandler","openHandler","afterConnectDefaultValueSet","updateHostInteraction","disconnect","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectOpenCloseComponent","bounding","getBoundingClientRect","top","left","right","innerWidth","document","documentElement","bottom","innerHeight","clientHeight","itemsToProcess","querySelectorAll","ComboboxChildSelector","child","updateAncestors","resetText","getItemAncestors","children","getItemChildren","hasActiveChildren","match","sort","a","b","aIdx","bIdx","constant","filterDisabled","ComboboxItem$1","existingItem","createElement","appendChild","Math","max","focusChip","last","chip","querySelector","delta","chipClasses","reverse","pathLabel","join","dismissLabel","dismissible","onCalciteChipDismiss","placeholder","single","selectedItem","showLabel","getLabelText","input","placeholderIcon","onBlur","onFocus","onInput","toAriaBoolean","role","tabindex","classes","FloatingCSS","list","selectedIcon","singleSelectionMode","wrapper","onKeyDown","renderIconStart","renderChips","htmlFor","renderInput","renderIconEnd","tabIndex","renderListBoxOptions","renderFloatingUIContainer","HiddenFormInputSlot","component","CSS","ComboboxItem","calciteComboboxItemChange","itemClickHandler","getAncestors","getElementProp","connectConditionalSlotComponent","disconnectConditionalSlotComponent","coerce","isSingle","level","iconPath","getSlotted","isSingleSelect","depth","getDepth","renderIcon","renderChildren","params","_target","_propertyKey","descriptor","original","args","isTruthy","apply","observed","Set","observerOptions","processMutations","delete","takeRecords","mutations","forceUpdate","options","isInteger","Error","_name","delayPromise","Promise","resolve","setTimeout","resultPromise","then","callback","Observer","ExtendedMutationObserver","observedEntry","newObservedEntries","MutationObserver","IntersectionObserver","ResizeObserver","getObserver","componentToTransitionListeners","WeakMap","transitionStart","propertyName","onBeforeOpen","onBeforeClose","transitionEnd","onOpen","onClose","boundOnTransitionStart","boundOnTransitionEnd","set","addEventListener","has","get","start","end","ArcgisHubDiscussionsBlockedNoticeVariant","Item","EditPost","EditPostGroup","EditPostItem","EditReply","EditReplyGroup","EditReplyItem","Group","Reply","removeTag","parentElement","closest","nodeName","nodeListToArray","evaluate","XPathResult","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","SEARCH_APIS","arcgis","arcgisQA","arcgisDEV","hub","hubDEV","hubQA","expandApi","api","valueToMatchOptions","result","any","relativeDateToDateRange","relative","now","getTime","to","unit","min","hours","days","weeks","num","setMonth","getMonth","setFullYear","getFullYear","getNextFunction","request","nextStart","total","fn","clonedRequest","cloneObject","authentication","UserSession","serialize","getGroupThumbnailUrl","portalUrl","thumbnailUrl","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","F","s","n","done","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","_superPropBase","object","property","hasOwnProperty","getPrototypeOf","_get","receiver","base","_toArray","arr"],"sourceRoot":""}