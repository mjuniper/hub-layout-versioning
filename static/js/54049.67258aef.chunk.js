"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[54049],{54049:function(t,e,n){n.d(e,{h:function(){return Rt}});var r=n(74165),a=n(93433),i=n(29439),c=n(15861),u=n(48103),o=n(12969),s=n(9618),p=n(13115),l=n(20823),f=n(76880),d=n(60415),h=n(44288),m=n(8402),g=n(29690),y=n(28183),v=n(25212),b=n(5760),w=n(3346),k=n(39318),O=n(99502),x=n(73576),Z=n(17684),S=n(89732);function q(t){return(0,Z.g)(t,"group")}function D(t,e){var n=(0,O.a)(e);return"".concat(n,"/home/group.html?id=").concat(t)}function A(t,e){var n=(0,O.a)(e);return"".concat(n,"/home/user.html?user=").concat(t)}function j(t,e,n){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,u,s,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,tags:e.tags,typeKeywords:e.typeKeywords,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:(0,f.g)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,a.Z)(n)).filter(o.u),u=n.map(h.p),s=(0,m.m)("enrichment",u).filter(o.u),l={},!s.length){t.next=10;break}return t.next=9,(0,d.f)(e,s,i);case 9:l=t.sent;case 10:return u.forEach((function(t){c[t.prop]=(0,p.g)(l,t.path)})),c.links.thumbnail=(0,g.a)(e,i),c.links.self=(0,y.g)(c.id,i),c.links.siteRelative=(0,f.m)(c.type,c.id,e.typeKeywords),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=function(t,e,n){var r=e.data,a=e.stack,i=e.requestOptions;return a.finish(n,{error:t}),{data:Object.assign(Object.assign({},r),{errors:(0,d.g)(t,r.errors)}),stack:a,requestOptions:i}},T={membershipSummary:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichGroupContentCount"),i=Object.assign({num:3},r);return(0,S.s)(e.group.id,i).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{membershipSummary:{total:t.total,users:t.users}}),stack:n,requestOptions:r}})).catch((function(e){return N(e,t,a)}))},contentCount:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichGroupContentCount");return function(t){return(0,Z.g)(t,"groupContent")}(Object.assign({groupId:e.group.id,num:1},r)).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{contentCount:t.total}),stack:n,requestOptions:r}})).catch((function(e){return N(e,t,a)}))}};function I(t,e,n){var r=e.reduce((function(t,e){var n=T[e];return n&&t.push(n),t}),[]);return(0,d.c)(r)({data:{group:t},stack:new d.O,requestOptions:n}).then((function(t){return t.data}))}function M(t){var e={},n=["created","modified","lastlogin"],r=["filterType","categoriesAsParam","categoryFilter","term","searchUserAccess","isopendata","searchUserName"],a=[].concat(n,r);return Object.entries(t).forEach((function(c){var u=(0,i.Z)(c,2),f=u[0],d=u[1];if(a.includes(f)||(0,l.s)(f,(0,s.v)(d),e),n.includes(f)){var h=(0,o.c)((0,p.g)(t,f));"relative-date"===(0,p.g)(t,"".concat(f,".type"))?(0,l.s)(f,(0,s.r)(h),e):(0,l.s)(f,h,e)}r.includes(f)&&t.hasOwnProperty(f)&&(0,l.s)(f,d,e)})),e}function P(t){return G(t.filters.map(F).filter(R),"AND")}function R(t){return!("undefined"===typeof t||null===t||""===t)}function G(t,e){return t.reduce((function(t,n){return Object.entries(n).forEach((function(n){var r=(0,i.Z)(n,2),a=r[0],c=r[1];t[a]&&""!==c?t[a]="".concat(t[a]," ").concat(e," ").concat(c):""!==c&&(t[a]=c)})),t}),{q:""})}function F(t){var e=t.operation||"AND",n=t.predicates.map(M),r=G(n.map(H).filter((function(t){return void 0!==t&&null!==t})),e);return n.length>1&&(r.q="(".concat(r.q,")")),r}function H(t){var e=["created","modified"],n=["isopendata"],r=["searchUserAccess","searchUserName","categoriesAsParam","categoryFilter"],a=["filterType","term"].concat(e,n,r),c=["access","capabilities","created","categories","categoriesAsParam","categoryFilter","description","disabled","email","emailstatus","firstname","fullname","group","id","isInvitationOnly","isopendata","joined","lastlogin","lastname","memberType","modified","name","orgid","orgIds","owner","provider","role","searchUserAccess","searchUserName","snippet","tags","term","title","type","typekeywords","userlicensetype","username"],u=Object.entries(t).map((function(t){var u=(0,i.Z)(t,2),o=u[0],s=u[1];if(c.includes(o)){var p={q:""};return a.includes(o)||"term"===o||(p.q=function(t,e){var n="";e.any&&(n="".concat(W("OR",t,e.any)));e.all&&(n=(n?n+" AND ":"")+"".concat(W("AND",t,e.all)));e.not&&(n=(n?n+" AND ":"")+"".concat(W("OR","-".concat(t),e.not)));return n}(o,s)),e.includes(o)&&(p.q=function(t,e){return"".concat(t,":[").concat(e.from," TO ").concat(e.to,"]")}(o,s)),n.includes(o)&&(p.q="".concat(o,":").concat(s)),r.includes(o)&&(p[o]=s),"term"===o&&(p.q=s),p}})).filter(R);if(u.length){var o=G(u,"AND");return o.q&&(o.q="(".concat(o.q,")")),o}return null}function W(t,e,n){var r="";return Array.isArray(n)?(r="".concat(e,':"').concat(n.join('" '.concat(t," ").concat(e,':"')),'"'),n.length>1&&(r="(".concat(r,")"))):r="".concat(e,':"').concat(n,'"'),r}function C(t,e,n){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,u,s,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:(0,f.g)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,a.Z)(n)).filter(o.u),u=n.map(h.p),s=(0,m.m)("enrichment",u).filter(o.u),l={},!s.length){t.next=10;break}return t.next=9,(0,d.f)(e,s,i);case 9:l=t.sent;case 10:return u.forEach((function(t){c[t.prop]=(0,p.g)(l,t.path)})),c.links.thumbnail=(0,g.a)(e,i),c.links.self=(0,y.g)(c.id,i),c.links.siteRelative=(0,f.m)(c.type,c.id,e.typeKeywords),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t){var e;return(null===(e=t.aggregations)||void 0===e?void 0:e.counts)?t.aggregations.counts.map((function(t){return{mode:"terms",field:t.fieldName,values:t.fieldValues}})):[]}function $(t,e){return L.apply(this,arguments)}function L(){return(L=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new u.H("portalSearchItems","options.requestOptions is required.");case 2:return(i=X(e)).filters=i.filters.map((function(t){return t.predicates=t.predicates.map(M),t})),c=P(i),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(c[t]=n[t])})),n.requestOptions.authentication?c.authentication=n.requestOptions.authentication:c.portal=n.requestOptions.portal,(null===(a=n.aggFields)||void 0===a?void 0:a.length)&&(c.countFields=n.aggFields.join(","),c.countSize=n.aggLimit||10),t.abrupt("return",V(c));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.s)(e);case 2:return n=t.sent,a=function(t){return _(t,e.includes,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,c=K(n),t.abrupt("return",{total:n.total,results:i,aggregations:c,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,V)});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return z.apply(this,arguments)}function z(){return z=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i,c=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:[],a=c.length>2?c[2]:void 0,i=j,t.t0=e.type,t.next="Hub Site Application"===t.t0||"Site Application"===t.t0?6:"Hub Page"===t.t0||"Site Page"===t.t0?8:"Hub Project"===t.t0?10:"Web Mapping Application"===t.t0?12:14;break;case 6:return i=h.e,t.abrupt("break",14);case 8:return i=C,t.abrupt("break",14);case 10:return i=b.e,t.abrupt("break",14);case 12:return e.typeKeywords.includes("hubSite")&&(i=h.e),t.abrupt("break",14);case 14:return t.abrupt("return",i(e,n,a));case 15:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}var B={$application:[{type:{any:["Web Mapping Application","Application","Insights","Web Experience"],not:["Insights Theme","Insights Model"]},typekeywords:{not:["hubSite","Story Map"]}},{type:"Web Mapping Experience",typekeywords:"EXB Experience"}],$dashboard:[{type:{any:["Dashboard"],not:["Operation View"]},typekeywords:{not:["Extension","ArcGIS Operation View"]}}],$dataset:[{type:{any:["Scene Service","Feature Collection","Route Layer","Layer","Explorer Layer","Tile Package","Vector Tile Package","Scene Package","Layer Package","Feature Service","Stream Service","Map Service","Vector Tile Service","Image Service","WMS","WFS","WMTS","KML","KML Collection","Globe Service","CSV","Shapefile","GeoJson","Service Definition","File Geodatabase","CAD Drawing","Relational Database Connection"],not:["Web Mapping Application","Geodata Service"]}},{typekeywords:["OGC","Geodata Service"]}],$document:[{type:["PDF","Microsoft Excel","Microsoft Word","Microsoft Powerpoint","iWork Keynote","iWork Pages","iWork Numbers","Visio Document","Document Link"]}],$initiative:[{type:"Hub Initiative"}],$experience:[{type:"Web Experience"}],$feedback:[{type:"Form"}],$page:[{typekeywords:"hubPage"}],$site:[{type:["Hub Site Application","Site Application"]}],$storymap:[{type:"Storymap"},{type:"Web Mapping Application",typekeywords:"Story Map"}],$template:[{type:["Web Mapping Application","Hub Initiative","Hub Initiative Template","Solution"],typekeywords:{any:["hubInitiativeTemplate","hubSolutionTemplate","Template"],not:"Deployed"}}],$webmap:[{type:{any:["Web Map","Web Scene"],not:"Web Mapping Application"}}]};function X(t){var e=(0,o.c)(t);return e.filters=e.filters.map((function(t){var e=!1;return t.predicates=t.predicates.reduce((function(t,n){if(function(t){var e=!1;"string"===typeof t&&(e=t in B);return e}(n.type)){var r=(i=n.type,B[i]);t=[].concat((0,a.Z)(t),(0,a.Z)(r)),e=!0}else t.push(n);var i;return t}),[]),e&&(t.operation="OR"),t})),e}function J(t){return{total:0,results:[],hasNext:!1,next:function(){return null},aggregations:t.aggregations.aggregations.map((function(t){return{mode:"terms",field:t.field,values:t.aggregations.map((function(t){return{value:t.label,count:t.value}}))}}))}}function Y(t,e){return{aggregations:"terms(fields=(".concat(e.aggFields.join(),"))"),token:(0,p.g)(e,"requestOptions.authentication.token")}}function tt(t){var e=Object.entries(t).filter((function(t){var e=(0,i.Z)(t,2);e[0];return!!e[1]})).map((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return"".concat(n,"=").concat(r)})).join("&");return e&&"?".concat(e)}function et(t,e,n){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)((0,r.Z)().mark((function t(e,n,a){var i,c,u,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(null===(i=a.requestOptions)||void 0===i?void 0:i.fetch)||fetch,u=e+tt(n),t.next=4,c(u,{method:"GET"});case 4:if((o=t.sent).ok){t.next=7;break}throw new x.R(o.statusText,u,o.status);case 7:return t.abrupt("return",o.json());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t,e){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.api,i="".concat(a.url,"/aggregations"),c=Y(0,n),t.next=5,et(i,c,n);case 5:return u=t.sent,t.abrupt("return",J(u));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t,e,n){var r=t.links.find((function(t){return"next"===t.rel})),a=function(){return null};return r&&(a=function(){var t=+new URL(r.href).searchParams.get("startindex"),a=Object.assign(Object.assign({},n),{start:t});return mt(e,a)}),a}function ct(t,e,n){return _(t.properties,e,n)}function ut(t,e,n){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)((0,r.Z)().mark((function t(e,n,a){var i,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.features.map((function(t){return ct(t,a.include,a.requestOptions)})));case 2:return i=t.sent,c=it(e,n,a),u=e.links.find((function(t){return"next"===t.rel})),t.abrupt("return",{total:e.numberMatched,results:i,hasNext:!!u,next:c});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function st(t){var e=t.operation||"OR",n=t.predicates.map(pt).filter((function(t){return"()"!==t})).join(" ".concat(e," "));return"(".concat(n,")")}function pt(t){var e=Object.entries(t).filter((function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return"term"!==n&&!!r})).reduce((function(t,e){var n,r,a=(0,i.Z)(e,2),c=a[0],u=a[1];return"string"===typeof u?n=lt(c,u):Array.isArray(u)?n=function(t,e){var n=e.map(ft);return"".concat(t," IN (").concat(n.join(", "),")")}(c,u):(r=u,n=Number.isInteger(r.from)&&Number.isInteger(r.to)?function(t,e){return"".concat(t," BETWEEN ").concat(e.from," AND ").concat(e.to)}(c,u):function(t,e){var n=function(t,e){var n;if(Array.isArray(e)){var r=e.map(ft);n="".concat(t," IN (").concat(r.join(", "),")")}else e&&(n=lt(t,e));return n}(t,e.any),r=function(t,e){var n;Array.isArray(e)?n=e.map((function(e){return lt(t,e)})).join(" AND "):e&&(n=lt(t,e));return n}(t,e.all),a=function(t,e){var n;if(e){var r=(Array.isArray(e)?e:[e]).map(ft);n="".concat(t," NOT IN (").concat(r.join(", "),")")}return n}(t,e.not);return[n,r,a].filter((function(t){return!!t})).join(" AND ")}(c,u)),t.push(n),t}),[]).join(" AND ");return"(".concat(e,")")}function lt(t,e){return"".concat(t,"=").concat(ft(e))}function ft(t){return/\s/.test(t)?"'".concat(t,"'"):t}function dt(t){var e=function(t){var e;if(t.length>1)throw new Error("IQuery can only have 1 IFilter with a 'term' predicate but ".concat(t.length," were detected"));if(t.length){var n=t[0],r=n.predicates.filter((function(t){return!!t.term}));if(r.length>1)throw new Error("IQuery can only have 1 'term' predicate but ".concat(r.length," were detected"));if("AND"!==n.operation&&n.predicates.length>1)throw new Error("'term' predicates cannot be OR'd to other predicates");var a=r[0];if("string"!==typeof a.term)throw new Error("'term' predicate must have a string value, string[] and IMatchOptions are not allowed.");e=a}return e}(t.filters.filter((function(t){return t.predicates.find((function(t){return!!t.term}))})));return null===e||void 0===e?void 0:e.term}function ht(t,e){var n=function(t){return t.filters.map(st).filter((function(t){return"()"!==t})).join(" AND ")}(t);return{filter:n,token:(0,p.g)(e,"requestOptions.authentication.token"),limit:e.num,startindex:e.start,q:dt(t)}}function mt(t,e){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.api,i="".concat(a.url,"/items"),c=ht(e,n),t.next=5,et(i,c,n);case 5:return u=t.sent,t.abrupt("return",ut(u,e,n));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t,e){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.useBeta){t.next=2;break}throw new Error("Not implemented");case 2:return t.abrupt("return",(null===(a=n.aggFields)||void 0===a?void 0:a.length)?rt(e,n):mt(e,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function bt(t,e){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new u.H("portalSearchGroups","options.requestOptions is required.");case 2:return e.filters=e.filters.map((function(t){return t.predicates=t.predicates.map(M),t})),a=P(e),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(a[t]=n[t])})),n.requestOptions.authentication?a.authentication=n.requestOptions.authentication:a.portal=n.requestOptions.portal,t.abrupt("return",kt(a));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:return n=t.sent,a=function(t){return xt(t,e.include,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,t.abrupt("return",{total:n.total,results:i,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,kt)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(t){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2?i[2]:void 0,t.abrupt("return",Ft(e,n,a));case 3:case"end":return t.stop()}}),t)}))),Zt.apply(this,arguments)}var St=function(t,e,n){var r=e.data,a=e.stack,i=e.requestOptions;return a.finish(n,{error:t}),{data:Object.assign(Object.assign({},r),{errors:(0,d.g)(t,r.errors)}),stack:a,requestOptions:i}},qt={org:function(t){var e=t.data,n=t.stack,r=t.requestOptions,a=n.start("enrichUserOrg"),i=Object.assign(Object.assign({},r),{portal:"".concat((0,k.g)(r.portal),"/sharing/rest")});return(0,d.a)(e.user.orgId,i).then((function(t){return n.finish(a),{data:Object.assign(Object.assign({},e),{org:t}),stack:n,requestOptions:r}})).catch((function(e){return St(e,t,a)}))}};function Dt(t,e,n){var r=e.reduce((function(t,e){var n=qt[e];return n&&t.push(n),t}),[]);return(0,d.c)(r)({data:{user:t},stack:new d.O,requestOptions:n}).then((function(t){return t.data}))}function At(t,e,n){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,u,l,f,d;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c={access:e.access,id:e.username,type:"User",name:e.fullName,owner:e.username,summary:e.description,createdDate:new Date(e.created),createdDateSource:"user.created",updatedDate:new Date(e.modified),updatedDateSource:"user.modified",family:"people",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat(["org.name AS orgName"],(0,a.Z)(n)).filter(o.u),u=n.map(h.p),l=(0,m.m)("enrichment",u).filter(o.u),f={},!l.length){t.next=10;break}return t.next=9,Dt(e,l,i);case 9:f=t.sent;case 10:return u.forEach((function(t){c[t.prop]=(0,p.g)(f,t.path)})),d=i.authentication.token,c.links.thumbnail=(0,s.a)(i.portal,e,d),c.links.self=A(c.id,i),c.links.siteRelative="/people/".concat(c.id),t.abrupt("return",c);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.requestOptions){t.next=2;break}throw new u.H("portalSearchUsers","requestOptions: IHubRequestOptions is required.");case 2:if(n.requestOptions.authentication){t.next=4;break}throw new u.H("portalSearchUsers","requestOptions must pass authentication.");case 4:return e.filters=e.filters.map((function(t){return t.predicates=t.predicates.map(M),t})),a=P(e),["num","sortField","sortOrder","include","start","requestOptions"].forEach((function(t){n.hasOwnProperty(t)&&(a[t]=n[t])})),a.authentication=n.requestOptions.authentication,t.abrupt("return",Tt(a));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tt(t){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.s)(e);case 2:return n=t.sent,a=function(t){return Mt(t,e.include,e.requestOptions)},t.next=6,Promise.all(n.results.map(a));case 6:return i=t.sent,t.abrupt("return",{total:n.total,results:i,hasNext:n.nextStart>-1,next:(0,s.b)(e,n.nextStart,n.total,Tt)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,c.Z)((0,r.Z)().mark((function t(e){var n,a,i=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],a=i.length>2?i[2]:void 0,t.abrupt("return",At(e,n,a));case 3:case"end":return t.stop()}}),t)}))),Pt.apply(this,arguments)}function Rt(t,e){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)((0,r.Z)().mark((function t(e,n){var a,i,c,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new u.H("hubSearch","Query is required.");case 2:if(e.filters&&e.filters.length){t.next=4;break}throw new u.H("hubSearch","Query must contain at least one Filter.");case 4:if(n.requestOptions){t.next=6;break}throw new u.H("hubSearch","requestOptions: IHubRequestOptions is required.");case 6:if(n.include||(n.include=[]),a=e.targetEntity,i=(0,s.e)(n.api||"arcgis").type,c={arcgis:{item:$,group:bt,user:Et},"arcgis-hub":{item:yt}},l=(0,p.g)(c,"".concat(i,".").concat(a))){t.next=13;break}throw new u.H("hubSearch",'Search via "'.concat(a,'" filter against "').concat(i,'" api is not implemented. Please ensure "targetEntity" is defined on the query.'));case 13:return t.abrupt("return",l((0,o.c)(e),n));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ft(t,e,n){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)((0,r.Z)().mark((function t(e,n,i){var c,u,l,f;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c={access:e.access,id:e.id,type:"Group",name:e.title,owner:e.owner,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"group.created",updatedDate:new Date(e.modified),updatedDateSource:"group.modified",family:"team",links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}}).isSharedUpdate=(e.capabilities||[]).includes("updateitemcontrol"),c.membershipAccess=e.membershipAccess,c.isOpenData=!!e.isOpenData,n=[].concat([],(0,a.Z)(n)).filter(o.u),u=n.map(h.p),l=(0,m.m)("enrichment",u).filter(o.u),f={},!l.length){t.next=13;break}return t.next=12,I(e,l,i);case 12:f=t.sent;case 13:return u.forEach((function(t){c[t.prop]=(0,p.g)(f,t.path)})),c.links.thumbnail=(0,s.g)(i.portal,e),c.links.self=D(c.id,i),c.links.siteRelative="/teams/".concat(c.id),t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},5760:function(t,e,n){n.d(e,{e:function(){return k},f:function(){return y}});var r=n(93433),a=n(74165),i=n(15861),c=n(76880),u=n(48103),o=n(60415),s=n(44288),p=n(12969),l=n(13115),f=n(29690),d=n(28183),h=n(63326),m=n(35137),g=n(8402);function y(t,e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,h.i)(e)?(0,m.g)(e,n):(0,u.a)(e,n),t.abrupt("return",r.then((function(t){return t?b(t,n):null})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.f)(e,n);case 2:return r=t.sent,t.next=5,(0,u.l)(e,u.E,n);case 5:return r.resources=t.sent,i=new u.P((0,u.h)()),c=i.modelToObject(r,{}),t.abrupt("return",(0,u.k)(r,c,n));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e,n){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)((0,a.Z)().mark((function t(e,n,i){var u,h,m,y;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u={access:e.access,id:e.id,type:e.type,name:e.title,owner:e.owner,typeKeywords:e.typeKeywords,tags:e.tags,categories:e.categories,summary:e.snippet||e.description,createdDate:new Date(e.created),createdDateSource:"item.created",updatedDate:new Date(e.modified),updatedDateSource:"item.modified",family:(0,c.g)(e.type),links:{self:"not-implemented",siteRelative:"not-implemented",thumbnail:"not-implemented"}},n=[].concat([],(0,r.Z)(n)).filter(p.u),h=n.map(s.p),m=(0,g.m)("enrichment",h).filter(p.u),y={},!m.length){t.next=10;break}return t.next=9,(0,o.f)(e,m,i);case 9:y=t.sent;case 10:return h.forEach((function(t){u[t.prop]=(0,l.g)(y,t.path)})),u.links.thumbnail=(0,f.a)(e,i),u.links.self=(0,d.g)(u.id,i),u.links.siteRelative=(0,c.m)(u.type,u.id,e.typeKeywords),t.abrupt("return",u);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},89732:function(t,e,n){n.d(e,{a:function(){return o},g:function(){return u},s:function(){return s}});var r=n(29847),a=n(46356),i=n(67450),c=n(1319);function u(t,e){var n=(0,a.g)(e)+"/community/groups/"+t,c=(0,r._)({httpMethod:"GET"},e);return(0,i.r)(n,c)}function o(t,e){var n=(0,a.g)(e)+"/community/groups/"+t+"/users",c=(0,r._)({httpMethod:"GET"},e);return(0,i.r)(n,c)}function s(t,e){var n=(0,a.g)(e)+"/community/groups/"+t+"/userlist",r=(0,c.a)(e||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return(0,i.r)(n,r)}},73576:function(t,e,n){n.d(e,{R:function(){return p},b:function(){return s},h:function(){return l}});var r=n(43144),a=n(15671),i=n(60136),c=n(92572),u=n(28664),o=n(15055);function s(t){var e=t.host,n=t.path,r=t.query,a=e.endsWith("/")?e:"".concat(e,"/"),i=new URL(n,a);return i.search=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t).filter((function(e){return void 0!==t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{});return new URLSearchParams(e).toString()}(r),i.toString()}var p=function(t){(0,i.Z)(n,t);var e=(0,c.Z)(n);function n(t,r,i){var c;return(0,a.Z)(this,n),(c=e.call(this,t)).status=i,c.url=r,c}return(0,r.Z)(n)}((0,u.Z)(Error));function l(t,e){var n,r,a=Object.assign({httpMethod:"GET"},e),i=a.fetch||fetch,c=Object.assign({"Content-Type":"application/json"},a.headers);"GET"===a.httpMethod?n=a.params:r=JSON.stringify(a.params);var u=s({host:(0,o.g)(a),path:"/api/v3/".concat(t).replace(/\/\//g,"/"),query:n});return i(u,{method:a.httpMethod,headers:c,body:r}).then((function(t){if(t.ok)return t.json();throw new p(t.statusText,u,t.status)}))}},3346:function(t,e,n){n.d(e,{s:function(){return a}});var r=n(17684);function a(t){return(0,r.g)(t,"user")}},9618:function(t,e,n){n.d(e,{a:function(){return l},b:function(){return s},e:function(){return c},g:function(){return p},r:function(){return o},v:function(){return u}});var r=n(12969),a=n(25240),i={arcgis:{label:"ArcGIS Online",url:"https://www.arcgis.com",type:"arcgis"},arcgisQA:{label:"ArcGIS Online QAEXT",url:"https://qaext.arcgis.com",type:"arcgis"},arcgisDEV:{label:"ArcGIS Online DEVEXT",url:"https://devext.arcgis.com",type:"arcgis"},hub:{label:"ArcGIS Hub",url:"https://hub.arcgis.com/api",type:"arcgis-hub"},hubDEV:{label:"ArcGIS Hub DEV",url:"https://hubdev.arcgis.com/api",type:"arcgis-hub"},hubQA:{label:"ArcGIS Hub QA",url:"https://hubqa.arcgis.com/api",type:"arcgis-hub"}};function c(t){return"string"===typeof t&&t in i?i[t]:t}function u(t){var e={};return Array.isArray(t)?e={any:t}:("string"===typeof t&&(e={any:[t]}),"object"===typeof t&&(e=t)),e}function o(t){var e=new Date,n={type:"date-range",from:e.getTime(),to:e.getTime()};switch(t.unit){case"hours":case"days":case"weeks":n.from=n.to-{min:6e4,hours:36e5,days:864e5,weeks:6048e5}[t.unit]*t.num;break;case"months":e.setMonth(e.getMonth()-t.num),n.from=e.getTime();break;case"years":e.setFullYear(e.getFullYear()-t.num),n.from=e.getTime()}return n}function s(t,e,n,i){var c=(0,r.c)(t);return t.authentication&&(c.authentication=a.U.deserialize(t.authentication.serialize())),c.start=e>-1?e:n+1,function(t){return t&&(c.authentication=t),i(c)}}function p(t,e,n){var r=null;return e.thumbnail&&(r="".concat(t,"/community/groups/").concat(e.id,"/info/").concat(e.thumbnail),n&&"public"!==e.access&&(r="".concat(r,"?token=").concat(n))),r}function l(t,e,n){var r=null;return e.thumbnail&&(r="".concat(t,"/community/users/").concat(e.username,"/info/").concat(e.thumbnail),n&&"public"!==e.access&&(r="".concat(r,"?token=").concat(n))),r}}}]);
//# sourceMappingURL=54049.67258aef.chunk.js.map