"use strict";(self.webpackChunkhub_layout_versioning=self.webpackChunkhub_layout_versioning||[]).push([[35005],{35005:function(t,e,n){n.r(e),n.d(e,{arcgis_hub_map_popover:function(){return l}});var r=n(15671),o=n(43144),i=n(29439),a=n(72585),c=function(t,e){var n=e.height,r=e.width,o=t.y<n/2?"top":"bottom",i=t.x<r/2?"left":"right";return"".concat(o,"-").concat(i)},s=function(t,e){var n=e.spatialReference,r=1/0,o=0,a=("polygon"===e.type?e.rings.flat(1/0):e.paths.flat(1/0)).reduce((function(t,e,n){var r=Math.floor(n/2);return t[r]||(t[r]=[]),t[r].push(e),t}),[]);a.forEach((function(e,a){var c=(0,i.Z)(e,2),s=function(t,e){var n=t.x,r=t.y,o=e.x-n,i=e.y-r;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}({x:c[0],y:c[1],spatialReference:n},t);s<r&&(r=s,o=a)}));var c=(0,i.Z)(a[o],2);return{x:c[0],y:c[1],spatialReference:n}},l=function(){function t(e){(0,r.Z)(this,t),(0,a.r)(this,e)}return(0,o.Z)(t,[{key:"handlePopoverOpen",value:function(t){t.stopPropagation();var e=t.detail,n=e.view,r=e.geometry,o=n.container.getBoundingClientRect(),i=o.left,a=o.top,l=o.height,u=o.width;if("polygon"===r.type||"polyline"===r.type){var f=r.extent,p=n.toScreen(f.center);if(p.x<0||p.y<0||p.x>u||p.y>l)return void(this.content=null);this.quadrant=c(p,n);var h=function(t,e){var n=t.xmin,r=t.ymin,o=t.xmax,i=t.ymax,a=t.spatialReference,c=e.includes("top")?r:i;return{x:e.includes("left")?o:n,y:c,spatialReference:a}}(f,this.quadrant),y=s(h,r),d=n.toScreen(y);this.x=d.x+i,this.y=d.y+a}else if("point"===r.type){var v=n.toScreen(r);this.quadrant=c(v,n),this.x=v.x+i,this.y=v.y+a}this.content=e.render(r.type)}},{key:"handlePopoverClear",value:function(t){t.stopPropagation(),this.content=null}},{key:"styles",get:function(){var t=this.quadrant,e=this.x,n=this.y,r=(null===t||void 0===t?void 0:t.includes("right"))?"translateX(-110%)":"translateX(10%)",o=(null===t||void 0===t||t.includes("top"),"translateY(-35%)");return{"--top-offset":"".concat(n,"px"),"--left-offset":"".concat(e,"px"),transform:"".concat(r," ").concat(o)}}},{key:"render",value:function(){var t=this.styles,e=this.content;return(0,a.h)(a.H,{style:t},e)}},{key:"el",get:function(){return(0,a.g)(this)}}]),t}();l.style=":host{position:absolute;z-index:1;top:var(--top-offset);left:var(--left-offset);transform:var(--transform)}calcite-action{border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}calcite-action:first-of-type{border-width:0px}calcite-action-pad>calcite-action{border-width:0px}"}}]);
//# sourceMappingURL=35005.95263d7d.chunk.js.map